# Agent OS Workflow Configuration Template

# Workflow Modes Configuration

workflow_modes:
  # Direct Mode - Low Risk, Fast Track
  direct:
    name: "Direct Mode"
    risk_level: "low"
    description: "For simple tasks, bug fixes, and documentation updates"
    enabled: true

    checkpoints:
      - name: "code_implementation"
        type: "implementation"
        required: true
        automated: false
        description: "Code changes implemented and tested locally"

      - name: "basic_testing"
        type: "testing"
        required: true
        automated: true
        description: "Unit tests pass, no breaking changes"

    time_estimate: "1-2 hours"
    reviewer_count: 1
    approval_required: false

    triggers:
      - "documentation_updates"
      - "simple_bug_fixes"
      - "configuration_changes"
      - "non_breaking_improvements"

    success_criteria:
      - "Code compiles without errors"
      - "Unit tests pass"
      - "No linting violations"
      - "Peer review completed"

  # Selective Mode - Medium Risk, Balanced
  selective:
    name: "Selective Mode"
    risk_level: "medium"
    description: "For new features, API changes, and UI components"
    enabled: true

    checkpoints:
      - name: "implementation"
        type: "implementation"
        required: true
        automated: false
        description: "Feature implementation completed"

      - name: "unit_testing"
        type: "testing"
        required: true
        automated: true
        description: "Unit test coverage maintained"

      - name: "integration_testing"
        type: "testing"
        required: true
        automated: true
        description: "Integration tests pass"

      - name: "code_review"
        type: "review"
        required: true
        automated: false
        description: "Peer code review completed"

    time_estimate: "4-8 hours"
    reviewer_count: 2
    approval_required: true

    triggers:
      - "new_features"
      - "api_changes"
      - "ui_components"
      - "database_changes"

    success_criteria:
      - "All automated tests pass"
      - "Code review approved"
      - "Integration tests successful"
      - "Performance benchmarks met"

  # Thorough Mode - High Risk, Comprehensive
  thorough:
    name: "Thorough Mode"
    risk_level: "high"
    description: "For security features, database changes, and authentication systems"
    enabled: true

    checkpoints:
      - name: "full_testing_suite"
        type: "testing"
        required: true
        automated: true
        description: "Complete test suite execution"

      - name: "security_review"
        type: "security"
        required: true
        automated: false
        description: "Security specialist review"

      - name: "performance_testing"
        type: "performance"
        required: true
        automated: true
        description: "Performance benchmarks validated"

      - name: "architecture_review"
        type: "review"
        required: true
        automated: false
        description: "Architecture and design review"

    time_estimate: "1-3 days"
    reviewer_count: 3
    approval_required: true

    triggers:
      - "security_features"
      - "authentication_systems"
      - "database_schema_changes"
      - "breaking_api_changes"

    success_criteria:
      - "All quality gates passed"
      - "Security review approved"
      - "Performance requirements met"
      - "Architecture review completed"

# Risk Assessment Framework
risk_assessment:
  # Low Risk Activities
  low_risk:
    activities:
      - "documentation_updates"
      - "simple_bug_fixes"
      - "configuration_changes"
      - "non_breaking_improvements"
      - "dependency_updates"
    workflow_mode: "direct"
    justification: "Minimal impact, well-understood changes"

  # Medium Risk Activities
  medium_risk:
    activities:
      - "new_features"
      - "api_changes"
      - "ui_components"
      - "database_changes"
      - "performance_optimizations"
    workflow_mode: "selective"
    justification: "Moderate impact, requires testing and review"

  # High Risk Activities
  high_risk:
    activities:
      - "authentication_systems"
      - "security_features"
      - "database_schema_changes"
      - "breaking_api_changes"
      - "infrastructure_changes"
    workflow_mode: "thorough"
    justification: "High impact, requires comprehensive validation"

# Quality Gates Configuration
quality_gates:
  automated:
    - name: "code_quality"
      checks:
        - "linting"
        - "type_checking"
        - "complexity_analysis"
      threshold: "must_pass"
      blocking: true

    - name: "testing"
      checks:
        - "unit_tests"
        - "integration_tests"
        - "e2e_tests"
      threshold: "coverage_80_percent"
      blocking: true

    - name: "security"
      checks:
        - "vulnerability_scanning"
        - "dependency_checks"
        - "static_analysis"
      threshold: "no_critical_issues"
      blocking: true

    - name: "performance"
      checks:
        - "load_testing"
        - "bundle_analysis"
        - "runtime_performance"
      threshold: "meet_benchmarks"
      blocking: false

  manual:
    - name: "code_review"
      reviewers: "1-3_based_on_risk"
      criteria:
        - "code_readability"
        - "architecture_compliance"
        - "security_best_practices"
      blocking: true

    - name: "design_review"
      reviewers: "ui_ux_specialist"
      criteria:
        - "design_system_compliance"
        - "accessibility_standards"
        - "user_experience"
      blocking: true

    - name: "security_review"
      reviewers: "security_specialist"
      criteria:
        - "owasp_compliance"
        - "threat_modeling"
        - "secure_coding_practices"
      blocking: true

# Workflow Transitions
transitions:
  automatic_escalation:
    conditions:
      - "test_failures > 5"
      - "security_vulnerabilities > 0"
      - "performance_regression > 10%"
      - "timeline_delay > 2_days"
    target_mode: "thorough"

  manual_escalation:
    triggers:
      - "architecture_concerns"
      - "integration_complexity"
      - "stakeholder_feedback"
      - "technical_debt_discovery"
    approval_required: true

# Success Metrics
metrics:
  workflow_efficiency:
    - "average_completion_time"
    - "success_rate"
    - "escalation_rate"
    - "reviewer_satisfaction"

  quality_outcomes:
    - "defect_escape_rate"
    - "time_to_resolution"
    - "deployment_success_rate"
    - "user_satisfaction_scores"

# Continuous Improvement
improvement:
  feedback_collection:
    - "post_workflow_surveys"
    - "retrospective_meetings"
    - "metric_analysis"

  process_updates:
    - "quarterly_workflow_reviews"
    - "standard_updates"
    - "tool_improvements"
    - "training_enhancements"