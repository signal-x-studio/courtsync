var Z=Object.defineProperty;var w=t=>{throw TypeError(t)};var J=(t,e,s)=>e in t?Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var B=(t,e,s)=>J(t,typeof e!="symbol"?e+"":e,s),U=(t,e,s)=>e.has(t)||w("Cannot "+s);var a=(t,e,s)=>(U(t,e,"read from private field"),s?s.call(t):e.get(t)),v=(t,e,s)=>e.has(t)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),Y=(t,e,s,r)=>(U(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);import{m as k,n as K,o as R,q as Q,v as x,w as F,x as O,y as V,z as W,A as X,B as j,C as ee,E as te,D as se,H as re,F as ae,G as ie,I as C,J as ne,K as fe,L as $,M as ue,N as q,g as T,O as ce,P as de,Q as oe,f as le,R as _e,S as he,T as ve,U as be,V as ge,W as Se,b as me,X as pe,Y as Ee,Z as Pe,_ as Ae,$ as Te,a0 as ye}from"./Pko6iT02.js";import{s as Ie,g as Re}from"./BaKoRTVr.js";var l,_,o,p,E,y;class Oe{constructor(e,s=!0){B(this,"anchor");v(this,l,new Map);v(this,_,new Map);v(this,o,new Map);v(this,p,!0);v(this,E,()=>{var e=k;if(a(this,l).has(e)){var s=a(this,l).get(e),r=a(this,_).get(s);if(r)K(r);else{var i=a(this,o).get(s);i&&(a(this,_).set(s,i.effect),a(this,o).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[n,u]of a(this,l)){if(a(this,l).delete(n),n===e)break;const f=a(this,o).get(u);f&&(R(f.effect),a(this,o).delete(u))}for(const[n,u]of a(this,_)){if(n===s)continue;const f=()=>{if(Array.from(a(this,l).values()).includes(n)){var h=document.createDocumentFragment();W(u,h),h.append(x()),a(this,o).set(n,{effect:u,fragment:h})}else R(u);a(this,_).delete(n)};a(this,p)||!r?Q(u,f,!1):f()}}});v(this,y,e=>{a(this,l).delete(e);const s=Array.from(a(this,l).values());for(const[r,i]of a(this,o))s.includes(r)||(R(i.effect),a(this,o).delete(r))});this.anchor=e,Y(this,p,s)}ensure(e,s){var r=k,i=X();if(s&&!a(this,_).has(e)&&!a(this,o).has(e))if(i){var n=document.createDocumentFragment(),u=x();n.append(u),a(this,o).set(e,{effect:F(()=>s(u)),fragment:n})}else a(this,_).set(e,F(()=>s(this.anchor)));if(a(this,l).set(r,e),i){for(const[f,c]of a(this,_))f===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[f,c]of a(this,o))f===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(a(this,E)),r.ondiscard(a(this,y))}else O&&(this.anchor=V),a(this,E).call(this)}}l=new WeakMap,_=new WeakMap,o=new WeakMap,p=new WeakMap,E=new WeakMap,y=new WeakMap;function we(t,e,s=!1){O&&ee();var r=new Oe(t),i=s?te:0;function n(u,f){if(O){const h=se(t)===re;if(u===h){var c=ae();ie(c),r.anchor=c,C(!1),r.ensure(u,f),C(!0);return}}r.ensure(u,f)}j(()=>{var u=!1;e((f,c=!0)=>{u=!0,n(c,f)}),u||n(!1,null)},i)}let A=!1,D=Symbol();function Be(t,e,s){const r=s[e]??(s[e]={store:null,source:ue(void 0),unsubscribe:$});if(r.store!==t&&!(D in s))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=$;else{var i=!0;r.unsubscribe=Ie(t,n=>{i?r.source.v=n:q(r.source,n)}),i=!1}return t&&D in s?Re(t):T(r.source)}function Ue(){const t={};function e(){ne(()=>{for(var s in t)t[s].unsubscribe();fe(t,D,{enumerable:!1,value:!0})})}return[t,e]}function De(t){var e=A;try{return A=!1,[t(),A]}finally{A=e}}function Ye(t,e,s,r){var N;var i=!pe||(s&Ee)!==0,n=(s&Se)!==0,u=(s&Ae)!==0,f=r,c=!0,h=()=>(c&&(c=!1,f=u?me(r):r),f),g;if(n){var z=Te in t||ye in t;g=((N=ce(t,e))==null?void 0:N.set)??(z&&e in t?d=>t[e]=d:void 0)}var S,M=!1;n?[S,M]=De(()=>t[e]):S=t[e],S===void 0&&r!==void 0&&(S=h(),g&&(i&&de(),g(S)));var b;if(i?b=()=>{var d=t[e];return d===void 0?h():(c=!0,d)}:b=()=>{var d=t[e];return d!==void 0&&(f=void 0),d===void 0?f:d},i&&(s&oe)===0)return b;if(g){var G=t.$$legacy;return(function(d,P){return arguments.length>0?((!i||!P||G||M)&&g(P?b():d),d):b()})}var I=!1,m=((s&Pe)!==0?le:_e)(()=>(I=!1,b()));n&&T(m);var H=be;return(function(d,P){if(arguments.length>0){const L=P?T(m):i&&n?he(d):d;return q(m,L),I=!0,f!==void 0&&(f=L),d}return ve&&I||(H.f&ge)!==0?m.v:T(m)})}export{Oe as B,Ue as a,we as i,Ye as p,Be as s};
