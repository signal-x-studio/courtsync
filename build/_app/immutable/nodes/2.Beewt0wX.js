import{f as T,a as b,c as Ot,d as eo,t as Do}from"../chunks/DrdcVeu4.js";import"../chunks/DzJyxCZ8.js";import{d as oa,w as Zt,o as na,a as Sa,g as tr}from"../chunks/BhAud1kW.js";import{D as Ea,y as er,q as en,B as Eo,A as tn,L as rn,g as e,a1 as Z,N as an,O as on,P as io,Q as Na,z as Qr,ad as nn,aA as sn,I as Xa,K as cn,E as Mr,ay as No,aG as Po,Y as O,ab as co,ak as lo,F as Oo,H as dn,aH as ya,aI as Pa,G as Ao,aJ as wa,aK as ln,au as vn,aL as un,ax as fn,aM as mn,x as xn,U as Fo,aN as Ro,aO as bn,W as gn,aP as pn,aQ as hn,aR as jo,R as _n,aS as Lo,aT as Sn,aU as yn,aV as wn,aW as Tn,aX as Mn,aE as Cn,b as i,S as kn,p as At,aY as xe,Z as x,e as S,aZ as Bt,k as s,s as c,l as o,t as F,j as Ft,i as dt,a_ as Br,a$ as to,al as Cr,b0 as Hr,b1 as $n}from"../chunks/DrfFkH7i.js";import{s as y,e as Dr,d as Vt}from"../chunks/ClsaVdYO.js";import{p as Ee,i as E,s as lr,a as Ta,b as In}from"../chunks/BVc7N6hh.js";import{i as Rt}from"../chunks/BoP2PCHn.js";const Dn=!0;function nt(n,r){return r}function En(n,r,t){for(var a=n.items,d=[],l=r.length,v=0;v<l;v++)un(r[v].e,d,!0);var u=l>0&&d.length===0&&t!==null;if(u){var h=t.parentNode;fn(h),h.append(t),a.clear(),hr(n,r[0].prev,r[l-1].next)}mn(d,()=>{for(var w=0;w<l;w++){var g=r[w];u||(a.delete(g.k),hr(n,g.prev,g.next)),Ao(g.e,!u)}})}function st(n,r,t,a,d,l=null){var v=n,u={flags:r,items:new Map,first:null},h=(r&Ro)!==0;if(h){var w=n;v=er?Ea(en(w)):w.appendChild(Eo())}er&&tn();var g=null,p=!1,k=new Map,$=Z(()=>{var D=t();return Po(D)?D:D==null?[]:No(D)}),m,f;function _(){Nn(f,m,u,k,v,d,r,a,t),l!==null&&(m.length===0?g?Oo(g):g=Xa(()=>l(v)):g!==null&&dn(g,()=>{g=null}))}rn(()=>{f??(f=xn),m=e($);var D=m.length;if(p&&D===0)return;p=D===0;let C=!1;if(er){var I=an(v)===on;I!==(D===0)&&(v=io(),Ea(v),Na(!1),C=!0)}if(er){for(var W=null,te,R=0;R<D;R++){if(Qr.nodeType===nn&&Qr.data===sn){v=Qr,C=!0,Na(!1);break}var fe=m[R],ne=a(fe,R);te=Qa(Qr,u,W,null,fe,ne,R,d,r,t),u.items.set(ne,te),W=te}D>0&&Ea(io())}if(er)D===0&&l&&(g=Xa(()=>l(v)));else if(cn()){var X=new Set,se=Mr;for(R=0;R<D;R+=1){fe=m[R],ne=a(fe,R);var ge=u.items.get(ne)??k.get(ne);ge?(r&(wa|ya))!==0&&Uo(ge,fe,R,r):(te=Qa(null,u,null,null,fe,ne,R,d,r,t,!0),k.set(ne,te)),X.add(ne)}for(const[B,de]of u.items)X.has(B)||se.skipped_effects.add(de.e);se.oncommit(_)}else _();C&&Na(!0),e($)}),er&&(v=Qr)}function Nn(n,r,t,a,d,l,v,u,h){var Ce,_e,G,oe;var w=(v&bn)!==0,g=(v&(wa|ya))!==0,p=r.length,k=t.items,$=t.first,m=$,f,_=null,D,C=[],I=[],W,te,R,fe;if(w)for(fe=0;fe<p;fe+=1)W=r[fe],te=u(W,fe),R=k.get(te),R!==void 0&&((Ce=R.a)==null||Ce.measure(),(D??(D=new Set)).add(R));for(fe=0;fe<p;fe+=1){if(W=r[fe],te=u(W,fe),R=k.get(te),R===void 0){var ne=a.get(te);if(ne!==void 0){a.delete(te),k.set(te,ne);var X=_?_.next:m;hr(t,_,ne),hr(t,ne,X),Oa(ne,X,d),_=ne}else{var se=m?m.e.nodes_start:d;_=Qa(se,t,_,_===null?t.first:_.next,W,te,fe,l,v,h)}k.set(te,_),C=[],I=[],m=_.next;continue}if(g&&Uo(R,W,fe,v),(R.e.f&Pa)!==0&&(Oo(R.e),w&&((_e=R.a)==null||_e.unfix(),(D??(D=new Set)).delete(R))),R!==m){if(f!==void 0&&f.has(R)){if(C.length<I.length){var ge=I[0],B;_=ge.prev;var de=C[0],ve=C[C.length-1];for(B=0;B<C.length;B+=1)Oa(C[B],ge,d);for(B=0;B<I.length;B+=1)f.delete(I[B]);hr(t,de.prev,ve.next),hr(t,_,de),hr(t,ve,ge),m=ge,_=ve,fe-=1,C=[],I=[]}else f.delete(R),Oa(R,m,d),hr(t,R.prev,R.next),hr(t,R,_===null?t.first:_.next),hr(t,_,R),_=R;continue}for(C=[],I=[];m!==null&&m.k!==te;)(m.e.f&Pa)===0&&(f??(f=new Set)).add(m),I.push(m),m=m.next;if(m===null)continue;R=m}C.push(R),_=R,m=R.next}if(m!==null||f!==void 0){for(var re=f===void 0?[]:No(f);m!==null;)(m.e.f&Pa)===0&&re.push(m),m=m.next;var le=re.length;if(le>0){var Y=(v&Ro)!==0&&p===0?d:null;if(w){for(fe=0;fe<le;fe+=1)(G=re[fe].a)==null||G.measure();for(fe=0;fe<le;fe+=1)(oe=re[fe].a)==null||oe.fix()}En(t,re,Y)}}w&&Fo(()=>{var q;if(D!==void 0)for(R of D)(q=R.a)==null||q.apply()}),n.first=t.first&&t.first.e,n.last=_&&_.e;for(var he of a.values())Ao(he.e);a.clear()}function Uo(n,r,t,a){(a&wa)!==0&&lo(n.v,r),(a&ya)!==0?lo(n.i,t):n.i=t}function Qa(n,r,t,a,d,l,v,u,h,w,g){var p=(h&wa)!==0,k=(h&ln)===0,$=p?k?O(d,!1,!1):co(d):d,m=(h&ya)===0?v:co(v),f={i:m,v:$,k:l,a:null,e:null,prev:t,next:a};try{if(n===null){var _=document.createDocumentFragment();_.append(n=Eo())}return f.e=Xa(()=>u(n,$,m,w),er),f.e.prev=t&&t.e,f.e.next=a&&a.e,t===null?g||(r.first=f):(t.next=f,t.e.next=f.e),a!==null&&(a.prev=f,a.e.prev=f.e),f}finally{}}function Oa(n,r,t){for(var a=n.next?n.next.e.nodes_start:t,d=r?r.e.nodes_start:t,l=n.e.nodes_start;l!==null&&l!==a;){var v=vn(l);d.before(l),l=v}}function hr(n,r,t){r===null?n.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}const vo=[...` 	
\r\fÂ \v\uFEFF`];function Pn(n,r,t){var a=n==null?"":""+n;if(r&&(a=a?a+" "+r:r),t){for(var d in t)if(t[d])a=a?a+" "+d:d;else if(a.length)for(var l=d.length,v=0;(v=a.indexOf(d,v))>=0;){var u=v+l;(v===0||vo.includes(a[v-1]))&&(u===a.length||vo.includes(a[u]))?a=(v===0?"":a.substring(0,v))+a.substring(u+1):v=u}}return a===""?null:a}function On(n,r){return n==null?null:String(n)}function Oe(n,r,t,a,d,l){var v=n.__className;if(er||v!==t||v===void 0){var u=Pn(t,a,l);(!er||u!==n.getAttribute("class"))&&(u==null?n.removeAttribute("class"):r?n.className=u:n.setAttribute("class",u)),n.__className=t}else if(l&&d!==l)for(var h in l){var w=!!l[h];(d==null||w!==!!d[h])&&n.classList.toggle(h,w)}return l}function Jt(n,r,t,a){var d=n.__style;if(er||d!==r){var l=On(r);(!er||l!==n.getAttribute("style"))&&(l==null?n.removeAttribute("style"):n.style.cssText=l),n.__style=r}return a}function Er(n,r,t=!1){if(n.multiple){if(r==null)return;if(!Po(r))return pn();for(var a of n.options)a.selected=r.includes(ea(a));return}for(a of n.options){var d=ea(a);if(hn(d,r)){a.selected=!0;return}}(!t||r!==void 0)&&(n.selectedIndex=-1)}function jr(n){var r=new MutationObserver(()=>{Er(n,n.__value)});r.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gn(()=>{r.disconnect()})}function ro(n,r,t=r){var a=new WeakSet,d=!0;jo(n,"change",l=>{var v=l?"[selected]":":checked",u;if(n.multiple)u=[].map.call(n.querySelectorAll(v),ea);else{var h=n.querySelector(v)??n.querySelector("option:not([disabled])");u=h&&ea(h)}t(u),Mr!==null&&a.add(Mr)}),_n(()=>{var l=r();if(n===document.activeElement){var v=Lo??Mr;if(a.has(v))return}if(Er(n,l,d),d&&l===void 0){var u=n.querySelector(":checked");u!==null&&(l=ea(u),t(l))}n.__value=l,d=!1}),jr(n)}function ea(n){return"__value"in n?n.__value:n.value}const An=Symbol("is custom element"),Fn=Symbol("is html");function Yr(n){if(er){var r=!1,t=()=>{if(!r){if(r=!0,n.hasAttribute("value")){var a=n.value;Wt(n,"value",null),n.value=a}if(n.hasAttribute("checked")){var d=n.checked;Wt(n,"checked",null),n.checked=d}}};n.__on_r=t,Fo(t),Sn()}}function Rn(n,r){var t=Wo(n);t.value===(t.value=r??void 0)||n.value===r&&(r!==0||n.nodeName!=="PROGRESS")||(n.value=r??"")}function Wt(n,r,t,a){var d=Wo(n);er&&(d[r]=n.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&n.nodeName==="LINK")||d[r]!==(d[r]=t)&&(r==="loading"&&(n[yn]=t),t==null?n.removeAttribute(r):typeof t!="string"&&jn(n).includes(r)?n[r]=t:n.setAttribute(r,t))}function Wo(n){return n.__attributes??(n.__attributes={[An]:n.nodeName.includes("-"),[Fn]:n.namespaceURI===wn})}var uo=new Map;function jn(n){var r=n.getAttribute("is")||n.nodeName,t=uo.get(r);if(t)return t;uo.set(r,t=[]);for(var a,d=n,l=Element.prototype;l!==d;){a=Mn(d);for(var v in a)a[v].set&&t.push(v);d=Tn(d)}return t}function fr(n,r,t=r){var a=new WeakSet;jo(n,"input",async d=>{var l=d?n.defaultValue:n.value;if(l=Aa(n)?Fa(l):l,t(l),Mr!==null&&a.add(Mr),await Cn(),l!==(l=r())){var v=n.selectionStart,u=n.selectionEnd,h=n.value.length;if(n.value=l??"",u!==null){var w=n.value.length;v===u&&u===h&&w>h?(n.selectionStart=w,n.selectionEnd=w):(n.selectionStart=v,n.selectionEnd=Math.min(u,w))}}}),(er&&n.defaultValue!==n.value||i(r)==null&&n.value)&&(t(Aa(n)?Fa(n.value):n.value),Mr!==null&&a.add(Mr)),kn(()=>{var d=r();if(n===document.activeElement){var l=Lo??Mr;if(a.has(l))return}Aa(n)&&d===Fa(n.value)||n.type==="date"&&!d&&!n.value||d!==n.value&&(n.value=d??"")})}function Aa(n){var r=n.type;return r==="number"||r==="range"}function Fa(n){return n===""?null:+n}const Ln=Dn,Un=!1,Wn=(async()=>({})),Nu=Object.freeze(Object.defineProperty({__proto__:null,load:Wn,ssr:Un},Symbol.toStringTag,{value:"Module"})),sa="https://results.advancedeventsystems.com/api",Bn="https://results.advancedeventsystems.com/odata",Hn=async(n,r,t)=>{const a=`${sa}/event/${n}/courts/${r}/${t}`,d=await fetch(a);if(!d.ok)throw new Error(`Failed to fetch court schedule: ${d.statusText}`);return d.json()},Yn=async n=>{const r=`${sa}/event/${n}`,t=await fetch(r);if(!t.ok)throw new Error(`Failed to fetch event info: ${t.statusText}`);return t.json()},Jn=async(n,r)=>{const t=`${Bn}/${n}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,a=await fetch(t);if(!a.ok)throw new Error(`Failed to fetch team assignments: ${a.statusText}`);return a.json()},Ra=async(n,r,t,a)=>{const d=`${sa}/event/${n}/division/${r}/team/${t}/schedule/${a}`,l=await fetch(d);if(!l.ok)throw new Error(`Failed to fetch team schedule: ${l.statusText}`);return l.json()},Vn=async(n,r)=>{const t=`${sa}/event/${n}/division/${r}/plays`,a=await fetch(t);if(!a.ok)throw new Error(`Failed to fetch division plays: ${a.statusText}`);return a.json()},Gn=async(n,r)=>{const t=`${sa}/event/${n}/poolsheet/${r}`,a=await fetch(t);if(!a.ok)throw new Error(`Failed to fetch pool sheet: ${a.statusText}`);return a.json()},fa="630 Volleyball",ma="630",zn=n=>[n.FirstTeamText,n.SecondTeamText,n.WorkTeamText].some(t=>t&&(t.includes(fa)||t.includes(ma))),qn=n=>n.FirstTeamText&&(n.FirstTeamText.includes(fa)||n.FirstTeamText.includes(ma))?"first":n.SecondTeamText&&(n.SecondTeamText.includes(fa)||n.SecondTeamText.includes(ma))?"second":n.WorkTeamText&&(n.WorkTeamText.includes(fa)||n.WorkTeamText.includes(ma))?"work":null,Xn=n=>{const r=[];return n.forEach(t=>{t.CourtMatches.forEach(a=>{if(zn(a)){const d=qn(a);d&&d!=="work"&&r.push({...a,CourtName:t.Name,CourtId:t.CourtId,InvolvedTeam:d})}})}),r.sort((t,a)=>t.ScheduledStartDateTime-a.ScheduledStartDateTime)},ta=n=>{const r=new Map;for(let t=0;t<n.length;t++){const a=n[t],d=[];for(let l=0;l<n.length;l++){if(t===l)continue;const v=n[l],u=a.ScheduledStartDateTime<v.ScheduledEndDateTime&&a.ScheduledEndDateTime>v.ScheduledStartDateTime,h=a.CourtId!==v.CourtId;u&&h&&d.push(v.MatchId)}d.length>0&&r.set(a.MatchId,d)}return r},Bo=6048e5,Qn=864e5,fo=Symbol.for("constructDateFrom");function Nr(n,r){return typeof n=="function"?n(r):n&&typeof n=="object"&&fo in n?n[fo](r):n instanceof Date?new n.constructor(r):new Date(r)}function mr(n,r){return Nr(r||n,n)}let Kn={};function Ma(){return Kn}function ra(n,r){var u,h,w,g;const t=Ma(),a=(r==null?void 0:r.weekStartsOn)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((g=(w=t.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,d=mr(n,r==null?void 0:r.in),l=d.getDay(),v=(l<a?7:0)+l-a;return d.setDate(d.getDate()-v),d.setHours(0,0,0,0),d}function ba(n,r){return ra(n,{...r,weekStartsOn:1})}function Ho(n,r){const t=mr(n,r==null?void 0:r.in),a=t.getFullYear(),d=Nr(t,0);d.setFullYear(a+1,0,4),d.setHours(0,0,0,0);const l=ba(d),v=Nr(t,0);v.setFullYear(a,0,4),v.setHours(0,0,0,0);const u=ba(v);return t.getTime()>=l.getTime()?a+1:t.getTime()>=u.getTime()?a:a-1}function mo(n){const r=mr(n),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+n-+t}function Zn(n,...r){const t=Nr.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function xo(n,r){const t=mr(n,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function es(n,r,t){const[a,d]=Zn(t==null?void 0:t.in,n,r),l=xo(a),v=xo(d),u=+l-mo(l),h=+v-mo(v);return Math.round((u-h)/Qn)}function ts(n,r){const t=Ho(n,r),a=Nr(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),ba(a)}function rs(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function as(n){return!(!rs(n)&&typeof n!="number"||isNaN(+mr(n)))}function os(n,r){const t=mr(n,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const ns={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ss=(n,r,t)=>{let a;const d=ns[n];return typeof d=="string"?a=d:r===1?a=d.one:a=d.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function ja(n){return(r={})=>{const t=r.width?String(r.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const is={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cs={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ds={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ls={date:ja({formats:is,defaultWidth:"full"}),time:ja({formats:cs,defaultWidth:"full"}),dateTime:ja({formats:ds,defaultWidth:"full"})},vs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},us=(n,r,t,a)=>vs[n];function Kr(n){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let d;if(a==="formatting"&&n.formattingValues){const v=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):v;d=n.formattingValues[u]||n.formattingValues[v]}else{const v=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;d=n.values[u]||n.values[v]}const l=n.argumentCallback?n.argumentCallback(r):r;return d[l]}}const fs={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ms={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ps={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hs=(n,r)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_s={ordinalNumber:hs,era:Kr({values:fs,defaultWidth:"wide"}),quarter:Kr({values:ms,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kr({values:xs,defaultWidth:"wide"}),day:Kr({values:bs,defaultWidth:"wide"}),dayPeriod:Kr({values:gs,defaultWidth:"wide",formattingValues:ps,defaultFormattingWidth:"wide"})};function Zr(n){return(r,t={})=>{const a=t.width,d=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],l=r.match(d);if(!l)return null;const v=l[0],u=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?ys(u,p=>p.test(v)):Ss(u,p=>p.test(v));let w;w=n.valueCallback?n.valueCallback(h):h,w=t.valueCallback?t.valueCallback(w):w;const g=r.slice(v.length);return{value:w,rest:g}}}function Ss(n,r){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&r(n[t]))return t}function ys(n,r){for(let t=0;t<n.length;t++)if(r(n[t]))return t}function ws(n){return(r,t={})=>{const a=r.match(n.matchPattern);if(!a)return null;const d=a[0],l=r.match(n.parsePattern);if(!l)return null;let v=n.valueCallback?n.valueCallback(l[0]):l[0];v=t.valueCallback?t.valueCallback(v):v;const u=r.slice(d.length);return{value:v,rest:u}}}const Ts=/^(\d+)(th|st|nd|rd)?/i,Ms=/\d+/i,Cs={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ks={any:[/^b/i,/^(a|c)/i]},$s={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Is={any:[/1/i,/2/i,/3/i,/4/i]},Ds={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Es={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ps={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Os={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},As={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fs={ordinalNumber:ws({matchPattern:Ts,parsePattern:Ms,valueCallback:n=>parseInt(n,10)}),era:Zr({matchPatterns:Cs,defaultMatchWidth:"wide",parsePatterns:ks,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:$s,defaultMatchWidth:"wide",parsePatterns:Is,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Zr({matchPatterns:Ds,defaultMatchWidth:"wide",parsePatterns:Es,defaultParseWidth:"any"}),day:Zr({matchPatterns:Ns,defaultMatchWidth:"wide",parsePatterns:Ps,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:Os,defaultMatchWidth:"any",parsePatterns:As,defaultParseWidth:"any"})},Rs={code:"en-US",formatDistance:ss,formatLong:ls,formatRelative:us,localize:_s,match:Fs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function js(n,r){const t=mr(n,r==null?void 0:r.in);return es(t,os(t))+1}function Ls(n,r){const t=mr(n,r==null?void 0:r.in),a=+ba(t)-+ts(t);return Math.round(a/Bo)+1}function Yo(n,r){var g,p,k,$;const t=mr(n,r==null?void 0:r.in),a=t.getFullYear(),d=Ma(),l=(r==null?void 0:r.firstWeekContainsDate)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??d.firstWeekContainsDate??(($=(k=d.locale)==null?void 0:k.options)==null?void 0:$.firstWeekContainsDate)??1,v=Nr((r==null?void 0:r.in)||n,0);v.setFullYear(a+1,0,l),v.setHours(0,0,0,0);const u=ra(v,r),h=Nr((r==null?void 0:r.in)||n,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const w=ra(h,r);return+t>=+u?a+1:+t>=+w?a:a-1}function Us(n,r){var u,h,w,g;const t=Ma(),a=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(w=t.locale)==null?void 0:w.options)==null?void 0:g.firstWeekContainsDate)??1,d=Yo(n,r),l=Nr((r==null?void 0:r.in)||n,0);return l.setFullYear(d,0,a),l.setHours(0,0,0,0),ra(l,r)}function Ws(n,r){const t=mr(n,r==null?void 0:r.in),a=+ra(t,r)-+Us(t,r);return Math.round(a/Bo)+1}function $t(n,r){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(r,"0");return t+a}const Ir={y(n,r){const t=n.getFullYear(),a=t>0?t:1-t;return $t(r==="yy"?a%100:a,r.length)},M(n,r){const t=n.getMonth();return r==="M"?String(t+1):$t(t+1,2)},d(n,r){return $t(n.getDate(),r.length)},a(n,r){const t=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,r){return $t(n.getHours()%12||12,r.length)},H(n,r){return $t(n.getHours(),r.length)},m(n,r){return $t(n.getMinutes(),r.length)},s(n,r){return $t(n.getSeconds(),r.length)},S(n,r){const t=r.length,a=n.getMilliseconds(),d=Math.trunc(a*Math.pow(10,t-3));return $t(d,r.length)}},Ur={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bo={G:function(n,r,t){const a=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,r,t){if(r==="yo"){const a=n.getFullYear(),d=a>0?a:1-a;return t.ordinalNumber(d,{unit:"year"})}return Ir.y(n,r)},Y:function(n,r,t,a){const d=Yo(n,a),l=d>0?d:1-d;if(r==="YY"){const v=l%100;return $t(v,2)}return r==="Yo"?t.ordinalNumber(l,{unit:"year"}):$t(l,r.length)},R:function(n,r){const t=Ho(n);return $t(t,r.length)},u:function(n,r){const t=n.getFullYear();return $t(t,r.length)},Q:function(n,r,t){const a=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return $t(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,r,t){const a=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return $t(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,r,t){const a=n.getMonth();switch(r){case"M":case"MM":return Ir.M(n,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,r,t){const a=n.getMonth();switch(r){case"L":return String(a+1);case"LL":return $t(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,r,t,a){const d=Ws(n,a);return r==="wo"?t.ordinalNumber(d,{unit:"week"}):$t(d,r.length)},I:function(n,r,t){const a=Ls(n);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):$t(a,r.length)},d:function(n,r,t){return r==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ir.d(n,r)},D:function(n,r,t){const a=js(n);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):$t(a,r.length)},E:function(n,r,t){const a=n.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,r,t,a){const d=n.getDay(),l=(d-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return $t(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(d,{width:"short",context:"formatting"});case"eeee":default:return t.day(d,{width:"wide",context:"formatting"})}},c:function(n,r,t,a){const d=n.getDay(),l=(d-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return $t(l,r.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(d,{width:"narrow",context:"standalone"});case"cccccc":return t.day(d,{width:"short",context:"standalone"});case"cccc":default:return t.day(d,{width:"wide",context:"standalone"})}},i:function(n,r,t){const a=n.getDay(),d=a===0?7:a;switch(r){case"i":return String(d);case"ii":return $t(d,r.length);case"io":return t.ordinalNumber(d,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,r,t){const d=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(n,r,t){const a=n.getHours();let d;switch(a===12?d=Ur.noon:a===0?d=Ur.midnight:d=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(n,r,t){const a=n.getHours();let d;switch(a>=17?d=Ur.evening:a>=12?d=Ur.afternoon:a>=4?d=Ur.morning:d=Ur.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(n,r,t){if(r==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return Ir.h(n,r)},H:function(n,r,t){return r==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ir.H(n,r)},K:function(n,r,t){const a=n.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):$t(a,r.length)},k:function(n,r,t){let a=n.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):$t(a,r.length)},m:function(n,r,t){return r==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ir.m(n,r)},s:function(n,r,t){return r==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ir.s(n,r)},S:function(n,r){return Ir.S(n,r)},X:function(n,r,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return po(a);case"XXXX":case"XX":return Rr(a);case"XXXXX":case"XXX":default:return Rr(a,":")}},x:function(n,r,t){const a=n.getTimezoneOffset();switch(r){case"x":return po(a);case"xxxx":case"xx":return Rr(a);case"xxxxx":case"xxx":default:return Rr(a,":")}},O:function(n,r,t){const a=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+go(a,":");case"OOOO":default:return"GMT"+Rr(a,":")}},z:function(n,r,t){const a=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+go(a,":");case"zzzz":default:return"GMT"+Rr(a,":")}},t:function(n,r,t){const a=Math.trunc(+n/1e3);return $t(a,r.length)},T:function(n,r,t){return $t(+n,r.length)}};function go(n,r=""){const t=n>0?"-":"+",a=Math.abs(n),d=Math.trunc(a/60),l=a%60;return l===0?t+String(d):t+String(d)+r+$t(l,2)}function po(n,r){return n%60===0?(n>0?"-":"+")+$t(Math.abs(n)/60,2):Rr(n,r)}function Rr(n,r=""){const t=n>0?"-":"+",a=Math.abs(n),d=$t(Math.trunc(a/60),2),l=$t(a%60,2);return t+d+r+l}const ho=(n,r)=>{switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Jo=(n,r)=>{switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Bs=(n,r)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],d=t[2];if(!d)return ho(n,r);let l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",ho(a,r)).replace("{{time}}",Jo(d,r))},Hs={p:Jo,P:Bs},Ys=/^D+$/,Js=/^Y+$/,Vs=["D","DD","YY","YYYY"];function Gs(n){return Ys.test(n)}function zs(n){return Js.test(n)}function qs(n,r,t){const a=Xs(n,r,t);if(console.warn(a),Vs.includes(n))throw new RangeError(a)}function Xs(n,r,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ks=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zs=/^'([^]*?)'?$/,ei=/''/g,ti=/[a-zA-Z]/;function Vo(n,r,t){var g,p,k,$;const a=Ma(),d=a.locale??Rs,l=a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,v=a.weekStartsOn??(($=(k=a.locale)==null?void 0:k.options)==null?void 0:$.weekStartsOn)??0,u=mr(n,t==null?void 0:t.in);if(!as(u))throw new RangeError("Invalid time value");let h=r.match(Ks).map(m=>{const f=m[0];if(f==="p"||f==="P"){const _=Hs[f];return _(m,d.formatLong)}return m}).join("").match(Qs).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:ri(m)};if(bo[f])return{isToken:!0,value:m};if(f.match(ti))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});d.localize.preprocessor&&(h=d.localize.preprocessor(u,h));const w={firstWeekContainsDate:l,weekStartsOn:v,locale:d};return h.map(m=>{if(!m.isToken)return m.value;const f=m.value;(zs(f)||Gs(f))&&qs(f,r,String(n));const _=bo[f[0]];return _(u,f,d.localize,w)}).join("")}function ri(n){const r=n.match(Zs);return r?r[1].replace(ei,"'"):n}const Ke=n=>Vo(new Date(n),"h:mm a"),Yt=n=>Vo(new Date(n),"MMM d, yyyy"),La="coveragePlan";function ai(){const{subscribe:n,set:r,update:t}=Zt(new Set);try{const d=localStorage.getItem(La);if(d){const l=JSON.parse(d);r(new Set(l.selectedMatches))}}catch(d){console.error("Failed to load coverage plan:",d)}const a=d=>{try{const l={selectedMatches:Array.from(d),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(La,JSON.stringify(l))}catch(l){console.error("Failed to save coverage plan:",l)}};return{subscribe:n,toggleMatch:d=>{t(l=>{const v=new Set(l);return v.has(d)?v.delete(d):v.add(d),a(v),v})},selectMatch:d=>{t(l=>{const v=new Set(l);return v.add(d),a(v),v})},deselectMatch:d=>{t(l=>{const v=new Set(l);return v.delete(d),a(v),v})},clearPlan:()=>{r(new Set),localStorage.removeItem(La)}}}const Pt=ai();oa(Pt,n=>n);const oi=oa(Pt,n=>n.size),Ua="teamCoverageStatus";function ni(){const{subscribe:n,set:r,update:t}=Zt({});try{const d=localStorage.getItem(Ua);if(d){const l=JSON.parse(d);r(l)}}catch(d){console.error("Failed to load coverage status:",d)}const a=d=>{if(Object.keys(d).length!==0)try{localStorage.setItem(Ua,JSON.stringify(d))}catch(l){console.error("Failed to save coverage status:",l)}};return{subscribe:n,setTeamStatus:(d,l)=>{t(v=>{const u={...v};return l==="not-covered"?delete u[d]:u[d]=l,a(u),u})},getTeamStatus:d=>{let l="not-covered";return n(v=>{l=v[d]||"not-covered"})(),l},clearAllStatus:()=>{r({}),localStorage.removeItem(Ua)},updateFromPlan:(d,l,v)=>{v!==0&&t(u=>{let h;if(l===0?h="not-covered":l===v?h="covered":h="partially-covered",(u[d]||"not-covered")===h)return u;const g={...u};return h==="not-covered"?delete g[d]:g[d]=h,a(g),g})},importStatuses:d=>{r(d),a(d)}}}const it=ni(),_o="userRole";function si(){const{subscribe:n,set:r}=Zt("media");try{const a=localStorage.getItem(_o);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const t=a=>{try{localStorage.setItem(_o,a)}catch(d){console.error("Failed to save user role:",d)}};return{subscribe:n,setRole:a=>{r(a),t(a)}}}const aa=si(),ao=oa(aa,n=>n==="media"),oo=oa(aa,n=>n==="spectator"),ii=oa(aa,n=>n==="coach");var ci=T('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function di(n,r){At(r,!1);let t=Ee(r,"eventId",8),a=Ee(r,"date",8),d=Ee(r,"timeWindow",8),l=Ee(r,"onLoad",8),v=Ee(r,"loading",8,!1),u=O(t()),h=O(a()),w=O(d());async function g(R){R.preventDefault(),await l()(e(u),e(h),e(w))}xe(()=>(S(t()),e(u),S(a()),e(h),S(d()),e(w)),()=>{t()!==e(u)&&x(u,t()),a()!==e(h)&&x(h,a()),d()!==e(w)&&x(w,d())}),Bt(),Rt();var p=ci(),k=s(p),$=s(k),m=c(s($),2);Yr(m),o($);var f=c($,2),_=c(s(f),2);Yr(_),o(f);var D=c(f,2),C=c(s(D),2);Yr(C),o(D);var I=c(D,2),W=s(I),te=s(W,!0);o(W),o(I),o(k),o(p),F(()=>{m.disabled=v(),_.disabled=v(),C.disabled=v(),W.disabled=v(),Jt(W,`background-color: ${v()?"#ca8a04":"#eab308"}; color: #18181b;`),y(te,v()?"Loading...":"Load")}),fr(m,()=>e(u),R=>x(u,R)),fr(_,()=>e(h),R=>x(h,R)),fr(C,()=>e(w),R=>x(w,R)),Dr("submit",p,g),b(n,p),Ft()}const Go=(n,r,t,a={})=>{const{excludeSelected:d=!0,preferNoConflicts:l=!0,preferNearSelected:v=!0,maxResults:u=10}=a;return(d?n.filter(g=>!r.has(g.MatchId)):n).map(g=>{const p=[];let k=0;const $=t.has(g.MatchId);if(!$&&l?(k+=50,p.push("No conflicts")):$&&(k-=20,p.push("Has conflicts")),v&&r.size>0){const f=g.ScheduledStartDateTime,_=g.ScheduledEndDateTime,D=n.filter(I=>r.has(I.MatchId));let C=1/0;D.forEach(I=>{const W=I.ScheduledStartDateTime,te=I.ScheduledEndDateTime,R=Math.abs(f-te),fe=Math.abs(W-_),ne=Math.min(R,fe);ne<C&&(C=ne)}),C<7200*1e3?(k+=20,p.push("Near selected matches")):C>14400*1e3&&(k-=10,p.push("Far from selected matches"))}v&&r.size>0&&n.filter(D=>r.has(D.MatchId)).filter(D=>D.CourtName===g.CourtName).length>0&&(k+=15,p.push("Same court as selected matches"));const m=new Date(g.ScheduledStartDateTime).getHours();return m>=8&&m<12&&(k+=5,p.push("Morning match")),{match:g,score:k,reasons:p}}).sort((g,p)=>p.score-g.score).slice(0,u).filter(g=>g.score>0)},Ka=(n,r,t,a,d,l={})=>{const{excludeSelected:v=!0,preferUncovered:u=!0,preferNoConflicts:h=!0,preferNearSelected:w=!0,maxResults:g=10}=l,p=[];return n.forEach(k=>{if(v&&r.has(k.MatchId))return;const $=d(k);if(!$)return;const m=a.get($)||"not-covered",f=t.has(k.MatchId);let _=0;const D=[];if(u&&m==="not-covered"&&(_+=10,D.push("Uncovered team")),h&&!f&&(_+=5,D.push("No conflicts")),w&&r.size>0){const C=k.ScheduledStartDateTime;let I=!1;n.forEach(W=>{if(r.has(W.MatchId)){const R=Math.abs(C-W.ScheduledStartDateTime)/6e4;R<=30&&R>0&&(I=!0)}}),I&&(_+=3,D.push("Near selected match"))}_>0&&D.length>0&&p.push({match:k,teamId:$,reason:D.join(", "),score:_})}),p.sort((k,$)=>$.score-k.score).slice(0,g)},ga="matchScores",li=n=>{try{const r=localStorage.getItem(ga);if(!r)return JSON.stringify({eventId:n,scores:[]},null,2);const t=JSON.parse(r),a=[];return Object.values(t).forEach(d=>{d.eventId===n&&a.push(d)}),JSON.stringify({eventId:n,scores:a,exportedAt:Date.now()},null,2)}catch(r){return console.error("Failed to export scores:",r),JSON.stringify({eventId:n,scores:[],error:"Export failed"},null,2)}},vi=n=>{const r=[];let t=0;try{const a=JSON.parse(n);if(!a.scores||!Array.isArray(a.scores))return r.push("Invalid JSON format: missing scores array"),{success:!1,imported:0,errors:r};const d=localStorage.getItem(ga),l=d?JSON.parse(d):{};return a.scores.forEach(v=>{try{if(!v.matchId||!v.eventId||!v.sets||!Array.isArray(v.sets)){r.push(`Invalid score for match ${v.matchId}: missing required fields`);return}const u=v.matchId.toString(),h=l[u];if(h&&h.lastUpdated&&v.lastUpdated)if(v.lastUpdated>h.lastUpdated)l[u]=v,t++;else return;else l[u]=v,t++}catch(u){r.push(`Failed to import score for match ${v.matchId}: ${u}`)}}),localStorage.setItem(ga,JSON.stringify(l)),{success:r.length===0,imported:t,errors:r}}catch(a){return r.push(`Failed to parse JSON: ${a}`),{success:!1,imported:0,errors:r}}},ui=n=>{try{const r=localStorage.getItem(ga);if(!r)return window.location.href.split("#")[0];const t=JSON.parse(r),a=[];if(Object.values(t).forEach(h=>{h.eventId===n&&a.push(h)}),a.length===0)return window.location.href.split("#")[0];const d={eventId:n,scores:a,exportedAt:Date.now()},l=JSON.stringify(d),v=btoa(unescape(encodeURIComponent(l))),u=`${window.location.href.split("#")[0]}#scores=${v}`;return u.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using export/import instead."),u}catch(r){return console.error("Failed to generate shareable URL:",r),window.location.href.split("#")[0]}},fi=()=>{try{const n=window.location.hash;if(!n||!n.startsWith("#scores="))return null;const r=n.substring(8),t=decodeURIComponent(escape(atob(r))),a=JSON.parse(t);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(n){return console.error("Failed to extract scores from URL:",n),null}},mi=()=>{const n=window.location.hash;return n!==null&&n.startsWith("#scores=")},xa={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},Wa="matchFilters";function xi(){const{subscribe:n,set:r,update:t}=Zt(xa);try{const d=localStorage.getItem(Wa);if(d){const l=JSON.parse(d);r({...xa,...l})}}catch(d){console.error("Failed to load filters:",d)}const a=d=>{try{localStorage.setItem(Wa,JSON.stringify(d))}catch(l){console.error("Failed to save filters:",l)}};return{subscribe:n,updateFilter:(d,l)=>{t(v=>{const u={...v,[d]:l};return a(u),u})},resetFilters:()=>{r(xa),localStorage.removeItem(Wa)},setTimeRangePreset:d=>{t(l=>{let v;return d==="morning"?v={...l,timeRange:{start:"00:00",end:"14:29"}}:d==="afternoon"?v={...l,timeRange:{start:"14:30",end:"23:59"}}:v={...l,timeRange:{start:null,end:null}},a(v),v})},getTeamIdentifier:d=>{const v=(d.InvolvedTeam==="first"?d.FirstTeamText:d.SecondTeamText).match(/(\d+-\d+)/);return v?v[1]:""}}}const ia=xi();function Xe(n){const t=(n.InvolvedTeam==="first"?n.FirstTeamText:n.SecondTeamText).match(/(\d+-\d+)/);return t?t[1]:""}function pa(n){const r=new Set(n.map(t=>t.Division.CodeAlias));return Array.from(r).sort()}function no(n){const r=new Set;return n.forEach(t=>{const a=Xe(t);a&&r.add(a)}),Array.from(r).sort()}function zo(n){let r=xa;return ia.subscribe(t=>{r=t})(),n.filter(t=>{if(r.division&&t.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(t.ScheduledStartDateTime).getTime(),d=new Date(a),l=d.getHours(),v=d.getMinutes(),u=l*60+v,h=870;if(r.wave==="morning"&&u>=h||r.wave==="afternoon"&&u<h)return!1}if(r.teams.length>0){const a=Xe(t);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(t.ScheduledStartDateTime).getTime(),d=new Date(a),l=d.getHours(),v=d.getMinutes(),u=l*60+v;if(r.timeRange.start){const[h,w]=r.timeRange.start.split(":").map(Number),g=h*60+w;if(u<g)return!1}if(r.timeRange.end){const[h,w]=r.timeRange.end.split(":").map(Number),g=h*60+w;if(u>g)return!1}}return!0})}function cr(n,r){ia.updateFilter(n,r)}function Ba(){ia.resetFilters()}const Ha="matchPriorities";function bi(){const{subscribe:n,set:r,update:t}=Zt({});try{const d=localStorage.getItem(Ha);if(d){const l=JSON.parse(d);r(l)}}catch(d){console.error("Failed to load priorities:",d)}const a=d=>{try{localStorage.setItem(Ha,JSON.stringify(d))}catch(l){console.error("Failed to save priorities:",l)}};return{subscribe:n,setPriority:(d,l)=>{t(v=>{const u={...v};return l===null?delete u[d]:u[d]=l,a(u),u})},getPriority:d=>{let l=null;return n(v=>{l=v[d]||null})(),l},clearAllPriorities:()=>{r({}),localStorage.removeItem(Ha)}}}const dr=bi(),So="followedTeams",yo="teamColors";function gi(){const{subscribe:n,set:r,update:t}=Zt([]),{subscribe:a,set:d,update:l}=Zt(new Map);{try{const h=localStorage.getItem(So);h&&r(JSON.parse(h))}catch(h){console.error("Failed to load followed teams:",h)}try{const h=localStorage.getItem(yo);if(h){const w=JSON.parse(h);d(new Map(Object.entries(w)))}}catch(h){console.error("Failed to load team colors:",h)}}const v=h=>{try{localStorage.setItem(So,JSON.stringify(h))}catch(w){console.error("Failed to save followed teams:",w)}},u=h=>{try{const w={};h.forEach((g,p)=>{w[p]=g}),localStorage.setItem(yo,JSON.stringify(w))}catch(w){console.error("Failed to save team colors:",w)}};return{subscribe:n,followTeam:(h,w)=>{t(g=>{if(g.some(k=>k.teamId===h))return g;const p=[...g,{teamId:h,teamName:w,followedAt:Date.now()}];return v(p),p})},unfollowTeam:h=>{t(w=>{const g=w.filter(p=>p.teamId!==h);return v(g),g}),l(w=>{const g=new Map(w);return g.delete(h),u(g),g})},isFollowing:h=>{let w=!1;return n(g=>{w=g.some(p=>p.teamId===h)})(),w},setTeamColor:(h,w)=>{l(g=>{const p=new Map(g);return p.set(h,w),u(p),p})},getTeamColor:h=>{let w=null;return a(g=>{w=g.get(h)||null})(),w},reorderTeams:(h,w)=>{t(g=>{const p=g.findIndex(m=>m.teamId===h);if(p===-1)return g;const k=[...g],$=k[p];return w==="top"?(k.splice(p,1),k.unshift($)):w==="up"&&p>0?[k[p-1],k[p]]=[k[p],k[p-1]]:w==="down"&&p<k.length-1&&([k[p],k[p+1]]=[k[p+1],k[p]]),v(k),k})}}}const Ut=gi(),wo="notificationPreferences",va={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function pi(){const{subscribe:n,set:r,update:t}=Zt(va),{subscribe:a,set:d}=Zt("default");{try{const u=localStorage.getItem(wo);if(u){const h=JSON.parse(u);r({...va,...h})}}catch(u){console.error("Failed to load notification preferences:",u)}"Notification"in window&&d(Notification.permission)}const l=u=>{try{localStorage.setItem(wo,JSON.stringify(u))}catch(h){console.error("Failed to save notification preferences:",h)}},v=(u,h,w=!1)=>{let g="default";a(p=>{g=p})(),w&&g==="granted"&&"Notification"in window?new Notification(u,{body:h,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${u}: ${h}`)};return{preferences:{subscribe:n},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let u="default";if(a(h=>{u=h})(),u==="default"){const h=await Notification.requestPermission();return d(h),h==="granted"}return u==="granted"}return!1},checkUpcomingMatches:(u,h)=>{let w=va;if(n(k=>{w=k})(),!w.upcomingMatchReminder)return;const g=Date.now(),p=w.reminderMinutes*60*1e3;u.forEach(k=>{const $=k.ScheduledStartDateTime,m=$-g,f=k.FirstTeamText||k.SecondTeamText;if(h.includes(f)&&m>0&&m<=p){const _=`reminder-${k.MatchId}`,D=localStorage.getItem(_);if(!D||Date.now()-parseInt(D)>p){const C=Math.floor(m/6e4);v(`Match starting in ${C} minute${C!==1?"s":""}`,`${k.FirstTeamText} vs ${k.SecondTeamText}
${new Date($).toLocaleTimeString()} - ${k.CourtName}`,w.browserNotifications),localStorage.setItem(_,Date.now().toString())}}})},notifyScoreUpdate:(u,h)=>{let w=va;if(n(f=>{w=f})(),!w.scoreUpdateNotification)return;const g=h.sets.find(f=>f.completedAt===0)||h.sets[h.sets.length-1],p=h.sets.filter(f=>f.completedAt>0),k=p.filter(f=>f.team1Score>f.team2Score).length,$=p.filter(f=>f.team2Score>f.team1Score).length;let m=`Score: ${g.team1Score}-${g.team2Score}`;p.length>0&&(m=`Sets: ${k}-${$} | ${m}`),v(`${u.FirstTeamText} vs ${u.SecondTeamText}`,m,w.browserNotifications)},updatePreferences:u=>{t(h=>{const w={...h,...u};return l(w),w})}}}const Ya=pi(),hi="courtsync-score-updates";let ua=null;const _i=()=>{if(!ua)try{ua=new BroadcastChannel(hi)}catch(n){console.error("BroadcastChannel not supported:",n),ua={postMessage:()=>{},close:()=>{},onmessage:null}}return ua},Si=(n,r,t)=>{const a=_i(),d={type:t?"score-update":"score-delete",eventId:n,matchId:r,score:t||void 0,timestamp:Date.now()};try{a.postMessage(d)}catch(l){console.error("Failed to broadcast score update:",l)}},Za="scoreHistory",yi=n=>{try{const r=localStorage.getItem(Za);return r?JSON.parse(r)[n.toString()]||[]:[]}catch(r){return console.error("Failed to load score history:",r),[]}},wi=(n,r,t)=>{try{const a=localStorage.getItem(Za),d=a?JSON.parse(a):{};d[n.toString()]||(d[n.toString()]=[]);const l={matchId:n,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:t};d[n.toString()].push(l),d[n.toString()].length>100&&(d[n.toString()]=d[n.toString()].slice(-100)),localStorage.setItem(Za,JSON.stringify(d))}catch(a){console.error("Failed to save score history:",a)}},Ti=(n,r,t,a)=>{let d=0,l=0,v=0,u=0,h=0,w=0,g=0,p=0;t.forEach(_=>{const D=_.FirstTeamText===n||_.FirstTeamText===r,C=_.SecondTeamText===n||_.SecondTeamText===r;if(!D&&!C)return;d++;const I=a.get(_.MatchId);if(!I||I.status!=="completed")return;l++;const W=I.sets.filter(R=>R.completedAt>0&&R.team1Score>R.team2Score).length,te=I.sets.filter(R=>R.completedAt>0&&R.team2Score>R.team1Score).length;D?(h+=W,w+=te,I.sets.forEach(R=>{R.completedAt>0&&(g+=R.team1Score,p+=R.team2Score)}),W>te?v++:u++):(h+=te,w+=W,I.sets.forEach(R=>{R.completedAt>0&&(g+=R.team2Score,p+=R.team1Score)}),te>W?v++:u++)});const k=l>0?v/l*100:0,$=l>0?g/l:0,m=l>0?p/l:0,f=h+w>0?`${(h/(h+w)*100).toFixed(1)}%`:"0%";return{teamId:n,teamName:r,totalMatches:d,completedMatches:l,wins:v,losses:u,winPercentage:k,setsWon:h,setsLost:w,pointsScored:g,pointsAllowed:p,avgPointsScored:$,avgPointsAllowed:m,avgSetScore:f}},ha="claimHistory",To=1e3;function Ja(n){try{const r=localStorage.getItem(ha),t=r?JSON.parse(r):[];t.unshift(n),t.length>To&&t.splice(To),localStorage.setItem(ha,JSON.stringify(t))}catch(r){console.error("Failed to save claim history:",r)}}function Mi(n,r){try{const t=localStorage.getItem(ha);return t?JSON.parse(t).filter(d=>d.matchId===n&&d.eventId===r).sort((d,l)=>l.timestamp-d.timestamp):[]}catch(t){return console.error("Failed to load claim history:",t),[]}}function Mo(n){try{const r=localStorage.getItem(ha);return r?JSON.parse(r).filter(a=>a.eventId===n).sort((a,d)=>d.timestamp-a.timestamp):[]}catch(r){return console.error("Failed to load claim history:",r),[]}}const Co="matchClaims",Va="matchScores",Ci=1800*1e3;function ca({eventId:n,userId:r="anonymous"}){const{subscribe:t,set:a,update:d}=Zt(new Map),{subscribe:l,set:v,update:u}=Zt(new Map);{try{const $=localStorage.getItem(Co);if($){const m=JSON.parse($),f=new Map;Object.values(m).forEach(_=>{_.eventId===n&&_.expiresAt>Date.now()&&f.set(_.matchId,_)}),a(f)}}catch($){console.error("Failed to load claims:",$)}try{const $=localStorage.getItem(Va);if($){const m=JSON.parse($),f=new Map;Object.values(m).forEach(_=>{_.eventId===n&&f.set(_.matchId,_)}),v(f)}}catch($){console.error("Failed to load scores:",$)}}const h=$=>{try{const m={};$.forEach(f=>{m[f.matchId.toString()]=f}),localStorage.setItem(Co,JSON.stringify(m))}catch(m){console.error("Failed to save claims:",m)}},w=$=>{try{const m={};$.forEach(f=>{m[f.matchId.toString()]=f}),localStorage.setItem(Va,JSON.stringify(m))}catch(m){console.error("Failed to save scores:",m)}};let g=null;return{claims:{subscribe:t},scores:{subscribe:l},claimMatch:($,m)=>{const f=Date.now(),_=m+Ci,D={matchId:$,claimedBy:r,claimedAt:f,expiresAt:_,eventId:n};d(C=>{const I=new Map(C);return I.set($,D),h(I),I}),Ja({matchId:$,eventId:n,action:"claimed",userId:r,timestamp:f})},releaseClaim:$=>{d(m=>{const f=m.get($),_=new Map(m);return _.delete($),h(_),f&&Ln&&Ja({matchId:$,eventId:n,action:"released",userId:f.claimedBy,timestamp:Date.now()}),_})},transferClaim:($,m)=>{let f=!1;if(t(D=>{const C=D.get($);f=(C==null?void 0:C.claimedBy)===r&&C.expiresAt>Date.now()})(),!f)return!1;const _=Date.now();return d(D=>{const C=D.get($);if(!C)return D;const I={...C,claimedBy:m,claimedAt:_},W=new Map(D);return W.set($,I),h(W),Ja({matchId:$,eventId:n,action:"transferred",userId:r,timestamp:_,transferredTo:m}),W}),!0},isClaimed:$=>{let m=!1;return t(f=>{const _=f.get($);m=_?_.expiresAt>Date.now():!1})(),m},getClaimStatus:$=>{let m="available";return t(f=>{const _=f.get($);!_||_.expiresAt<Date.now()?m="available":_.claimedBy===r?m="claimed":m="locked"})(),m},getClaimer:$=>{let m=null;return t(f=>{const _=f.get($);m=_&&_.expiresAt>Date.now()?_.claimedBy:null})(),m},isClaimOwner:$=>{let m=!1;return t(f=>{const _=f.get($);m=(_==null?void 0:_.claimedBy)===r&&_.expiresAt>Date.now()})(),m},updateScore:($,m,f)=>{const _={matchId:$,eventId:n,sets:m,status:f,lastUpdated:Date.now(),lastUpdatedBy:r};u(D=>{const C=new Map(D);return C.set($,_),w(C),C}),Si(n,$,_),wi($,_,r)},getScore:$=>{let m=null;return l(f=>{m=f.get($)||null})(),m},clearEventData:()=>{d($=>{const m=new Map($);return m.forEach((f,_)=>{f.eventId===n&&m.delete(_)}),h(m),m}),u($=>{const m=new Map($);return m.forEach((f,_)=>{f.eventId===n&&m.delete(_)}),w(m),m})},startPolling:()=>{g||(g=setInterval(()=>{try{const $=localStorage.getItem(Va);if(!$)return;const m=JSON.parse($),f=new Map;let _=!1;l(D=>{Object.values(m).forEach(C=>{if(C.eventId===n){f.set(C.matchId,C);const I=D.get(C.matchId);(!I||C.lastUpdated&&C.lastUpdated>I.lastUpdated)&&(_=!0)}}),_&&u(C=>{const I=new Map(C);return f.forEach((W,te)=>{const R=C.get(te);(!R||W.lastUpdated&&W.lastUpdated>R.lastUpdated)&&I.set(te,W)}),I})})()}catch($){console.error("Failed to poll scores:",$)}},3e3))},stopPolling:()=>{g&&(clearInterval(g),g=null)}}}const Ga="matchNotes";function ki(n){const{subscribe:r,set:t,update:a}=Zt(new Map);try{const l=localStorage.getItem(Ga);if(l){const v=JSON.parse(l),u=new Map;Object.values(v).forEach(h=>{h.eventId===n&&u.set(h.matchId,h)}),t(u)}}catch(l){console.error("Failed to load match notes:",l)}const d=l=>{try{const v=localStorage.getItem(Ga),u=v?JSON.parse(v):{};l.forEach(h=>{u[`${n}-${h.matchId}`]=h}),Object.keys(u).forEach(h=>{if(h.startsWith(`${n}-`)){const w=parseInt(h.split("-").pop()||"0");l.has(w)||delete u[h]}}),localStorage.setItem(Ga,JSON.stringify(u))}catch(v){console.error("Failed to save match notes:",v)}};return{subscribe:r,setNote:(l,v)=>{const u=Date.now();a(h=>{const w=new Map(h),g=w.get(l);return v.trim()?w.set(l,{matchId:l,eventId:n,note:v.trim(),createdAt:(g==null?void 0:g.createdAt)||u,updatedAt:u}):w.delete(l),d(w),w})},getNote:l=>{let v="";return r(u=>{var h;v=((h=u.get(l))==null?void 0:h.note)||""})(),v},deleteNote:l=>{a(v=>{const u=new Map(v);return u.delete(l),d(u),u})},hasNote:l=>{let v=!1;return r(u=>{const h=u.get(l);v=h!==void 0&&h.note.trim().length>0})(),v}}}function qo(n){return ki(n)}var $i=T('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-sm font-semibold text-[#f8f8f9] mb-2">Win/Loss Breakdown</div> <div class="space-y-2"><div class="flex items-center justify-between"><span class="text-xs text-[#9fa2ab]">Wins</span> <div class="flex items-center gap-2"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-green-500"></div></div> <span class="text-sm font-semibold text-[#f8f8f9] w-8 text-right"> </span></div></div> <div class="flex items-center justify-between"><span class="text-xs text-[#9fa2ab]">Losses</span> <div class="flex items-center gap-2"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-red-500"></div></div> <span class="text-sm font-semibold text-[#f8f8f9] w-8 text-right"> </span></div></div></div></div>'),Ii=T('<div class="text-center py-8 text-[#9fa2ab] text-sm">No completed matches yet</div>'),Di=T('<div class="space-y-4"><h3 class="text-lg font-semibold text-[#f8f8f9]">Team Statistics</h3> <div class="grid grid-cols-2 sm:grid-cols-4 gap-3"><div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Record</div> <div class="text-lg font-bold text-[#f8f8f9]"> </div></div> <div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Win %</div> <div class="text-lg font-bold text-[#facc15]"> </div></div> <div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Sets</div> <div class="text-lg font-bold text-[#f8f8f9]"> </div></div> <div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Matches</div> <div class="text-lg font-bold text-[#f8f8f9]"> </div></div></div> <div class="space-y-3"><div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]"><div class="text-sm font-semibold text-[#f8f8f9] mb-2">Points</div> <div class="grid grid-cols-2 gap-4 text-sm"><div><div class="text-xs text-[#9fa2ab] mb-1">Scored</div> <div class="text-base font-bold text-[#f8f8f9]"> </div></div> <div><div class="text-xs text-[#9fa2ab] mb-1">Allowed</div> <div class="text-base font-bold text-[#f8f8f9]"> </div></div></div></div> <!></div> <!></div>');function Ei(n,r){At(r,!1);const t=O(),a=O();let d=Ee(r,"matches",8),l=Ee(r,"eventId",8),v=Ee(r,"teamId",8),u=Ee(r,"teamName",8);const h=ca(l());xe(()=>S(d()),()=>{x(t,(()=>{const _e=new Map;return d().forEach(G=>{const oe=h.getScore(G.MatchId);oe&&_e.set(G.MatchId,oe)}),_e})())}),xe(()=>(S(v()),S(u()),S(d()),e(t)),()=>{x(a,Ti(v(),u(),d(),e(t)))}),Bt(),Rt();var w=Di(),g=c(s(w),2),p=s(g),k=c(s(p),2),$=s(k);o(k),o(p);var m=c(p,2),f=c(s(m),2),_=s(f);o(f),o(m);var D=c(m,2),C=c(s(D),2),I=s(C);o(C),o(D);var W=c(D,2),te=c(s(W),2),R=s(te);o(te),o(W),o(g);var fe=c(g,2),ne=s(fe),X=c(s(ne),2),se=s(X),ge=c(s(se),2),B=s(ge);o(ge),o(se);var de=c(se,2),ve=c(s(de),2),re=s(ve);o(ve),o(de),o(X),o(ne);var le=c(ne,2);{var Y=_e=>{var G=$i(),oe=c(s(G),2),q=s(oe),ke=c(s(q),2),we=s(ke),U=s(we);o(we);var z=c(we,2),ae=s(z,!0);o(z),o(ke),o(q);var M=c(q,2),j=c(s(M),2),A=s(j),N=s(A);o(A);var J=c(A,2),ue=s(J,!0);o(J),o(j),o(M),o(oe),o(G),F(()=>{Jt(U,`width: ${e(a),i(()=>e(a).winPercentage)??""}%`),y(ae,(e(a),i(()=>e(a).wins))),Jt(N,`width: ${e(a),i(()=>100-e(a).winPercentage)??""}%`),y(ue,(e(a),i(()=>e(a).losses)))}),b(_e,G)};E(le,_e=>{e(a),i(()=>e(a).completedMatches>0)&&_e(Y)})}o(fe);var he=c(fe,2);{var Ce=_e=>{var G=Ii();b(_e,G)};E(he,_e=>{e(a),i(()=>e(a).completedMatches===0)&&_e(Ce)})}o(w),F((_e,G,oe)=>{y($,`${e(a),i(()=>e(a).wins)??""}-${e(a),i(()=>e(a).losses)??""}`),y(_,`${_e??""}%`),y(I,`${e(a),i(()=>e(a).setsWon)??""}-${e(a),i(()=>e(a).setsLost)??""}`),y(R,`${e(a),i(()=>e(a).completedMatches)??""}/${e(a),i(()=>e(a).totalMatches)??""}`),y(B,`${e(a),i(()=>e(a).pointsScored)??""} (${G??""} avg)`),y(re,`${e(a),i(()=>e(a).pointsAllowed)??""} (${oe??""} avg)`)},[()=>(e(a),i(()=>e(a).winPercentage.toFixed(1))),()=>(e(a),i(()=>e(a).avgPointsScored.toFixed(1))),()=>(e(a),i(()=>e(a).avgPointsAllowed.toFixed(1)))]),b(n,w),Ft()}var Ni=T('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),Pi=T('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Oi=T("<button>Statistics</button>"),Ai=T('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Fi=T('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),Ri=T('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),ji=T('<span class="text-[#808593] mx-1">vs</span> ',1),Li=T('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),Ui=T('<span class="mx-1">vs</span> ',1),Wi=T('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),Bi=T('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Hi=T('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Yi=T('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),Ji=T('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),Vi=T('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),Gi=T("<option> </option>"),zi=T('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),qi=T('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),Xi=T('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),Qi=T('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),Ki=T('<span class="text-[#808593] mx-1">vs</span> ',1),Zi=T('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),ec=T('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),tc=T('<div class="space-y-4"><!> <!></div>'),rc=T('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),ac=T("<!> <!>",1),oc=T('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),nc=T('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),sc=T('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function Xo(n,r){At(r,!1);const t=O(),a=O(),d=O(),l=O(),v=O();let u=Ee(r,"match",8),h=Ee(r,"eventId",8),w=Ee(r,"clubId",8),g=Ee(r,"onClose",8),p=Ee(r,"matches",24,()=>[]),k=O(null),$=O([]),m=O([]),f=O([]),_=O([]),D=O(null),C=O(null),I=O("schedule"),W=O(!0),te=O(null);function R(){return u().InvolvedTeam==="first"?u().FirstTeamText:u().InvolvedTeam==="second"?u().SecondTeamText:""}const fe=Xe(u()),ne=R();na(async()=>{x(W,!0),x(te,null);try{const q=(await Jn(h(),w())).value||[],ke=R();if(!ke){x(te,"Could not extract team name from match"),x(W,!1);return}const we=q.find(J=>{if(J.TeamText===ke||J.TeamName===ke)return!0;const ue=ke.match(/(\d+-\d+)/);if(ue){const P=ue[1];return J.TeamName.includes(P)||J.TeamText.includes(P)}return!1});if(!we){x(te,`Team not found: ${ke}`),x(W,!1);return}const U=we.TeamId,z=we.TeamDivision.DivisionId;x(k,{TeamId:U,DivisionId:z,TeamName:we.TeamName,TeamText:we.TeamText});const[ae,M,j]=await Promise.all([Ra(h(),z,U,"current").catch(()=>[]),Ra(h(),z,U,"work").catch(()=>[]),Ra(h(),z,U,"future").catch(()=>[])]),A=(J,ue=!1)=>Array.isArray(J)?J.flatMap(P=>{var K,L;return ue?P.Match?[{...P.Match,Court:P.Match.Court||null,Division:{...P.Play,PlayId:(K=P.Play)==null?void 0:K.PlayId},FirstTeamText:((L=P.Play)==null?void 0:L.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!P.Matches||!Array.isArray(P.Matches)?[]:P.Matches.map(ee=>{var Se;return{...ee,Court:ee.Court||null,Division:{...P.Play,PlayId:(Se=P.Play)==null?void 0:Se.PlayId}}})}):[];x($,A(ae,!1)),x(m,A(M,!0)),x(f,A(j,!1));const N=await Vn(h(),z).catch(()=>null);N!=null&&N.Plays&&x(_,N.Plays)}catch(oe){x(te,oe instanceof Error?oe.message:"Failed to load team data")}finally{x(W,!1)}});function X(oe,q=!1){var ae,M;const ke=typeof oe.ScheduledStartDateTime=="string"?new Date(oe.ScheduledStartDateTime).getTime():oe.ScheduledStartDateTime,we=((ae=oe.FirstTeamText)==null?void 0:ae.includes("630"))||((M=oe.SecondTeamText)==null?void 0:M.includes("630")),U=Yt(ke),z=Ke(ke);return{matchDate:U,startTimeDisplay:z,isPlaying:we,isWork:q,scheduleMatch:oe}}xe(()=>e(I),()=>{e(I)==="poolsheet"&&x(C,null)}),xe(()=>(e($),e(m),e(f)),()=>{x(t,[...e($).map(q=>({...q,type:"current"})),...e(m).map(q=>({...q,type:"work"})),...e(f).map(q=>({...q,type:"future"}))].filter((q,ke,we)=>we.findIndex(U=>U.MatchId===q.MatchId)===ke).sort((q,ke)=>{const we=typeof q.ScheduledStartDateTime=="string"?new Date(q.ScheduledStartDateTime).getTime():q.ScheduledStartDateTime||0,U=typeof ke.ScheduledStartDateTime=="string"?new Date(ke.ScheduledStartDateTime).getTime():ke.ScheduledStartDateTime||0;return we-U}))}),xe(()=>e(t),()=>{x(a,(()=>{const oe=new Set;return e(t).forEach(q=>{if(q.Division&&q.Division.PlayId){const ke=Math.abs(q.Division.PlayId);oe.add(ke)}}),Array.from(oe)})())}),xe(()=>(e(_),e(a)),()=>{x(d,e(_).filter(oe=>{const q=Math.abs(oe.PlayId);return e(a).includes(q)}))}),xe(()=>(e(d),e(D)),()=>{e(d).length>0&&!e(D)&&x(D,e(d)[0].PlayId)}),xe(()=>(e(D),e(I),S(h())),()=>{e(D)&&e(I)==="poolsheet"&&Gn(h(),e(D)).then(oe=>{x(C,oe)}).catch(oe=>{console.error("Failed to fetch pool sheet:",oe),x(C,null)})}),xe(()=>(e(t),Yt),()=>{x(l,(()=>{const oe={};return e(t).forEach(q=>{const ke=typeof q.ScheduledStartDateTime=="string"?new Date(q.ScheduledStartDateTime).getTime():q.ScheduledStartDateTime||0,we=Yt(ke);oe[we]||(oe[we]=[]),oe[we].push(q)}),oe})())}),xe(()=>e(l),()=>{x(v,Object.keys(e(l)).sort((oe,q)=>{const ke=new Date(oe).getTime(),we=new Date(q).getTime();return ke-we}))}),Bt(),Rt();var se=sc(),ge=s(se),B=s(ge),de=s(B),ve=s(de);o(de);var re=c(de,2);re.__click=function(...oe){var q;(q=g())==null||q.apply(this,oe)},o(B);var le=c(B,2);{var Y=oe=>{var q=Ni();b(oe,q)};E(le,oe=>{e(W)&&oe(Y)})}var he=c(le,2);{var Ce=oe=>{var q=Pi(),ke=s(q,!0);o(q),F(()=>y(ke,e(te))),b(oe,q)};E(he,oe=>{e(te)&&oe(Ce)})}var _e=c(he,2);{var G=oe=>{var q=nc(),ke=s(q),we=s(ke);we.__click=()=>x(I,"schedule");var U=c(we,2);U.__click=()=>x(I,"poolsheet");var z=c(U,2);{var ae=N=>{var J=Oi();J.__click=()=>x(I,"stats"),F(()=>Oe(J,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),b(N,J)};E(z,N=>{S(p()),i(()=>p().length>0&&fe)&&N(ae)})}o(ke);var M=c(ke,2);{var j=N=>{Ei(N,{get matches(){return p()},get eventId(){return h()},get teamId(){return fe},get teamName(){return ne}})},A=N=>{var J=Ot(),ue=dt(J);{var P=L=>{var ee=Ji(),Se=c(s(ee),2),me=s(Se);{var Q=pe=>{var Me=Ai();b(pe,Me)},H=pe=>{var Me=Ot(),Ae=dt(Me);st(Ae,1,()=>e(v),nt,(We,Le)=>{const He=Z(()=>(e(l),e(Le),i(()=>e(l)[e(Le)])));var Ue=Yi(),V=s(Ue),ie=s(V),Fe=s(ie,!0);o(ie);var Ye=c(ie,2),je=s(Ye);o(Ye),o(V);var Re=c(V,2);st(Re,1,()=>e(He),nt,(Te,Ge)=>{const ce=Z(()=>(e(Ge),i(()=>X(e(Ge),e(Ge).type==="work"))));var De=Hi(),qe=s(De),tt=c(qe,2),Ne=s(tt,!0);o(tt);var Je=c(tt,2),Ve=s(Je,!0);o(Je);var pt=c(Je,2);{var rt=be=>{var Ie=Fi(),ye=s(Ie,!0);o(Ie),F(()=>y(ye,(S(e(ce)),i(()=>e(ce).scheduleMatch.Court.Name)))),b(be,Ie)};E(pt,be=>{S(e(ce)),i(()=>e(ce).scheduleMatch.Court)&&be(rt)})}var lt=c(pt,2),ft=s(lt),kt=s(ft);{var bt=be=>{var Ie=Ri(),ye=c(dt(Ie),2),Ze=s(ye,!0);o(ye),F(()=>y(Ze,(S(e(ce)),i(()=>{var et,ot;return((et=e(ce).scheduleMatch.Division)==null?void 0:et.CompleteShortName)||((ot=e(ce).scheduleMatch.Division)==null?void 0:ot.FullName)||e(ce).scheduleMatch.FirstTeamText})))),b(be,Ie)},Be=be=>{var Ie=Ot(),ye=dt(Ie);{var Ze=ot=>{var gt=Li(),mt=c(dt(gt),2),Pe=s(mt),Ct=c(Pe);{var ze=Tt=>{var It=ji(),$e=c(dt(It));F(()=>y($e,` ${S(e(ce)),i(()=>e(ce).scheduleMatch.SecondTeamText)??""}`)),b(Tt,It)};E(Ct,Tt=>{S(e(ce)),i(()=>e(ce).scheduleMatch.SecondTeamText)&&Tt(ze)})}o(mt),F(()=>y(Pe,`${S(e(ce)),i(()=>e(ce).scheduleMatch.FirstTeamText)??""} `)),b(ot,gt)},et=ot=>{var gt=Wi(),mt=c(dt(gt),2),Pe=s(mt),Ct=c(Pe);{var ze=Tt=>{var It=Ui(),$e=c(dt(It));F(()=>y($e,` ${S(e(ce)),i(()=>e(ce).scheduleMatch.SecondTeamText)??""}`)),b(Tt,It)};E(Ct,Tt=>{S(e(ce)),i(()=>e(ce).scheduleMatch.SecondTeamText)&&Tt(ze)})}o(mt),F(()=>y(Pe,`${S(e(ce)),i(()=>e(ce).scheduleMatch.FirstTeamText)??""} `)),b(ot,gt)};E(ye,ot=>{S(e(ce)),i(()=>e(ce).isPlaying)?ot(Ze):ot(et,!1)},!0)}b(be,Ie)};E(kt,be=>{S(e(ce)),i(()=>e(ce).isWork)?be(bt):be(Be,!1)})}o(ft),o(lt);var ct=c(lt,2);{var vt=be=>{var Ie=Bi(),ye=s(Ie),Ze=s(ye,!0);o(ye),o(Ie),F(()=>{Jt(ye,`background-color: ${S(e(ce)),i(()=>e(ce).scheduleMatch.Division.ColorHex)??""}20; color: ${S(e(ce)),i(()=>e(ce).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${S(e(ce)),i(()=>e(ce).scheduleMatch.Division.ColorHex)??""}40;`),y(Ze,(S(e(ce)),i(()=>e(ce).scheduleMatch.Division.CodeAlias)))}),b(be,Ie)};E(ct,be=>{S(e(ce)),i(()=>e(ce).scheduleMatch.Division)&&be(vt)})}o(De),F(()=>{Oe(De,1,`flex items-center gap-3 px-3 py-2 rounded border ${S(e(ce)),i(()=>e(ce).isWork?"border-[#525463] bg-[#454654]/30":e(ce).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),Oe(qe,1,`flex-shrink-0 w-1 h-full rounded-full ${S(e(ce)),i(()=>e(ce).isWork?"bg-[#808593]":e(ce).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),y(Ne,(S(e(ce)),i(()=>e(ce).matchDate))),y(Ve,(S(e(ce)),i(()=>e(ce).startTimeDisplay)))}),b(Te,De)}),o(Ue),F(()=>{y(Fe,e(Le)),y(je,`(${S(e(He)),i(()=>e(He).length)??""} match${S(e(He)),i(()=>e(He).length!==1?"es":"")??""})`)}),b(We,Ue)}),b(pe,Me)};E(me,pe=>{e(v),i(()=>e(v).length===0)?pe(Q):pe(H,!1)})}o(Se),o(ee),b(L,ee)},K=L=>{var ee=oc(),Se=c(s(ee),2);{var me=H=>{var pe=Vi();b(H,pe)},Q=H=>{var pe=ac(),Me=dt(pe);{var Ae=Ue=>{var V=zi(),ie=c(s(V),2);ie.__change=Ye=>x(D,Number(Ye.target.value)),st(ie,5,()=>e(d),nt,(Ye,je)=>{var Re=Gi(),Te=s(Re,!0);o(Re);var Ge={};F(()=>{y(Te,(e(je),i(()=>e(je).CompleteFullName||e(je).FullName||`Pool ${e(je).PlayId}`))),Ge!==(Ge=(e(je),i(()=>e(je).PlayId)))&&(Re.value=(Re.__value=(e(je),i(()=>e(je).PlayId)))??"")}),b(Ye,Re)}),o(ie);var Fe;jr(ie),o(V),F(()=>{Fe!==(Fe=e(D)||"")&&(ie.value=(ie.__value=e(D)||"")??"",Er(ie,e(D)||""))}),b(Ue,V)};E(Me,Ue=>{e(d),i(()=>e(d).length>1)&&Ue(Ae)})}var We=c(Me,2);{var Le=Ue=>{var V=tc(),ie=s(V);{var Fe=Re=>{var Te=Xi(),Ge=s(Te),ce=s(Ge),De=s(ce);o(ce),o(Ge);var qe=c(Ge,2),tt=s(qe),Ne=c(s(tt));st(Ne,5,()=>(e(C),i(()=>e(C).Pool.Teams)),nt,(Je,Ve)=>{const pt=Z(()=>(e(Ve),i(()=>{var gt;return(gt=e(Ve).TeamText)==null?void 0:gt.includes("630")})));var rt=qi(),lt=s(rt),ft=s(lt,!0);o(lt);var kt=c(lt),bt=s(kt),Be=s(bt,!0);o(bt),o(kt);var ct=c(kt),vt=s(ct,!0);o(ct);var be=c(ct),Ie=s(be,!0);o(be);var ye=c(be),Ze=s(ye);o(ye);var et=c(ye),ot=s(et,!0);o(et),o(rt),F(()=>{Oe(rt,1,`border-b border-[#454654] ${e(pt)?"bg-[#eab308]/10":""}`),y(ft,(e(Ve),i(()=>e(Ve).FinishRank||e(Ve).OverallRank||"-"))),Oe(bt,1,e(pt)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),y(Be,(e(Ve),i(()=>e(Ve).TeamText))),y(vt,(e(Ve),i(()=>e(Ve).MatchesWon??"-"))),y(Ie,(e(Ve),i(()=>e(Ve).MatchesLost??"-"))),y(Ze,`${e(Ve),i(()=>e(Ve).SetsWon??"-")??""}-${e(Ve),i(()=>e(Ve).SetsLost??"-")??""}`),y(ot,(e(Ve),i(()=>e(Ve).PointRatio&&e(Ve).PointRatio!=="NaN"?e(Ve).PointRatio:"-")))}),b(Je,rt)}),o(Ne),o(tt),o(qe),o(Te),F(()=>y(De,`${e(C),i(()=>e(C).Pool.CompleteFullName||e(C).Pool.FullName)??""} - Standings`)),b(Re,Te)};E(ie,Re=>{e(C),i(()=>e(C).Pool&&e(C).Pool.Teams&&e(C).Pool.Teams.length>0)&&Re(Fe)})}var Ye=c(ie,2);{var je=Re=>{var Te=ec(),Ge=c(s(Te),2);st(Ge,5,()=>(e(C),i(()=>e(C).Pool.Matches)),nt,(ce,De)=>{const qe=Z(()=>(e(De),i(()=>typeof e(De).ScheduledStartDateTime=="string"?new Date(e(De).ScheduledStartDateTime).getTime():e(De).ScheduledStartDateTime))),tt=Z(()=>(e(De),i(()=>{var Be,ct;return((Be=e(De).FirstTeamText)==null?void 0:Be.includes("630"))||((ct=e(De).SecondTeamText)==null?void 0:ct.includes("630"))})));var Ne=Zi(),Je=s(Ne),Ve=s(Je,!0);o(Je);var pt=c(Je,2);{var rt=Be=>{var ct=Qi(),vt=s(ct,!0);o(ct),F(()=>y(vt,(e(De),i(()=>e(De).Court.Name)))),b(Be,ct)};E(pt,Be=>{e(De),i(()=>e(De).Court)&&Be(rt)})}var lt=c(pt,2),ft=s(lt),kt=c(ft);{var bt=Be=>{var ct=Ki(),vt=c(dt(ct));F(()=>y(vt,` ${e(De),i(()=>e(De).SecondTeamText)??""}`)),b(Be,ct)};E(kt,Be=>{e(De),i(()=>e(De).SecondTeamText)&&Be(bt)})}o(lt),o(Ne),F(Be=>{Oe(Ne,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(tt)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),y(Ve,Be),y(ft,`${e(De),i(()=>e(De).FirstTeamText)??""} `)},[()=>(S(Ke),S(e(qe)),i(()=>Ke(e(qe))))]),b(ce,Ne)}),o(Ge),o(Te),b(Re,Te)};E(Ye,Re=>{e(C),i(()=>e(C).Pool&&e(C).Pool.Matches&&e(C).Pool.Matches.length>0)&&Re(je)})}o(V),b(Ue,V)},He=Ue=>{var V=Ot(),ie=dt(V);{var Fe=Ye=>{var je=rc();b(Ye,je)};E(ie,Ye=>{e(D)&&Ye(Fe)},!0)}b(Ue,V)};E(We,Ue=>{e(D)&&e(C)?Ue(Le):Ue(He,!1)})}b(H,pe)};E(Se,H=>{e(d),i(()=>e(d).length===0)?H(me):H(Q,!1)})}o(ee),b(L,ee)};E(ue,L=>{e(I)==="schedule"?L(P):L(K,!1)},!0)}b(N,J)};E(M,N=>{e(I)==="stats"&&fe?N(j):N(A,!1)})}o(q),F(()=>{Oe(we,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(U,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(oe,q)};E(_e,oe=>{!e(W)&&e(k)&&oe(G)})}o(ge),o(se),F(()=>y(ve,`${e(k),i(()=>{var oe;return((oe=e(k))==null?void 0:oe.TeamText)||ne})??""} - Full Schedule`)),b(n,se),Ft()}Vt(["click","change"]);var ic=T("<button><span> </span> <span> </span></button>"),cc=T('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function Qo(n,r){At(r,!1);let t=Ee(r,"matchId",8),a=Ee(r,"currentPriority",8),d=Ee(r,"onPriorityChange",8),l=Ee(r,"onClose",8,void 0),v=O(null);const u=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function h(p){d()(t(),p),l()&&l()()}Rt();var w=cc(),g=c(s(w),2);st(g,5,()=>u,nt,(p,k)=>{const $=Z(()=>(S(a()),e(k),i(()=>a()===e(k).value))),m=Z(()=>(e(v),e(k),i(()=>e(v)===e(k).value)));var f=ic();f.__click=()=>h(e(k).value);var _=s(f),D=s(_,!0);o(_);var C=c(_,2),I=s(C,!0);o(C),o(f),F(()=>{Oe(f,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e($)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(m)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),y(D,(e(k),i(()=>e(k).icon))),y(I,(e(k),i(()=>e(k).label)))}),Dr("mouseenter",f,()=>x(v,e(k).value)),Dr("mouseleave",f,()=>x(v,null)),b(p,f)}),o(g),o(w),b(n,w),Ft()}Vt(["click"]);var dc=T("<button><span> </span> <span> </span></button>"),lc=T('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function so(n,r){At(r,!1);let t=Ee(r,"teamId",8),a=Ee(r,"currentStatus",8),d=Ee(r,"onStatusChange",8),l=Ee(r,"onClose",8,void 0),v=O(null);const u=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function h($){d()(t(),$),l()&&l()()}Rt();var w=lc(),g=c(s(w),2),p=s(g);o(g);var k=c(g,2);st(k,5,()=>u,nt,($,m)=>{const f=Z(()=>(S(a()),e(m),i(()=>a()===e(m).value))),_=Z(()=>(e(v),e(m),i(()=>e(v)===e(m).value)));var D=dc();D.__click=()=>h(e(m).value);var C=s(D),I=s(C,!0);o(C);var W=c(C,2),te=s(W,!0);o(W),o(D),F(()=>{Oe(D,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${S(e(f)),e(m),S(e(_)),i(()=>e(f)?e(m).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(m).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(m).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(_)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),y(I,(e(m),i(()=>e(m).icon))),y(te,(e(m),i(()=>e(m).label)))}),Dr("mouseenter",D,()=>x(v,e(m).value)),Dr("mouseleave",D,()=>x(v,null)),b($,D)}),o(k),o(w),F(()=>y(p,`Team ${t()??""}`)),b(n,w),Ft()}Vt(["click"]);var vc=T('<div class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#9fa2ab] border border-[#525463]"> </div>'),uc=T('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-md w-full p-4"><h3 class="text-lg font-semibold text-[#f8f8f9] mb-3">Transfer Claim</h3> <p class="text-sm text-[#9fa2ab] mb-4">Enter the name or identifier of the person who will take over scoring for this match.</p> <input type="text" placeholder="Enter scorer name or ID..." class="w-full px-3 py-2 bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none mb-4"/> <div class="flex items-center gap-2"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div></div>'),fc=T('<div class="flex items-center gap-1"><button class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Release claim">Release</button> <button class="px-2 py-1 text-xs font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors border border-[#525463]" title="Transfer claim to another scorer">Transfer</button></div> <!>',1),mc=T('<button class="px-2 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors" title="Claim this match for scoring">Claim Match</button>');function xc(n,r){At(r,!1);const t=O(),a=O(),d=O();let l=Ee(r,"match",8),v=Ee(r,"eventId",8),u=Ee(r,"onClaim",8),h=Ee(r,"onRelease",8);const w=ca(v());let g=O(!1),p=O("");function k(){e(t)==="available"?(w.claimMatch(l().MatchId,l().ScheduledEndDateTime),setTimeout(()=>{u()(l().MatchId)},100)):e(d)&&(w.releaseClaim(l().MatchId),h()())}function $(){e(p).trim()&&w.transferClaim(l().MatchId,e(p).trim())&&(x(g,!1),x(p,""),h()())}xe(()=>S(l()),()=>{x(t,w.getClaimStatus(l().MatchId))}),xe(()=>S(l()),()=>{x(a,w.getClaimer(l().MatchId))}),xe(()=>S(l()),()=>{x(d,w.isClaimOwner(l().MatchId))}),Bt(),Rt();var m=Ot(),f=dt(m);{var _=C=>{var I=vc(),W=s(I);o(I),F(()=>y(W,`Claimed by ${e(a)??""}`)),b(C,I)},D=C=>{var I=Ot(),W=dt(I);{var te=fe=>{var ne=fc(),X=dt(ne),se=s(X);se.__click=k;var ge=c(se,2);ge.__click=()=>x(g,!0),o(X);var B=c(X,2);{var de=ve=>{var re=uc(),le=s(re),Y=c(s(le),4);Yr(Y),Br(Y),Y.__keydown=G=>{G.key==="Enter"?$():G.key==="Escape"&&(x(g,!1),x(p,""))};var he=c(Y,2),Ce=s(he);Ce.__click=$;var _e=c(Ce,2);_e.__click=()=>{x(g,!1),x(p,"")},o(he),o(le),o(re),F(G=>Ce.disabled=G,[()=>(e(p),i(()=>!e(p).trim()))]),fr(Y,()=>e(p),G=>x(p,G)),b(ve,re)};E(B,ve=>{e(g)&&ve(de)})}b(fe,ne)},R=fe=>{var ne=Ot(),X=dt(ne);{var se=ge=>{var B=mc();B.__click=k,b(ge,B)};E(X,ge=>{e(t)==="available"&&ge(se)},!0)}b(fe,ne)};E(W,fe=>{e(t)==="claimed"&&e(d)?fe(te):fe(R,!1)},!0)}b(C,I)};E(f,C=>{e(t)==="locked"?C(_):C(D,!1)})}b(n,m),Ft()}Vt(["click","keydown"]);var bc=T('<div class="text-center py-8 text-[#9fa2ab] text-sm">No score history available</div>'),gc=T('<div class="text-[#c0c2c8] mb-1"> </div>'),pc=T('<div class="px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="flex items-center justify-between mb-1"><div class="text-[#9fa2ab]"> </div> <div> </div></div> <!> <div class="text-[#f8f8f9] font-semibold"> </div> <div class="text-[10px] text-[#808593] mt-1"> </div></div>'),hc=T('<div class="space-y-2"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-3">Score History</h3> <div class="space-y-2 max-h-64 overflow-y-auto"></div></div>');function _c(n,r){At(r,!1);let t=Ee(r,"matchId",8),a=O([]),d=null;function l(){x(a,yi(t()))}na(()=>{l(),d=setInterval(l,5e3)}),Sa(()=>{d&&clearInterval(d)}),Rt();var v=Ot(),u=dt(v);{var h=g=>{var p=bc();b(g,p)},w=g=>{var p=hc(),k=c(s(p),2);st(k,5,()=>(e(a),i(()=>e(a).slice().reverse())),nt,($,m)=>{const f=Z(()=>(e(m),i(()=>e(m).sets.filter(re=>re.completedAt>0)))),_=Z(()=>(S(e(f)),i(()=>e(f).filter(re=>re.team1Score>re.team2Score).length))),D=Z(()=>(S(e(f)),i(()=>e(f).filter(re=>re.team2Score>re.team1Score).length))),C=Z(()=>(e(m),i(()=>e(m).sets.find(re=>re.completedAt===0)||e(m).sets[e(m).sets.length-1])));var I=pc(),W=s(I),te=s(W),R=s(te,!0);o(te);var fe=c(te,2),ne=s(fe,!0);o(fe),o(W);var X=c(W,2);{var se=re=>{var le=gc(),Y=s(le);o(le),F(()=>y(Y,`Sets: ${e(_)??""}-${e(D)??""}`)),b(re,le)};E(X,re=>{S(e(f)),i(()=>e(f).length>0)&&re(se)})}var ge=c(X,2),B=s(ge);o(ge);var de=c(ge,2),ve=s(de);o(de),o(I),F(re=>{y(R,re),Oe(fe,1,`px-2 py-0.5 rounded text-[10px] font-medium ${e(m),i(()=>e(m).status==="completed"?"bg-green-500/20 text-green-400":e(m).status==="in-progress"?"bg-[#eab308]/20 text-[#facc15]":"bg-[#454654] text-[#9fa2ab]")??""}`),y(ne,(e(m),i(()=>e(m).status))),y(B,`Current: ${S(e(C)),i(()=>e(C).team1Score)??""}-${S(e(C)),i(()=>e(C).team2Score)??""}`),y(ve,`Updated by ${e(m),i(()=>e(m).updatedBy)??""}`)},[()=>(e(m),i(()=>new Date(e(m).timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})))]),b($,I)}),o(k),o(p),b(g,p)};E(u,g=>{e(a),i(()=>e(a).length===0)?g(h):g(w,!1)})}b(n,v),Ft()}var Sc=T('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Start Match</button>'),yc=T('<div class="px-4 py-2 rounded-lg border border-yellow-500/50 bg-yellow-500/10 text-yellow-400 text-sm"> </div>'),wc=T('<button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors">Add Set</button>'),Tc=T('<div class="bg-[#454654] rounded-lg border border-[#525463] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2"> </div> <div class="grid grid-cols-2 gap-4"><div class="text-center"><div class="text-xs text-[#9fa2ab] mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">â</button> <div class="text-3xl font-bold text-[#f8f8f9] w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">+</button></div></div> <div class="text-center"><div class="text-xs text-[#9fa2ab] mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">â</button> <div class="text-3xl font-bold text-[#f8f8f9] w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">+</button></div></div></div> <div class="flex gap-2 mt-4"><button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors">Complete Set</button> <!></div></div>'),Mc=T('<div class="flex items-center justify-between px-3 py-2 bg-[#454654] rounded border border-[#525463]"><span class="text-sm text-[#9fa2ab]"> </span> <div class="flex items-center gap-4"><span class="text-sm font-medium text-[#f8f8f9]"> </span> <span class="text-sm text-[#9fa2ab]">vs</span> <span class="text-sm font-medium text-[#f8f8f9]"> </span></div></div>'),Cc=T('<div><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Completed Sets</div> <div class="space-y-2"></div></div>'),kc=T('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Complete Match</button>'),$c=T('<div class="text-xs text-[#9fa2ab] text-center"> </div>'),Ic=T('<div class="border-t border-[#454654] pt-4"><!></div>'),Dc=T('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="sticky top-0 bg-[#3b3c48] border-b border-[#454654] px-4 py-3 flex items-center justify-between"><div><h2 class="text-lg font-semibold text-[#f8f8f9]">Scorekeeper</h2> <p class="text-sm text-[#9fa2ab]"> </p></div> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close scorekeeper">â</button></div> <div class="p-4 space-y-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Status:</span> <select class="px-3 py-1 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Not Started</option><option>In Progress</option><option>Completed</option></select></div> <!> <!> <!> <!> <!> <button> </button> <!> <!></div></div></div>');function Ko(n,r){var Se,me;At(r,!1);const t=O(),a=O();let d=Ee(r,"matchId",8),l=Ee(r,"team1Name",8),v=Ee(r,"team2Name",8),u=Ee(r,"currentScore",8),h=Ee(r,"onScoreUpdate",8),w=Ee(r,"onClose",8);const g=0,p=50,k=25,$=2;function m(Q,H){if(Q<g||Q>p)return{valid:!1,warning:`Score must be between ${g} and ${p}`};if(H<g||H>p)return{valid:!1,warning:`Score must be between ${g} and ${p}`};const pe=Math.max(Q,H),Me=Math.min(Q,H);if(pe>=k){if(pe-Me<$)return{valid:!0,warning:`Set requires winning by at least ${$} points. Current: ${pe-Me}`};if(pe>k+5)return{valid:!0,warning:`High score (${pe}). Verify this is correct.`}}return{valid:!0}}let f=O(((Se=u())==null?void 0:Se.sets)||[]),_=O(((me=u())==null?void 0:me.status)||"not-started"),D=O(null),C=O(!1),I=null;function W(){const Q="in-progress";x(_,Q),e(f).length===0&&x(f,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}]),x(C,!0),h()(e(f),Q),setTimeout(()=>x(C,!1),500)}function te(){const Q=e(f).length+1;x(f,[...e(f),{setNumber:Q,team1Score:0,team2Score:0,completedAt:0}])}function R(Q,H,pe){const Me=m(H,pe);x(D,Me.warning||null),Me.valid&&(x(f,e(f).map(Ae=>Ae.setNumber===Q?{...Ae,team1Score:H,team2Score:pe}:Ae)),e(_)==="in-progress"&&(I&&clearTimeout(I),I=setTimeout(()=>{x(C,!0),h()(e(f),e(_)),setTimeout(()=>x(C,!1),300)},1e3)))}function fe(Q){x(f,e(f).map(H=>H.setNumber===Q?{...H,completedAt:Date.now()}:H)),e(_)==="in-progress"&&(x(C,!0),h()(e(f),e(_)),setTimeout(()=>x(C,!1),500))}function ne(){x(_,"completed"),h()(e(f),"completed")}function X(){x(C,!0),h()(e(f),e(_)),setTimeout(()=>x(C,!1),500)}Sa(()=>{I&&clearTimeout(I)}),xe(()=>(e(f),e(_)),()=>{e(f).length===0&&e(_)==="not-started"&&x(f,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}])}),xe(()=>e(f),()=>{x(t,e(f).find(Q=>Q.completedAt===0)||e(f)[e(f).length-1])}),xe(()=>e(f),()=>{x(a,e(f).filter(Q=>Q.completedAt>0))}),Bt(),Rt();var se=Dc(),ge=s(se),B=s(ge),de=s(B),ve=c(s(de),2),re=s(ve);o(ve),o(de);var le=c(de,2);le.__click=function(...Q){var H;(H=w())==null||H.apply(this,Q)},o(B);var Y=c(B,2),he=s(Y),Ce=c(s(he),2);F(()=>{e(_),to(()=>{})});var _e=s(Ce);_e.value=_e.__value="not-started";var G=c(_e);G.value=G.__value="in-progress";var oe=c(G);oe.value=oe.__value="completed",o(Ce),o(he);var q=c(he,2);{var ke=Q=>{var H=Sc();H.__click=W,b(Q,H)};E(q,Q=>{e(_)==="not-started"&&Q(ke)})}var we=c(q,2);{var U=Q=>{var H=yc(),pe=s(H);o(H),F(()=>y(pe,`â ï¸ ${e(D)??""}`)),b(Q,H)};E(we,Q=>{e(D)&&Q(U)})}var z=c(we,2);{var ae=Q=>{var H=Tc(),pe=s(H),Me=s(pe);o(pe);var Ae=c(pe,2),We=s(Ae),Le=s(We),He=s(Le,!0);o(Le);var Ue=c(Le,2),V=s(Ue);V.__click=()=>{const rt=Math.max(0,e(t).team1Score-1);R(e(t).setNumber,rt,e(t).team2Score)};var ie=c(V,2),Fe=s(ie,!0);o(ie);var Ye=c(ie,2);Ye.__click=()=>{const rt=e(t).team1Score+1;R(e(t).setNumber,rt,e(t).team2Score)},o(Ue),o(We);var je=c(We,2),Re=s(je),Te=s(Re,!0);o(Re);var Ge=c(Re,2),ce=s(Ge);ce.__click=()=>{const rt=Math.max(0,e(t).team2Score-1);R(e(t).setNumber,e(t).team1Score,rt)};var De=c(ce,2),qe=s(De,!0);o(De);var tt=c(De,2);tt.__click=()=>{const rt=e(t).team2Score+1;R(e(t).setNumber,e(t).team1Score,rt)},o(Ge),o(je),o(Ae);var Ne=c(Ae,2),Je=s(Ne);Je.__click=()=>fe(e(t).setNumber);var Ve=c(Je,2);{var pt=rt=>{var lt=wc();lt.__click=te,b(rt,lt)};E(Ve,rt=>{e(f),i(()=>e(f).length<5)&&rt(pt)})}o(Ne),o(H),F(()=>{y(Me,`Set ${e(t),i(()=>e(t).setNumber)??""}`),y(He,l()),y(Fe,(e(t),i(()=>e(t).team1Score))),y(Te,v()),y(qe,(e(t),i(()=>e(t).team2Score)))}),b(Q,H)};E(z,Q=>{e(_)==="in-progress"&&e(t)&&Q(ae)})}var M=c(z,2);{var j=Q=>{var H=Cc(),pe=c(s(H),2);st(pe,5,()=>e(a),nt,(Me,Ae)=>{var We=Mc(),Le=s(We),He=s(Le);o(Le);var Ue=c(Le,2),V=s(Ue),ie=s(V);o(V);var Fe=c(V,4),Ye=s(Fe);o(Fe),o(Ue),o(We),F(()=>{y(He,`Set ${e(Ae),i(()=>e(Ae).setNumber)??""}`),y(ie,`${l()??""}: ${e(Ae),i(()=>e(Ae).team1Score)??""}`),y(Ye,`${v()??""}: ${e(Ae),i(()=>e(Ae).team2Score)??""}`)}),b(Me,We)}),o(pe),o(H),b(Q,H)};E(M,Q=>{e(a),i(()=>e(a).length>0)&&Q(j)})}var A=c(M,2);{var N=Q=>{var H=kc();H.__click=ne,b(Q,H)};E(A,Q=>{e(_),e(a),i(()=>e(_)==="in-progress"&&e(a).length>0)&&Q(N)})}var J=c(A,2);J.__click=X;var ue=s(J,!0);o(J);var P=c(J,2);{var K=Q=>{var H=$c(),pe=s(H,!0);o(H),F(()=>y(pe,e(C)?"ð¾ Saving...":"â Auto-save enabled")),b(Q,H)};E(P,Q=>{e(_)==="in-progress"&&Q(K)})}var L=c(P,2);{var ee=Q=>{var H=Ic(),pe=s(H);_c(pe,{get matchId(){return d()}}),o(H),b(Q,H)};E(L,Q=>{u()&&Q(ee)})}o(Y),o(ge),o(se),F(()=>{y(re,`${l()??""} vs ${v()??""}`),J.disabled=e(C),Oe(J,1,`w-full px-4 py-2 text-sm font-medium rounded transition-colors border ${e(C)?"bg-[#525463] text-[#9fa2ab] cursor-not-allowed":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border-[#525463]"}`),y(ue,e(C)?"Saving...":"Save Score")}),ro(Ce,()=>e(_),Q=>x(_,Q)),b(n,se),Ft()}Vt(["click"]);var Ec=T('<span class="text-[9px] text-[#9fa2ab] opacity-75"> </span>'),Nc=T("<div><span>LIVE</span> <!></div>");function _a(n,r){At(r,!1);let t=Ee(r,"isLive",8),a=Ee(r,"lastUpdated",8,void 0),d=Ee(r,"className",8,""),l=O(!1),v=O(null);Sa(()=>{e(v)&&clearTimeout(e(v))}),xe(()=>(S(a()),e(v)),()=>{a()&&(x(l,!0),e(v)&&clearTimeout(e(v)),x(v,setTimeout(()=>{x(l,!1)},2e3)))}),Bt(),Rt();var u=Ot(),h=dt(u);{var w=g=>{var p=Nc(),k=s(p),$=c(k,2);{var m=f=>{var _=Ec(),D=s(_,!0);o(_),F(C=>y(D,C),[()=>(S(a()),i(()=>new Date(a()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))]),b(f,_)};E($,f=>{a()&&f(m)})}o(p),F(()=>{Oe(p,1,`flex items-center gap-1 ${d()??""}`),Oe(k,1,`px-1.5 py-0.5 text-[10px] font-medium rounded border transition-all ${e(l)?"bg-green-500/30 text-green-300 border-green-500/50 animate-pulse":"bg-green-500/20 text-green-400 border-green-500/30"}`)}),b(g,p)};E(h,g=>{t()&&g(w)})}b(n,u),Ft()}var Pc=T("<button></button>"),Oc=T('<button class="text-[#9fa2ab] hover:text-[#f8f8f9] text-xs" title="Move up">â</button>'),Ac=T('<button class="text-[#eab308] hover:text-[#facc15] text-xs" title="Pinned">ð</button>'),Fc=T('<button class="text-[#9fa2ab] hover:text-[#f8f8f9] text-xs" title="Move down">â</button>'),Rc=T('<div class="flex items-center gap-2 px-3 py-2 rounded bg-[#454654] border border-[#525463]"><div class="flex-shrink-0 flex items-center gap-1"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9] truncate"> </div></div> <div class="flex-shrink-0 flex flex-col gap-0.5"><!> <!> <!></div> <button class="flex-shrink-0 text-[#9fa2ab] hover:text-red-400 transition-colors" title="Unfollow">â</button></div>'),jc=T('<div class="mb-4 space-y-2"></div>'),Lc=T('<button class="w-full px-3 py-2 text-left text-sm text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654] rounded transition-colors"> </button>'),Uc=T('<div class="fixed inset-0 z-40"></div> <div class="absolute top-full left-0 mt-2 w-80 bg-[#3b3c48] border border-[#454654] rounded-lg shadow-lg z-50 max-h-[500px] overflow-y-auto"><div class="p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Followed Teams</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <!> <div class="border-t border-[#454654] pt-3"><h4 class="text-xs font-medium text-[#9fa2ab] mb-2 uppercase tracking-wider">Available Teams</h4> <div class="space-y-1 max-h-48 overflow-y-auto"></div></div></div></div>',1),Wc=T('<div class="relative"><button class="px-3 py-2 text-sm font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463] hover:border-[#eab308] transition-colors"> </button> <!></div>');function Bc(n,r){At(r,!1);const t=()=>lr(Ut,"$followedTeams",a),[a,d]=Ta(),l=O();let v=Ee(r,"matches",8),u=O(!1);const h=["#eab308","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function w(_,D){Ut.isFollowing(_)?Ut.unfollowTeam(_):Ut.followTeam(_,D)}function g(_,D){Ut.setTeamColor(_,D)}xe(()=>S(v()),()=>{x(l,(()=>{const _=new Map;return v().forEach(D=>{const C=D.FirstTeamText||D.SecondTeamText;C&&!_.has(C)&&_.set(C,C)}),Array.from(_.entries()).map(([D,C])=>({id:D,name:C}))})())}),Bt(),Rt();var p=Wc(),k=s(p);k.__click=()=>x(u,!e(u));var $=s(k);o(k);var m=c(k,2);{var f=_=>{var D=Uc(),C=dt(D);C.__click=()=>x(u,!1);var I=c(C,2),W=s(I),te=s(W),R=c(s(te),2);R.__click=()=>x(u,!1),o(te);var fe=c(te,2);{var ne=ge=>{var B=jc();st(B,5,()=>(t(),i(()=>t().followedTeams)),nt,(de,ve,re)=>{var le=Rc(),Y=s(le);st(Y,5,()=>h,nt,(M,j)=>{var A=Pc();A.__click=()=>g(e(ve).teamId,e(j)),F(N=>{Oe(A,1,`w-4 h-4 rounded border-2 transition-all ${N??""}`),Jt(A,`background-color: ${e(j)??""}`),Wt(A,"title",e(j))},[()=>(t(),e(ve),e(j),i(()=>t().getTeamColor(e(ve).teamId)===e(j)?"border-white scale-110":"border-[#525463] hover:border-[#9fa2ab]"))]),b(M,A)}),o(Y);var he=c(Y,2),Ce=s(he),_e=s(Ce,!0);o(Ce),o(he);var G=c(he,2),oe=s(G);{var q=M=>{var j=Oc();j.__click=()=>Ut.reorderTeams(e(ve).teamId,"up"),b(M,j)};E(oe,M=>{re>0&&M(q)})}var ke=c(oe,2);{var we=M=>{var j=Ac();j.__click=()=>Ut.reorderTeams(e(ve).teamId,"top"),b(M,j)};E(ke,M=>{re===0&&M(we)})}var U=c(ke,2);{var z=M=>{var j=Fc();j.__click=()=>Ut.reorderTeams(e(ve).teamId,"down"),b(M,j)};E(U,M=>{t(),i(()=>re<t().followedTeams.length-1)&&M(z)})}o(G);var ae=c(G,2);ae.__click=()=>w(e(ve).teamId,e(ve).teamName),o(le),F(()=>y(_e,(e(ve),i(()=>e(ve).teamName)))),b(de,le)}),o(B),b(ge,B)};E(fe,ge=>{t(),i(()=>t().followedTeams.length>0)&&ge(ne)})}var X=c(fe,2),se=c(s(X),2);st(se,5,()=>(e(l),S(Ut),i(()=>e(l).filter(ge=>!Ut.isFollowing(ge.id)))),nt,(ge,B)=>{var de=Lc();de.__click=()=>w(e(B).id,e(B).name);var ve=s(de);o(de),F(()=>y(ve,`+ ${e(B),i(()=>e(B).name)??""}`)),b(ge,de)}),o(se),o(X),o(W),o(I),b(_,D)};E(m,_=>{e(u)&&_(f)})}o(p),F(()=>y($,`My Teams (${t(),i(()=>t().followedTeams.length)??""})`)),b(n,p),Ft(),d()}Vt(["click"]);var Hc=T('<div class="text-xs text-[#9fa2ab]"> </div>'),Yc=T('<div class="mt-3 pt-3 border-t border-[#525463]"><div class="flex items-center justify-between"><!> <div class="text-lg font-bold text-[#facc15]"> </div></div></div>'),Jc=T('<div class="px-4 py-3 rounded-lg border border-[#525463] bg-[#454654] hover:border-[#eab308] transition-colors cursor-pointer"><div class="flex items-center justify-between mb-2"><div class="flex items-center gap-2"><span class="text-xs font-medium text-[#facc15]"> </span> <!></div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="space-y-1"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]">vs</div> <div class="text-sm font-semibold text-[#f8f8f9]"> </div></div> <!></div>'),Vc=T('<div class="mb-6 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-[#f8f8f9] flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> Live Now</h2> <span class="text-xs text-[#9fa2ab]"> </span></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div></div>');function Gc(n,r){At(r,!1);const t=O();let a=Ee(r,"matches",8),d=Ee(r,"eventId",8),l=Ee(r,"userId",8,void 0),v=Ee(r,"onMatchClick",8,void 0);const u=ca(d(),l()||"anonymous");xe(()=>S(a()),()=>{x(t,(()=>{const p=Date.now();return a().filter(k=>{const $=k.ScheduledStartDateTime,m=k.ScheduledEndDateTime||$+5400*1e3,f=u.getScore(k.MatchId);return f&&f.status==="in-progress"||p>=$&&p<=m})})())}),Bt(),Rt();var h=Ot(),w=dt(h);{var g=p=>{var k=Vc(),$=s(k),m=c(s($),2),f=s(m);o(m),o($);var _=c($,2);st(_,5,()=>e(t),nt,(D,C)=>{const I=Z(()=>(e(C),i(()=>u.getScore(e(C).MatchId)))),W=Z(()=>(S(e(I)),i(()=>{var q,ke,we;return((q=e(I))==null?void 0:q.sets.find(U=>U.completedAt===0))||((we=e(I))==null?void 0:we.sets[((ke=e(I))==null?void 0:ke.sets.length)-1])}))),te=Z(()=>(S(e(I)),i(()=>{var q;return((q=e(I))==null?void 0:q.sets.filter(ke=>ke.completedAt>0))||[]}))),R=Z(()=>(S(e(te)),i(()=>e(te).filter(q=>q.team1Score>q.team2Score).length))),fe=Z(()=>(S(e(te)),i(()=>e(te).filter(q=>q.team2Score>q.team1Score).length)));var ne=Jc();ne.__click=()=>{var q;return(q=v())==null?void 0:q(e(C))};var X=s(ne),se=s(X),ge=s(se),B=s(ge,!0);o(ge);var de=c(ge,2);{let q=Z(()=>(S(e(I)),i(()=>{var we;return((we=e(I))==null?void 0:we.status)==="in-progress"||!1}))),ke=Z(()=>(S(e(I)),i(()=>{var we;return(we=e(I))==null?void 0:we.lastUpdated})));_a(de,{get isLive(){return e(q)},get lastUpdated(){return e(ke)}})}o(se);var ve=c(se,2),re=s(ve,!0);o(ve),o(X);var le=c(X,2),Y=s(le),he=s(Y,!0);o(Y);var Ce=c(Y,4),_e=s(Ce,!0);o(Ce),o(le);var G=c(le,2);{var oe=q=>{var ke=Yc(),we=s(ke),U=s(we);{var z=j=>{var A=Hc(),N=s(A);o(A),F(()=>y(N,`Sets: ${e(R)??""}-${e(fe)??""}`)),b(j,A)};E(U,j=>{S(e(te)),i(()=>e(te).length>0)&&j(z)})}var ae=c(U,2),M=s(ae);o(ae),o(we),o(ke),F(()=>y(M,`${S(e(W)),i(()=>e(W).team1Score)??""}-${S(e(W)),i(()=>e(W).team2Score)??""}`)),b(q,ke)};E(G,q=>{S(e(I)),S(e(W)),i(()=>e(I)&&e(I).status!=="not-started"&&e(W))&&q(oe)})}o(ne),F(q=>{y(B,(e(C),i(()=>e(C).CourtName))),y(re,q),y(he,(e(C),i(()=>e(C).FirstTeamText))),y(_e,(e(C),i(()=>e(C).SecondTeamText)))},[()=>(S(Ke),e(C),i(()=>Ke(e(C).ScheduledStartDateTime)))]),b(D,ne)}),o(_),o(k),F(()=>y(f,`${e(t),i(()=>e(t).length)??""} match${e(t),i(()=>e(t).length!==1?"es":"")??""} in progress`)),b(p,k)};E(w,p=>{e(t),i(()=>e(t).length>0)&&p(g)})}b(n,h),Ft()}Vt(["click"]);var zc=T('<select class="px-2 py-1 text-xs rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>This Match</option><option>All Matches</option></select>'),qc=T('<div class="text-center py-12 text-[#9fa2ab] text-sm">No claim history found</div>'),Xc=T('<div class="text-sm font-semibold text-[#f8f8f9]"> </div>'),Qc=T('<div class="px-3 py-2 rounded-lg border border-[#454654] bg-[#454654]/30"><div class="flex items-start justify-between mb-1"><div class="flex-1"><!> <div class="text-xs text-[#9fa2ab] mt-0.5"> </div></div> <div> </div></div> <div class="flex items-center justify-between mt-2 text-xs text-[#808593]"><span> </span> <span> </span></div></div>'),Kc=T('<div class="space-y-2"></div>'),Zc=T('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-[#454654] bg-[#454654]/50"><div><h3 class="text-lg font-semibold text-[#f8f8f9]">Claim History</h3> <p class="text-xs text-[#9fa2ab] mt-0.5"> </p></div> <div class="flex items-center gap-2"><!> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div class="flex-1 overflow-y-auto p-4"><!></div></div></div>');function ed(n,r){At(r,!1);let t=Ee(r,"matchId",8,void 0),a=Ee(r,"eventId",8),d=Ee(r,"matches",8),l=Ee(r,"onClose",8),v=O([]),u=O("match");function h(B){return d().find(de=>de.MatchId===B)}function w(B){return`${Yt(B)} ${Ke(B)}`}function g(B){switch(B.action){case"claimed":return"Claimed";case"released":return"Released";case"transferred":return`Transferred to ${B.transferredTo}`;default:return B.action}}function p(B){switch(B){case"claimed":return"text-[#eab308]";case"released":return"text-[#9fa2ab]";case"transferred":return"text-[#facc15]";default:return"text-[#c0c2c8]"}}xe(()=>(e(u),S(t()),S(a()),Mo),()=>{e(u)==="match"&&t()?x(v,Mi(t(),a())):x(v,Mo(a()))}),Bt(),Rt();var k=Zc(),$=s(k),m=s($),f=s(m),_=c(s(f),2),D=s(_,!0);o(_),o(f);var C=c(f,2),I=s(C);{var W=B=>{var de=zc();F(()=>{e(u),to(()=>{})});var ve=s(de);ve.value=ve.__value="match";var re=c(ve);re.value=re.__value="all",o(de),ro(de,()=>e(u),le=>x(u,le)),b(B,de)};E(I,B=>{t()&&B(W)})}var te=c(I,2);te.__click=function(...B){var de;(de=l())==null||de.apply(this,B)};var R=s(te),fe=s(R);Wt(fe,"stroke-width",2),o(R),o(te),o(C),o(m);var ne=c(m,2),X=s(ne);{var se=B=>{var de=qc();b(B,de)},ge=B=>{var de=Kc();st(de,5,()=>e(v),nt,(ve,re)=>{const le=Z(()=>(e(re),i(()=>h(e(re).matchId))));var Y=Qc(),he=s(Y),Ce=s(he),_e=s(Ce);{var G=A=>{var N=Xc(),J=s(N);o(N),F(ue=>y(J,`${ue??""} â¢ ${S(e(le)),i(()=>e(le).CourtName)??""}`),[()=>(S(Ke),S(e(le)),i(()=>Ke(e(le).ScheduledStartDateTime)))]),b(A,N)};E(_e,A=>{e(le)&&A(G)})}var oe=c(_e,2),q=s(oe,!0);o(oe),o(Ce);var ke=c(Ce,2),we=s(ke,!0);o(ke),o(he);var U=c(he,2),z=s(U),ae=s(z);o(z);var M=c(z,2),j=s(M,!0);o(M),o(U),o(Y),F((A,N,J)=>{y(q,(S(e(le)),e(re),i(()=>e(le)?`${e(le).FirstTeamText} vs ${e(le).SecondTeamText}`:`Match ${e(re).matchId}`))),Oe(ke,1,`text-xs font-medium ${A??""}`),y(we,N),y(ae,`By: ${e(re),i(()=>e(re).userId)??""}`),y(j,J)},[()=>(e(re),i(()=>p(e(re).action))),()=>(e(re),i(()=>g(e(re)))),()=>(e(re),i(()=>w(e(re).timestamp)))]),b(ve,Y)}),o(de),b(B,de)};E(X,B=>{e(v),i(()=>e(v).length===0)?B(se):B(ge,!1)})}o(ne),o($),o(k),F(()=>y(D,e(u)==="match"&&t()?"Match history":"All claims for this event")),b(n,k),Ft()}Vt(["click"]);var td=T('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),rd=T("<button> </button>"),ad=T('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),od=T('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),nd=T('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),sd=T('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),id=T('<div class="flex items-center gap-2"><!></div>'),cd=T('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),dd=T("<span> </span>"),ld=eo('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),vd=T("<button><!></button>"),ud=eo('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),fd=T('<div class="absolute left-0 top-8 z-50"><!></div>'),md=T('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),xd=T('<div class="absolute left-0 top-8 z-50"><!></div>'),bd=T('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),gd=T('<div class="flex-shrink-0"><button> </button></div>'),pd=T('<button class="px-2 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors border border-[#eab308]" title="Start keeping score for this match"> </button>'),hd=T('<div class="text-xs font-medium text-[#9fa2ab]"> </div>'),_d=T('<div class="flex-shrink-0 flex items-center gap-2"><!> <div class="text-xs font-semibold text-[#f8f8f9]"> </div> <!></div>'),Sd=T('<div class="text-xs font-medium text-[#9fa2ab]"> </div>'),yd=T('<div class="flex-shrink-0 flex items-center gap-2"><!> <div class="text-xs font-semibold text-[#f8f8f9]"> </div> <!> <span class="text-[8px] text-[#9fa2ab]">(Live)</span></div>'),wd=T('<!> <div class="flex-shrink-0 flex items-center gap-2"><!> <button class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="View claim history for this match">ð</button> <!> <!> <!></div>',1),Td=T('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <!> <!> <!> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Md=T('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Cd=T('<div class="absolute bottom-full right-0 mb-2 w-64 rounded-lg border border-[#454654] bg-[#3b3c48] shadow-lg p-2"><div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Score Sharing</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Scores (JSON)</button> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg> Generate Share Link</button> <div class="border-t border-[#454654] my-2"></div> <div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Receive Scores</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> Import Scores from JSON</button> <div class="px-3 py-1.5 mt-2 text-[10px] text-[#808593] bg-[#454654]/30 rounded">ð¡ Scores sync automatically across tabs. To share with others, use Export or Share Link.</div> <div class="border-t border-[#454654] my-2"></div> <div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Claim History</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> View All Claim History</button></div>'),kd=T('<div class="px-4 py-2 rounded-lg border border-red-500/50 bg-red-500/10 text-red-400 text-sm"> </div>'),$d=T('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-[#f8f8f9]">Import Scores</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="space-y-4"><div><label class="block text-sm font-medium text-[#c0c2c8] mb-2">Paste JSON score data:</label> <textarea class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none font-mono" rows="10" placeholder="Paste JSON score data here"></textarea></div> <!> <div class="flex justify-end gap-2"><button class="px-4 py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]">Cancel</button> <button class="px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Import</button></div></div></div></div>'),Id=T('<div class="fixed bottom-4 right-4 z-50"><div class="relative"><button class="px-4 py-2 text-sm font-medium rounded-lg bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors shadow-lg flex items-center gap-2" title="Score sharing &amp; sync options"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Scores</button> <!></div></div> <!>',1),Dd=T('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!></div> <div class="space-y-4"><!></div> <!> <!> <!></div>');function Ed(n,r){At(r,!1);const t=()=>lr(oo,"$isSpectator",l),a=()=>lr(ia,"$filters",l),d=()=>lr(ao,"$isMedia",l),[l,v]=Ta(),u=O(),h=O(),w=O(),g=O(),p=O(),k=O(),$=O(),m=O(),f=O(),_=O(),D=O(),C=O();let I=Ee(r,"matches",8),W=Ee(r,"eventId",8),te=Ee(r,"clubId",8),R=O("team"),fe=O(null),ne=O(null),X=O(null),se=O(!1),ge=O(!1),B=O(null),de=O(!1),ve=O(!1),re=O(!1),le=O(void 0),Y=O(""),he=O(null),Ce=O(new Set),_e=O();qo(W());function G(M){return M.InvolvedTeam==="first"?M.SecondTeamText:M.InvolvedTeam==="second"?M.FirstTeamText:`${M.FirstTeamText} vs ${M.SecondTeamText}`}function oe(){const M=li(W()),j=new Blob([M],{type:"application/json"}),A=URL.createObjectURL(j),N=document.createElement("a");N.href=A,N.download=`scores-${W()}-${Date.now()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(A),x(de,!1)}function q(){const M=ui(W());navigator.clipboard.writeText(M).then(()=>{alert("Score link copied to clipboard! Share this link with others."),x(de,!1)}).catch(()=>{prompt("Copy this link to share scores:",M)})}function ke(){try{x(he,null);const M=vi(e(Y));M.success?(alert(`Successfully imported ${M.imported} score(s)!`),x(ve,!1),x(Y,""),window.location.reload()):x(he,M.errors.join(", "))}catch(M){x(he,`Failed to import scores: ${M}`)}}na(()=>{if(mi()){const M=fi();if(M&&M.scores.length>0){const j=JSON.stringify({eventId:M.eventId,scores:M.scores},null,2);x(Y,j),x(ve,!0)}}if(e(_e).startPolling(),t()){let M=[];if(Ut.subscribe(j=>{M=j.map(A=>A.teamId)})(),M.length>0){const j=setInterval(()=>{Ya.checkUpcomingMatches(I(),M)},6e4);return()=>clearInterval(j)}}}),Sa(()=>{e(_e).stopPolling()}),xe(()=>(t(),S(W())),()=>{const M=t();x(_e,ca({eventId:W(),userId:M?"spectator":"anonymous"}))}),xe(()=>S(I()),()=>{x(u,ta(I()))}),xe(()=>(a(),S(I()),Ke),()=>{x(h,(()=>{if(a().wave!=="all"){const M=a().wave==="morning"?"08:00":"14:30",j=a().wave==="morning"?"14:30":"23:59";return pa(I()).filter(A=>I().some(N=>{const J=Ke(N.ScheduledStartDateTime),ue=J.split(" ")[1]||J;return ue>=M&&ue<j&&N.Division.Name===A}))}return pa(I())})())}),xe(()=>S(I()),()=>{x(w,no(I()))}),xe(()=>(S(I()),it),()=>{x(g,(()=>{const M=new Map;return I().forEach(j=>{const A=Xe(j);A&&M.set(A,it.getTeamStatus(A))}),M})())}),xe(()=>(S(I()),e(u),e(g),Xe),()=>{x(p,(()=>{const M=tr(Pt);return Ka(I(),M,e(u),e(g),Xe,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),xe(()=>(S(I()),a(),t(),Ut),()=>{x(k,(()=>{let M=zo(I());if(a().priority&&a().priority!=="all"&&(M=M.filter(j=>dr.getPriority(j.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(M=M.filter(j=>{const A=Xe(j);if(!A)return!0;const N=it.getTeamStatus(A);return a().coverageStatus==="uncovered"?N==="not-covered":a().coverageStatus==="covered"?N==="covered"||N==="partially-covered":a().coverageStatus==="planned"?N==="planned":!0})),t()){let j=[];Ut.subscribe(A=>{j=A.map(N=>N.teamId)})(),j.length>0&&(M=M.filter(A=>{const N=Xe(A);return N&&j.includes(N)}))}return M})())}),xe(()=>(S(I()),e(u)),()=>{x($,(()=>{const M=tr(Pt);return Go(I(),M,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),xe(()=>e($),()=>{x(m,new Set(e($).map(M=>M.match.MatchId)))}),xe(()=>(S(I()),it),()=>{x(f,(()=>{const M=new Map;I().forEach(P=>{const K=Xe(P);if(K){const L=it.getTeamStatus(K);M.set(K,L)}});const j=M.size,A=Array.from(M.values()).filter(P=>P==="covered").length,N=Array.from(M.values()).filter(P=>P==="partially-covered").length,J=Array.from(M.values()).filter(P=>P==="planned").length,ue=Array.from(M.values()).filter(P=>P==="not-covered").length;return{totalTeams:j,coveredTeams:A,partiallyCoveredTeams:N,plannedTeams:J,uncoveredTeams:ue,coveragePercentage:j>0?(A+N)/j*100:0}})())}),xe(()=>(e(k),e(R),Xe),()=>{x(_,(()=>{let M=[...e(k)];return e(R)==="priority"?M.sort((j,A)=>{const N=dr.getPriority(j.MatchId),J=dr.getPriority(A.MatchId),ue={"must-cover":3,priority:2,optional:1,null:0},P=ue[N||"null"],K=ue[J||"null"];return P!==K?K-P:j.ScheduledStartDateTime-A.ScheduledStartDateTime}):e(R)==="team"?M.sort((j,A)=>{const N=Xe(j),J=Xe(A);return N.localeCompare(J)}):e(R)==="court"?M.sort((j,A)=>j.CourtName.localeCompare(A.CourtName)):M.sort((j,A)=>j.ScheduledStartDateTime-A.ScheduledStartDateTime),M})())}),xe(()=>(e(_),Ke),()=>{x(D,(()=>{const M={};return e(_).forEach(j=>{const A=Ke(j.ScheduledStartDateTime);M[A]||(M[A]=[]),M[A].push(j)}),M})())}),xe(()=>e(D),()=>{x(C,Object.keys(e(D)).sort((M,j)=>{const A=new Date(`2000-01-01 ${M}`).getTime(),N=new Date(`2000-01-01 ${j}`).getTime();return A-N}))}),xe(()=>(t(),S(I()),e(_e),e(Ce),e(B)),()=>{if(t()&&I().length>0){const M=new Set;I().forEach(j=>{e(_e).isClaimOwner(j.MatchId)&&(M.add(j.MatchId),!e(Ce).has(j.MatchId)&&(!e(B)||e(B).MatchId!==j.MatchId)&&setTimeout(()=>{x(B,j)},200))}),x(Ce,M)}}),xe(()=>(t(),S(I()),e(_e),Ya),()=>{if(t()&&I().length>0){let M=[];Ut.subscribe(j=>{M=j.map(A=>A.teamId)})(),I().forEach(j=>{const A=Xe(j);if(A&&M.includes(A)){const N=e(_e).getScore(j.MatchId);N&&N.status==="in-progress"&&Ya.notifyScoreUpdate(j,N)}})}}),Bt(),Rt();var we=Ot(),U=dt(we);{var z=M=>{var j=td(),A=s(j,!0);o(j),F(()=>y(A,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),b(M,j)},ae=M=>{var j=Dd(),A=s(j);{var N=Ne=>{{let Je=Z(()=>t()?"spectator":"anonymous");Gc(Ne,{get matches(){return I()},get eventId(){return W()},get userId(){return e(Je)}})}};E(A,Ne=>{t()&&Ne(N)})}var J=c(A,2);{var ue=Ne=>{var Je=ad(),Ve=s(Je),pt=s(Ve),rt=s(pt),lt=s(rt);o(rt),Cr(),o(pt);var ft=c(pt,2),kt=s(ft),bt=s(kt);o(kt);var Be=c(kt,4),ct=s(Be);o(Be);var vt=c(Be,4),be=s(vt);o(vt);var Ie=c(vt,4),ye=s(Ie);o(Ie),o(ft),o(Ve);var Ze=c(Ve,2),et=s(Ze);et.__click=()=>x(se,!e(se));var ot=s(et,!0);o(et);var gt=c(et,2);{var mt=Pe=>{var Ct=rd();Ct.__click=()=>x(ge,!e(ge));var ze=s(Ct);o(Ct),F(()=>{Oe(Ct,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ge)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Wt(Ct,"title",`${e(p),i(()=>e(p).length)??""} coverage suggestions`),y(ze,`ð¡ Suggestions (${e(p),i(()=>e(p).length)??""})`)}),b(Pe,Ct)};E(gt,Pe=>{e(p),i(()=>e(p).length>0)&&Pe(mt)})}o(Ze),o(Je),F(Pe=>{y(lt,`${Pe??""}%`),y(bt,`â ${e(f),i(()=>e(f).coveredTeams)??""}`),y(ct,`â ${e(f),i(()=>e(f).partiallyCoveredTeams)??""}`),y(be,`ð ${e(f),i(()=>e(f).plannedTeams)??""}`),y(ye,`â ${e(f),i(()=>e(f).uncoveredTeams)??""}`),Oe(et,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(se)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(ot,e(se)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(f),i(()=>e(f).coveragePercentage.toFixed(0)))]),b(Ne,Je)};E(J,Ne=>{d(),e(f),i(()=>d()&&e(f).totalTeams>0)&&Ne(ue)})}var P=c(J,2);{var K=Ne=>{var Je=nd(),Ve=s(Je),pt=c(s(Ve),2);pt.__click=()=>x(ge,!1),o(Ve);var rt=c(Ve,2);st(rt,5,()=>(e(p),i(()=>e(p).slice(0,5))),nt,(lt,ft)=>{var kt=od(),bt=s(kt),Be=s(bt),ct=s(Be);o(Be);var vt=c(Be,2),be=s(vt,!0);o(vt),o(bt);var Ie=c(bt,2);Ie.__click=ye=>{ye.stopPropagation(),Pt.selectMatch(e(ft).match.MatchId)},o(kt),F(ye=>{y(ct,`${ye??""} - ${e(ft),i(()=>e(ft).match.CourtName)??""} - Team ${e(ft),i(()=>e(ft).teamId)??""}`),y(be,(e(ft),i(()=>e(ft).reason)))},[()=>(S(Ke),e(ft),i(()=>Ke(e(ft).match.ScheduledStartDateTime)))]),b(lt,kt)}),o(rt),o(Je),b(Ne,Je)};E(P,Ne=>{d(),e(ge),e(p),i(()=>d()&&e(ge)&&e(p).length>0)&&Ne(K)})}var L=c(P,2);{var ee=Ne=>{var Je=sd();b(Ne,Je)};E(L,Ne=>{d()&&Ne(ee)})}var Se=c(L,2),me=s(Se),Q=c(s(me),2),H=s(Q);H.__click=()=>x(R,"team");var pe=c(H,2);pe.__click=()=>x(R,"court");var Me=c(pe,2);Me.__click=()=>x(R,"time"),o(Q),o(me);var Ae=c(me,2),We=c(s(Ae),2),Le=s(We);Le.__click=()=>cr("wave","all");var He=c(Le,2);He.__click=()=>cr("wave","morning");var Ue=c(He,2);Ue.__click=()=>cr("wave","afternoon"),o(We),o(Ae);var V=c(Ae,2);{var ie=Ne=>{var Je=id(),Ve=s(Je);Bc(Ve,{get matches(){return I()}}),o(Je),b(Ne,Je)};E(V,Ne=>{t()&&Ne(ie)})}o(Se);var Fe=c(Se,2),Ye=s(Fe);{var je=Ne=>{var Je=cd();b(Ne,Je)},Re=Ne=>{var Je=Ot(),Ve=dt(Je);st(Ve,1,()=>e(C),nt,(pt,rt)=>{const lt=Z(()=>(e(D),e(rt),i(()=>e(D)[e(rt)]))),ft=Z(()=>(S(e(lt)),e(u),i(()=>e(lt).filter(mt=>e(u).has(mt.MatchId)).length))),kt=Z(()=>e(ft)>0),bt=Z(()=>(S(e(ft)),S(e(lt)),i(()=>e(ft)===e(lt).length)));var Be=Md(),ct=s(Be),vt=s(ct),be=s(vt),Ie=s(be,!0);o(be);var ye=c(be,2),Ze=s(ye);o(ye),o(vt);var et=c(vt,2);{var ot=mt=>{var Pe=dd(),Ct=s(Pe);o(Pe),F(()=>{Oe(Pe,1,`text-xs font-medium ${e(bt)?"text-[#808593]":"text-red-400"}`),y(Ct,`${e(ft)??""} conflict${e(ft)!==1?"s":""}`)}),b(mt,Pe)};E(et,mt=>{e(kt)&&mt(ot)})}o(ct);var gt=c(ct,2);st(gt,1,()=>e(lt),nt,(mt,Pe)=>{const Ct=Z(()=>(e(u),e(Pe),i(()=>e(u).has(e(Pe).MatchId)))),ze=Z(()=>(S(Xe),e(Pe),i(()=>Xe(e(Pe))))),Tt=Z(()=>(e(Pe),i(()=>G(e(Pe))))),It=Z(()=>(e(fe),e(Pe),i(()=>e(fe)===e(Pe).MatchId))),$e=Z(()=>(S(dr),e(Pe),i(()=>dr.getPriority(e(Pe).MatchId)))),Xt=Z(()=>(e(m),e(Pe),i(()=>e(m).has(e(Pe).MatchId)))),jt=Z(()=>(S(e(ze)),S(it),i(()=>e(ze)?it.getTeamStatus(e(ze)):"not-covered"))),ht=Z(()=>e(jt)==="covered"||e(jt)==="partially-covered"),Dt=Z(()=>e(jt)==="planned"),zt=Z(()=>e(jt)==="not-covered"),ar=Z(()=>e(se)&&e(ht)),Gt=Z(()=>(S(tr),S(Pt),i(()=>tr(Pt)))),St=Z(()=>(S(e(Gt)),e(Pe),i(()=>e(Gt).has(e(Pe).MatchId)))),or=Z(()=>e(Ct)&&!e(bt));var Et=Td(),vr=s(Et);vr.__click=()=>x(fe,e(It)?null:e(Pe).MatchId);var kr=s(vr);{var _r=Nt=>{var at=vd();at.__click=Qt=>{Qt.stopPropagation(),Pt.toggleMatch(e(Pe).MatchId)};var Ht=s(at);{var nr=Qt=>{var br=ld();b(Qt,br)};E(Ht,Qt=>{e(St)&&Qt(nr)})}o(at),F(()=>{Oe(at,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(St)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),Wt(at,"aria-label",e(St)?"Remove from plan":"Add to plan")}),b(Nt,at)};E(kr,Nt=>{d()&&Nt(_r)})}var xr=c(kr,2),Pr=s(xr),Lr=s(Pr,!0);o(Pr);var da=c(Pr,2),Ca=s(da);o(da),o(xr);var la=c(xr,2);{var Sr=Nt=>{var at=md(),Ht=s(at);Ht.__click=qt=>{qt.stopPropagation(),x(ne,e(ne)===e(Pe).MatchId?null:e(Pe).MatchId)};var nr=s(Ht),Qt=c(nr);{var br=qt=>{var pr=ud();b(qt,pr)};E(Qt,qt=>{e($e)||qt(br)})}o(Ht);var sr=c(Ht,2);{var gr=qt=>{var pr=fd(),ut=s(pr);Qo(ut,{get matchId(){return e(Pe),i(()=>e(Pe).MatchId)},get currentPriority(){return e($e)},get onPriorityChange(){return S(dr),i(()=>dr.setPriority)},onClose:()=>x(ne,null)}),o(pr),b(qt,pr)};E(sr,qt=>{e(ne),e(Pe),i(()=>e(ne)===e(Pe).MatchId)&&qt(gr)})}o(at),F(()=>{Oe(Ht,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e($e)==="must-cover"?"text-[#eab308]":e($e)==="priority"?"text-[#f59e0b]":e($e)==="optional"?"text-[#9fa2ab]":"text-[#808593]"}`),Wt(Ht,"title",e($e)?`Priority: ${e($e)}`:"Set priority"),y(nr,`${e($e)==="must-cover"&&"â­"}
												${e($e)==="priority"&&"ð¸"}
												${e($e)==="optional"&&"â"} `)}),b(Nt,at)};E(la,Nt=>{d()&&Nt(Sr)})}var Jr=c(la,2);{var ka=Nt=>{var at=bd(),Ht=s(at);Ht.__click=sr=>{sr.stopPropagation(),x(X,e(X)===e(ze)?null:e(ze))};var nr=s(Ht);o(Ht);var Qt=c(Ht,2);{var br=sr=>{var gr=xd(),qt=s(gr);so(qt,{get teamId(){return e(ze)},get currentStatus(){return e(jt)},get onStatusChange(){return S(it),i(()=>it.setTeamStatus)},onClose:()=>x(X,null)}),o(gr),b(sr,gr)};E(Qt,sr=>{e(X)===e(ze)&&sr(br)})}o(at),F(()=>{Oe(Ht,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(jt)==="covered"?"text-green-500":e(jt)==="partially-covered"?"text-[#f59e0b]":e(jt)==="planned"?"text-[#eab308]":"text-[#808593]"}`),Wt(Ht,"title",`Coverage: ${e(jt)??""}`),y(nr,`${e(jt)==="covered"&&"â"}
												${e(jt)==="partially-covered"&&"â"}
												${e(jt)==="planned"&&"ð"}
												${e(jt)==="not-covered"&&"â"}`)}),b(Nt,at)};E(Jr,Nt=>{d()&&e(ze)&&Nt(ka)})}var Vr=c(Jr,2);{var $a=Nt=>{const at=Z(()=>(e(_e),e(Pe),i(()=>e(_e).getScore(e(Pe).MatchId)))),Ht=Z(()=>(e(_e),e(Pe),i(()=>e(_e).getClaimStatus(e(Pe).MatchId)))),nr=Z(()=>(e(_e),e(Pe),i(()=>e(_e).isClaimOwner(e(Pe).MatchId))));var Qt=wd(),br=dt(Qt);{var sr=Mt=>{var _t=gd(),xt=s(_t);xt.__click=rr=>{rr.stopPropagation(),Ut.isFollowing(e(ze))?Ut.unfollowTeam(e(ze)):Ut.followTeam(e(ze),e(ze))};var Kt=s(xt,!0);o(xt),o(_t),F((rr,ir,wr)=>{Oe(xt,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${rr??""}`),Wt(xt,"title",ir),y(Kt,wr)},[()=>(S(Ut),S(e(ze)),i(()=>Ut.isFollowing(e(ze))?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]")),()=>(S(Ut),S(e(ze)),i(()=>Ut.isFollowing(e(ze))?"Unfollow team":"Follow team")),()=>(S(Ut),S(e(ze)),i(()=>Ut.isFollowing(e(ze))?"â":"+"))]),b(Mt,_t)};E(br,Mt=>{e(ze)&&Mt(sr)})}var gr=c(br,2),qt=s(gr);xc(qt,{get match(){return e(Pe)},get eventId(){return W()},onClaim:Mt=>{const _t=I().find(xt=>xt.MatchId===Mt);_t&&setTimeout(()=>{x(B,_t)},300)},onRelease:()=>{x(B,null)}});var pr=c(qt,2);pr.__click=Mt=>{Mt.stopPropagation(),x(re,!0),x(le,e(Pe).MatchId)};var ut=c(pr,2);{var yt=Mt=>{var _t=pd();_t.__click=Kt=>{Kt.stopPropagation(),x(B,e(Pe))};var xt=s(_t,!0);o(_t),F(()=>y(xt,e(at)?"Update Score":"Start Scoring")),b(Mt,_t)};E(ut,Mt=>{e(Ht)==="claimed"&&e(nr)&&Mt(yt)})}var Lt=c(ut,2);{var $r=Mt=>{const _t=Z(()=>(S(e(at)),i(()=>e(at).sets.find(Qe=>Qe.completedAt===0)||e(at).sets[e(at).sets.length-1]))),xt=Z(()=>(S(e(at)),i(()=>e(at).sets.filter(Qe=>Qe.completedAt>0)))),Kt=Z(()=>(S(e(xt)),i(()=>e(xt).filter(Qe=>Qe.team1Score>Qe.team2Score).length))),rr=Z(()=>(S(e(xt)),i(()=>e(xt).filter(Qe=>Qe.team2Score>Qe.team1Score).length)));var ir=_d(),wr=s(ir);{var Fr=Qe=>{var ur=hd(),Xr=s(ur);o(ur),F(()=>y(Xr,`${e(Kt)??""}-${e(rr)??""}`)),b(Qe,ur)};E(wr,Qe=>{S(e(xt)),i(()=>e(xt).length>0)&&Qe(Fr)})}var Tr=c(wr,2),zr=s(Tr);o(Tr);var qr=c(Tr,2);{let Qe=Z(()=>(S(e(at)),i(()=>e(at).status==="in-progress")));_a(qr,{get isLive(){return e(Qe)},get lastUpdated(){return S(e(at)),i(()=>e(at).lastUpdated)}})}o(ir),F(()=>y(zr,`${S(e(_t)),i(()=>e(_t).team1Score)??""}-${S(e(_t)),i(()=>e(_t).team2Score)??""}`)),b(Mt,ir)};E(Lt,Mt=>{S(e(at)),i(()=>e(at)&&e(at).status!=="not-started")&&Mt($r)})}var Ar=c(Lt,2);{var yr=Mt=>{const _t=Z(()=>(S(e(at)),i(()=>e(at).sets.find(Qe=>Qe.completedAt===0)||e(at).sets[e(at).sets.length-1]))),xt=Z(()=>(S(e(at)),i(()=>e(at).sets.filter(Qe=>Qe.completedAt>0)))),Kt=Z(()=>(S(e(xt)),i(()=>e(xt).filter(Qe=>Qe.team1Score>Qe.team2Score).length))),rr=Z(()=>(S(e(xt)),i(()=>e(xt).filter(Qe=>Qe.team2Score>Qe.team1Score).length)));var ir=yd(),wr=s(ir);{var Fr=Qe=>{var ur=Sd(),Xr=s(ur);o(ur),F(()=>y(Xr,`${e(Kt)??""}-${e(rr)??""}`)),b(Qe,ur)};E(wr,Qe=>{S(e(xt)),i(()=>e(xt).length>0)&&Qe(Fr)})}var Tr=c(wr,2),zr=s(Tr);o(Tr);var qr=c(Tr,2);{let Qe=Z(()=>(S(e(at)),i(()=>e(at).status==="in-progress")));_a(qr,{get isLive(){return e(Qe)},get lastUpdated(){return S(e(at)),i(()=>e(at).lastUpdated)}})}Cr(2),o(ir),F(()=>y(zr,`${S(e(_t)),i(()=>e(_t).team1Score)??""}-${S(e(_t)),i(()=>e(_t).team2Score)??""}`)),b(Mt,ir)};E(Ar,Mt=>{S(e(nr)),S(e(at)),i(()=>!e(nr)&&e(at)&&e(at).status!=="not-started")&&Mt(yr)})}o(gr),b(Nt,Qt)};E(Vr,Nt=>{t()&&Nt($a)})}var Gr=c(Vr,2),Ia=s(Gr);o(Gr),o(vr);var Or=c(vr,2);{var Da=Nt=>{Xo(Nt,{get match(){return e(Pe)},get eventId(){return W()},get clubId(){return te()},onClose:()=>x(fe,null),get matches(){return I()}})};E(Or,Nt=>{e(It)&&Nt(Da)})}o(Et),F(Nt=>{Oe(vr,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(or)?"border border-red-800/50 bg-red-950/10":e($e)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e($e)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(zt)&&!e(St)?"border border-[#eab308] bg-[#eab308]/5":e(Dt)?"border border-[#eab308]/50 bg-[#eab308]/10":e(ht)?"border border-green-500/30 bg-green-950/5":e(Xt)&&!e(St)?"border border-green-500/50 bg-green-950/10":e(St)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(ar)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),y(Lr,Nt),y(Ca,`${e(Pe),i(()=>e(Pe).CourtName)??""} â¢ ${S(e(ze)),e(Pe),i(()=>e(ze)||e(Pe).Division.CodeAlias)??""} vs ${e(Tt)??""}`),Oe(Ia,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(It)?"rotate-180":""}`)},[()=>(S(Ke),e(Pe),i(()=>Ke(e(Pe).ScheduledStartDateTime)))]),b(mt,Et)}),o(Be),F(()=>{y(Ie,e(rt)),y(Ze,`${S(e(lt)),i(()=>e(lt).length)??""} match${S(e(lt)),i(()=>e(lt).length!==1?"es":"")??""}`)}),b(pt,Be)}),b(Ne,Je)};E(Ye,Ne=>{e(C),i(()=>e(C).length===0)?Ne(je):Ne(Re,!1)})}o(Fe);var Te=c(Fe,2);{var Ge=Ne=>{{let Je=Z(()=>(e(_e),e(B),i(()=>e(_e).getScore(e(B).MatchId))));Ko(Ne,{get matchId(){return e(B),i(()=>e(B).MatchId)},get team1Name(){return e(B),i(()=>e(B).FirstTeamText)},get team2Name(){return e(B),i(()=>e(B).SecondTeamText)},get currentScore(){return e(Je)},onScoreUpdate:(Ve,pt)=>{e(_e).updateScore(e(B).MatchId,Ve,pt)},onClose:()=>x(B,null)})}};E(Te,Ne=>{e(B),e(_e),i(()=>e(B)&&e(_e).isClaimOwner(e(B).MatchId))&&Ne(Ge)})}var ce=c(Te,2);{var De=Ne=>{ed(Ne,{get matchId(){return e(le)},get eventId(){return W()},get matches(){return I()},onClose:()=>{x(re,!1),x(le,void 0)}})};E(ce,Ne=>{e(re)&&Ne(De)})}var qe=c(ce,2);{var tt=Ne=>{var Je=Id(),Ve=dt(Je),pt=s(Ve),rt=s(pt);rt.__click=()=>x(de,!e(de));var lt=c(rt,2);{var ft=Be=>{var ct=Cd(),vt=c(s(ct),2);vt.__click=oe;var be=c(vt,2);be.__click=q;var Ie=c(be,6);Ie.__click=()=>{x(ve,!0),x(de,!1)};var ye=c(Ie,8);ye.__click=()=>{x(re,!0),x(le,void 0),x(de,!1)},o(ct),b(Be,ct)};E(lt,Be=>{e(de)&&Be(ft)})}o(pt),o(Ve);var kt=c(Ve,2);{var bt=Be=>{var ct=$d(),vt=s(ct),be=s(vt),Ie=c(s(be),2);Ie.__click=()=>{x(ve,!1),x(Y,""),x(he,null)},o(be);var ye=c(be,2),Ze=s(ye),et=c(s(Ze),2);Hr(et),o(Ze);var ot=c(Ze,2);{var gt=ze=>{var Tt=kd(),It=s(Tt,!0);o(Tt),F(()=>y(It,e(he))),b(ze,Tt)};E(ot,ze=>{e(he)&&ze(gt)})}var mt=c(ot,2),Pe=s(mt);Pe.__click=()=>{x(ve,!1),x(Y,""),x(he,null)};var Ct=c(Pe,2);Ct.__click=ke,o(mt),o(ye),o(vt),o(ct),fr(et,()=>e(Y),ze=>x(Y,ze)),b(Be,ct)};E(kt,Be=>{e(ve)&&Be(bt)})}b(Ne,Je)};E(qe,Ne=>{t()&&Ne(tt)})}o(j),F(()=>{Oe(H,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(R)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(pe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(R)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(Me,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(R)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(He,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Ue,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),b(M,j)};E(U,M=>{e(k),i(()=>e(k).length===0)?M(z):M(ae,!1)})}b(n,we),Ft(),v()}Vt(["click"]);var Nd=T('<button title="Previous conflict">â Prev</button>'),Pd=T('<button title="Next conflict">Next â</button>'),Od=T('<span class="ml-2 text-green-400">â All resolved!</span>'),Ad=T('<div class="text-xs text-[#9fa2ab]"> <!></div>'),Fd=T('<div class="flex items-center justify-between mb-3 pb-3 border-b border-[#454654]"><div class="flex items-center gap-2"><!> <span class="text-xs text-[#9fa2ab]"> </span> <!></div> <!></div>'),Rd=T('<div class="text-xs text-[#808593] py-4 text-center">No conflicts found</div>'),jd=T('<span class="text-[#9fa2ab]">â¢</span> <span class="text-[#808593]"> </span>',1),Ld=T('<div class="px-3 py-2.5 rounded border border-[#525463] bg-[#454654]/30"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#f8f8f9]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs flex-wrap"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span> <!></div></div>'),Ud=T('<div class="space-y-2"></div>'),Wd=T(`<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2">Conflict Details</h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <div class="mb-4 pb-4 border-b border-[#454654]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Selected Match</div> <div class="px-3 py-2 rounded border border-[#eab308]/50 bg-[#eab308]/5"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#facc15]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span></div></div></div> <div><div class="flex items-center justify-between mb-2"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider"> </div> <span class="text-xs text-red-400 font-medium">Cannot cover simultaneously</span></div> <!></div> <div class="mt-4 pt-4 border-t border-[#454654]"><p class="text-xs text-[#808593]">These matches overlap in time and are on different courts. You'll need to choose which match to cover.</p></div></div></div>`);function Bd(n,r){At(r,!1);const t=O();let a=Ee(r,"match",8),d=Ee(r,"conflictingMatches",8),l=Ee(r,"onClose",8),v=Ee(r,"onNextConflict",8,void 0),u=Ee(r,"onPreviousConflict",8,void 0),h=Ee(r,"currentIndex",8,void 0),w=Ee(r,"totalConflicts",8,void 0),g=Ee(r,"conflictProgress",8,void 0);function p(U){return U.InvolvedTeam==="first"?U.SecondTeamText:U.InvolvedTeam==="second"?U.FirstTeamText:`${U.FirstTeamText} vs ${U.SecondTeamText}`}function k(U,z){return U!==z?5:0}const $=Xe(a()),m=p(a());xe(()=>S(d()),()=>{x(t,[...d()].sort((U,z)=>U.ScheduledStartDateTime-z.ScheduledStartDateTime))}),Bt(),Rt();var f=Wd(),_=s(f),D=s(_),C=c(s(D),2);C.__click=function(...U){var z;(z=l())==null||z.apply(this,U)},o(D);var I=c(D,2);{var W=U=>{var z=Fd(),ae=s(z),M=s(ae);{var j=L=>{var ee=Nd();ee.__click=function(...Se){var me;(me=u())==null||me.apply(this,Se)},F(()=>{ee.disabled=h()===0,Oe(ee,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${h()===0?"bg-[#454654] text-[#808593] cursor-not-allowed":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`)}),b(L,ee)};E(M,L=>{u()&&L(j)})}var A=c(M,2),N=s(A);o(A);var J=c(A,2);{var ue=L=>{var ee=Pd();ee.__click=function(...Se){var me;(me=v())==null||me.apply(this,Se)},F(()=>{ee.disabled=h()===w()-1,Oe(ee,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${h()===w()-1?"bg-[#454654] text-[#808593] cursor-not-allowed":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`)}),b(L,ee)};E(J,L=>{v()&&L(ue)})}o(ae);var P=c(ae,2);{var K=L=>{var ee=Ad(),Se=s(ee),me=c(Se);{var Q=H=>{var pe=Od();b(H,pe)};E(me,H=>{S(g()),i(()=>g().remaining===0)&&H(Q)})}o(ee),F(()=>y(Se,`${S(g()),i(()=>g().resolved)??""}/${S(g()),i(()=>g().total)??""} resolved `)),b(L,ee)};E(P,L=>{g()&&L(K)})}o(z),F(()=>y(N,`Conflict ${h()+1} of ${w()??""}`)),b(U,z)};E(I,U=>{h()!==void 0&&w()!==void 0&&w()>1&&U(W)})}var te=c(I,2),R=c(s(te),2),fe=s(R),ne=s(fe),X=s(ne,!0);o(ne);var se=c(ne,4),ge=s(se,!0);o(se),o(fe);var B=c(fe,2),de=s(B),ve=s(de,!0);o(de);var re=c(de,2),le=s(re,!0);o(re);var Y=c(re,4),he=s(Y,!0);o(Y),o(B),o(R),o(te);var Ce=c(te,2),_e=s(Ce),G=s(_e),oe=s(G);o(G),Cr(2),o(_e);var q=c(_e,2);{var ke=U=>{var z=Rd();b(U,z)},we=U=>{var z=Ud();st(z,5,()=>e(t),nt,(ae,M)=>{const j=Z(()=>(S(Xe),e(M),i(()=>Xe(e(M))))),A=Z(()=>(e(M),i(()=>p(e(M))))),N=Z(()=>(S(a()),e(M),i(()=>k(a().CourtName,e(M).CourtName))));var J=Ld(),ue=s(J),P=s(ue),K=s(P,!0);o(P);var L=c(P,4),ee=s(L,!0);o(L),o(ue);var Se=c(ue,2),me=s(Se),Q=s(me,!0);o(me);var H=c(me,2),pe=s(H,!0);o(H);var Me=c(H,4),Ae=s(Me,!0);o(Me);var We=c(Me,2);{var Le=He=>{var Ue=jd(),V=c(dt(Ue),2),ie=s(V);o(V),F(()=>y(ie,`~${e(N)??""} min travel from ${S(a()),i(()=>a().CourtName)??""}`)),b(He,Ue)};E(We,He=>{e(N)>0&&He(Le)})}o(Se),o(J),F(He=>{y(K,(S(e(j)),e(M),i(()=>e(j)||e(M).Division.CodeAlias))),y(ee,e(A)),y(Q,(e(M),i(()=>e(M).CourtName))),y(pe,He),y(Ae,(e(M),i(()=>e(M).Division.CodeAlias)))},[()=>(S(Ke),e(M),i(()=>Ke(e(M).ScheduledStartDateTime)))]),b(ae,J)}),o(z),b(U,z)};E(q,U=>{e(t),i(()=>e(t).length===0)?U(ke):U(we,!1)})}o(Ce),Cr(2),o(_),o(f),F(U=>{y(X,(S(a()),i(()=>$||a().Division.CodeAlias))),y(ge,m),y(ve,(S(a()),i(()=>a().CourtName))),y(le,U),y(he,(S(a()),i(()=>a().Division.CodeAlias))),y(oe,`Conflicting Matches (${S(d()),i(()=>d().length)??""})`)},[()=>(S(Ke),S(a()),i(()=>Ke(a().ScheduledStartDateTime)))]),b(n,f),Ft()}Vt(["click"]);var Hd=T('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Yd=T("<option> </option>"),Jd=T('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Vd=T("<option> </option>"),Gd=T('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),zd=T('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),qd=T('<div class="flex items-center gap-2"><button title="Highlight all time gaps"> </button> <button title="Show only matches with gaps"> </button></div>'),Xd=T('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),Qd=T('<span class="ml-2"> </span>'),Kd=T('<span class="ml-2 text-xs"> </span>'),Zd=T('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),el=T("<div> </div>"),tl=T("<div><!></div>"),rl=T('<div class="absolute top-0 left-0 text-[10px]"> </div>'),al=T('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),ol=T('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),nl=T('<div class="text-[8px] text-[#9fa2ab]"> </div>'),sl=T('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),il=eo('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),cl=T('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),dl=T('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),ll=T('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),vl=T('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),ul=T('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),fl=T('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),ml=T('<div class="fixed inset-0 z-40"></div>'),xl=T('<div class="fixed inset-0 z-40"></div>'),bl=T('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function gl(n,r){At(r,!1);const t=()=>lr(oo,"$isSpectator",l),a=()=>lr(ia,"$filters",l),d=()=>lr(ao,"$isMedia",l),[l,v]=Ta(),u=O(),h=O(),w=O(),g=O(),p=O(),k=O(),$=O(),m=O(),f=O(),_=O(),D=O(),C=O(),I=O(),W=O(),te=O(),R=O(),fe=O(),ne=O(),X=O();let se=Ee(r,"matches",8),ge=Ee(r,"eventId",8),B=O(null),de=O(null),ve=O(null),re=O(null),le=O(null),Y=O(!1),he=O(!1),Ce=O();function _e(N){return N.InvolvedTeam==="first"?N.SecondTeamText:N.InvolvedTeam==="second"?N.FirstTeamText:`${N.FirstTeamText} vs ${N.SecondTeamText}`}function G(N){return e(f)===0?0:(N-e($))/e(f)*100}function oe(N,J){return e(f)===0?0:(J-N)/e(f)*100}function q(){e(X)>=0&&e(X)<e(R).length-1&&x(B,e(R)[e(X)+1])}function ke(){e(X)>0&&x(B,e(R)[e(X)-1])}function we(N){const J=[],ue=[...N].sort((P,K)=>P.ScheduledStartDateTime-K.ScheduledStartDateTime);for(let P=0;P<ue.length-1;P++){const K=ue[P],L=ue[P+1],ee=Math.floor((L.ScheduledStartDateTime-K.ScheduledEndDateTime)/6e4);ee>0&&J.push({before:K,after:L,gapMinutes:ee})}return J}function U(N){e(u).has(N.MatchId)?x(B,N):d()?Pt.toggleMatch(N.MatchId):x(B,N)}function z(N,J){J.stopPropagation(),x(de,e(de)===N?null:N)}xe(()=>(t(),S(ge())),()=>{const N=t();x(Ce,ca({eventId:ge(),userId:N?"spectator":"anonymous"}))}),xe(()=>S(se()),()=>{x(u,ta(se()))}),xe(()=>(a(),S(se()),Ke),()=>{x(h,(()=>{if(a().wave!=="all"){const N=a().wave==="morning"?"08:00":"14:30",J=a().wave==="morning"?"14:30":"23:59";return pa(se()).filter(ue=>se().some(P=>{const K=Ke(P.ScheduledStartDateTime),L=K.split(" ")[1]||K;return L>=N&&L<J&&P.Division.CodeAlias===ue}))}return pa(se())})())}),xe(()=>S(se()),()=>{x(w,no(se()))}),xe(()=>(S(se()),a(),it),()=>{x(g,(()=>{let N=zo(se());return a().priority&&a().priority!=="all"&&(N=N.filter(J=>dr.getPriority(J.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(N=N.filter(J=>{const ue=Xe(J);if(!ue)return!0;const P=it.getTeamStatus(ue);return a().coverageStatus==="uncovered"?P==="not-covered":a().coverageStatus==="covered"?P==="covered"||P==="partially-covered":a().coverageStatus==="planned"?P==="planned":!0})),N})())}),xe(()=>(S(se()),e(u)),()=>{x(p,(()=>{const N=tr(Pt);return Go(se(),N,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),xe(()=>e(p),()=>{x(k,new Set(e(p).map(N=>N.match.MatchId)))}),xe(()=>e(g),()=>{x(_,(()=>{const N=new Set,J={};return e(g).forEach(ue=>{J[ue.CourtName]||(J[ue.CourtName]=[]),J[ue.CourtName].push(ue)}),Object.values(J).forEach(ue=>{we(ue).forEach(K=>{N.add(K.before.MatchId),N.add(K.after.MatchId)})}),N})())}),xe(()=>(e(he),e(g),e(_)),()=>{x(D,e(he)?e(g).filter(N=>e(_).has(N.MatchId)):e(g))}),xe(()=>e(D),()=>{x($,e(D).length>0?Math.min(...e(D).map(N=>N.ScheduledStartDateTime)):0)}),xe(()=>e(D),()=>{x(m,e(D).length>0?Math.max(...e(D).map(N=>N.ScheduledEndDateTime)):0)}),xe(()=>(e(m),e($)),()=>{x(f,e(m)-e($))}),xe(()=>e(D),()=>{x(C,(()=>{const N={};return e(D).forEach(J=>{N[J.CourtName]||(N[J.CourtName]=[]),N[J.CourtName].push(J)}),N})())}),xe(()=>e(C),()=>{x(I,Object.keys(e(C)).sort())}),xe(()=>(e(de),e(D),Xe),()=>{x(W,(()=>{if(!e(de))return new Set;const N=new Set;return e(D).forEach(J=>{Xe(J)===e(de)&&N.add(J.MatchId)}),N})())}),xe(()=>(e(B),e(u),e(D)),()=>{x(te,(()=>{if(!e(B))return[];const N=e(u).get(e(B).MatchId);return N?N.map(J=>e(D).find(ue=>ue.MatchId===J)).filter(Boolean):[]})())}),xe(()=>(e(D),e(u)),()=>{x(R,(()=>{const N=[],J=new Set;return e(D).forEach(ue=>{if(e(u).has(ue.MatchId)&&!J.has(ue.MatchId)){N.push(ue),J.add(ue.MatchId);const P=e(u).get(ue.MatchId);P&&P.forEach(K=>J.add(K))}}),N.sort((ue,P)=>ue.ScheduledStartDateTime-P.ScheduledStartDateTime)})())}),xe(()=>(e(R),e(u)),()=>{x(fe,(()=>{const N=tr(Pt);return e(R).filter(J=>{const ue=e(u).get(J.MatchId);return ue?ue.some(P=>N.has(P)):!1})})())}),xe(()=>(e(R),e(fe)),()=>{x(ne,{total:e(R).length,resolved:e(fe).length,remaining:e(R).length-e(fe).length})}),xe(()=>(e(B),e(R)),()=>{x(X,e(B)?e(R).findIndex(N=>N.MatchId===e(B).MatchId):-1)}),Bt(),Rt();var ae=Ot(),M=dt(ae);{var j=N=>{var J=Hd(),ue=s(J,!0);o(J),F(()=>y(ue,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),b(N,J)},A=N=>{var J=bl(),ue=s(J),P=s(ue),K=c(s(P),2),L=s(K);L.__click=()=>cr("wave","all");var ee=c(L,2);ee.__click=()=>cr("wave","morning");var Se=c(ee,2);Se.__click=()=>cr("wave","afternoon"),o(K),o(P);var me=c(P,2);{var Q=be=>{var Ie=Jd(),ye=c(s(Ie),2);ye.__change=mt=>cr("division",mt.target.value||null);var Ze=s(ye),et=s(Ze);o(Ze),Ze.value=Ze.__value="";var ot=c(Ze);st(ot,1,()=>e(h),nt,(mt,Pe)=>{var Ct=Yd(),ze=s(Ct,!0);o(Ct);var Tt={};F(()=>{y(ze,e(Pe)),Tt!==(Tt=e(Pe))&&(Ct.value=(Ct.__value=e(Pe))??"")}),b(mt,Ct)}),o(ye);var gt;jr(ye),o(Ie),F(()=>{y(et,`All Divisions${a(),i(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),gt!==(gt=(a(),i(()=>a().division||"")))&&(ye.value=(ye.__value=(a(),i(()=>a().division||"")))??"",Er(ye,(a(),i(()=>a().division||""))))}),b(be,Ie)};E(me,be=>{e(h),i(()=>e(h).length>1)&&be(Q)})}var H=c(me,2);{var pe=be=>{var Ie=Gd(),ye=c(s(Ie),2);ye.__change=et=>{const ot=Array.from(et.target.selectedOptions,gt=>gt.value);cr("teams",ot)},st(ye,5,()=>e(w),nt,(et,ot)=>{var gt=Vd(),mt=s(gt,!0);o(gt);var Pe={};F(()=>{y(mt,e(ot)),Pe!==(Pe=e(ot))&&(gt.value=(gt.__value=e(ot))??"")}),b(et,gt)}),o(ye);var Ze;jr(ye),o(Ie),F(et=>{Wt(ye,"size",et),Ze!==(Ze=(a(),i(()=>a().teams)))&&(ye.value=(ye.__value=(a(),i(()=>a().teams)))??"",Er(ye,(a(),i(()=>a().teams))))},[()=>(e(w),i(()=>Math.min(e(w).length,4)))]),b(be,Ie)};E(H,be=>{e(w),i(()=>e(w).length>0)&&be(pe)})}var Me=c(H,2),Ae=c(s(Me),2),We=s(Ae);We.__click=()=>cr("timeRange",{start:null,end:null});var Le=c(We,2);Le.__click=()=>cr("timeRange",{start:"08:00",end:"14:30"});var He=c(Le,2);He.__click=()=>cr("timeRange",{start:"14:30",end:"23:59"}),o(Ae),o(Me);var Ue=c(Me,2);{var V=be=>{var Ie=zd(),ye=c(s(Ie),2);ye.__change=Pe=>cr("priority",Pe.target.value==="all"?"all":Pe.target.value);var Ze=s(ye);Ze.value=Ze.__value="all";var et=c(Ze);et.value=et.__value="must-cover";var ot=c(et);ot.value=ot.__value="priority";var gt=c(ot);gt.value=gt.__value="optional",o(ye);var mt;jr(ye),o(Ie),F(()=>{mt!==(mt=(a(),i(()=>a().priority||"all")))&&(ye.value=(ye.__value=(a(),i(()=>a().priority||"all")))??"",Er(ye,(a(),i(()=>a().priority||"all"))))}),b(be,Ie)};E(Ue,be=>{d()&&be(V)})}var ie=c(Ue,2);{var Fe=be=>{var Ie=qd(),ye=s(Ie);ye.__click=()=>x(Y,!e(Y));var Ze=s(ye);o(ye);var et=c(ye,2);et.__click=()=>x(he,!e(he));var ot=s(et);o(et),o(Ie),F(()=>{Oe(ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Y)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(Ze,`${e(Y)?"â":""} Highlight Gaps`),Oe(et,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(he)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(ot,`${e(he)?"â":""} Gaps Only`)}),b(be,Ie)};E(ie,be=>{d()&&be(Fe)})}var Ye=c(ie,2);{var je=be=>{var Ie=Xd();Ie.__click=function(...ye){Ba==null||Ba.apply(this,ye)},b(be,Ie)};E(Ye,be=>{a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&be(je)})}o(ue);var Re=c(ue,2),Te=s(Re),Ge=s(Te),ce=c(Ge);{var De=be=>{var Ie=Qd(),ye=s(Ie);o(Ie),F(()=>y(ye,`(${e(D),i(()=>e(D).length)??""} of ${S(se()),i(()=>se().length)??""})`)),b(be,Ie)};E(ce,be=>{e(D),S(se()),i(()=>e(D).length!==se().length)&&be(De)})}var qe=c(ce,2);{var tt=be=>{var Ie=Kd(),ye=s(Ie);o(Ie),F(()=>y(ye,`â¢ Conflicts: ${e(ne),i(()=>e(ne).resolved)??""}/${e(ne),i(()=>e(ne).total)??""} resolved`)),b(be,Ie)};E(qe,be=>{e(ne),d(),i(()=>e(ne).total>0&&d())&&be(tt)})}o(Te);var Ne=c(Te,2);{var Je=be=>{var Ie=Zd(),ye=c(s(Ie),2),Ze=s(ye);o(ye);var et=c(ye,2);et.__click=()=>x(de,null),o(Ie),F(()=>y(Ze,`Team ${e(de)??""}`)),b(be,Ie)};E(Ne,be=>{e(de)&&be(Je)})}o(Re);var Ve=c(Re,2),pt=s(Ve);st(pt,5,()=>e(I),nt,(be,Ie)=>{const ye=Z(()=>(e(C),e(Ie),i(()=>e(C)[e(Ie)])));var Ze=fl(),et=s(Ze),ot=s(et),gt=s(ot,!0);o(ot);var mt=c(ot,2),Pe=s(mt);o(mt),o(et);var Ct=c(et,2),ze=s(Ct);st(ze,1,()=>(S(e(ye)),i(()=>we(e(ye)))),nt,(It,$e)=>{const Xt=Z(()=>(e($e),i(()=>G(e($e).before.ScheduledEndDateTime)))),jt=Z(()=>(e($e),i(()=>G(e($e).after.ScheduledStartDateTime)))),ht=Z(()=>e(jt)-e(Xt)),Dt=Z(()=>(e($e),i(()=>e($e).gapMinutes>=30))),zt=Z(()=>(e($e),i(()=>e($e).gapMinutes>=15&&e($e).gapMinutes<30)));var ar=Ot(),Gt=dt(ar);{var St=or=>{var Et=tl(),vr=s(Et);{var kr=_r=>{var xr=el(),Pr=s(xr);o(xr),F(()=>{Oe(xr,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(Dt)?"bg-green-500/20 text-green-400":e(zt)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"} ${e(Y)?"ring-2 ring-[#eab308]":""}`),y(Pr,`${e($e),i(()=>e($e).gapMinutes)??""}m`)}),b(_r,xr)};E(vr,_r=>{(e(ht)>3||e(Y))&&_r(kr)})}o(Et),F(()=>{Oe(Et,1,`absolute top-0 bottom-0 flex items-center justify-center transition-all ${e(Y)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""}`),Jt(Et,`left: ${e(Xt)??""}%; width: ${e(ht)??""}%; z-index: 0;`),Wt(Et,"title",`${e($e),i(()=>e($e).gapMinutes)??""} min gap between matches`)}),b(or,Et)};E(Gt,or=>{e(ht)>=1&&or(St)})}b(It,ar)});var Tt=c(ze,2);st(Tt,1,()=>e(ye),nt,(It,$e)=>{const Xt=Z(()=>(e(u),e($e),i(()=>e(u).has(e($e).MatchId)))),jt=Z(()=>(e(B),e($e),i(()=>{var ut;return((ut=e(B))==null?void 0:ut.MatchId)===e($e).MatchId}))),ht=Z(()=>(S(Xe),e($e),i(()=>Xe(e($e))))),Dt=Z(()=>(e(de),e(W),e($e),i(()=>e(de)!==null&&e(W).has(e($e).MatchId)))),zt=Z(()=>e(de)!==null&&!e(Dt)),ar=Z(()=>(S(tr),S(Pt),i(()=>tr(Pt)))),Gt=Z(()=>(S(e(ar)),e($e),i(()=>e(ar).has(e($e).MatchId)))),St=Z(()=>(S(dr),e($e),i(()=>dr.getPriority(e($e).MatchId)))),or=Z(()=>(e(k),e($e),i(()=>e(k).has(e($e).MatchId)))),Et=Z(()=>(S(e(ht)),S(it),i(()=>e(ht)?it.getTeamStatus(e(ht)):"not-covered"))),vr=Z(()=>e(Et)==="covered"||e(Et)==="partially-covered"),kr=Z(()=>e(Et)==="planned"),_r=Z(()=>e(Et)==="not-covered"),xr=Z(()=>(e($e),i(()=>G(e($e).ScheduledStartDateTime)))),Pr=Z(()=>(e($e),i(()=>Math.max(oe(e($e).ScheduledStartDateTime,e($e).ScheduledEndDateTime),2)))),Lr=Z(()=>(e($e),i(()=>_e(e($e))))),da=Z(()=>(S(e(St)),S(e(_r)),S(e(Gt)),S(e(kr)),S(e(Dt)),S(e(Xt)),S(e(vr)),S(e(or)),e($e),i(()=>e(St)==="must-cover"?"#eab308":e(St)==="priority"?"#f59e0b":e(_r)&&!e(Gt)||e(kr)||e(Dt)||e(Gt)&&!e(Xt)?"#eab308":e(vr)||e(or)&&!e(Gt)?"#10b981":e(Xt)?"#dc2626":e($e).Division.ColorHex))),Ca=Z(()=>e(St)==="must-cover"?"#facc15":e(St)==="priority"?"#fbbf24":e(_r)&&!e(Gt)||e(kr)?"#facc15":e(jt)?"#eab308":e(Dt)||e(Gt)?"#facc15":e(Xt)?"#ef4444":"rgba(255, 255, 255, 0.2)"),la=Z(()=>e(jt)?30:e(Dt)?20:e(St)==="must-cover"?18:e(Gt)?15:e(Xt)?10:1);var Sr=ul();Sr.__click=ut=>{ut.target instanceof HTMLElement&&ut.target.closest(".priority-button")||U(e($e))};var Jr=s(Sr);{var ka=ut=>{var yt=rl(),Lt=s(yt);o(yt),F(()=>y(Lt,`${e(St)==="must-cover"&&"â­"}
											${e(St)==="priority"&&"ð¸"}
											${e(St)==="optional"&&"â"}`)),b(ut,yt)};E(Jr,ut=>{d()&&e(St)&&ut(ka)})}var Vr=c(Jr,2);{var $a=ut=>{var yt=al();b(ut,yt)};E(Vr,ut=>{d()&&e(or)&&!e(Gt)&&ut($a)})}var Gr=c(Vr,2);{var Ia=ut=>{var yt=ol();b(ut,yt)};E(Gr,ut=>{d()&&e(Gt)&&ut(Ia)})}var Or=c(Gr,2);Or.__click=ut=>e(ht)&&z(e(ht),ut);var Da=s(Or,!0);o(Or);var Nt=c(Or,2),at=s(Nt);o(Nt);var Ht=c(Nt,2),nr=s(Ht,!0);o(Ht);var Qt=c(Ht,2);{var br=ut=>{const yt=Z(()=>(e(Ce),e($e),i(()=>e(Ce).getScore(e($e).MatchId))));var Lt=Ot(),$r=dt(Lt);{var Ar=yr=>{const Mt=Z(()=>(S(e(yt)),i(()=>e(yt).sets.find(Qe=>Qe.completedAt===0)||e(yt).sets[e(yt).sets.length-1]))),_t=Z(()=>(S(e(yt)),i(()=>e(yt).sets.filter(Qe=>Qe.completedAt>0)))),xt=Z(()=>(S(e(_t)),i(()=>e(_t).filter(Qe=>Qe.team1Score>Qe.team2Score).length))),Kt=Z(()=>(S(e(_t)),i(()=>e(_t).filter(Qe=>Qe.team2Score>Qe.team1Score).length)));var rr=sl(),ir=s(rr);{var wr=Qe=>{var ur=nl(),Xr=s(ur);o(ur),F(()=>y(Xr,`(${e(xt)??""}-${e(Kt)??""})`)),b(Qe,ur)};E(ir,Qe=>{S(e(_t)),i(()=>e(_t).length>0)&&Qe(wr)})}var Fr=c(ir,2),Tr=s(Fr);o(Fr);var zr=c(Fr,2);{var qr=Qe=>{_a(Qe,{isLive:!0,get lastUpdated(){return S(e(yt)),i(()=>e(yt).lastUpdated)}})};E(zr,Qe=>{S(e(yt)),i(()=>e(yt).status==="in-progress")&&Qe(qr)})}o(rr),F(()=>y(Tr,`${S(e(Mt)),i(()=>e(Mt).team1Score)??""}-${S(e(Mt)),i(()=>e(Mt).team2Score)??""}`)),b(yr,rr)};E($r,yr=>{S(e(yt)),i(()=>e(yt)&&e(yt).status!=="not-started")&&yr(Ar)})}b(ut,Lt)};E(Qt,ut=>{e(Ce)&&ut(br)})}var sr=c(Qt,2);{var gr=ut=>{var yt=dl(),Lt=s(yt);Lt.__click=xt=>{xt.stopPropagation(),x(ve,e(ve)===e($e).MatchId?null:e($e).MatchId)};var $r=s(Lt),Ar=c($r);{var yr=xt=>{var Kt=il();b(xt,Kt)};E(Ar,xt=>{e(St)||xt(yr)})}o(Lt);var Mt=c(Lt,2);{var _t=xt=>{var Kt=cl(),rr=s(Kt);Qo(rr,{get matchId(){return e($e),i(()=>e($e).MatchId)},get currentPriority(){return e(St)},get onPriorityChange(){return S(dr),i(()=>dr.setPriority)},onClose:()=>x(ve,null)}),o(Kt),b(xt,Kt)};E(Mt,xt=>{e(ve),e($e),i(()=>e(ve)===e($e).MatchId)&&xt(_t)})}o(yt),F(()=>{Oe(Lt,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(St)==="must-cover"?"text-[#facc15]":e(St)==="priority"?"text-[#fbbf24]":e(St)==="optional"?"text-white/60":"text-white/40"}`),Wt(Lt,"title",e(St)?`Priority: ${e(St)}`:"Set priority"),y($r,`${e(St)==="must-cover"&&"â­"}
												${e(St)==="priority"&&"ð¸"}
												${e(St)==="optional"&&"â"} `)}),b(ut,yt)};E(sr,ut=>{d()&&ut(gr)})}var qt=c(sr,2);{var pr=ut=>{var yt=vl(),Lt=s(yt);Lt.__click=Mt=>{Mt.stopPropagation(),x(re,e(re)===e(ht)?null:e(ht))};var $r=s(Lt);o(Lt);var Ar=c(Lt,2);{var yr=Mt=>{var _t=ll(),xt=s(_t);so(xt,{get teamId(){return e(ht)},get currentStatus(){return e(Et)},get onStatusChange(){return S(it),i(()=>it.setTeamStatus)},onClose:()=>x(re,null)}),o(_t),b(Mt,_t)};E(Ar,Mt=>{e(re)===e(ht)&&Mt(yr)})}o(yt),F(()=>{Oe(Lt,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(Et)==="covered"?"text-green-400":e(Et)==="partially-covered"?"text-[#fbbf24]":e(Et)==="planned"?"text-[#facc15]":"text-white/40"}`),Wt(Lt,"title",`Coverage: ${e(Et)??""}`),y($r,`${e(Et)==="covered"&&"â"}
												${e(Et)==="partially-covered"&&"â"}
												${e(Et)==="planned"&&"ð"}
												${e(Et)==="not-covered"&&"â"}`)}),b(ut,yt)};E(qt,ut=>{d()&&e(ht)&&ut(pr)})}o(Sr),F((ut,yt,Lt)=>{Oe(Sr,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(jt)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(Dt)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(zt)?"opacity-30":""} ${e(Gt)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(vr)?"opacity-60":""}`),Jt(Sr,`left: ${e(xr)??""}%; width: ${e(Pr)??""}%; background-color: ${e(da)??""}; border-color: ${e(Ca)??""}; min-width: 100px; z-index: ${e(la)??""};`),Wt(Sr,"title",`${e($e),i(()=>e($e).CompleteShortName)??""}: ${e($e),i(()=>e($e).FirstTeamText)??""} vs ${e($e),i(()=>e($e).SecondTeamText)??""} - ${ut??""}${e(Xt)?" (Click to see conflicts)":" (Click to add to plan)"}${e(St)?` [Priority: ${e(St)}]`:""}${e(or)&&!e(Gt)?" [Easy opportunity]":""}${e(Et)!=="not-covered"?` [Coverage: ${e(Et)}]`:""}`),Oe(Or,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(ht)?"cursor-pointer hover:underline":""}`),y(Da,(S(e(ht)),e($e),i(()=>e(ht)||e($e).Division.CodeAlias))),y(at,`vs ${yt??""}`),y(nr,Lt)},[()=>(S(Ke),e($e),i(()=>Ke(e($e).ScheduledStartDateTime))),()=>(S(e(Lr)),i(()=>e(Lr).length>20?e(Lr).substring(0,17)+"...":e(Lr))),()=>(S(Ke),e($e),i(()=>Ke(e($e).ScheduledStartDateTime)))]),b(It,Sr)}),o(Ct),o(Ze),F(()=>{y(gt,e(Ie)),y(Pe,`${S(e(ye)),i(()=>e(ye).length)??""} match${S(e(ye)),i(()=>e(ye).length!==1?"es":"")??""}`)}),b(be,Ze)}),o(pt),o(Ve);var rt=c(Ve,2);{var lt=be=>{Bd(be,{get match(){return e(B)},get conflictingMatches(){return e(te)},onClose:()=>x(B,null),onNextConflict:q,onPreviousConflict:ke,get currentIndex(){return e(X)},get totalConflicts(){return e(R),i(()=>e(R).length)},get conflictProgress(){return e(ne)}})};E(rt,be=>{e(B)&&be(lt)})}var ft=c(rt,2);{var kt=be=>{{let Ie=Z(()=>(e(Ce),e(le),i(()=>e(Ce).getScore(e(le).MatchId))));Ko(be,{get matchId(){return e(le),i(()=>e(le).MatchId)},get team1Name(){return e(le),i(()=>e(le).FirstTeamText)},get team2Name(){return e(le),i(()=>e(le).SecondTeamText)},get currentScore(){return e(Ie)},onScoreUpdate:(ye,Ze)=>{e(Ce).updateScore(e(le).MatchId,ye,Ze)},onClose:()=>x(le,null)})}};E(ft,be=>{e(le),e(Ce),i(()=>e(le)&&e(Ce).isClaimOwner(e(le).MatchId))&&be(kt)})}var bt=c(ft,2);{var Be=be=>{var Ie=ml();Ie.__click=()=>x(ve,null),b(be,Ie)};E(bt,be=>{e(ve)!==null&&be(Be)})}var ct=c(bt,2);{var vt=be=>{var Ie=xl();Ie.__click=()=>x(re,null),b(be,Ie)};E(ct,be=>{e(re)!==null&&be(vt)})}o(J),F((be,Ie)=>{Oe(L,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(ee,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Se,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(We,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(He,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),y(Ge,`Timeline: ${be??""} - ${Ie??""} `)},[()=>(S(Ke),e($),i(()=>Ke(e($)))),()=>(S(Ke),e(m),i(()=>Ke(e(m))))]),b(N,J)};E(M,N=>{e(g),i(()=>e(g).length===0)?N(j):N(A,!1)})}b(n,ae),Ft(),v()}Vt(["click","change"]);function Wr(n){return n.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}function za(n){const r=new Date(n),t=r.getUTCFullYear(),a=String(r.getUTCMonth()+1).padStart(2,"0"),d=String(r.getUTCDate()).padStart(2,"0"),l=String(r.getUTCHours()).padStart(2,"0"),v=String(r.getUTCMinutes()).padStart(2,"0"),u=String(r.getUTCSeconds()).padStart(2,"0");return`${t}${a}${d}T${l}${v}${u}Z`}function pl(n,r){return`match-${n}-${r}@coursync.local`}function hl(n,r,t,a){const d=Date.now();let l=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CourtSync//Coverage Plan//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",`X-WR-CALNAME:${Wr(a)}`,`X-WR-CALDESC:${Wr("Volleyball Match Coverage Plan")}`,"X-WR-TIMEZONE:UTC"].join(`\r
`)+`\r
`;return n.forEach(v=>{const u=r(v),h=t(v),w=u?`${u} vs ${h}`:`${v.FirstTeamText} vs ${v.SecondTeamText}`,g=[`Court: ${v.CourtName}`,`Division: ${v.Division.CodeAlias}`,`First Team: ${v.FirstTeamText}`,`Second Team: ${v.SecondTeamText}`].join("\\n"),p=Wr(v.CourtName),k=Wr(w),$=Wr(g),m=v.ScheduledStartDateTime,f=v.ScheduledEndDateTime,D=m-5*60*1e3,C=za(D),I=za(f),W=za(d),te=pl(v.MatchId,m);l+=["BEGIN:VEVENT",`UID:${te}`,`DTSTAMP:${W}`,`DTSTART:${C}`,`DTEND:${I}`,`SUMMARY:${k}`,`DESCRIPTION:${$}`,`LOCATION:${p}`,"SEQUENCE:0","STATUS:CONFIRMED","TRANSP:OPAQUE"].join(`\r
`)+`\r
`,l+=["BEGIN:VALARM","TRIGGER:-PT15M","ACTION:DISPLAY",`DESCRIPTION:${Wr(`Match starts in 15 minutes: ${w}`)}`,"END:VALARM"].join(`\r
`)+`\r
`,l+=`END:VEVENT\r
`}),l+=`END:VCALENDAR\r
`,l}const _l=(n,r,t)=>{const a=n.length,d=r.size,l=a>0?d/a*100:0,v=n.filter(m=>r.has(m.MatchId)).reduce((m,f)=>{const _=(f.ScheduledEndDateTime-f.ScheduledStartDateTime)/6e4;return m+_},0),u=m=>{const _=(m.InvolvedTeam==="first"?m.FirstTeamText:m.SecondTeamText).match(/(\d+-\d+)/);return _?_[1]:""},h=new Set,w=new Set;n.forEach(m=>{const f=u(m);f&&(h.add(f),r.has(m.MatchId)&&w.add(f))});const g=w.size,p=h.size,k=p>0?a/p:0,$=Array.from(r).filter(m=>t.has(m)).length;return{totalMatches:a,coveredMatches:d,coveragePercentage:l,totalCoverageTime:v,teamsCovered:g,totalTeams:p,averageMatchesPerTeam:k,conflictsInPlan:$}},Sl=(n,r)=>{const t=d=>{const v=(d.InvolvedTeam==="first"?d.FirstTeamText:d.SecondTeamText).match(/(\d+-\d+)/);return v?v[1]:""},a=new Map;return n.forEach(d=>{const l=t(d);if(l){const v=a.get(l)||{total:0,covered:0};v.total++,r.has(d.MatchId)&&v.covered++,a.set(l,v)}}),Array.from(a.entries()).map(([d,l])=>({teamId:d,totalMatches:l.total,coveredMatches:l.covered,coveragePercentage:l.total>0?l.covered/l.total*100:0})).sort((d,l)=>l.coveragePercentage-d.coveragePercentage)},ko=n=>{if(n<60)return`${Math.round(n)}m`;const r=Math.floor(n/60),t=Math.round(n%60);return t===0?`${r}h`:`${r}h ${t}m`};var yl=T('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9] truncate"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div> <div class="text-xs text-[#9fa2ab] w-12 text-right"> </div></div></div>'),wl=T('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-sm font-medium text-[#f8f8f9] mb-4">Team Coverage Breakdown</div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div>'),Tl=T('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Teams Covered</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Total Time</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]">coverage time</div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Conflicts</div> <div> </div> <div class="text-xs text-[#9fa2ab]">in coverage plan</div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-[#f8f8f9]">Coverage Progress</div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="w-full h-3 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div></div> <!> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Avg Matches/Team</div> <div class="text-xl font-bold text-[#f8f8f9]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage Efficiency</div> <div class="text-xl font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1">teams covered ratio</div></div></div></div>');function Ml(n,r){At(r,!1);const t=O(),a=O();let d=Ee(r,"matches",8);const l=ta(d()),u=tr(Pt);xe(()=>S(d()),()=>{x(t,_l(d(),u,l))}),xe(()=>S(d()),()=>{x(a,Sl(d(),u))}),Bt(),Rt();var h=Tl(),w=s(h),g=s(w),p=c(s(g),2),k=s(p);o(p);var $=c(p,2),m=s($);o($),o(g);var f=c(g,2),_=c(s(f),2),D=s(_,!0);o(_);var C=c(_,2),I=s(C);o(C),o(f);var W=c(f,2),te=c(s(W),2),R=s(te,!0);o(te),Cr(2),o(W);var fe=c(W,2),ne=c(s(fe),2),X=s(ne,!0);o(ne),Cr(2),o(fe),o(w);var se=c(w,2),ge=s(se),B=c(s(ge),2),de=s(B);o(B),o(ge);var ve=c(ge,2),re=s(ve);o(ve),o(se);var le=c(se,2);{var Y=we=>{var U=wl(),z=c(s(U),2);st(z,5,()=>e(a),nt,(ae,M)=>{var j=yl(),A=s(j),N=s(A),J=s(N);o(N);var ue=c(N,2),P=s(ue);o(ue),o(A);var K=c(A,2),L=s(K),ee=s(L);o(L);var Se=c(L,2),me=s(Se);o(Se),o(K),o(j),F((Q,H)=>{y(J,`Team ${e(M),i(()=>e(M).teamId)??""}`),y(P,`${e(M),i(()=>e(M).coveredMatches)??""}/${e(M),i(()=>e(M).totalMatches)??""} matches`),Jt(ee,`width: ${Q??""}%;`),y(me,`${H??""}%`)},[()=>(e(M),i(()=>Math.min(e(M).coveragePercentage,100))),()=>(e(M),i(()=>e(M).coveragePercentage.toFixed(0)))]),b(ae,j)}),o(z),o(U),b(we,U)};E(le,we=>{e(a),i(()=>e(a).length>0)&&we(Y)})}var he=c(le,2),Ce=s(he),_e=c(s(Ce),2),G=s(_e,!0);o(_e),o(Ce);var oe=c(Ce,2),q=c(s(oe),2),ke=s(q);o(q),Cr(2),o(oe),o(he),o(h),F((we,U,z,ae,M,j)=>{y(k,`${we??""}%`),y(m,`${e(t),i(()=>e(t).coveredMatches)??""} of ${e(t),i(()=>e(t).totalMatches)??""} matches`),y(D,(e(t),i(()=>e(t).teamsCovered))),y(I,`of ${e(t),i(()=>e(t).totalTeams)??""} teams`),y(R,U),Oe(ne,1,`text-2xl font-bold mb-1 ${e(t),i(()=>e(t).conflictsInPlan>0?"text-red-400":"text-[#f8f8f9]")??""}`),y(X,(e(t),i(()=>e(t).conflictsInPlan))),y(de,`${z??""}%`),Jt(re,`width: ${ae??""}%;`),y(G,M),y(ke,`${j??""}%`)},[()=>(e(t),i(()=>e(t).coveragePercentage.toFixed(1))),()=>(S(ko),e(t),i(()=>ko(e(t).totalCoverageTime))),()=>(e(t),i(()=>e(t).coveragePercentage.toFixed(1))),()=>(e(t),i(()=>Math.min(e(t).coveragePercentage,100))),()=>(e(t),i(()=>e(t).averageMatchesPerTeam.toFixed(1))),()=>(e(t),i(()=>e(t).totalMatches>0?(e(t).teamsCovered/e(t).totalTeams*100).toFixed(1):"0"))]),b(n,h),Ft()}const Cl=(n,r,t,a)=>{const d=new Map;return n.forEach(l=>{const v=a(l);if(!v)return;const u=d.get(v)||{total:0,covered:0,planned:0};u.total++,r.has(l.MatchId)&&u.covered++,t.get(v)==="planned"&&u.planned++,d.set(v,u)}),Array.from(d.entries()).map(([l,v])=>({teamId:l,status:t.get(l)||"not-covered",totalMatches:v.total,coveredMatches:v.covered,plannedMatches:v.planned,coveragePercentage:v.total>0?v.covered/v.total*100:0})).sort((l,v)=>{const u={"not-covered":0,planned:1,"partially-covered":2,covered:3},h=u[l.status],w=u[v.status];return h!==w?h-w:l.coveragePercentage-v.coveragePercentage})},kl=(n,r,t,a)=>{const d=new Map,l=new Map;n.forEach(m=>{const f=a(m);if(!f)return;const _=t.get(f)||"not-covered";d.has(f)||d.set(f,_);const D=l.get(f)||{total:0,covered:0,planned:0};D.total++,r.has(m.MatchId)&&D.covered++,_==="planned"&&D.planned++,l.set(f,D)});const v=d.size,u=Array.from(d.values()).filter(m=>m==="covered").length,h=Array.from(d.values()).filter(m=>m==="partially-covered").length,w=Array.from(d.values()).filter(m=>m==="planned").length,g=Array.from(d.values()).filter(m=>m==="not-covered").length,p=n.length,k=r.size,$=Array.from(l.values()).reduce((m,f)=>m+f.planned,0);return{totalTeams:v,coveredTeams:u,partiallyCoveredTeams:h,plannedTeams:w,uncoveredTeams:g,coveragePercentage:v>0?(u+h)/v*100:0,plannedPercentage:v>0?w/v*100:0,totalMatches:p,coveredMatches:k,plannedMatches:$}},$l=(n,r)=>{const t=[];return t.push("Coverage Statistics Report"),t.push(`Generated: ${new Date().toLocaleString()}`),t.push(""),t.push("Summary"),t.push(`Total Teams,${r.totalTeams}`),t.push(`Covered Teams,${r.coveredTeams}`),t.push(`Partially Covered Teams,${r.partiallyCoveredTeams}`),t.push(`Planned Teams,${r.plannedTeams}`),t.push(`Uncovered Teams,${r.uncoveredTeams}`),t.push(`Coverage Percentage,${r.coveragePercentage.toFixed(1)}%`),t.push(`Planned Percentage,${r.plannedPercentage.toFixed(1)}%`),t.push(""),t.push("Team Breakdown"),t.push("Team ID,Status,Total Matches,Covered Matches,Planned Matches,Coverage Percentage"),n.forEach(a=>{t.push(`${a.teamId},${a.status},${a.totalMatches},${a.coveredMatches},${a.plannedMatches},${a.coveragePercentage.toFixed(1)}%`)}),t.join(`
`)},Il=(n,r)=>JSON.stringify({generated:new Date().toISOString(),summary:r,teams:n},null,2);var Dl=T('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="flex items-center gap-2 flex-shrink-0"><div></div> <div class="text-sm font-medium text-[#f8f8f9]"> </div></div> <div class="text-xs text-[#9fa2ab]"> <!></div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div></div></div> <div class="text-xs text-[#9fa2ab] w-12 text-right"> </div></div></div>'),El=T('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Covered</div> <div class="text-2xl font-bold text-green-400 mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Planned</div> <div class="text-2xl font-bold text-[#eab308] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Uncovered</div> <div class="text-2xl font-bold text-[#808593] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-[#f8f8f9]">Overall Coverage Progress</div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="w-full h-3 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><div class="text-sm font-medium text-[#f8f8f9]">Team Coverage Breakdown</div> <div class="flex gap-2"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export CSV</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export JSON</button></div></div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div></div>');function Nl(n,r){At(r,!1);const t=O(),a=O(),d=O();let l=Ee(r,"matches",8);const u=tr(Pt);function h(){const ae=$l(e(a),e(d)),M=new Blob([ae],{type:"text/csv"}),j=URL.createObjectURL(M),A=document.createElement("a");A.href=j,A.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.csv`,A.click(),URL.revokeObjectURL(j)}function w(){const ae=Il(e(a),e(d)),M=new Blob([ae],{type:"application/json"}),j=URL.createObjectURL(M),A=document.createElement("a");A.href=j,A.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.json`,A.click(),URL.revokeObjectURL(j)}xe(()=>(S(l()),it),()=>{x(t,(()=>{const ae=new Map;return l().forEach(M=>{const j=Xe(M);j&&ae.set(j,it.getTeamStatus(j))}),ae})())}),xe(()=>(S(l()),e(t),Xe),()=>{x(a,Cl(l(),u,e(t),Xe))}),xe(()=>(S(l()),e(t),Xe),()=>{x(d,kl(l(),u,e(t),Xe))}),Bt(),Rt();var g=El(),p=s(g),k=s(p),$=c(s(k),2),m=s($);o($);var f=c($,2),_=s(f);o(f),o(k);var D=c(k,2),C=c(s(D),2),I=s(C,!0);o(C);var W=c(C,2),te=s(W);o(W),o(D);var R=c(D,2),fe=c(s(R),2),ne=s(fe,!0);o(fe);var X=c(fe,2),se=s(X);o(X),o(R);var ge=c(R,2),B=c(s(ge),2),de=s(B,!0);o(B);var ve=c(B,2),re=s(ve);o(ve),o(ge),o(p);var le=c(p,2),Y=s(le),he=c(s(Y),2),Ce=s(he);o(he),o(Y);var _e=c(Y,2),G=s(_e);o(_e),o(le);var oe=c(le,2),q=s(oe),ke=c(s(q),2),we=s(ke);we.__click=h;var U=c(we,2);U.__click=w,o(ke),o(q);var z=c(q,2);st(z,5,()=>e(a),nt,(ae,M)=>{var j=Dl(),A=s(j),N=s(A),J=s(N),ue=c(J,2),P=s(ue);o(ue),o(N);var K=c(N,2),L=s(K),ee=c(L);{var Se=Ae=>{var We=Do();F(()=>y(We,`â¢ ${e(M),i(()=>e(M).plannedMatches)??""} planned`)),b(Ae,We)};E(ee,Ae=>{e(M),i(()=>e(M).plannedMatches>0)&&Ae(Se)})}o(K),o(A);var me=c(A,2),Q=s(me),H=s(Q);o(Q);var pe=c(Q,2),Me=s(pe);o(pe),o(me),o(j),F((Ae,We)=>{Oe(J,1,`w-3 h-3 rounded ${e(M),i(()=>e(M).status==="covered"?"bg-green-500":e(M).status==="partially-covered"?"bg-[#f59e0b]":e(M).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(P,`Team ${e(M),i(()=>e(M).teamId)??""}`),y(L,`${e(M),i(()=>e(M).coveredMatches)??""}/${e(M),i(()=>e(M).totalMatches)??""} matches `),Oe(H,1,`h-full transition-all duration-300 ${e(M),i(()=>e(M).status==="covered"?"bg-green-500":e(M).status==="partially-covered"?"bg-[#f59e0b]":e(M).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),Jt(H,`width: ${Ae??""}%;`),y(Me,`${We??""}%`)},[()=>(e(M),i(()=>Math.min(e(M).coveragePercentage,100))),()=>(e(M),i(()=>e(M).coveragePercentage.toFixed(0)))]),b(ae,j)}),o(z),o(oe),o(g),F((ae,M,j,A,N)=>{y(m,`${ae??""}%`),y(_,`${e(d),i(()=>e(d).coveredTeams+e(d).partiallyCoveredTeams)??""} of ${e(d),i(()=>e(d).totalTeams)??""} teams`),y(I,(e(d),i(()=>e(d).coveredTeams))),y(te,`${e(d),i(()=>e(d).partiallyCoveredTeams)??""} partially covered`),y(ne,(e(d),i(()=>e(d).plannedTeams))),y(se,`${M??""}% of teams`),y(de,(e(d),i(()=>e(d).uncoveredTeams))),y(re,`${j??""}% remaining`),y(Ce,`${A??""}%`),Jt(G,`width: ${N??""}%;`)},[()=>(e(d),i(()=>e(d).coveragePercentage.toFixed(1))),()=>(e(d),i(()=>e(d).plannedPercentage.toFixed(1))),()=>(e(d),i(()=>e(d).totalTeams>0?(e(d).uncoveredTeams/e(d).totalTeams*100).toFixed(1):0)),()=>(e(d),i(()=>e(d).coveragePercentage.toFixed(1))),()=>(e(d),i(()=>Math.min(e(d).coveragePercentage,100)))]),b(n,g),Ft()}Vt(["click"]);const $o="teamMembers",Io="teamAssignments",qa=["#eab308","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Pl(){const{subscribe:n,set:r,update:t}=Zt([]),{subscribe:a,set:d,update:l}=Zt(new Map),{subscribe:v,set:u}=Zt(null);{try{const g=localStorage.getItem($o);if(g){const p=JSON.parse(g);r(p),p.length>0&&u(p[0].id)}else{const p={id:"you",name:"You",color:qa[0],createdAt:Date.now()};r([p]),u("you")}}catch(g){console.error("Failed to load team coordination data:",g)}try{const g=localStorage.getItem(Io);if(g){const p=JSON.parse(g);d(new Map(Object.entries(p)))}}catch(g){console.error("Failed to load team assignments:",g)}}const h=g=>{try{localStorage.setItem($o,JSON.stringify(g))}catch(p){console.error("Failed to save team members:",p)}},w=g=>{try{const p=Object.fromEntries(g);localStorage.setItem(Io,JSON.stringify(p))}catch(p){console.error("Failed to save team assignments:",p)}};return{members:{subscribe:n},assignments:{subscribe:a},currentMemberId:{subscribe:v},setCurrentMemberId:g=>{u(g)},addMember:g=>{let p=new Set;n(m=>{p=new Set(m.map(f=>f.color))})();const k=qa.find(m=>!p.has(m))||qa[0],$={id:`member-${Date.now()}`,name:g,color:k,createdAt:Date.now()};return t(m=>{const f=[...m,$];return h(f),f}),u($.id),$.id},removeMember:g=>{t(p=>{const k=p.filter($=>$.id!==g);return h(k),k}),l(p=>{const k=new Map(p);return Array.from(k.entries()).forEach(([$,m])=>{m===g&&k.delete($)}),w(k),k}),n(p=>{p.length>0&&u(p[0].id)})()},updateMember:(g,p)=>{t(k=>{const $=k.map(m=>m.id===g?{...m,...p}:m);return h($),$})},assignTeam:(g,p)=>{l(k=>{const $=new Map(k);return $.set(g,p),w($),$})},unassignTeam:g=>{l(p=>{const k=new Map(p);return k.delete(g),w(k),k})},getTeamAssignment:g=>{let p=null;return a(k=>{p=k.get(g)||null})(),p},getMember:g=>{let p=null;return n(k=>{p=k.find($=>$.id===g)||null})(),p},getCurrentMember:()=>{let g=null;if(v(k=>{g=k})(),!g)return null;let p=null;return n(k=>{p=k.find($=>$.id===g)||null})(),p},exportCoverageStatus:(g,p)=>{let k=null;v(I=>{k=I})();const $=p||k;if(!$)return JSON.stringify({});let m=null;n(I=>{m=I.find(W=>W.id===$)||null})();let f=new Map;a(I=>{f=I})();const _=Array.from(f.entries()).filter(([I,W])=>W===$).map(([I])=>I),D={};Array.from(g.entries()).forEach(([I,W])=>{_.includes(I)&&(D[I]=W)});const C={memberId:$,memberName:(m==null?void 0:m.name)||"Unknown",exportedAt:new Date().toISOString(),assignments:_.map(I=>({teamId:I})),coverageStatus:D};return JSON.stringify(C,null,2)},importCoverageStatus:(g,p="merge")=>{try{const k=JSON.parse(g);return!k.coverageStatus||!k.memberId?{success:!1,error:"Invalid data format: missing coverageStatus or memberId"}:(p==="merge"&&k.assignments&&l($=>{const m=new Map($);return k.assignments.forEach(f=>{m.set(f.teamId,k.memberId)}),w(m),m}),{success:!0})}catch(k){return{success:!1,error:k instanceof Error?k.message:"Unknown error"}}},mergeCoverageStatuses:g=>{const p=new Map;return g.forEach(({coverageStatus:k})=>{Object.entries(k).forEach(([$,m])=>{const f=p.get($);if(!f)p.set($,m);else{const _={covered:3,"partially-covered":2,planned:1,"not-covered":0};_[m]>_[f]&&p.set($,m)}})}),p}}}const wt=Pl();var Ol=T('<div class="mb-4 p-3 rounded bg-[#454654] border border-[#525463]"><div class="flex gap-2"><input type="text" placeholder="Member name" class="flex-1 px-3 py-2 text-sm rounded bg-[#3b3c48] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"/> <button class="px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Add</button></div></div>'),Al=T('<input type="text" class="flex-1 px-2 py-1 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"/>'),Fl=T('<span class="text-[10px] text-[#9fa2ab]">(Active)</span>'),Rl=T('<span class="text-[10px] text-[#9fa2ab]"> </span>'),jl=T('<div class="flex items-center gap-2 flex-1 min-w-0"><button> </button> <!> <!></div>'),Ll=T('<button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" title="Edit name">âï¸</button>'),Ul=T('<button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-red-400 transition-colors" title="Remove member">â</button>'),Wl=T('<div><div class="flex items-center gap-3 flex-1 min-w-0"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <!></div> <div class="flex items-center gap-2 flex-shrink-0"><!> <!></div></div>'),Bl=T('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Team Members</h3> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors"> </button></div> <!> <div class="space-y-2"></div></div>');function Hl(n,r){At(r,!1);const t=O();let a=O(!1),d=O(""),l=O(null);function v(){e(d).trim()&&(wt.addMember(e(d).trim()),x(d,""),x(a,!1))}function u(f){if(wt.members.length>1){const _=wt.getMember(f);confirm(`Remove ${_==null?void 0:_.name}?`)&&wt.removeMember(f)}else alert("Cannot remove the last team member")}xe(()=>wt,()=>{x(t,(()=>{const f=new Map;return Array.from(wt.assignments.values()).forEach(_=>{f.set(_,(f.get(_)||0)+1)}),f})())}),Bt(),Rt();var h=Bl(),w=s(h),g=c(s(w),2);g.__click=()=>x(a,!e(a));var p=s(g,!0);o(g),o(w);var k=c(w,2);{var $=f=>{var _=Ol(),D=s(_),C=s(D);Yr(C),Br(C);var I=c(C,2);I.__click=v,o(D),o(_),Dr("keypress",C,W=>W.key==="Enter"&&v()),fr(C,()=>e(d),W=>x(d,W)),b(f,_)};E(k,f=>{e(a)&&f($)})}var m=c(k,2);st(m,5,()=>(S(wt),i(()=>wt.members)),nt,(f,_)=>{const D=Z(()=>(S(wt),e(_),i(()=>wt.currentMemberId===e(_).id))),C=Z(()=>(e(l),e(_),i(()=>e(l)===e(_).id))),I=Z(()=>(e(t),e(_),i(()=>e(t).get(e(_).id)||0)));var W=Wl(),te=s(W),R=s(te),fe=c(R,2);{var ne=re=>{var le=Al();Yr(le),Br(le),F(()=>Rn(le,(e(_),i(()=>e(_).name)))),Dr("blur",le,Y=>{Y.target.value.trim()&&Y.target.value!==e(_).name&&wt.updateMember(e(_).id,{name:Y.target.value.trim()}),x(l,null)}),Dr("keypress",le,Y=>{Y.key==="Enter"&&Y.currentTarget.blur()}),b(re,le)},X=re=>{var le=jl(),Y=s(le);Y.__click=()=>wt.setCurrentMemberId(e(_).id);var he=s(Y,!0);o(Y);var Ce=c(Y,2);{var _e=q=>{var ke=Fl();b(q,ke)};E(Ce,q=>{e(D)&&q(_e)})}var G=c(Ce,2);{var oe=q=>{var ke=Rl(),we=s(ke);o(ke),F(()=>y(we,`(${e(I)??""} team${e(I)!==1?"s":""})`)),b(q,ke)};E(G,q=>{e(I)>0&&q(oe)})}o(le),F(()=>{Oe(Y,1,`text-sm font-medium truncate ${e(D)?"text-[#facc15]":"text-[#f8f8f9] hover:text-[#facc15]"} transition-colors`),y(he,(e(_),i(()=>e(_).name)))}),b(re,le)};E(fe,re=>{e(C)?re(ne):re(X,!1)})}o(te);var se=c(te,2),ge=s(se);{var B=re=>{var le=Ll();le.__click=()=>x(l,e(_).id),b(re,le)};E(ge,re=>{e(C)||re(B)})}var de=c(ge,2);{var ve=re=>{var le=Ul();le.__click=()=>u(e(_).id),b(re,le)};E(de,re=>{S(wt),i(()=>wt.members.length>1)&&re(ve)})}o(se),o(W),F(()=>{Oe(W,1,`flex items-center justify-between p-3 rounded border transition-colors ${e(D)?"border-[#eab308] bg-[#eab308]/10":"border-[#454654] bg-[#3b3c48]"}`),Jt(R,`background-color: ${e(_),i(()=>e(_).color)??""}`)}),b(f,W)}),o(m),o(h),F(()=>y(p,e(a)?"Cancel":"+ Add Member")),b(n,h),Ft()}Vt(["click"]);const Yl=n=>{try{const r=JSON.stringify(n);return btoa(encodeURIComponent(r))}catch(r){throw console.error("Failed to encode coverage data:",r),new Error("Failed to encode coverage data")}},Jl=n=>{try{const r=n.startsWith("#")?n.slice(1):n,t=decodeURIComponent(atob(r)),a=JSON.parse(t);return!a.memberId||!a.coverageStatus?null:a}catch(r){return console.error("Failed to decode coverage data:",r),null}},Vl=n=>{const r=Yl(n),a=`${window.location.origin+window.location.pathname}#coverage=${r}`;return a.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using compression or export/import instead."),a},Zo=()=>{const n=window.location.hash;if(!n||!n.includes("coverage="))return null;const r=n.match(/coverage=([^&]+)/);return r?Jl(r[1]):null},Gl=()=>Zo()!==null;var zl=T("<option> </option>"),ql=T('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-6 max-w-md w-full"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Transfer Coverage</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <div class="space-y-4"><div><label class="text-xs text-[#9fa2ab] mb-1 block">Team</label> <div class="text-sm text-[#f8f8f9]"> </div></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">From</label> <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div> <span class="text-sm text-[#f8f8f9]"> </span></div></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">Transfer To</label> <select class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Select team member...</option><!></select></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">Notes (optional)</label> <textarea placeholder="Add any notes about this handoff..." class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none resize-none"></textarea></div></div> <div class="flex gap-2 mt-6"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Cancel</button></div></div></div>');function Xl(n,r){At(r,!1);const t=O();let a=Ee(r,"teamId",8),d=Ee(r,"fromMemberId",8),l=Ee(r,"onClose",8),v=Ee(r,"onHandoff",8),u=O(""),h=O("");const w=wt.getMember(d());function g(){e(u)&&(v()(e(u),e(h)),l()())}xe(()=>S(d()),()=>{x(t,wt.members.filter(Y=>Y.id!==d()))}),Bt(),Rt();var p=ql(),k=s(p),$=s(k),m=c(s($),2);m.__click=function(...Y){var he;(he=l())==null||he.apply(this,Y)},o($);var f=c($,2),_=s(f),D=c(s(_),2),C=s(D);o(D),o(_);var I=c(_,2),W=c(s(I),2),te=s(W),R=c(te,2),fe=s(R,!0);o(R),o(W),o(I);var ne=c(I,2),X=c(s(ne),2);F(()=>{e(u),to(()=>{e(t)})});var se=s(X);se.value=se.__value="";var ge=c(se);st(ge,1,()=>e(t),nt,(Y,he)=>{var Ce=zl(),_e=s(Ce,!0);o(Ce);var G={};F(()=>{y(_e,(e(he),i(()=>e(he).name))),G!==(G=(e(he),i(()=>e(he).id)))&&(Ce.value=(Ce.__value=(e(he),i(()=>e(he).id)))??"")}),b(Y,Ce)}),o(X),o(ne);var B=c(ne,2),de=c(s(B),2);Hr(de),Wt(de,"rows",3),o(B),o(f);var ve=c(f,2),re=s(ve);re.__click=g;var le=c(re,2);le.__click=function(...Y){var he;(he=l())==null||he.apply(this,Y)},o(ve),o(k),o(p),F(()=>{y(C,`Team ${a()??""}`),Jt(te,`background-color: ${i(()=>w==null?void 0:w.color)??""}`),y(fe,i(()=>(w==null?void 0:w.name)||"Unknown")),re.disabled=!e(u)}),ro(X,()=>e(u),Y=>x(u,Y)),fr(de,()=>e(h),Y=>x(h,Y)),b(n,p),Ft()}Vt(["click"]);var Ql=T('<div class="mt-2 text-xs text-red-400"> </div>'),Kl=T('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Import Coverage Status</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <textarea placeholder="Paste JSON data here..." class="w-full h-64 px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none font-mono"></textarea> <!> <div class="flex gap-2 mt-4"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Import</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Cancel</button></div></div></div>'),Zl=T('<div class="flex items-center gap-3"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div></div>'),ev=T('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-4">Coverage by Team Member</h3> <div class="space-y-3"></div></div>'),tv=T("<option> </option>"),rv=T('<div class="flex items-center justify-between p-2 rounded bg-[#454654] border border-[#525463]"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-[#f8f8f9]"> </span> <span class="text-xs text-[#9fa2ab]"> </span></div> <select class="px-2 py-1 text-xs rounded bg-[#3b3c48] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Assign...</option><!></select></div>'),av=T('<div class="mb-6"><h4 class="text-xs font-medium text-[#808593] uppercase tracking-wider mb-2"> </h4> <div class="space-y-1"></div></div>'),ov=T('<div class="flex items-center justify-between p-2 rounded bg-[#454654] border border-[#525463]"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-[#f8f8f9]"> </span> <span class="text-xs text-[#9fa2ab]"> </span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-[#eab308] transition-colors" title="Transfer to another member">âª</button> <button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-red-400 transition-colors" title="Unassign">â</button></div></div>'),nv=T('<div class="mb-6"><div class="flex items-center gap-2 mb-2"><div class="w-3 h-3 rounded-full"></div> <h4 class="text-xs font-medium text-[#f8f8f9] uppercase tracking-wider"> </h4></div> <div class="space-y-1"></div></div>'),sv=T('<div class="space-y-6"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Share Coverage Status</h3> <div class="flex gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export JSON</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Generate Link</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Import JSON</button></div></div> <p class="text-xs text-[#9fa2ab]">Export your coverage status to share with team members, generate a shareable link, or import coverage status from others.</p></div> <!> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Total Teams</div> <div class="text-2xl font-bold text-[#f8f8f9]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Assigned</div> <div class="text-2xl font-bold text-green-400"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Unassigned</div> <div class="text-2xl font-bold text-[#808593]"> </div></div></div> <!> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-4">Team Assignments</h3> <!> <!></div> <!></div>');function iv(n,r){At(r,!1);const t=O(),a=O(),d=O(),l=O();let v=Ee(r,"matches",8),u=O(!1),h=O(""),w=O(null),g=O(null);na(()=>{if(Gl()){const U=Zo();U&&(x(h,JSON.stringify(U,null,2)),x(u,!0),window.history.replaceState(null,"",window.location.pathname))}});function p(){const U=wt.exportCoverageStatus(e(t)),z=new Blob([U],{type:"application/json"}),ae=URL.createObjectURL(z),M=document.createElement("a");M.href=ae,M.download=`coverage-status-${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(ae)}function k(){const U=wt.getCurrentMember();if(!U){alert("Please select a team member first");return}const z={memberId:U.id,memberName:U.name,exportedAt:new Date().toISOString(),assignments:[],coverageStatus:{}},ae=new Map;v().forEach(j=>{const A=Xe(j);A&&(ae.has(A)||ae.set(A,{teamId:A,status:it.getTeamStatus(A),assignment:wt.getTeamAssignment(A)}))}),Array.from(ae.entries()).forEach(([j,A])=>{A.assignment===U.id&&(z.assignments.push({teamId:j}),z.coverageStatus[j]=A.status)});const M=Vl(z);navigator.clipboard.writeText(M).then(()=>{alert("Shareable link copied to clipboard!")}).catch(()=>{prompt("Shareable link (copy this):",M)})}function $(U,z,ae,M){wt.assignTeam(U,ae),console.log(`Handoff: Team ${U} from ${z} to ${ae}`,M),x(g,null)}function m(){try{x(w,null);const U=wt.importCoverageStatus(e(h),"merge");if(U.success){try{const z=JSON.parse(e(h));z.coverageStatus&&Object.entries(z.coverageStatus).forEach(([ae,M])=>{it.setTeamStatus(ae,M)})}catch(z){console.error("Failed to import coverage status:",z)}x(u,!1),x(h,""),alert("Coverage status imported successfully!")}else x(w,U.error||"Import failed")}catch(U){x(w,U instanceof Error?U.message:"Unknown error")}}xe(()=>(S(v()),it),()=>{x(t,(()=>{const U=new Map;return v().forEach(z=>{const ae=Xe(z);ae&&U.set(ae,it.getTeamStatus(ae))}),U})())}),xe(()=>(S(v()),wt),()=>{x(a,(()=>{const U=new Map;return v().forEach(z=>{const ae=Xe(z);ae&&(U.has(ae)||U.set(ae,{teamId:ae,status:it.getTeamStatus(ae),assignment:wt.getTeamAssignment(ae),matches:[]}),U.get(ae).matches.push(z))}),U})())}),xe(()=>e(a),()=>{x(d,(()=>{const U=e(a).size,z=Array.from(e(a).values()).filter(A=>A.assignment!==null).length,ae=U-z,M=new Map;Array.from(e(a).values()).forEach(A=>{A.assignment&&(M.has(A.teamId)||M.set(A.teamId,[]),M.get(A.teamId).push(A.assignment))});const j=new Map;return Array.from(e(a).values()).forEach(A=>{if(A.assignment){const N=j.get(A.assignment)||{covered:0,partiallyCovered:0,planned:0,uncovered:0};A.status==="covered"?N.covered++:A.status==="partially-covered"?N.partiallyCovered++:A.status==="planned"?N.planned++:N.uncovered++,j.set(A.assignment,N)}}),{totalTeams:U,assignedTeams:z,unassignedTeams:ae,coverageByMember:j,assignmentConflicts:M}})())}),xe(()=>e(a),()=>{x(l,(()=>{const U=new Map;return Array.from(e(a).values()).forEach(z=>{const ae=z.assignment||"unassigned";U.has(ae)||U.set(ae,[]),U.get(ae).push(z)}),U})())}),Bt(),Rt();var f=sv(),_=s(f),D=s(_),C=c(s(D),2),I=s(C);I.__click=p;var W=c(I,2);W.__click=k;var te=c(W,2);te.__click=()=>x(u,!0),o(C),o(D),Cr(2),o(_);var R=c(_,2);{var fe=U=>{var z=Kl(),ae=s(z),M=s(ae),j=c(s(M),2);j.__click=()=>{x(u,!1),x(h,""),x(w,null)},o(M);var A=c(M,2);Hr(A);var N=c(A,2);{var J=L=>{var ee=Ql(),Se=s(ee,!0);o(ee),F(()=>y(Se,e(w))),b(L,ee)};E(N,L=>{e(w)&&L(J)})}var ue=c(N,2),P=s(ue);P.__click=m;var K=c(P,2);K.__click=()=>{x(u,!1),x(h,""),x(w,null)},o(ue),o(ae),o(z),fr(A,()=>e(h),L=>x(h,L)),b(U,z)};E(R,U=>{e(u)&&U(fe)})}var ne=c(R,2),X=s(ne),se=c(s(X),2),ge=s(se,!0);o(se),o(X);var B=c(X,2),de=c(s(B),2),ve=s(de,!0);o(de),o(B);var re=c(B,2),le=c(s(re),2),Y=s(le,!0);o(le),o(re),o(ne);var he=c(ne,2);{var Ce=U=>{var z=ev(),ae=c(s(z),2);st(ae,5,()=>(S(wt),i(()=>wt.members)),nt,(M,j)=>{const A=Z(()=>(e(d),e(j),i(()=>e(d).coverageByMember.get(e(j).id)||{covered:0,partiallyCovered:0,planned:0,uncovered:0}))),N=Z(()=>(S(e(A)),i(()=>e(A).covered+e(A).partiallyCovered+e(A).planned+e(A).uncovered)));var J=Zl(),ue=s(J),P=c(ue,2),K=s(P),L=s(K,!0);o(K);var ee=c(K,2),Se=s(ee);o(ee),o(P),o(J),F(()=>{Jt(ue,`background-color: ${e(j),i(()=>e(j).color)??""}`),y(L,(e(j),i(()=>e(j).name))),y(Se,`${e(N)??""} team${e(N)!==1?"s":""} â¢ ${S(e(A)),i(()=>e(A).covered)??""} covered â¢ ${S(e(A)),i(()=>e(A).planned)??""} planned`)}),b(M,J)}),o(ae),o(z),b(U,z)};E(he,U=>{S(wt),i(()=>wt.members.length>0)&&U(Ce)})}var _e=c(he,2),G=c(s(_e),2);{var oe=U=>{var z=av(),ae=s(z),M=s(ae);o(ae);var j=c(ae,2);st(j,5,()=>(e(l),i(()=>e(l).get("unassigned"))),nt,(A,N)=>{var J=rv(),ue=s(J),P=s(ue),K=c(P,2),L=s(K);o(K);var ee=c(K,2),Se=s(ee);o(ee),o(ue);var me=c(ue,2);me.__change=pe=>{pe.target.value&&wt.assignTeam(e(N).teamId,pe.target.value)};var Q=s(me);Q.value=Q.__value="";var H=c(Q);st(H,1,()=>(S(wt),i(()=>wt.members)),nt,(pe,Me)=>{var Ae=tv(),We=s(Ae,!0);o(Ae);var Le={};F(()=>{y(We,(e(Me),i(()=>e(Me).name))),Le!==(Le=(e(Me),i(()=>e(Me).id)))&&(Ae.value=(Ae.__value=(e(Me),i(()=>e(Me).id)))??"")}),b(pe,Ae)}),o(me),me.value=me.__value="",o(J),F(()=>{Oe(P,1,`w-2 h-2 rounded ${e(N),i(()=>e(N).status==="covered"?"bg-green-500":e(N).status==="partially-covered"?"bg-[#f59e0b]":e(N).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(L,`Team ${e(N),i(()=>e(N).teamId)??""}`),y(Se,`(${e(N),i(()=>e(N).matches.length)??""} matches)`)}),b(A,J)}),o(j),o(z),F(A=>y(M,`Unassigned (${A??""})`),[()=>(e(l),i(()=>e(l).get("unassigned").length))]),b(U,z)};E(G,U=>{e(l),i(()=>e(l).has("unassigned"))&&U(oe)})}var q=c(G,2);st(q,1,()=>(S(wt),i(()=>wt.members)),nt,(U,z)=>{const ae=Z(()=>(e(l),e(z),i(()=>e(l).get(e(z).id)||[])));var M=Ot(),j=dt(M);{var A=N=>{var J=nv(),ue=s(J),P=s(ue),K=c(P,2),L=s(K);o(K),o(ue);var ee=c(ue,2);st(ee,5,()=>e(ae),nt,(Se,me)=>{var Q=ov(),H=s(Q),pe=s(H),Me=c(pe,2),Ae=s(Me);o(Me);var We=c(Me,2),Le=s(We);o(We),o(H);var He=c(H,2),Ue=s(He);Ue.__click=()=>x(g,{teamId:e(me).teamId,fromMemberId:e(z).id});var V=c(Ue,2);V.__click=()=>wt.unassignTeam(e(me).teamId),o(He),o(Q),F(()=>{Oe(pe,1,`w-2 h-2 rounded ${e(me),i(()=>e(me).status==="covered"?"bg-green-500":e(me).status==="partially-covered"?"bg-[#f59e0b]":e(me).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(Ae,`Team ${e(me),i(()=>e(me).teamId)??""}`),y(Le,`(${e(me),i(()=>e(me).matches.length)??""} matches)`)}),b(Se,Q)}),o(ee),o(J),F(()=>{Jt(P,`background-color: ${e(z),i(()=>e(z).color)??""}`),y(L,`${e(z),i(()=>e(z).name)??""} (${S(e(ae)),i(()=>e(ae).length)??""})`)}),b(N,J)};E(j,N=>{S(e(ae)),i(()=>e(ae).length>0)&&N(A)})}b(U,M)}),o(_e);var ke=c(_e,2);{var we=U=>{Xl(U,{get teamId(){return e(g),i(()=>e(g).teamId)},get fromMemberId(){return e(g),i(()=>e(g).fromMemberId)},onClose:()=>x(g,null),onHandoff:(z,ae)=>$(e(g).teamId,e(g).fromMemberId,z,ae)})};E(ke,U=>{e(g)&&U(we)})}o(f),F(()=>{y(ge,(e(d),i(()=>e(d).totalTeams))),y(ve,(e(d),i(()=>e(d).assignedTeams))),y(Y,(e(d),i(()=>e(d).unassignedTeams)))}),b(n,f),Ft()}Vt(["click","change"]);var cv=T('<span class="ml-2 text-red-400"> </span>'),dv=T('<div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654] mx-4"><button>Plan</button> <button>Analytics</button> <button>Stats</button> <button>Team</button></div>'),lv=T('<div class="text-center py-12 text-[#9fa2ab] text-sm"><p>No matches selected yet</p> <p class="text-xs text-[#808593] mt-2">Click matches in the timeline or list to add them to your coverage plan</p></div>'),vv=T('<span class="ml-2 text-[#eab308]"> </span>'),uv=T('<button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Previous conflict">â Prev</button> <button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Next conflict">Next â</button>',1),fv=T('<div class="text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">ACTIVE</div>'),mv=T('<div class="flex-shrink-0 text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">KEEP</div>'),xv=T('<div class="text-[10px] text-[#808593] mt-0.5"> </div>'),bv=T('<button class="px-2 py-1 text-[10px] font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Remove</button>'),gv=T('<div><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-[#facc15] font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span></div> <!></div> <!></div>'),pv=T('<div><div class="flex items-center gap-2 mb-2"><div class="text-xs font-medium text-red-400"> </div> <!></div> <div class="space-y-2"></div></div>'),hv=T('<div class="border border-red-800/50 rounded-lg bg-red-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-red-400">â ï¸ Conflicts Detected</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> <!></p></div> <div class="flex items-center gap-2"><!> <button class="px-3 py-1.5 text-xs font-medium rounded-lg bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Auto-Resolve</button></div></div> <div class="space-y-3"></div></div>'),_v=T('<span class="text-[10px] px-1.5 py-0.5 rounded bg-[#eab308]/20 text-[#eab308] border border-[#eab308]/50">Uncovered</span>'),Sv=T('<div class="flex items-center gap-2 px-2 py-1.5 rounded bg-green-950/20 border border-green-500/30"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-green-400 font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span> <!></div> <div class="text-[10px] text-[#808593] mt-0.5"> </div></div> <button class="px-2 py-1 text-xs font-medium rounded transition-colors bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30">Add</button></div>'),yv=T('<div class="border border-green-500/50 rounded-lg bg-green-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-green-400">ð¡ Coverage Opportunities</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> </p></div></div> <div class="space-y-2"></div></div>'),wv=T('<div class="flex-shrink-0 text-[10px] font-semibold text-red-400 px-1.5 py-0.5 rounded bg-red-950/50">CONFLICT</div>'),Tv=T("<div></div>"),Mv=T('<div class="fixed inset-0 z-40"></div> <div class="absolute right-0 top-full mt-1 z-50"><!></div>',1),Cv=T('<div class="relative flex-shrink-0"><button title="Set coverage status"> </button> <!></div>'),kv=T('<div><button aria-label="Remove from plan"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></button> <!> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <div class="flex-shrink-0 w-24 text-sm font-bold text-[#facc15]"> </div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><div class="text-sm font-bold text-[#f8f8f9]"> </div> <!></div> <div class="text-xs text-[#c0c2c8] truncate"> </div></div> <!> <div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div></div>'),$v=T('<div class="space-y-2"><div class="flex items-center gap-2 pb-2 border-b border-[#454654]"><h4 class="text-sm font-semibold text-[#f8f8f9]"> </h4> <span class="text-xs text-[#808593]"> </span></div> <!></div>'),Iv=T('<div class="space-y-4"><!> <!> <div class="space-y-4"></div></div>'),Dv=T('<div class="space-y-4"><!> <!></div>'),Ev=T('<div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 border-t border-[#454654] bg-[#454654]/50"><div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Planned</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Covered</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654]">Clear Plan</button></div> <div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]" title="Copy plan to clipboard">Copy</button> <div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654]"><button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as JSON">JSON</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as CSV">CSV</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Text">TXT</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Calendar (ICS)">ð ICS</button></div></div></div>'),Nv=T('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="relative w-full max-w-3xl max-h-[90vh] border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-[#454654] bg-[#454654]/50"><div class="flex-1"><h3 class="text-base sm:text-lg font-semibold text-[#f8f8f9]">My Coverage Plan</h3> <div class="flex items-center gap-3 mt-1 flex-wrap"><p class="text-xs text-[#9fa2ab]"> <!> <!></p> <select class="px-2 py-1 text-xs rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>All Status</option><option>Uncovered</option><option>Planned</option><option>Covered</option></select></div></div> <!> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <!></div></div>');function Pv(n,r){At(r,!1);const t=O(),a=O(),d=O(),l=O(),v=O(),u=O(),h=O();let w=Ee(r,"matches",8),g=Ee(r,"onClose",8),p=O("plan"),k=O("all"),$=O(null),m=O(0),f=O([]);function _(P){return(e(a).get(P)||[]).map(L=>e(t).find(ee=>ee.MatchId===L)).filter(Boolean)}function D(){e(l).length>0&&x(m,(e(m)+1)%e(l).length)}function C(){e(l).length>0&&x(m,(e(m)-1+e(l).length)%e(l).length)}function I(P){return P.InvolvedTeam==="first"?P.SecondTeamText:P.InvolvedTeam==="second"?P.FirstTeamText:`${P.FirstTeamText} vs ${P.SecondTeamText}`}function W(){var me;const P={plan:{createdAt:new Date().toISOString(),totalMatches:e(t).length,totalCoverageTime:e(v),conflicts:e(l).length},matches:e(t).map(Q=>({MatchId:Q.MatchId,Date:Yt(Q.ScheduledStartDateTime),Time:Ke(Q.ScheduledStartDateTime),Court:Q.CourtName,Team:Xe(Q)||Q.Division.CodeAlias,Opponent:I(Q),Division:Q.Division.CodeAlias,FirstTeam:Q.FirstTeamText,SecondTeam:Q.SecondTeamText,StartTime:new Date(Q.ScheduledStartDateTime).toISOString(),EndTime:new Date(Q.ScheduledEndDateTime).toISOString()}))},K=JSON.stringify(P,null,2),L=new Blob([K],{type:"application/json"}),ee=URL.createObjectURL(L),Se=document.createElement("a");Se.href=ee,Se.download=`coverage-plan-${Yt(((me=e(t)[0])==null?void 0:me.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.json`,Se.click(),URL.revokeObjectURL(ee)}function te(){var Q;const P=["Date","Time","Court","Team","Opponent","Division","First Team","Second Team","Start Time","End Time"],K=e(t).map(H=>[Yt(H.ScheduledStartDateTime),Ke(H.ScheduledStartDateTime),H.CourtName,Xe(H)||H.Division.CodeAlias,I(H),H.Division.CodeAlias,H.FirstTeamText,H.SecondTeamText,new Date(H.ScheduledStartDateTime).toISOString(),new Date(H.ScheduledEndDateTime).toISOString()]),L=[P.join(","),...K.map(H=>H.map(pe=>`"${pe}"`).join(","))].join(`
`),ee=new Blob([L],{type:"text/csv"}),Se=URL.createObjectURL(ee),me=document.createElement("a");me.href=Se,me.download=`coverage-plan-${Yt(((Q=e(t)[0])==null?void 0:Q.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.csv`,me.click(),URL.revokeObjectURL(Se)}function R(){var Se;let P=`COVERAGE PLAN
`;P+=`${"=".repeat(50)}

`,P+=`Total Matches: ${e(t).length}
`,P+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(l).length>0&&(P+=`Conflicts: ${e(l).length}
`),P+=`
`,e(h).forEach(me=>{const Q=e(u)[me];P+=`${me}
`,P+=`${"-".repeat(50)}
`,Q.forEach(H=>{const pe=Xe(H),Me=I(H);P+=`${Ke(H.ScheduledStartDateTime)} | ${H.CourtName} | ${pe||H.Division.CodeAlias} vs ${Me}
`}),P+=`
`});const K=new Blob([P],{type:"text/plain"}),L=URL.createObjectURL(K),ee=document.createElement("a");ee.href=L,ee.download=`coverage-plan-${Yt(((Se=e(t)[0])==null?void 0:Se.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.txt`,ee.click(),URL.revokeObjectURL(L)}function fe(){var Se;const P=hl(e(t),Xe,I,"Coverage Plan"),K=new Blob([P],{type:"text/calendar;charset=utf-8"}),L=URL.createObjectURL(K),ee=document.createElement("a");ee.href=L,ee.download=`coverage-plan-${Yt(((Se=e(t)[0])==null?void 0:Se.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.ics`,ee.click(),URL.revokeObjectURL(L)}async function ne(){let P=`COVERAGE PLAN
`;P+=`${"=".repeat(50)}

`,P+=`Total Matches: ${e(t).length}
`,P+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(l).length>0&&(P+=`Conflicts: ${e(l).length}
`),P+=`
`,e(h).forEach(K=>{const L=e(u)[K];P+=`${K}
`,P+=`${"-".repeat(50)}
`,L.forEach(ee=>{const Se=Xe(ee),me=I(ee);P+=`${Ke(ee.ScheduledStartDateTime)} | ${ee.CourtName} | ${Se||ee.Division.CodeAlias} vs ${me}
`}),P+=`
`});try{await navigator.clipboard.writeText(P),alert("Coverage plan copied to clipboard!")}catch(K){console.error("Failed to copy to clipboard:",K),alert("Failed to copy to clipboard. Please try exporting instead.")}}xe(()=>(S(w()),it),()=>{if(w().length>0){const P=new Map,K=tr(Pt);w().forEach(L=>{const ee=Xe(L);if(!ee)return;const Se=P.get(ee)||{total:0,inPlan:0};Se.total++,K.has(L.MatchId)&&Se.inPlan++,P.set(ee,Se)}),P.forEach((L,ee)=>{it.updateFromPlan(ee,L.inPlan,L.total)})}}),xe(()=>(S(w()),e(k),it),()=>{x(t,(()=>{const P=tr(Pt);let K=w().filter(L=>P.has(L.MatchId)).sort((L,ee)=>L.ScheduledStartDateTime-ee.ScheduledStartDateTime);return e(k)!=="all"&&(K=K.filter(L=>{const ee=Xe(L);return ee?it.getTeamStatus(ee)===e(k):!1})),K})())}),xe(()=>e(t),()=>{x(a,ta(e(t)))}),xe(()=>(S(w()),Ka),()=>{x(d,(()=>{const P=ta(w()),L=tr(Pt),ee=new Map;return w().forEach(Se=>{const me=Xe(Se);me&&ee.set(me,it.getTeamStatus(me))}),Ka(w(),L,P,ee,Xe,{preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:5})})())}),xe(()=>(e(a),e(t)),()=>{x(l,(()=>{if(e(a).size===0)return[];const P=[],K=new Set;return e(t).forEach(L=>{if(K.has(L.MatchId))return;const ee=e(a).get(L.MatchId);if(!ee||ee.length===0)return;const Se=[L,...ee.map(me=>e(t).find(Q=>Q.MatchId===me)).filter(Boolean)];Se.forEach(me=>K.add(me.MatchId)),P.push({matches:Se.sort((me,Q)=>me.ScheduledStartDateTime-Q.ScheduledStartDateTime),conflictCount:Se.length})}),P})())}),xe(()=>(e(l),e(m)),()=>{e(l).length>0&&e(m)>=e(l).length?x(m,0):e(l).length===0&&x(m,0)}),xe(()=>(e(l),e(f),e(m)),()=>{e(l).length>0&&e(f)[e(m)]&&setTimeout(()=>{var P;(P=e(f)[e(m)])==null||P.scrollIntoView({behavior:"smooth",block:"center"})},100)}),xe(()=>e(t),()=>{x(v,(()=>{if(e(t).length===0)return 0;const P=Math.min(...e(t).map(L=>L.ScheduledStartDateTime)),K=Math.max(...e(t).map(L=>L.ScheduledEndDateTime));return Math.floor((K-P)/6e4)})())}),xe(()=>(e(t),Yt),()=>{x(u,(()=>{const P={};return e(t).forEach(K=>{const L=Yt(K.ScheduledStartDateTime);P[L]||(P[L]=[]),P[L].push(K)}),P})())}),xe(()=>e(u),()=>{x(h,Object.keys(e(u)).sort((P,K)=>{const L=new Date(P).getTime(),ee=new Date(K).getTime();return L-ee}))}),Bt(),Rt();var X=Nv(),se=s(X),ge=s(se),B=s(ge),de=c(s(B),2),ve=s(de),re=s(ve),le=c(re);{var Y=P=>{var K=Do();F(L=>y(K,`â¢ ${L??""}h ${e(v)%60}m coverage`),[()=>(e(v),i(()=>Math.floor(e(v)/60)))]),b(P,K)};E(le,P=>{e(v)>0&&P(Y)})}var he=c(le,2);{var Ce=P=>{var K=cv(),L=s(K);o(K),F(()=>y(L,`â¢ ${e(l),i(()=>e(l).length)??""} conflict${e(l),i(()=>e(l).length!==1?"s":"")??""}`)),b(P,K)};E(he,P=>{e(l),i(()=>e(l).length>0)&&P(Ce)})}o(ve);var _e=c(ve,2);_e.__change=P=>x(k,P.target.value);var G=s(_e);G.value=G.__value="all";var oe=c(G);oe.value=oe.__value="not-covered";var q=c(oe);q.value=q.__value="planned";var ke=c(q);ke.value=ke.__value="covered",o(_e);var we;jr(_e),o(de),o(B);var U=c(B,2);{var z=P=>{var K=dv(),L=s(K);L.__click=()=>x(p,"plan");var ee=c(L,2);ee.__click=()=>x(p,"analytics");var Se=c(ee,2);Se.__click=()=>x(p,"stats");var me=c(Se,2);me.__click=()=>x(p,"coordination"),o(K),F(()=>{Oe(L,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(p)==="plan"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(ee,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(p)==="analytics"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(Se,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(p)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(me,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(p)==="coordination"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(P,K)};E(U,P=>{e(t),i(()=>e(t).length>0)&&P(z)})}var ae=c(U,2);ae.__click=function(...P){var K;(K=g())==null||K.apply(this,P)},o(ge);var M=c(ge,2),j=s(M);{var A=P=>{var K=Ot(),L=dt(K);{var ee=me=>{var Q=lv();b(me,Q)},Se=me=>{var Q=Iv(),H=s(Q);{var pe=Le=>{var He=hv(),Ue=s(He),V=s(Ue),ie=c(s(V),2),Fe=s(ie),Ye=c(Fe);{var je=qe=>{var tt=vv(),Ne=s(tt);o(tt),F(()=>y(Ne,`â¢ Conflict ${e(m)+1} of ${e(l),i(()=>e(l).length)??""}`)),b(qe,tt)};E(Ye,qe=>{e(l),i(()=>e(l).length>0)&&qe(je)})}o(ie),o(V);var Re=c(V,2),Te=s(Re);{var Ge=qe=>{var tt=uv(),Ne=dt(tt);Ne.__click=C;var Je=c(Ne,2);Je.__click=D,b(qe,tt)};E(Te,qe=>{e(l),i(()=>e(l).length>1)&&qe(Ge)})}var ce=c(Te,2);ce.__click=()=>{e(l).forEach(qe=>{qe.matches.slice(1).forEach(tt=>{Pt.deselectMatch(tt.MatchId)})})},o(Re),o(Ue);var De=c(Ue,2);st(De,5,()=>e(l),nt,(qe,tt,Ne)=>{var Je=pv(),Ve=s(Je),pt=s(Ve),rt=s(pt);o(pt);var lt=c(pt,2);{var ft=bt=>{var Be=fv();b(bt,Be)};E(lt,bt=>{Ne===e(m)&&bt(ft)})}o(Ve);var kt=c(Ve,2);st(kt,5,()=>(e(tt),i(()=>e(tt).matches)),nt,(bt,Be,ct)=>{const vt=Z(()=>(S(Xe),e(Be),i(()=>Xe(e(Be))))),be=Z(()=>(e(Be),i(()=>_(e(Be).MatchId)))),Ie=Z(()=>ct===0);var ye=gv(),Ze=s(ye);{var et=Dt=>{var zt=mv();b(Dt,zt)};E(Ze,Dt=>{e(Ie)&&Dt(et)})}var ot=c(Ze,2),gt=s(ot),mt=s(gt),Pe=s(mt,!0);o(mt);var Ct=c(mt,2),ze=s(Ct,!0);o(Ct);var Tt=c(Ct,2),It=s(Tt,!0);o(Tt),o(gt);var $e=c(gt,2);{var Xt=Dt=>{var zt=xv(),ar=s(zt);o(zt),F(()=>y(ar,`Conflicts with ${S(e(be)),i(()=>e(be).length)??""} other match${S(e(be)),i(()=>e(be).length!==1?"es":"")??""}`)),b(Dt,zt)};E($e,Dt=>{S(e(be)),i(()=>e(be).length>0)&&Dt(Xt)})}o(ot);var jt=c(ot,2);{var ht=Dt=>{var zt=bv();zt.__click=()=>Pt.deselectMatch(e(Be).MatchId),b(Dt,zt)};E(jt,Dt=>{e(Ie)||Dt(ht)})}o(ye),F(Dt=>{Oe(ye,1,`flex items-center gap-2 px-2 py-1.5 rounded ${e(Ie)?"bg-[#eab308]/10 border border-[#eab308]/30":"bg-[#454654]/50"}`),y(Pe,Dt),y(ze,(e(Be),i(()=>e(Be).CourtName))),y(It,(S(e(vt)),e(Be),i(()=>e(vt)||e(Be).Division.CodeAlias)))},[()=>(S(Ke),e(Be),i(()=>Ke(e(Be).ScheduledStartDateTime)))]),b(bt,ye)}),o(kt),o(Je),In(Je,(bt,Be)=>$n(f,e(f)[Be]=bt),bt=>{var Be;return(Be=e(f))==null?void 0:Be[bt]},()=>[Ne]),F(()=>{Oe(Je,1,`border rounded p-3 transition-all ${Ne===e(m)?"border-[#eab308] bg-[#eab308]/5":"border-red-800/30 bg-[#3b3c48]/50"}`),y(rt,`Conflict Group ${Ne+1}: ${e(tt),i(()=>e(tt).conflictCount)??""} overlapping match${e(tt),i(()=>e(tt).conflictCount!==1?"es":"")??""}`)}),b(qe,Je)}),o(De),o(He),F(()=>y(Fe,`${e(l),i(()=>e(l).length)??""} conflict group${e(l),i(()=>e(l).length!==1?"s":"")??""} in your plan `)),b(Le,He)};E(H,Le=>{e(l),i(()=>e(l).length>0)&&Le(pe)})}var Me=c(H,2);{var Ae=Le=>{var He=yv(),Ue=s(He),V=s(Ue),ie=c(s(V),2),Fe=s(ie);o(ie),o(V),o(Ue);var Ye=c(Ue,2);st(Ye,5,()=>e(d),nt,(je,Re)=>{const Te=Z(()=>(e(Re),i(()=>e(Re).match))),Ge=Z(()=>(S(Xe),S(e(Te)),i(()=>Xe(e(Te))))),ce=Z(()=>(S(e(Ge)),S(it),i(()=>e(Ge)?it.getTeamStatus(e(Ge)):"not-covered")));var De=Sv(),qe=s(De),tt=s(qe),Ne=s(tt),Je=s(Ne,!0);o(Ne);var Ve=c(Ne,2),pt=s(Ve,!0);o(Ve);var rt=c(Ve,2),lt=s(rt,!0);o(rt);var ft=c(rt,2);{var kt=vt=>{var be=_v();b(vt,be)};E(ft,vt=>{e(ce)==="not-covered"&&vt(kt)})}o(tt);var bt=c(tt,2),Be=s(bt,!0);o(bt),o(qe);var ct=c(qe,2);ct.__click=()=>Pt.selectMatch(e(Te).MatchId),o(De),F(vt=>{y(Je,vt),y(pt,(S(e(Te)),i(()=>e(Te).CourtName))),y(lt,(S(e(Ge)),S(e(Te)),i(()=>e(Ge)||e(Te).Division.CodeAlias))),y(Be,(e(Re),i(()=>e(Re).reason)))},[()=>(S(Ke),S(e(Te)),i(()=>Ke(e(Te).ScheduledStartDateTime)))]),b(je,De)}),o(Ye),o(He),F(()=>y(Fe,`${e(d),i(()=>e(d).length)??""} suggestion${e(d),i(()=>e(d).length!==1?"s":"")??""} (prioritizing uncovered teams)`)),b(Le,He)};E(Me,Le=>{e(d),i(()=>e(d).length>0)&&Le(Ae)})}var We=c(Me,2);st(We,5,()=>e(h),nt,(Le,He)=>{const Ue=Z(()=>(e(u),e(He),i(()=>e(u)[e(He)])));var V=$v(),ie=s(V),Fe=s(ie),Ye=s(Fe,!0);o(Fe);var je=c(Fe,2),Re=s(je);o(je),o(ie);var Te=c(ie,2);st(Te,1,()=>e(Ue),nt,(Ge,ce)=>{const De=Z(()=>(S(Xe),e(ce),i(()=>Xe(e(ce))))),qe=Z(()=>(e(ce),i(()=>I(e(ce))))),tt=Z(()=>(e(a),e(ce),i(()=>e(a).has(e(ce).MatchId))));var Ne=kv(),Je=s(Ne);Je.__click=()=>Pt.toggleMatch(e(ce).MatchId);var Ve=s(Je);o(Je);var pt=c(Je,2);{var rt=ze=>{var Tt=wv();b(ze,Tt)};E(pt,ze=>{e(tt)&&ze(rt)})}var lt=c(pt,2),ft=s(lt,!0);o(lt);var kt=c(lt,2),bt=s(kt,!0);o(kt);var Be=c(kt,2),ct=s(Be),vt=s(ct),be=s(vt,!0);o(vt);var Ie=c(vt,2);{var ye=ze=>{const Tt=Z(()=>(S(it),S(e(De)),i(()=>it.getTeamStatus(e(De)))));var It=Tv();F(()=>{Oe(It,1,`w-2 h-2 rounded ${e(Tt)==="covered"?"bg-green-500":e(Tt)==="partially-covered"?"bg-[#f59e0b]":e(Tt)==="planned"?"bg-[#eab308]":"bg-[#808593]"}`),Wt(It,"title",`Status: ${e(Tt)??""}`)}),b(ze,It)};E(Ie,ze=>{e(De)&&ze(ye)})}o(ct);var Ze=c(ct,2),et=s(Ze);o(Ze),o(Be);var ot=c(Be,2);{var gt=ze=>{var Tt=Cv(),It=s(Tt);It.__click=ht=>{ht.stopPropagation(),x($,e($)===e(De)?null:e(De))};var $e=s(It,!0);o(It);var Xt=c(It,2);{var jt=ht=>{var Dt=Mv(),zt=dt(Dt);zt.__click=()=>x($,null);var ar=c(zt,2),Gt=s(ar);{let St=Z(()=>(S(it),S(e(De)),i(()=>it.getTeamStatus(e(De)))));so(Gt,{get teamId(){return e(De)},get currentStatus(){return e(St)},onStatusChange:or=>{it.setTeamStatus(e(De),or),x($,null)},onClose:()=>x($,null)})}o(ar),b(ht,Dt)};E(Xt,ht=>{e($)===e(De)&&ht(jt)})}o(Tt),F(ht=>{Oe(It,1,`px-2 py-1 text-xs rounded transition-colors ${e($)===e(De)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]"}`),y($e,ht)},[()=>(S(it),S(e(De)),i(()=>(()=>{const ht=it.getTeamStatus(e(De));return ht==="covered"?"â":ht==="partially-covered"?"â":ht==="planned"?"ð":"â"})()))]),b(ze,Tt)};E(ot,ze=>{e(De)&&ze(gt)})}var mt=c(ot,2),Pe=s(mt),Ct=s(Pe,!0);o(Pe),o(mt),o(Ne),F(ze=>{Oe(Ne,1,`flex items-center gap-3 px-3 py-2.5 rounded border ${e(tt)?"border-red-800/50 bg-red-950/10":"border-[#eab308]/50 bg-[#eab308]/5"}`),Oe(Je,1,`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center hover:opacity-80 transition-colors ${e(tt)?"border-red-800/50 bg-red-950/20":"border-[#eab308] bg-[#eab308]/20"}`),Oe(Ve,0,`w-3 h-3 ${e(tt)?"text-red-400":"text-[#facc15]"}`),y(ft,ze),y(bt,(e(ce),i(()=>e(ce).CourtName))),y(be,(S(e(De)),e(ce),i(()=>e(De)||e(ce).Division.CodeAlias))),y(et,`vs ${e(qe)??""}`),Jt(Pe,`background-color: ${e(ce),i(()=>e(ce).Division.ColorHex)??""}20; color: ${e(ce),i(()=>e(ce).Division.ColorHex)??""}; border: 1px solid ${e(ce),i(()=>e(ce).Division.ColorHex)??""}40;`),y(Ct,(e(ce),i(()=>e(ce).Division.CodeAlias)))},[()=>(S(Ke),e(ce),i(()=>Ke(e(ce).ScheduledStartDateTime)))]),b(Ge,Ne)}),o(V),F(()=>{y(Ye,e(He)),y(Re,`(${S(e(Ue)),i(()=>e(Ue).length)??""} match${S(e(Ue)),i(()=>e(Ue).length!==1?"es":"")??""})`)}),b(Le,V)}),o(We),o(Q),b(me,Q)};E(L,me=>{e(t),i(()=>e(t).length===0)?me(ee):me(Se,!1)})}b(P,K)},N=P=>{var K=Ot(),L=dt(K);{var ee=me=>{Ml(me,{get matches(){return w()}})},Se=me=>{var Q=Ot(),H=dt(Q);{var pe=Ae=>{Nl(Ae,{get matches(){return w()}})},Me=Ae=>{var We=Dv(),Le=s(We);Hl(Le,{});var He=c(Le,2);iv(He,{get matches(){return w()}}),o(We),b(Ae,We)};E(H,Ae=>{e(p)==="stats"?Ae(pe):Ae(Me,!1)},!0)}b(me,Q)};E(L,me=>{e(p)==="analytics"?me(ee):me(Se,!1)},!0)}b(P,K)};E(j,P=>{e(p)==="plan"?P(A):P(N,!1)})}o(M);var J=c(M,2);{var ue=P=>{var K=Ev(),L=s(K),ee=s(L);ee.__click=()=>{e(t).forEach(He=>{const Ue=Xe(He);Ue&&it.setTeamStatus(Ue,"planned")}),alert("All matches marked as Planned")};var Se=c(ee,2);Se.__click=()=>{e(t).forEach(He=>{const Ue=Xe(He);Ue&&it.setTeamStatus(Ue,"covered")}),alert("All matches marked as Covered")};var me=c(Se,2);me.__click=()=>Pt.clearPlan(),o(L);var Q=c(L,2),H=s(Q);H.__click=ne;var pe=c(H,2),Me=s(pe);Me.__click=W;var Ae=c(Me,2);Ae.__click=te;var We=c(Ae,2);We.__click=R;var Le=c(We,2);Le.__click=fe,o(pe),o(Q),o(K),b(P,K)};E(J,P=>{e(t),e(p),i(()=>e(t).length>0&&e(p)==="plan")&&P(ue)})}o(se),o(X),F(()=>{y(re,`${e(t),i(()=>e(t).length)??""} match${e(t),i(()=>e(t).length!==1?"es":"")??""} selected `),we!==(we=e(k))&&(_e.value=(_e.__value=e(k))??"",Er(_e,e(k)))}),b(n,X),Ft()}Vt(["change","click"]);var Ov=T('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Av=T('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Fv=T('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Rv=T('<div class="px-4 py-3 rounded-lg border-2 border-[#eab308] bg-[#eab308]/10 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),jv=T('<div><h3 class="text-sm font-semibold text-[#facc15] mb-3 uppercase tracking-wider">Live Now</h3> <div class="space-y-2"></div></div>'),Lv=T('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Uv=T('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Wv=T('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Bv=T('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48] hover:border-[#525463] transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),Hv=T('<div><h3 class="text-sm font-semibold text-[#f8f8f9] mb-3 uppercase tracking-wider">Upcoming Matches</h3> <div class="space-y-2"></div></div>'),Yv=T('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Jv=T('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Vv=T('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Gv=T('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]/50 opacity-75 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-xs font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-sm font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),zv=T('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-3 uppercase tracking-wider">Match History</h3> <div class="space-y-2"></div></div>'),qv=T('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Xv=T('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]"> </h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!> <!> <!> <!></div>');function Qv(n,r){At(r,!1);const t=O(),a=O(),d=O(),l=O();let v=Ee(r,"matches",8),u=Ee(r,"teamId",8),h=Ee(r,"teamName",8),w=Ee(r,"eventId",8,"");const g=qo(w());let p=O(null),k=O("");const $=Date.now();function m(Y){return Y.InvolvedTeam==="first"?Y.SecondTeamText:Y.InvolvedTeam==="second"?Y.FirstTeamText:`${Y.FirstTeamText} vs ${Y.SecondTeamText}`}function f(Y){x(p,Y),x(k,g.getNote(Y))}function _(Y){g.setNote(Y,e(k)),x(p,null),x(k,"")}function D(){x(p,null),x(k,"")}function C(Y){g.deleteNote(Y),x(p,null)}xe(()=>(S(v()),S(u())),()=>{x(t,v().filter(Y=>Xe(Y)===u()).sort((Y,he)=>Y.ScheduledStartDateTime-he.ScheduledStartDateTime))}),xe(()=>e(t),()=>{x(a,e(t).filter(Y=>Y.ScheduledEndDateTime<$))}),xe(()=>e(t),()=>{x(d,e(t).filter(Y=>Y.ScheduledStartDateTime<=$&&Y.ScheduledEndDateTime>=$))}),xe(()=>e(t),()=>{x(l,e(t).filter(Y=>Y.ScheduledStartDateTime>$))}),Bt(),Rt();var I=Xv(),W=s(I),te=s(W),R=s(te,!0);o(te);var fe=c(te,2),ne=s(fe);o(fe),o(W);var X=c(W,2);{var se=Y=>{var he=jv(),Ce=c(s(he),2);st(Ce,5,()=>e(d),nt,(_e,G)=>{const oe=Z(()=>(e(G),i(()=>g.hasNote(e(G).MatchId)))),q=Z(()=>(e(p),e(G),i(()=>e(p)===e(G).MatchId))),ke=Z(()=>(e(G),i(()=>g.getNote(e(G).MatchId))));var we=Rv(),U=s(we),z=s(U),ae=s(z),M=s(ae),j=s(M,!0);o(M);var A=c(M,2),N=s(A,!0);o(A),o(ae);var J=c(ae,2),ue=s(J);o(J);var P=c(J,2),K=s(P,!0);o(P),o(z);var L=c(z,2);L.__click=()=>e(q)?D():f(e(G).MatchId);var ee=s(L,!0);o(L),o(U);var Se=c(U,2);{var me=H=>{var pe=Av(),Me=s(pe);Hr(Me),Wt(Me,"rows",3),Br(Me);var Ae=c(Me,2),We=s(Ae);We.__click=()=>_(e(G).MatchId);var Le=c(We,2);{var He=V=>{var ie=Ov();ie.__click=()=>C(e(G).MatchId),b(V,ie)};E(Le,V=>{e(oe)&&V(He)})}var Ue=c(Le,2);Ue.__click=D,o(Ae),o(pe),fr(Me,()=>e(k),V=>x(k,V)),b(H,pe)},Q=H=>{var pe=Ot(),Me=dt(pe);{var Ae=We=>{var Le=Fv(),He=c(s(Le),2),Ue=s(He,!0);o(He),o(Le),F(()=>y(Ue,e(ke))),b(We,Le)};E(Me,We=>{e(oe)&&We(Ae)},!0)}b(H,pe)};E(Se,H=>{e(q)?H(me):H(Q,!1)})}o(we),F((H,pe)=>{y(j,H),y(N,(e(G),i(()=>e(G).CourtName))),y(ue,`vs ${pe??""}`),y(K,(e(G),i(()=>e(G).Division.CodeAlias))),Oe(L,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(oe)||e(q)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Wt(L,"title",e(oe)?"Edit note":"Add note"),y(ee,e(oe)?"ð":"ð")},[()=>(S(Ke),e(G),i(()=>Ke(e(G).ScheduledStartDateTime))),()=>(e(G),i(()=>m(e(G))))]),b(_e,we)}),o(Ce),o(he),b(Y,he)};E(X,Y=>{e(d),i(()=>e(d).length>0)&&Y(se)})}var ge=c(X,2);{var B=Y=>{var he=Hv(),Ce=c(s(he),2);st(Ce,5,()=>e(l),nt,(_e,G)=>{const oe=Z(()=>(e(G),i(()=>g.hasNote(e(G).MatchId)))),q=Z(()=>(e(p),e(G),i(()=>e(p)===e(G).MatchId))),ke=Z(()=>(e(G),i(()=>g.getNote(e(G).MatchId))));var we=Bv(),U=s(we),z=s(U),ae=s(z),M=s(ae),j=s(M,!0);o(M);var A=c(M,2),N=s(A,!0);o(A),o(ae);var J=c(ae,2),ue=s(J);o(J);var P=c(J,2),K=s(P,!0);o(P),o(z);var L=c(z,2);L.__click=()=>e(q)?D():f(e(G).MatchId);var ee=s(L,!0);o(L),o(U);var Se=c(U,2);{var me=H=>{var pe=Uv(),Me=s(pe);Hr(Me),Wt(Me,"rows",3),Br(Me);var Ae=c(Me,2),We=s(Ae);We.__click=()=>_(e(G).MatchId);var Le=c(We,2);{var He=V=>{var ie=Lv();ie.__click=()=>C(e(G).MatchId),b(V,ie)};E(Le,V=>{e(oe)&&V(He)})}var Ue=c(Le,2);Ue.__click=D,o(Ae),o(pe),fr(Me,()=>e(k),V=>x(k,V)),b(H,pe)},Q=H=>{var pe=Ot(),Me=dt(pe);{var Ae=We=>{var Le=Wv(),He=c(s(Le),2),Ue=s(He,!0);o(He),o(Le),F(()=>y(Ue,e(ke))),b(We,Le)};E(Me,We=>{e(oe)&&We(Ae)},!0)}b(H,pe)};E(Se,H=>{e(q)?H(me):H(Q,!1)})}o(we),F((H,pe)=>{y(j,H),y(N,(e(G),i(()=>e(G).CourtName))),y(ue,`vs ${pe??""}`),y(K,(e(G),i(()=>e(G).Division.CodeAlias))),Oe(L,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(oe)||e(q)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Wt(L,"title",e(oe)?"Edit note":"Add note"),y(ee,e(oe)?"ð":"ð")},[()=>(S(Ke),e(G),i(()=>Ke(e(G).ScheduledStartDateTime))),()=>(e(G),i(()=>m(e(G))))]),b(_e,we)}),o(Ce),o(he),b(Y,he)};E(ge,Y=>{e(l),i(()=>e(l).length>0)&&Y(B)})}var de=c(ge,2);{var ve=Y=>{var he=zv(),Ce=c(s(he),2);st(Ce,5,()=>e(a),nt,(_e,G)=>{const oe=Z(()=>(e(G),i(()=>g.hasNote(e(G).MatchId)))),q=Z(()=>(e(p),e(G),i(()=>e(p)===e(G).MatchId))),ke=Z(()=>(e(G),i(()=>g.getNote(e(G).MatchId))));var we=Gv(),U=s(we),z=s(U),ae=s(z),M=s(ae),j=s(M);o(M);var A=c(M,2),N=s(A,!0);o(A),o(ae);var J=c(ae,2),ue=s(J);o(J);var P=c(J,2),K=s(P,!0);o(P),o(z);var L=c(z,2);L.__click=()=>e(q)?D():f(e(G).MatchId);var ee=s(L,!0);o(L),o(U);var Se=c(U,2);{var me=H=>{var pe=Jv(),Me=s(pe);Hr(Me),Wt(Me,"rows",3),Br(Me);var Ae=c(Me,2),We=s(Ae);We.__click=()=>_(e(G).MatchId);var Le=c(We,2);{var He=V=>{var ie=Yv();ie.__click=()=>C(e(G).MatchId),b(V,ie)};E(Le,V=>{e(oe)&&V(He)})}var Ue=c(Le,2);Ue.__click=D,o(Ae),o(pe),fr(Me,()=>e(k),V=>x(k,V)),b(H,pe)},Q=H=>{var pe=Ot(),Me=dt(pe);{var Ae=We=>{var Le=Vv(),He=c(s(Le),2),Ue=s(He,!0);o(He),o(Le),F(()=>y(Ue,e(ke))),b(We,Le)};E(Me,We=>{e(oe)&&We(Ae)},!0)}b(H,pe)};E(Se,H=>{e(q)?H(me):H(Q,!1)})}o(we),F((H,pe,Me)=>{y(j,`${H??""} â¢ ${pe??""}`),y(N,(e(G),i(()=>e(G).CourtName))),y(ue,`vs ${Me??""}`),y(K,(e(G),i(()=>e(G).Division.CodeAlias))),Oe(L,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(oe)||e(q)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Wt(L,"title",e(oe)?"Edit note":"Add note"),y(ee,e(oe)?"ð":"ð")},[()=>(S(Yt),e(G),i(()=>Yt(e(G).ScheduledStartDateTime))),()=>(S(Ke),e(G),i(()=>Ke(e(G).ScheduledStartDateTime))),()=>(e(G),i(()=>m(e(G))))]),b(_e,we)}),o(Ce),o(he),b(Y,he)};E(de,Y=>{e(a),i(()=>e(a).length>0)&&Y(ve)})}var re=c(de,2);{var le=Y=>{var he=qv(),Ce=s(he);o(he),F(()=>y(Ce,`No matches found for ${h()??""}`)),b(Y,he)};E(re,Y=>{e(t),i(()=>e(t).length===0)&&Y(le)})}o(I),F(()=>{y(R,h()),y(ne,`${e(t),i(()=>e(t).length)??""} total match${e(t),i(()=>e(t).length!==1?"es":"")??""}`)}),b(n,I),Ft()}Vt(["click"]);var Kv=T('<div class="px-4 py-3 rounded-lg border border-[#525463] bg-[#454654]/30"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#9fa2ab]"> </div></div> <div class="text-sm text-[#c0c2c8]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div>'),Zv=T('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-2 uppercase tracking-wider"> </h3> <div class="space-y-2"></div></div>'),eu=T('<div class="space-y-4"></div>'),tu=T('<div class="text-center py-12 text-[#9fa2ab] text-sm"> <div class="text-xs text-[#808593] mt-2">Work assignments will appear here when assigned by tournament officials.</div></div>'),ru=T('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]">Work Assignments</h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!></div>');function au(n,r){At(r,!1);const t=O(),a=O(),d=O();let l=Ee(r,"matches",8),v=Ee(r,"teamId",8),u=Ee(r,"teamName",8);xe(()=>(S(l()),S(v())),()=>{x(t,l().filter(f=>(Xe(f)===v(),!1)).sort((f,_)=>f.ScheduledStartDateTime-_.ScheduledStartDateTime))}),xe(()=>(e(t),Yt),()=>{x(a,(()=>{const f={};return e(t).forEach(_=>{const D=Yt(_.ScheduledStartDateTime);f[D]||(f[D]=[]),f[D].push(_)}),f})())}),xe(()=>e(a),()=>{x(d,Object.keys(e(a)).sort())}),Bt(),Rt();var h=ru(),w=s(h),g=c(s(w),2),p=s(g);o(g),o(w);var k=c(w,2);{var $=f=>{var _=eu();st(_,5,()=>e(d),nt,(D,C)=>{var I=Zv(),W=s(I),te=s(W,!0);o(W);var R=c(W,2);st(R,5,()=>(e(a),e(C),i(()=>e(a)[e(C)])),nt,(fe,ne)=>{var X=Kv(),se=s(X),ge=s(se),B=s(ge,!0);o(ge);var de=c(ge,2),ve=s(de,!0);o(de),o(se);var re=c(se,2),le=s(re);o(re);var Y=c(re,2),he=s(Y);o(Y),o(X),F(Ce=>{y(B,Ce),y(ve,(e(ne),i(()=>e(ne).CourtName))),y(le,`${e(ne),i(()=>e(ne).FirstTeamText)??""} vs ${e(ne),i(()=>e(ne).SecondTeamText)??""}`),y(he,`${e(ne),i(()=>e(ne).Division.CodeAlias)??""} â¢ Work Assignment`)},[()=>(S(Ke),e(ne),i(()=>Ke(e(ne).ScheduledStartDateTime)))]),b(fe,X)}),o(R),o(I),F(()=>y(te,e(C))),b(D,I)}),o(_),b(f,_)},m=f=>{var _=tu(),D=s(_);Cr(),o(_),F(()=>y(D,`No work assignments found for ${u()??""} `)),b(f,_)};E(k,f=>{e(t),i(()=>e(t).length>0)?f($):f(m,!1)})}o(h),F(()=>y(p,`${u()??""} â¢ ${e(t),i(()=>e(t).length)??""} assignment${e(t),i(()=>e(t).length!==1?"s":"")??""}`)),b(n,h),Ft()}var ou=T('<span class="ml-2 text-[10px] opacity-75"> </span>'),nu=T("<button> <!></button>"),su=T('<div class="border-b border-[#454654] pb-4"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Select Team:</span> <!></div></div>'),iu=T('<div class="text-center py-12 text-[#9fa2ab] text-sm">Select a team to view matches and work assignments</div>'),cu=T('<div class="space-y-4"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-xl font-bold text-[#f8f8f9]">Coach View</h1> <p class="text-sm text-[#9fa2ab] mt-1">View matches and work assignments by team</p></div> <div class="flex items-center gap-2 bg-[#454654] rounded-lg p-1"><button>Matches</button> <button>Work Assignments</button></div></div> <!> <!> <!></div>');function du(n,r){At(r,!1);const t=O(),a=O(),d=O(),l=O();let v=Ee(r,"matches",8),u=Ee(r,"eventId",8),h=Ee(r,"clubId",8),w=O(null),g=O(null),p=O("matches");function k(X){var ge;x(w,X);const se=(ge=e(a)[X])==null?void 0:ge[0];se&&x(g,se)}xe(()=>S(v()),()=>{x(t,no(v()))}),xe(()=>(S(v()),Xe),()=>{x(a,(()=>{const X={};return v().forEach(se=>{const ge=Xe(se);ge&&(X[ge]||(X[ge]=[]),X[ge].push(se))}),X})())}),xe(()=>(e(w),e(a)),()=>{x(d,e(w)?e(a)[e(w)]||[]:[])}),xe(()=>(e(t),e(a)),()=>{x(l,[...e(t)].sort((X,se)=>{var de,ve;const ge=((de=e(a)[X])==null?void 0:de.length)||0;return(((ve=e(a)[se])==null?void 0:ve.length)||0)-ge}))}),Bt(),Rt();var $=cu(),m=s($),f=c(s(m),2),_=s(f);_.__click=()=>x(p,"matches");var D=c(_,2);D.__click=()=>x(p,"work"),o(f),o(m);var C=c(m,2);{var I=X=>{var se=su(),ge=s(se),B=c(s(ge),2);st(B,1,()=>e(l),nt,(de,ve)=>{var re=nu();re.__click=()=>k(e(ve));var le=s(re),Y=c(le);{var he=Ce=>{var _e=ou(),G=s(_e);o(_e),F(()=>y(G,`(${e(a),e(ve),i(()=>e(a)[e(ve)].length)??""})`)),b(Ce,_e)};E(Y,Ce=>{e(a),e(ve),i(()=>e(a)[e(ve)])&&Ce(he)})}o(re),F(()=>{Oe(re,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(w)===e(ve)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(le,`${e(ve)??""} `)}),b(de,re)}),o(ge),o(se),b(X,se)};E(C,X=>{e(t),i(()=>e(t).length>0)&&X(I)})}var W=c(C,2);{var te=X=>{var se=Ot(),ge=dt(se);{var B=ve=>{Qv(ve,{get matches(){return v()},teamId,get teamName(){return e(w)},get eventId(){return u()}})},de=ve=>{au(ve,{get matches(){return v()},teamId,get teamName(){return e(w)}})};E(ge,ve=>{e(p)==="matches"?ve(B):ve(de,!1)})}b(X,se)},R=X=>{var se=iu();b(X,se)};E(W,X=>{e(w)?X(te):X(R,!1)})}var fe=c(W,2);{var ne=X=>{Xo(X,{get match(){return e(g)},get eventId(){return u()},get clubId(){return h()},onClose:()=>x(g,null),get matches(){return v()}})};E(fe,X=>{e(g)&&X(ne)})}o($),F(()=>{Oe(_,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(p)==="matches"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(D,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(p)==="work"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(n,$),Ft()}Vt(["click"]);var lu=T('<span class="ml-2" style="color: #ef4444;"> </span>'),vu=T('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),uu=T('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),fu=T('<span class="hidden sm:inline"> </span>'),mu=T('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),xu=T('<span class="ml-2" style="color: #ef4444;"> </span>'),bu=T('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),gu=T('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),pu=T("<button> </button>"),hu=T('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),_u=T('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Su=T('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),yu=T('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),wu=T('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Tu=T('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!></main></div>');function Pu(n,r){At(r,!1);const t=()=>lr(oi,"$selectedCount",u),a=()=>lr(ao,"$isMedia",u),d=()=>lr(oo,"$isSpectator",u),l=()=>lr(ii,"$isCoach",u),v=()=>lr(aa,"$userRole",u),[u,h]=Ta(),w=O(),g=O(),p=O(),k=O(),$=O(),m=O();let f=O("PTAwMDAwNDEzMTQ90"),_=O("2025-11-01"),D=O(300),C=O([]),I=O(!1),W=O(null),te=O("list"),R=O(!1),fe=O(24426),ne=O(!1),X=O(null);na(()=>{se(e(f),e(_),e(D))});async function se(V,ie,Fe){var Ye;x(I,!0),x(W,null),x(f,V),x(_,ie),x(D,Fe);try{const je=await Yn(V),Re=(Ye=je.Clubs)==null?void 0:Ye.find(ce=>ce.Name==="630 Volleyball");Re&&x(fe,Re.ClubId),x(X,{name:je.Name||je.EventName||je.FullName||je.Title||"Event",startDate:je.StartDate||je.StartDateTime||je.Start||je.StartTime,endDate:je.EndDate||je.EndDateTime||je.End||je.EndTime});const Te=await Hn(V,ie,Fe),Ge=Xn(Te.CourtSchedules);x(C,Ge)}catch(je){console.error("Error loading schedule:",je),x(W,je instanceof Error?je.message:"Failed to load schedule"),x(C,[])}finally{x(I,!1)}}function ge(){const V=JSON.stringify(e(C),null,2),ie=new Blob([V],{type:"application/json"}),Fe=URL.createObjectURL(ie),Ye=document.createElement("a");Ye.href=Fe,Ye.download=`630-volleyball-matches-${e(_)}.json`,Ye.click(),URL.revokeObjectURL(Fe)}function B(){const V=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],ie=e(C).map(Te=>[Te.MatchId.toString(),Te.Division.Name,Te.CompleteShortName,Te.FirstTeamText,Te.SecondTeamText,Te.WorkTeamText,Te.CourtName,new Date(Te.ScheduledStartDateTime).toISOString(),new Date(Te.ScheduledEndDateTime).toISOString(),((Te.ScheduledEndDateTime-Te.ScheduledStartDateTime)/6e4).toString(),Te.InvolvedTeam]),Fe=[V.join(","),...ie.map(Te=>Te.map(Ge=>`"${Ge}"`).join(","))].join(`
`),Ye=new Blob([Fe],{type:"text/csv"}),je=URL.createObjectURL(Ye),Re=document.createElement("a");Re.href=je,Re.download=`630-volleyball-matches-${e(_)}.csv`,Re.click(),URL.revokeObjectURL(je)}xe(()=>(e(C),it),()=>{if(e(C).length>0){const V=new Map;e(C).forEach(ie=>{const Ye=(ie.InvolvedTeam==="first"?ie.FirstTeamText:ie.SecondTeamText).match(/(\d+-\d+)/),je=Ye?Ye[1]:"";if(!je)return;const Re=V.get(je)||{total:0,inPlan:0};Re.total++;let Te=!1;Pt.subscribe(Ge=>{Te=Ge.has(ie.MatchId)})(),Te&&Re.inPlan++,V.set(je,Re)}),V.forEach((ie,Fe)=>{it.updateFromPlan(Fe,ie.inPlan,ie.total)})}}),xe(()=>e(C),()=>{x(w,(()=>{const V=new Map;return e(C).forEach((ie,Fe)=>{e(C).slice(Fe+1).forEach(Ye=>{ie.ScheduledStartDateTime<Ye.ScheduledEndDateTime&&ie.ScheduledEndDateTime>Ye.ScheduledStartDateTime&&(V.has(ie.MatchId)||V.set(ie.MatchId,[]),V.get(ie.MatchId).push(Ye.MatchId))})}),e(C).filter(ie=>V.has(ie.MatchId)).length})())}),xe(()=>t(),()=>{x(g,t())}),xe(()=>a(),()=>{x(p,a())}),xe(()=>d(),()=>{x(k,d())}),xe(()=>l(),()=>{x($,l())}),xe(()=>v(),()=>{x(m,v())}),xe(()=>(e(C),e(g),it),()=>{if(e(C).length>0&&e(g)!==void 0){const V=new Map,ie=tr(Pt);e(C).forEach(Fe=>{const je=(Fe.InvolvedTeam==="first"?Fe.FirstTeamText:Fe.SecondTeamText).match(/(\d+-\d+)/),Re=je?je[1]:"";if(!Re)return;const Te=V.get(Re)||{total:0,inPlan:0};Te.total++,ie.has(Fe.MatchId)&&Te.inPlan++,V.set(Re,Te)}),V.forEach((Fe,Ye)=>{it.updateFromPlan(Ye,Fe.inPlan,Fe.total)})}}),Bt(),Rt();var de=Tu(),ve=s(de),re=s(ve),le=s(re),Y=s(le),he=s(Y),Ce=c(s(he),2);{var _e=V=>{var ie=vu(),Fe=s(ie),Ye=c(Fe);{var je=Re=>{var Te=lu(),Ge=s(Te);o(Te),F(()=>y(Ge,`â¢ ${e(w)??""} conflicts`)),b(Re,Te)};E(Ye,Re=>{e(w)>0&&Re(je)})}o(ie),F(()=>y(Fe,`${e(C),i(()=>e(C).length)??""} matches `)),b(V,ie)};E(Ce,V=>{e(C),i(()=>e(C).length>0)&&V(_e)})}o(he);var G=c(he,2);{var oe=V=>{var ie=mu(),Fe=s(ie);{var Ye=Te=>{var Ge=uu(),ce=s(Ge,!0);o(Ge),F(()=>y(ce,(e(X),i(()=>e(X).name)))),b(Te,Ge)};E(Fe,Te=>{e(X),i(()=>e(X).name)&&Te(Ye)})}var je=c(Fe,2);{var Re=Te=>{var Ge=fu(),ce=s(Ge,!0);o(Ge),F(De=>y(ce,De),[()=>(e(X),S(Yt),i(()=>(()=>{try{const De=e(X).startDate?new Date(e(X).startDate).getTime():null,qe=e(X).endDate?new Date(e(X).endDate).getTime():null;return De&&qe&&Math.abs(De-qe)>864e5?`${Yt(De)} - ${Yt(qe)}`:De?Yt(De):qe?Yt(qe):null}catch{return null}})()))]),b(Te,Ge)};E(je,Te=>{e(X),i(()=>(e(X).startDate||e(X).endDate)&&(()=>{try{const Ge=e(X).startDate?new Date(e(X).startDate).getTime():null,ce=e(X).endDate?new Date(e(X).endDate).getTime():null;return Ge&&ce&&Math.abs(Ge-ce)>864e5}catch{return!1}})())&&Te(Re)})}o(ie),b(V,ie)};E(G,V=>{e(X),i(()=>e(X)&&(e(X).name||e(X).startDate))&&V(oe)})}var q=c(G,2);{var ke=V=>{var ie=bu(),Fe=s(ie),Ye=c(Fe);{var je=Re=>{var Te=xu(),Ge=s(Te);o(Te),F(()=>y(Ge,`â¢ ${e(w)??""} conflicts`)),b(Re,Te)};E(Ye,Re=>{e(w)>0&&Re(je)})}o(ie),F(()=>y(Fe,`${e(C),i(()=>e(C).length)??""} matches `)),b(V,ie)};E(q,V=>{e(C),i(()=>e(C).length>0)&&V(ke)})}o(Y);var we=c(Y,2),U=s(we),z=c(s(U),2);z.__change=V=>aa.setRole(V.target.value);var ae=s(z);ae.value=ae.__value="media";var M=c(ae);M.value=M.__value="spectator";var j=c(M);j.value=j.__value="coach",o(z);var A;jr(z),o(U);var N=c(U,2);{var J=V=>{var ie=hu(),Fe=dt(ie);{var Ye=ce=>{var De=gu(),qe=s(De);qe.__click=()=>x(te,"list");let tt;var Ne=c(qe,2);Ne.__click=()=>x(te,"timeline");let Je;o(De),F(()=>{tt=Oe(qe,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,tt,{"bg-gold-500":e(te)==="list","text-charcoal-950":e(te)==="list","text-charcoal-300":e(te)!=="list","hover:text-charcoal-50":e(te)!=="list"}),Jt(qe,e(te)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),Je=Oe(Ne,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Je,{"bg-gold-500":e(te)==="timeline","text-charcoal-950":e(te)==="timeline","text-charcoal-300":e(te)!=="timeline","hover:text-charcoal-50":e(te)!=="timeline"}),Jt(Ne,e(te)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),b(ce,De)};E(Fe,ce=>{e($)||ce(Ye)})}var je=c(Fe,2);{var Re=ce=>{var De=pu();De.__click=()=>x(ne,!e(ne));let qe;var tt=s(De);o(De),F(()=>{qe=Oe(De,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,qe,{"text-charcoal-950":e(ne)}),Jt(De,e(ne)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),y(tt,`Plan (${e(g)??""})`)}),b(ce,De)};E(je,ce=>{e(p)&&e(g)>0&&ce(Re)})}var Te=c(je,2);Te.__click=ge;var Ge=c(Te,2);Ge.__click=B,b(V,ie)};E(N,V=>{e(C),i(()=>e(C).length>0)&&V(J)})}var ue=c(N,2);ue.__click=()=>x(R,!e(R));let P;var K=s(ue,!0);o(ue),o(we),o(le),o(re),o(ve);var L=c(ve,2);{var ee=V=>{var ie=_u(),Fe=s(ie),Ye=s(Fe);di(Ye,{get eventId(){return e(f)},get date(){return e(_)},get timeWindow(){return e(D)},onLoad:se,get loading(){return e(I)}}),o(Fe),o(ie),b(V,ie)};E(L,V=>{e(R)&&V(ee)})}var Se=c(L,2),me=s(Se);{var Q=V=>{var ie=Su();b(V,ie)};E(me,V=>{e(I)&&V(Q)})}var H=c(me,2);{var pe=V=>{var ie=yu(),Fe=c(s(ie),2),Ye=s(Fe,!0);o(Fe),o(ie),F(()=>y(Ye,e(W))),b(V,ie)};E(H,V=>{e(W)&&V(pe)})}var Me=c(H,2);{var Ae=V=>{var ie=wu();b(V,ie)};E(Me,V=>{e(I),e(C),e(W),i(()=>!e(I)&&e(C).length===0&&!e(W))&&V(Ae)})}var We=c(Me,2);{var Le=V=>{var ie=Ot(),Fe=dt(ie);{var Ye=Re=>{du(Re,{get matches(){return e(C)},get eventId(){return e(f)},get clubId(){return e(fe)}})},je=Re=>{var Te=Ot(),Ge=dt(Te);{var ce=qe=>{Ed(qe,{get matches(){return e(C)},get eventId(){return e(f)},get clubId(){return e(fe)}})},De=qe=>{gl(qe,{get matches(){return e(C)},get eventId(){return e(f)}})};E(Ge,qe=>{e(te)==="list"?qe(ce):qe(De,!1)},!0)}b(Re,Te)};E(Fe,Re=>{e($)?Re(Ye):Re(je,!1)})}b(V,ie)};E(We,V=>{e(C),i(()=>e(C).length>0)&&V(Le)})}var He=c(We,2);{var Ue=V=>{Pv(V,{get matches(){return e(C)},onClose:()=>x(ne,!1)})};E(He,V=>{e(ne)&&V(Ue)})}o(Se),o(de),F(()=>{A!==(A=e(m))&&(z.value=(z.__value=e(m))??"",Er(z,e(m))),P=Oe(ue,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,P,{"text-charcoal-950":e(R)}),Jt(ue,e(R)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),y(K,e(R)?"Hide":"Config")}),b(n,de),Ft(),h()}Vt(["change","click"]);export{Pu as component,Nu as universal};
