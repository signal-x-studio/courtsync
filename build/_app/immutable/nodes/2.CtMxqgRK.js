import{f as k,a as S,c as $t,d as Na}from"../chunks/BGoQ7gJS.js";import"../chunks/Db87pd3s.js";import{d as hr,w as kt,o as sa,a as vn,g as jt}from"../chunks/BaKoRTVr.js";import{G as Yr,x as xt,a2 as mn,v as Fa,C as hn,B as gn,g as e,R as Z,D as bn,H as xn,F as va,I as Lr,y as cr,ac as pn,az as _n,w as na,A as yn,m as er,ax as Aa,aG as Ra,M as Y,a8 as ma,aj as ha,n as Wa,q as Sn,aH as Pr,aI as jr,o as Ya,aJ as Ir,aK as wn,at as Tn,aL as Mn,aw as Dn,aM as Cn,U as kn,aN as La,ab as ja,aO as Pn,J as In,aP as $n,aQ as En,aR as On,aS as Nn,aT as Fn,aU as An,aV as Rn,aW as Wn,aE as Yn,b as i,a9 as Ln,aX as jn,p as zt,aY as se,N as w,e as T,aZ as gr,k as u,s as m,l,t as z,j as Xt,i as Qe,ak as Hn}from"../chunks/Pko6iT02.js";import{s as L,e as fr,d as rr}from"../chunks/DOfG5Qiu.js";import{p as Ae,i as R,s as It,a as ia}from"../chunks/BqARAWy1.js";import{i as Qt}from"../chunks/YAZl1wJw.js";const Bn=!0;function ft(t,r){return r}function Un(t,r,n){for(var a=t.items,o=[],s=r.length,c=0;c<s;c++)Mn(r[c].e,o,!0);var d=s>0&&o.length===0&&n!==null;if(d){var f=n.parentNode;Dn(f),f.append(n),a.clear(),Nt(t,r[0].prev,r[s-1].next)}Cn(o,()=>{for(var b=0;b<s;b++){var g=r[b];d||(a.delete(g.k),Nt(t,g.prev,g.next)),Ya(g.e,!d)}})}function vt(t,r,n,a,o,s=null){var c=t,d={flags:r,items:new Map,first:null},f=(r&La)!==0;if(f){var b=t;c=xt?Yr(mn(b)):b.appendChild(Fa())}xt&&hn();var g=null,D=!1,C=new Map,y=Z(()=>{var E=n();return Ra(E)?E:E==null?[]:Aa(E)}),v,h;function _(){Jn(h,v,d,C,c,o,r,a,n),s!==null&&(v.length===0?g?Wa(g):g=na(()=>s(c)):g!==null&&Sn(g,()=>{g=null}))}gn(()=>{h??(h=kn),v=e(y);var E=v.length;if(D&&E===0)return;D=E===0;let x=!1;if(xt){var I=bn(c)===xn;I!==(E===0)&&(c=va(),Yr(c),Lr(!1),x=!0)}if(xt){for(var B=null,ae,$=0;$<E;$++){if(cr.nodeType===pn&&cr.data===_n){c=cr,x=!0,Lr(!1);break}var re=v[$],ce=a(re,$);ae=oa(cr,d,B,null,re,ce,$,o,r,n),d.items.set(ce,ae),B=ae}E>0&&Yr(va())}if(xt)E===0&&s&&(g=na(()=>s(c)));else if(yn()){var ie=new Set,Le=er;for($=0;$<E;$+=1){re=v[$],ce=a(re,$);var $e=d.items.get(ce)??C.get(ce);$e?(r&(Ir|Pr))!==0&&Ha($e,re,$,r):(ae=oa(null,d,null,null,re,ce,$,o,r,n,!0),C.set(ce,ae)),ie.add(ce)}for(const[Ce,Ke]of d.items)ie.has(Ce)||Le.skipped_effects.add(Ke.e);Le.oncommit(_)}else _();x&&Lr(!0),e(y)}),xt&&(c=cr)}function Jn(t,r,n,a,o,s,c,d,f){var G,ne,le,p;var b=(c&Pn)!==0,g=(c&(Ir|Pr))!==0,D=r.length,C=n.items,y=n.first,v=y,h,_=null,E,x=[],I=[],B,ae,$,re;if(b)for(re=0;re<D;re+=1)B=r[re],ae=d(B,re),$=C.get(ae),$!==void 0&&((G=$.a)==null||G.measure(),(E??(E=new Set)).add($));for(re=0;re<D;re+=1){if(B=r[re],ae=d(B,re),$=C.get(ae),$===void 0){var ce=a.get(ae);if(ce!==void 0){a.delete(ae),C.set(ae,ce);var ie=_?_.next:v;Nt(n,_,ce),Nt(n,ce,ie),Hr(ce,ie,o),_=ce}else{var Le=v?v.e.nodes_start:o;_=oa(Le,n,_,_===null?n.first:_.next,B,ae,re,s,c,f)}C.set(ae,_),x=[],I=[],v=_.next;continue}if(g&&Ha($,B,re,c),($.e.f&jr)!==0&&(Wa($.e),b&&((ne=$.a)==null||ne.unfix(),(E??(E=new Set)).delete($))),$!==v){if(h!==void 0&&h.has($)){if(x.length<I.length){var $e=I[0],Ce;_=$e.prev;var Ke=x[0],mt=x[x.length-1];for(Ce=0;Ce<x.length;Ce+=1)Hr(x[Ce],$e,o);for(Ce=0;Ce<I.length;Ce+=1)h.delete(I[Ce]);Nt(n,Ke.prev,mt.next),Nt(n,_,Ke),Nt(n,mt,$e),v=$e,_=mt,re-=1,x=[],I=[]}else h.delete($),Hr($,v,o),Nt(n,$.prev,$.next),Nt(n,$,_===null?n.first:_.next),Nt(n,_,$),_=$;continue}for(x=[],I=[];v!==null&&v.k!==ae;)(v.e.f&jr)===0&&(h??(h=new Set)).add(v),I.push(v),v=v.next;if(v===null)continue;$=v}x.push($),_=$,v=$.next}if(v!==null||h!==void 0){for(var ht=h===void 0?[]:Aa(h);v!==null;)(v.e.f&jr)===0&&ht.push(v),v=v.next;var _t=ht.length;if(_t>0){var Pt=(c&La)!==0&&D===0?o:null;if(b){for(re=0;re<_t;re+=1)(le=ht[re].a)==null||le.measure();for(re=0;re<_t;re+=1)(p=ht[re].a)==null||p.fix()}Un(n,ht,Pt)}}b&&ja(()=>{var P;if(E!==void 0)for($ of E)(P=$.a)==null||P.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var N of a.values())Ya(N.e);a.clear()}function Ha(t,r,n,a){(a&Ir)!==0&&ha(t.v,r),(a&Pr)!==0?ha(t.i,n):t.i=n}function oa(t,r,n,a,o,s,c,d,f,b,g){var D=(f&Ir)!==0,C=(f&wn)===0,y=D?C?Y(o,!1,!1):ma(o):o,v=(f&Pr)===0?c:ma(c),h={i:v,v:y,k:s,a:null,e:null,prev:n,next:a};try{if(t===null){var _=document.createDocumentFragment();_.append(t=Fa())}return h.e=na(()=>d(t,y,v,b),xt),h.e.prev=n&&n.e,h.e.next=a&&a.e,n===null?g||(r.first=h):(n.next=h,n.e.next=h.e),a!==null&&(a.prev=h,a.e.prev=h.e),h}finally{}}function Hr(t,r,n){for(var a=t.next?t.next.e.nodes_start:n,o=r?r.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==a;){var c=Tn(s);o.before(s),s=c}}function Nt(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}const ga=[...` 	
\r\fÂ \v\uFEFF`];function qn(t,r,n){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),n){for(var o in n)if(n[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,c=0;(c=a.indexOf(o,c))>=0;){var d=c+s;(c===0||ga.includes(a[c-1]))&&(d===a.length||ga.includes(a[d]))?a=(c===0?"":a.substring(0,c))+a.substring(d+1):c=d}}return a===""?null:a}function Gn(t,r){return t==null?null:String(t)}function de(t,r,n,a,o,s){var c=t.__className;if(xt||c!==n||c===void 0){var d=qn(n,a,s);(!xt||d!==t.getAttribute("class"))&&(d==null?t.removeAttribute("class"):r?t.className=d:t.setAttribute("class",d)),t.__className=n}else if(s&&o!==s)for(var f in s){var b=!!s[f];(o==null||b!==!!o[f])&&t.classList.toggle(f,b)}return s}function Ht(t,r,n,a){var o=t.__style;if(xt||o!==r){var s=Gn(r);(!xt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return a}function tr(t,r,n=!1){if(t.multiple){if(r==null)return;if(!Ra(r))return $n();for(var a of t.options)a.selected=r.includes(ba(a));return}for(a of t.options){var o=ba(a);if(En(o,r)){a.selected=!0;return}}(!n||r!==void 0)&&(t.selectedIndex=-1)}function ur(t){var r=new MutationObserver(()=>{tr(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),In(()=>{r.disconnect()})}function ba(t){return"__value"in t?t.__value:t.value}const Vn=Symbol("is custom element"),zn=Symbol("is html");function Br(t){if(xt){var r=!1,n=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;Wt(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;Wt(t,"checked",null),t.checked=o}}};t.__on_r=n,ja(n),On()}}function Wt(t,r,n,a){var o=Xn(t);xt&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=n)&&(r==="loading"&&(t[Nn]=n),n==null?t.removeAttribute(r):typeof n!="string"&&Qn(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Xn(t){return t.__attributes??(t.__attributes={[Vn]:t.nodeName.includes("-"),[zn]:t.namespaceURI===Fn})}var xa=new Map;function Qn(t){var r=t.getAttribute("is")||t.nodeName,n=xa.get(r);if(n)return n;xa.set(r,n=[]);for(var a,o=t,s=Element.prototype;s!==o;){a=Rn(o);for(var c in a)a[c].set&&n.push(c);o=An(o)}return n}function Ur(t,r,n=r){var a=new WeakSet;Wn(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Jr(t)?qr(s):s,n(s),er!==null&&a.add(er),await Yn(),s!==(s=r())){var c=t.selectionStart,d=t.selectionEnd,f=t.value.length;if(t.value=s??"",d!==null){var b=t.value.length;c===d&&d===f&&b>f?(t.selectionStart=b,t.selectionEnd=b):(t.selectionStart=c,t.selectionEnd=Math.min(d,b))}}}),(xt&&t.defaultValue!==t.value||i(r)==null&&t.value)&&(n(Jr(t)?qr(t.value):t.value),er!==null&&a.add(er)),Ln(()=>{var o=r();if(t===document.activeElement){var s=jn??er;if(a.has(s))return}Jr(t)&&o===qr(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Jr(t){var r=t.type;return r==="number"||r==="range"}function qr(t){return t===""?null:+t}const Kn=Bn,Zn=!1,eo=(async()=>({})),Rc=Object.freeze(Object.defineProperty({__proto__:null,load:eo,ssr:Zn},Symbol.toStringTag,{value:"Module"})),br="https://results.advancedeventsystems.com/api",to="https://results.advancedeventsystems.com/odata",ro=async(t,r,n)=>{const a=`${br}/event/${t}/courts/${r}/${n}`,o=await fetch(a);if(!o.ok)throw new Error(`Failed to fetch court schedule: ${o.statusText}`);return o.json()},ao=async t=>{const r=`${br}/event/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch event info: ${n.statusText}`);return n.json()},no=async(t,r)=>{const n=`${to}/${t}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch team assignments: ${a.statusText}`);return a.json()},Gr=async(t,r,n,a)=>{const o=`${br}/event/${t}/division/${r}/team/${n}/schedule/${a}`,s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch team schedule: ${s.statusText}`);return s.json()},oo=async(t,r)=>{const n=`${br}/event/${t}/division/${r}/plays`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch division plays: ${a.statusText}`);return a.json()},so=async(t,r)=>{const n=`${br}/event/${t}/poolsheet/${r}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch pool sheet: ${a.statusText}`);return a.json()},Tr="630 Volleyball",Mr="630",io=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(n=>n&&(n.includes(Tr)||n.includes(Mr))),co=t=>t.FirstTeamText&&(t.FirstTeamText.includes(Tr)||t.FirstTeamText.includes(Mr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(Tr)||t.SecondTeamText.includes(Mr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(Tr)||t.WorkTeamText.includes(Mr))?"work":null,lo=t=>{const r=[];return t.forEach(n=>{n.CourtMatches.forEach(a=>{if(io(a)){const o=co(a);o&&o!=="work"&&r.push({...a,CourtName:n.Name,CourtId:n.CourtId,InvolvedTeam:o})}})}),r.sort((n,a)=>n.ScheduledStartDateTime-a.ScheduledStartDateTime)},Ba=t=>{const r=new Map;for(let n=0;n<t.length;n++){const a=t[n],o=[];for(let s=0;s<t.length;s++){if(n===s)continue;const c=t[s],d=a.ScheduledStartDateTime<c.ScheduledEndDateTime&&a.ScheduledEndDateTime>c.ScheduledStartDateTime,f=a.CourtId!==c.CourtId;d&&f&&o.push(c.MatchId)}o.length>0&&r.set(a.MatchId,o)}return r},Ua=6048e5,uo=864e5,pa=Symbol.for("constructDateFrom");function Bt(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&pa in t?t[pa](r):t instanceof Date?new t.constructor(r):new Date(r)}function Et(t,r){return Bt(r||t,t)}let fo={};function $r(){return fo}function vr(t,r){var d,f,b,g;const n=$r(),a=(r==null?void 0:r.weekStartsOn)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(b=n.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,o=Et(t,r==null?void 0:r.in),s=o.getDay(),c=(s<a?7:0)+s-a;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Cr(t,r){return vr(t,{...r,weekStartsOn:1})}function Ja(t,r){const n=Et(t,r==null?void 0:r.in),a=n.getFullYear(),o=Bt(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const s=Cr(o),c=Bt(n,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=Cr(c);return n.getTime()>=s.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function _a(t){const r=Et(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function vo(t,...r){const n=Bt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function ya(t,r){const n=Et(t,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function mo(t,r,n){const[a,o]=vo(n==null?void 0:n.in,t,r),s=ya(a),c=ya(o),d=+s-_a(s),f=+c-_a(c);return Math.round((d-f)/uo)}function ho(t,r){const n=Ja(t,r),a=Bt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Cr(a)}function go(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bo(t){return!(!go(t)&&typeof t!="number"||isNaN(+Et(t)))}function xo(t,r){const n=Et(t,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const po={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_o=(t,r,n)=>{let a;const o=po[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Vr(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},So={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},To={date:Vr({formats:yo,defaultWidth:"full"}),time:Vr({formats:So,defaultWidth:"full"}),dateTime:Vr({formats:wo,defaultWidth:"full"})},Mo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Do=(t,r,n,a)=>Mo[t];function lr(t){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;o=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[d]||t.values[c]}const s=t.argumentCallback?t.argumentCallback(r):r;return o[s]}}const Co={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ko={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Po={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Io={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$o={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oo=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},No={ordinalNumber:Oo,era:lr({values:Co,defaultWidth:"wide"}),quarter:lr({values:ko,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lr({values:Po,defaultWidth:"wide"}),day:lr({values:Io,defaultWidth:"wide"}),dayPeriod:lr({values:$o,defaultWidth:"wide",formattingValues:Eo,defaultFormattingWidth:"wide"})};function dr(t){return(r,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;const c=s[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?Ao(d,D=>D.test(c)):Fo(d,D=>D.test(c));let b;b=t.valueCallback?t.valueCallback(f):f,b=n.valueCallback?n.valueCallback(b):b;const g=r.slice(c.length);return{value:b,rest:g}}}function Fo(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function Ao(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Ro(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const o=a[0],s=r.match(t.parsePattern);if(!s)return null;let c=t.valueCallback?t.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const d=r.slice(o.length);return{value:c,rest:d}}}const Wo=/^(\d+)(th|st|nd|rd)?/i,Yo=/\d+/i,Lo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jo={any:[/^b/i,/^(a|c)/i]},Ho={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bo={any:[/1/i,/2/i,/3/i,/4/i]},Uo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Go={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xo={ordinalNumber:Ro({matchPattern:Wo,parsePattern:Yo,valueCallback:t=>parseInt(t,10)}),era:dr({matchPatterns:Lo,defaultMatchWidth:"wide",parsePatterns:jo,defaultParseWidth:"any"}),quarter:dr({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dr({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:Jo,defaultParseWidth:"any"}),day:dr({matchPatterns:qo,defaultMatchWidth:"wide",parsePatterns:Go,defaultParseWidth:"any"}),dayPeriod:dr({matchPatterns:Vo,defaultMatchWidth:"any",parsePatterns:zo,defaultParseWidth:"any"})},Qo={code:"en-US",formatDistance:_o,formatLong:To,formatRelative:Do,localize:No,match:Xo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ko(t,r){const n=Et(t,r==null?void 0:r.in);return mo(n,xo(n))+1}function Zo(t,r){const n=Et(t,r==null?void 0:r.in),a=+Cr(n)-+ho(n);return Math.round(a/Ua)+1}function qa(t,r){var g,D,C,y;const n=Et(t,r==null?void 0:r.in),a=n.getFullYear(),o=$r(),s=(r==null?void 0:r.firstWeekContainsDate)??((D=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(C=o.locale)==null?void 0:C.options)==null?void 0:y.firstWeekContainsDate)??1,c=Bt((r==null?void 0:r.in)||t,0);c.setFullYear(a+1,0,s),c.setHours(0,0,0,0);const d=vr(c,r),f=Bt((r==null?void 0:r.in)||t,0);f.setFullYear(a,0,s),f.setHours(0,0,0,0);const b=vr(f,r);return+n>=+d?a+1:+n>=+b?a:a-1}function es(t,r){var d,f,b,g;const n=$r(),a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(b=n.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,o=qa(t,r),s=Bt((r==null?void 0:r.in)||t,0);return s.setFullYear(o,0,a),s.setHours(0,0,0,0),vr(s,r)}function ts(t,r){const n=Et(t,r==null?void 0:r.in),a=+vr(n,r)-+es(n,r);return Math.round(a/Ua)+1}function we(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const Yt={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return we(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):we(n+1,2)},d(t,r){return we(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return we(t.getHours()%12||12,r.length)},H(t,r){return we(t.getHours(),r.length)},m(t,r){return we(t.getMinutes(),r.length)},s(t,r){return we(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return we(o,r.length)}},Zt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sa={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Yt.y(t,r)},Y:function(t,r,n,a){const o=qa(t,a),s=o>0?o:1-o;if(r==="YY"){const c=s%100;return we(c,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):we(s,r.length)},R:function(t,r){const n=Ja(t);return we(n,r.length)},u:function(t,r){const n=t.getFullYear();return we(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return we(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return we(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return Yt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return we(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const o=ts(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):we(o,r.length)},I:function(t,r,n){const a=Zo(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):we(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Yt.d(t,r)},D:function(t,r,n){const a=Ko(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):we(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return we(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return we(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return we(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let o;switch(a===12?o=Zt.noon:a===0?o=Zt.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let o;switch(a>=17?o=Zt.evening:a>=12?o=Zt.afternoon:a>=4?o=Zt.morning:o=Zt.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Yt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Yt.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):we(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):we(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Yt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Yt.s(t,r)},S:function(t,r){return Yt.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Ta(a);case"XXXX":case"XX":return Vt(a);case"XXXXX":case"XXX":default:return Vt(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return Ta(a);case"xxxx":case"xx":return Vt(a);case"xxxxx":case"xxx":default:return Vt(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+wa(a,":");case"OOOO":default:return"GMT"+Vt(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+wa(a,":");case"zzzz":default:return"GMT"+Vt(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return we(a,r.length)},T:function(t,r,n){return we(+t,r.length)}};function wa(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),s=a%60;return s===0?n+String(o):n+String(o)+r+we(s,2)}function Ta(t,r){return t%60===0?(t>0?"-":"+")+we(Math.abs(t)/60,2):Vt(t,r)}function Vt(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=we(Math.trunc(a/60),2),s=we(a%60,2);return n+o+r+s}const Ma=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ga=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},rs=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Ma(t,r);let s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Ma(a,r)).replace("{{time}}",Ga(o,r))},as={p:Ga,P:rs},ns=/^D+$/,os=/^Y+$/,ss=["D","DD","YY","YYYY"];function is(t){return ns.test(t)}function cs(t){return os.test(t)}function ls(t,r,n){const a=ds(t,r,n);if(console.warn(a),ss.includes(t))throw new RangeError(a)}function ds(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const us=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vs=/^'([^]*?)'?$/,ms=/''/g,hs=/[a-zA-Z]/;function Va(t,r,n){var g,D,C,y;const a=$r(),o=a.locale??Qo,s=a.firstWeekContainsDate??((D=(g=a.locale)==null?void 0:g.options)==null?void 0:D.firstWeekContainsDate)??1,c=a.weekStartsOn??((y=(C=a.locale)==null?void 0:C.options)==null?void 0:y.weekStartsOn)??0,d=Et(t,n==null?void 0:n.in);if(!bo(d))throw new RangeError("Invalid time value");let f=r.match(fs).map(v=>{const h=v[0];if(h==="p"||h==="P"){const _=as[h];return _(v,o.formatLong)}return v}).join("").match(us).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const h=v[0];if(h==="'")return{isToken:!1,value:gs(v)};if(Sa[h])return{isToken:!0,value:v};if(h.match(hs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(f=o.localize.preprocessor(d,f));const b={firstWeekContainsDate:s,weekStartsOn:c,locale:o};return f.map(v=>{if(!v.isToken)return v.value;const h=v.value;(cs(h)||is(h))&&ls(h,r,String(t));const _=Sa[h[0]];return _(d,h,o.localize,b)}).join("")}function gs(t){const r=t.match(vs);return r?r[1].replace(ms,"'"):t}const Ye=t=>Va(new Date(t),"h:mm a"),Lt=t=>Va(new Date(t),"MMM d, yyyy"),zr="coveragePlan";function bs(){const{subscribe:t,set:r,update:n}=kt(new Set);try{const o=localStorage.getItem(zr);if(o){const s=JSON.parse(o);r(new Set(s.selectedMatches))}}catch(o){console.error("Failed to load coverage plan:",o)}const a=o=>{try{const s={selectedMatches:Array.from(o),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(zr,JSON.stringify(s))}catch(s){console.error("Failed to save coverage plan:",s)}};return{subscribe:t,toggleMatch:o=>{n(s=>{const c=new Set(s);return c.has(o)?c.delete(o):c.add(o),a(c),c})},selectMatch:o=>{n(s=>{const c=new Set(s);return c.add(o),a(c),c})},deselectMatch:o=>{n(s=>{const c=new Set(s);return c.delete(o),a(c),c})},clearPlan:()=>{r(new Set),localStorage.removeItem(zr)}}}const pt=bs();hr(pt,t=>t);const xs=hr(pt,t=>t.size),Xr="teamCoverageStatus";function ps(){const{subscribe:t,set:r,update:n}=kt({});try{const o=localStorage.getItem(Xr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load coverage status:",o)}const a=o=>{if(Object.keys(o).length!==0)try{localStorage.setItem(Xr,JSON.stringify(o))}catch(s){console.error("Failed to save coverage status:",s)}};return{subscribe:t,setTeamStatus:(o,s)=>{n(c=>{const d={...c};return s==="not-covered"?delete d[o]:d[o]=s,a(d),d})},getTeamStatus:o=>{let s="not-covered";return t(c=>{s=c[o]||"not-covered"})(),s},clearAllStatus:()=>{r({}),localStorage.removeItem(Xr)},updateFromPlan:(o,s,c)=>{c!==0&&n(d=>{let f;if(s===0?f="not-covered":s===c?f="covered":f="partially-covered",(d[o]||"not-covered")===f)return d;const g={...d};return f==="not-covered"?delete g[o]:g[o]=f,a(g),g})},importStatuses:o=>{r(o),a(o)}}}const it=ps(),Da="userRole";function _s(){const{subscribe:t,set:r}=kt("media");try{const a=localStorage.getItem(Da);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const n=a=>{try{localStorage.setItem(Da,a)}catch(o){console.error("Failed to save user role:",o)}};return{subscribe:t,setRole:a=>{r(a),n(a)}}}const mr=_s(),ca=hr(mr,t=>t==="media"),la=hr(mr,t=>t==="spectator"),ys=hr(mr,t=>t==="coach");var Ss=k('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function ws(t,r){zt(r,!1);let n=Ae(r,"eventId",8),a=Ae(r,"date",8),o=Ae(r,"timeWindow",8),s=Ae(r,"onLoad",8),c=Ae(r,"loading",8,!1),d=Y(n()),f=Y(a()),b=Y(o());async function g($){$.preventDefault(),await s()(e(d),e(f),e(b))}se(()=>(T(n()),e(d),T(a()),e(f),T(o()),e(b)),()=>{n()!==e(d)&&w(d,n()),a()!==e(f)&&w(f,a()),o()!==e(b)&&w(b,o())}),gr(),Qt();var D=Ss(),C=u(D),y=u(C),v=m(u(y),2);Br(v),l(y);var h=m(y,2),_=m(u(h),2);Br(_),l(h);var E=m(h,2),x=m(u(E),2);Br(x),l(E);var I=m(E,2),B=u(I),ae=u(B,!0);l(B),l(I),l(C),l(D),z(()=>{v.disabled=c(),_.disabled=c(),x.disabled=c(),B.disabled=c(),Ht(B,`background-color: ${c()?"#ca8a04":"#eab308"}; color: #18181b;`),L(ae,c()?"Loading...":"Load")}),Ur(v,()=>e(d),$=>w(d,$)),Ur(_,()=>e(f),$=>w(f,$)),Ur(x,()=>e(b),$=>w(b,$)),fr("submit",D,g),S(t,D),Xt()}const za=(t,r,n,a={})=>{const{excludeSelected:o=!0,preferNoConflicts:s=!0,preferNearSelected:c=!0,maxResults:d=10}=a;return(o?t.filter(g=>!r.has(g.MatchId)):t).map(g=>{const D=[];let C=0;const y=n.has(g.MatchId);if(!y&&s?(C+=50,D.push("No conflicts")):y&&(C-=20,D.push("Has conflicts")),c&&r.size>0){const h=g.ScheduledStartDateTime,_=g.ScheduledEndDateTime,E=t.filter(I=>r.has(I.MatchId));let x=1/0;E.forEach(I=>{const B=I.ScheduledStartDateTime,ae=I.ScheduledEndDateTime,$=Math.abs(h-ae),re=Math.abs(B-_),ce=Math.min($,re);ce<x&&(x=ce)}),x<7200*1e3?(C+=20,D.push("Near selected matches")):x>14400*1e3&&(C-=10,D.push("Far from selected matches"))}c&&r.size>0&&t.filter(E=>r.has(E.MatchId)).filter(E=>E.CourtName===g.CourtName).length>0&&(C+=15,D.push("Same court as selected matches"));const v=new Date(g.ScheduledStartDateTime).getHours();return v>=8&&v<12&&(C+=5,D.push("Morning match")),{match:g,score:C,reasons:D}}).sort((g,D)=>D.score-g.score).slice(0,d).filter(g=>g.score>0)},Ts=(t,r,n,a,o,s={})=>{const{excludeSelected:c=!0,preferUncovered:d=!0,preferNoConflicts:f=!0,preferNearSelected:b=!0,maxResults:g=10}=s,D=[];return t.forEach(C=>{if(c&&r.has(C.MatchId))return;const y=o(C);if(!y)return;const v=a.get(y)||"not-covered",h=n.has(C.MatchId);let _=0;const E=[];if(d&&v==="not-covered"&&(_+=10,E.push("Uncovered team")),f&&!h&&(_+=5,E.push("No conflicts")),b&&r.size>0){const x=C.ScheduledStartDateTime;let I=!1;t.forEach(B=>{if(r.has(B.MatchId)){const $=Math.abs(x-B.ScheduledStartDateTime)/6e4;$<=30&&$>0&&(I=!0)}}),I&&(_+=3,E.push("Near selected match"))}_>0&&E.length>0&&D.push({match:C,teamId:y,reason:E.join(", "),score:_})}),D.sort((C,y)=>y.score-C.score).slice(0,g)},Ms=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),n=decodeURIComponent(escape(atob(r))),a=JSON.parse(n);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},Ds=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},Dr={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},Qr="matchFilters";function Cs(){const{subscribe:t,set:r,update:n}=kt(Dr);try{const o=localStorage.getItem(Qr);if(o){const s=JSON.parse(o);r({...Dr,...s})}}catch(o){console.error("Failed to load filters:",o)}const a=o=>{try{localStorage.setItem(Qr,JSON.stringify(o))}catch(s){console.error("Failed to save filters:",s)}};return{subscribe:t,updateFilter:(o,s)=>{n(c=>{const d={...c,[o]:s};return a(d),d})},resetFilters:()=>{r(Dr),localStorage.removeItem(Qr)},setTimeRangePreset:o=>{n(s=>{let c;return o==="morning"?c={...s,timeRange:{start:"00:00",end:"14:29"}}:o==="afternoon"?c={...s,timeRange:{start:"14:30",end:"23:59"}}:c={...s,timeRange:{start:null,end:null}},a(c),c})},getTeamIdentifier:o=>{const c=(o.InvolvedTeam==="first"?o.FirstTeamText:o.SecondTeamText).match(/(\d+-\d+)/);return c?c[1]:""}}}const xr=Cs();function Je(t){const n=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return n?n[1]:""}function kr(t){const r=new Set(t.map(n=>n.Division.CodeAlias));return Array.from(r).sort()}function Xa(t){const r=new Set;return t.forEach(n=>{const a=Je(n);a&&r.add(a)}),Array.from(r).sort()}function Qa(t){let r=Dr;return xr.subscribe(n=>{r=n})(),t.filter(n=>{if(r.division&&n.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),c=o.getMinutes(),d=s*60+c,f=870;if(r.wave==="morning"&&d>=f||r.wave==="afternoon"&&d<f)return!1}if(r.teams.length>0){const a=Je(n);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),c=o.getMinutes(),d=s*60+c;if(r.timeRange.start){const[f,b]=r.timeRange.start.split(":").map(Number),g=f*60+b;if(d<g)return!1}if(r.timeRange.end){const[f,b]=r.timeRange.end.split(":").map(Number),g=f*60+b;if(d>g)return!1}}return!0})}function Ct(t,r){xr.updateFilter(t,r)}function Kr(){xr.resetFilters()}const Zr="matchPriorities";function ks(){const{subscribe:t,set:r,update:n}=kt({});try{const o=localStorage.getItem(Zr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load priorities:",o)}const a=o=>{try{localStorage.setItem(Zr,JSON.stringify(o))}catch(s){console.error("Failed to save priorities:",s)}};return{subscribe:t,setPriority:(o,s)=>{n(c=>{const d={...c};return s===null?delete d[o]:d[o]=s,a(d),d})},getPriority:o=>{let s=null;return t(c=>{s=c[o]||null})(),s},clearAllPriorities:()=>{r({}),localStorage.removeItem(Zr)}}}const Ft=ks(),Ca="followedTeams",ka="teamColors";function Ps(){const{subscribe:t,set:r,update:n}=kt([]),{subscribe:a,set:o,update:s}=kt(new Map);{try{const f=localStorage.getItem(Ca);f&&r(JSON.parse(f))}catch(f){console.error("Failed to load followed teams:",f)}try{const f=localStorage.getItem(ka);if(f){const b=JSON.parse(f);o(new Map(Object.entries(b)))}}catch(f){console.error("Failed to load team colors:",f)}}const c=f=>{try{localStorage.setItem(Ca,JSON.stringify(f))}catch(b){console.error("Failed to save followed teams:",b)}},d=f=>{try{const b={};f.forEach((g,D)=>{b[D]=g}),localStorage.setItem(ka,JSON.stringify(b))}catch(b){console.error("Failed to save team colors:",b)}};return{subscribe:t,followTeam:(f,b)=>{n(g=>{if(g.some(C=>C.teamId===f))return g;const D=[...g,{teamId:f,teamName:b,followedAt:Date.now()}];return c(D),D})},unfollowTeam:f=>{n(b=>{const g=b.filter(D=>D.teamId!==f);return c(g),g}),s(b=>{const g=new Map(b);return g.delete(f),d(g),g})},isFollowing:f=>{let b=!1;return t(g=>{b=g.some(D=>D.teamId===f)})(),b},setTeamColor:(f,b)=>{s(g=>{const D=new Map(g);return D.set(f,b),d(D),D})},getTeamColor:f=>{let b=null;return a(g=>{b=g.get(f)||null})(),b},reorderTeams:(f,b)=>{n(g=>{const D=g.findIndex(v=>v.teamId===f);if(D===-1)return g;const C=[...g],y=C[D];return b==="top"?(C.splice(D,1),C.unshift(y)):b==="up"&&D>0?[C[D-1],C[D]]=[C[D],C[D-1]]:b==="down"&&D<C.length-1&&([C[D],C[D+1]]=[C[D+1],C[D]]),c(C),C})}}}const yr=Ps(),Pa="notificationPreferences",Sr={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Is(){const{subscribe:t,set:r,update:n}=kt(Sr),{subscribe:a,set:o}=kt("default");{try{const d=localStorage.getItem(Pa);if(d){const f=JSON.parse(d);r({...Sr,...f})}}catch(d){console.error("Failed to load notification preferences:",d)}"Notification"in window&&o(Notification.permission)}const s=d=>{try{localStorage.setItem(Pa,JSON.stringify(d))}catch(f){console.error("Failed to save notification preferences:",f)}},c=(d,f,b=!1)=>{let g="default";a(D=>{g=D})(),b&&g==="granted"&&"Notification"in window?new Notification(d,{body:f,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${d}: ${f}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let d="default";if(a(f=>{d=f})(),d==="default"){const f=await Notification.requestPermission();return o(f),f==="granted"}return d==="granted"}return!1},checkUpcomingMatches:(d,f)=>{let b=Sr;if(t(C=>{b=C})(),!b.upcomingMatchReminder)return;const g=Date.now(),D=b.reminderMinutes*60*1e3;d.forEach(C=>{const y=C.ScheduledStartDateTime,v=y-g,h=C.FirstTeamText||C.SecondTeamText;if(f.includes(h)&&v>0&&v<=D){const _=`reminder-${C.MatchId}`,E=localStorage.getItem(_);if(!E||Date.now()-parseInt(E)>D){const x=Math.floor(v/6e4);c(`Match starting in ${x} minute${x!==1?"s":""}`,`${C.FirstTeamText} vs ${C.SecondTeamText}
${new Date(y).toLocaleTimeString()} - ${C.CourtName}`,b.browserNotifications),localStorage.setItem(_,Date.now().toString())}}})},notifyScoreUpdate:(d,f)=>{let b=Sr;if(t(h=>{b=h})(),!b.scoreUpdateNotification)return;const g=f.sets.find(h=>h.completedAt===0)||f.sets[f.sets.length-1],D=f.sets.filter(h=>h.completedAt>0),C=D.filter(h=>h.team1Score>h.team2Score).length,y=D.filter(h=>h.team2Score>h.team1Score).length;let v=`Score: ${g.team1Score}-${g.team2Score}`;D.length>0&&(v=`Sets: ${C}-${y} | ${v}`),c(`${d.FirstTeamText} vs ${d.SecondTeamText}`,v,b.browserNotifications)},updatePreferences:d=>{n(f=>{const b={...f,...d};return s(b),b})}}}const ea=Is(),$s="courtsync-score-updates";let wr=null;const Es=()=>{if(!wr)try{wr=new BroadcastChannel($s)}catch(t){console.error("BroadcastChannel not supported:",t),wr={postMessage:()=>{},close:()=>{},onmessage:null}}return wr},Os=(t,r,n)=>{const a=Es(),o={type:n?"score-update":"score-delete",eventId:t,matchId:r,score:n||void 0,timestamp:Date.now()};try{a.postMessage(o)}catch(s){console.error("Failed to broadcast score update:",s)}},Ia="scoreHistory",Ns=(t,r,n)=>{try{const a=localStorage.getItem(Ia),o=a?JSON.parse(a):{};o[t.toString()]||(o[t.toString()]=[]);const s={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:n};o[t.toString()].push(s),o[t.toString()].length>100&&(o[t.toString()]=o[t.toString()].slice(-100)),localStorage.setItem(Ia,JSON.stringify(o))}catch(a){console.error("Failed to save score history:",a)}},$a="claimHistory",Ea=1e3;function ta(t){try{const r=localStorage.getItem($a),n=r?JSON.parse(r):[];n.unshift(t),n.length>Ea&&n.splice(Ea),localStorage.setItem($a,JSON.stringify(n))}catch(r){console.error("Failed to save claim history:",r)}}const Oa="matchClaims",ra="matchScores",Fs=1800*1e3;function Ka({eventId:t,userId:r="anonymous"}){const{subscribe:n,set:a,update:o}=kt(new Map),{subscribe:s,set:c,update:d}=kt(new Map);{try{const y=localStorage.getItem(Oa);if(y){const v=JSON.parse(y),h=new Map;Object.values(v).forEach(_=>{_.eventId===t&&_.expiresAt>Date.now()&&h.set(_.matchId,_)}),a(h)}}catch(y){console.error("Failed to load claims:",y)}try{const y=localStorage.getItem(ra);if(y){const v=JSON.parse(y),h=new Map;Object.values(v).forEach(_=>{_.eventId===t&&h.set(_.matchId,_)}),c(h)}}catch(y){console.error("Failed to load scores:",y)}}const f=y=>{try{const v={};y.forEach(h=>{v[h.matchId.toString()]=h}),localStorage.setItem(Oa,JSON.stringify(v))}catch(v){console.error("Failed to save claims:",v)}},b=y=>{try{const v={};y.forEach(h=>{v[h.matchId.toString()]=h}),localStorage.setItem(ra,JSON.stringify(v))}catch(v){console.error("Failed to save scores:",v)}};let g=null;return{claims:{subscribe:n},scores:{subscribe:s},claimMatch:(y,v)=>{const h=Date.now(),_=v+Fs,E={matchId:y,claimedBy:r,claimedAt:h,expiresAt:_,eventId:t};o(x=>{const I=new Map(x);return I.set(y,E),f(I),I}),ta({matchId:y,eventId:t,action:"claimed",userId:r,timestamp:h})},releaseClaim:y=>{o(v=>{const h=v.get(y),_=new Map(v);return _.delete(y),f(_),h&&Kn&&ta({matchId:y,eventId:t,action:"released",userId:h.claimedBy,timestamp:Date.now()}),_})},transferClaim:(y,v)=>{let h=!1;if(n(E=>{const x=E.get(y);h=(x==null?void 0:x.claimedBy)===r&&x.expiresAt>Date.now()})(),!h)return!1;const _=Date.now();return o(E=>{const x=E.get(y);if(!x)return E;const I={...x,claimedBy:v,claimedAt:_},B=new Map(E);return B.set(y,I),f(B),ta({matchId:y,eventId:t,action:"transferred",userId:r,timestamp:_,transferredTo:v}),B}),!0},isClaimed:y=>{let v=!1;return n(h=>{const _=h.get(y);v=_?_.expiresAt>Date.now():!1})(),v},getClaimStatus:y=>{let v="available";return n(h=>{const _=h.get(y);!_||_.expiresAt<Date.now()?v="available":_.claimedBy===r?v="claimed":v="locked"})(),v},getClaimer:y=>{let v=null;return n(h=>{const _=h.get(y);v=_&&_.expiresAt>Date.now()?_.claimedBy:null})(),v},isClaimOwner:y=>{let v=!1;return n(h=>{const _=h.get(y);v=(_==null?void 0:_.claimedBy)===r&&_.expiresAt>Date.now()})(),v},updateScore:(y,v,h)=>{const _={matchId:y,eventId:t,sets:v,status:h,lastUpdated:Date.now(),lastUpdatedBy:r};d(E=>{const x=new Map(E);return x.set(y,_),b(x),x}),Os(t,y,_),Ns(y,_,r)},getScore:y=>{let v=null;return s(h=>{v=h.get(y)||null})(),v},clearEventData:()=>{o(y=>{const v=new Map(y);return v.forEach((h,_)=>{h.eventId===t&&v.delete(_)}),f(v),v}),d(y=>{const v=new Map(y);return v.forEach((h,_)=>{h.eventId===t&&v.delete(_)}),b(v),v})},startPolling:()=>{g||(g=setInterval(()=>{try{const y=localStorage.getItem(ra);if(!y)return;const v=JSON.parse(y),h=new Map;let _=!1;s(E=>{Object.values(v).forEach(x=>{if(x.eventId===t){h.set(x.matchId,x);const I=E.get(x.matchId);(!I||x.lastUpdated&&x.lastUpdated>I.lastUpdated)&&(_=!0)}}),_&&d(x=>{const I=new Map(x);return h.forEach((B,ae)=>{const $=x.get(ae);(!$||B.lastUpdated&&B.lastUpdated>$.lastUpdated)&&I.set(ae,B)}),I})})()}catch(y){console.error("Failed to poll scores:",y)}},3e3))},stopPolling:()=>{g&&(clearInterval(g),g=null)}}}const aa="matchNotes";function As(t){const{subscribe:r,set:n,update:a}=kt(new Map);try{const s=localStorage.getItem(aa);if(s){const c=JSON.parse(s),d=new Map;Object.values(c).forEach(f=>{f.eventId===t&&d.set(f.matchId,f)}),n(d)}}catch(s){console.error("Failed to load match notes:",s)}const o=s=>{try{const c=localStorage.getItem(aa),d=c?JSON.parse(c):{};s.forEach(f=>{d[`${t}-${f.matchId}`]=f}),Object.keys(d).forEach(f=>{if(f.startsWith(`${t}-`)){const b=parseInt(f.split("-").pop()||"0");s.has(b)||delete d[f]}}),localStorage.setItem(aa,JSON.stringify(d))}catch(c){console.error("Failed to save match notes:",c)}};return{subscribe:r,setNote:(s,c)=>{const d=Date.now();a(f=>{const b=new Map(f),g=b.get(s);return c.trim()?b.set(s,{matchId:s,eventId:t,note:c.trim(),createdAt:(g==null?void 0:g.createdAt)||d,updatedAt:d}):b.delete(s),o(b),b})},getNote:s=>{let c="";return r(d=>{var f;c=((f=d.get(s))==null?void 0:f.note)||""})(),c},deleteNote:s=>{a(c=>{const d=new Map(c);return d.delete(s),o(d),d})},hasNote:s=>{let c=!1;return r(d=>{const f=d.get(s);c=f!==void 0&&f.note.trim().length>0})(),c}}}function Rs(t){return As(t)}var Ws=k('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),Ys=k('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Ls=k("<button>Statistics</button>"),js=k('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Hs=k('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Bs=k('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),Us=k('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),Js=k('<span class="text-[#808593] mx-1">vs</span> ',1),qs=k('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),Gs=k('<span class="mx-1">vs</span> ',1),Vs=k('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),zs=k('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Xs=k('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Qs=k('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),Ks=k('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),Zs=k('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),ei=k("<option> </option>"),ti=k('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),ri=k('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),ai=k('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),ni=k('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),oi=k('<span class="text-[#808593] mx-1">vs</span> ',1),si=k('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),ii=k('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),ci=k('<div class="space-y-4"><!> <!></div>'),li=k('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),di=k("<!> <!>",1),ui=k('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),fi=k('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),vi=k('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function mi(t,r){zt(r,!1);const n=Y(),a=Y(),o=Y(),s=Y(),c=Y();let d=Ae(r,"match",8),f=Ae(r,"eventId",8),b=Ae(r,"clubId",8),g=Ae(r,"onClose",8),D=Ae(r,"matches",24,()=>[]),C=Y(null),y=Y([]),v=Y([]),h=Y([]),_=Y([]),E=Y(null),x=Y(null),I=Y("schedule"),B=Y(!0),ae=Y(null);function $(){return d().InvolvedTeam==="first"?d().FirstTeamText:d().InvolvedTeam==="second"?d().SecondTeamText:""}const re=Je(d()),ce=$();sa(async()=>{w(B,!0),w(ae,null);try{const P=(await no(f(),b())).value||[],q=$();if(!q){w(ae,"Could not extract team name from match"),w(B,!1);return}const oe=P.find(Oe=>{if(Oe.TeamText===q||Oe.TeamName===q)return!0;const qe=q.match(/(\d+-\d+)/);if(qe){const Ie=qe[1];return Oe.TeamName.includes(Ie)||Oe.TeamText.includes(Ie)}return!1});if(!oe){w(ae,`Team not found: ${q}`),w(B,!1);return}const he=oe.TeamId,ye=oe.TeamDivision.DivisionId;w(C,{TeamId:he,DivisionId:ye,TeamName:oe.TeamName,TeamText:oe.TeamText});const[Re,tt,Tt]=await Promise.all([Gr(f(),ye,he,"current").catch(()=>[]),Gr(f(),ye,he,"work").catch(()=>[]),Gr(f(),ye,he,"future").catch(()=>[])]),gt=(Oe,qe=!1)=>Array.isArray(Oe)?Oe.flatMap(Ie=>{var bt,je;return qe?Ie.Match?[{...Ie.Match,Court:Ie.Match.Court||null,Division:{...Ie.Play,PlayId:(bt=Ie.Play)==null?void 0:bt.PlayId},FirstTeamText:((je=Ie.Play)==null?void 0:je.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!Ie.Matches||!Array.isArray(Ie.Matches)?[]:Ie.Matches.map(Ze=>{var rt;return{...Ze,Court:Ze.Court||null,Division:{...Ie.Play,PlayId:(rt=Ie.Play)==null?void 0:rt.PlayId}}})}):[];w(y,gt(Re,!1)),w(v,gt(tt,!0)),w(h,gt(Tt,!1));const Pe=await oo(f(),ye).catch(()=>null);Pe!=null&&Pe.Plays&&w(_,Pe.Plays)}catch(p){w(ae,p instanceof Error?p.message:"Failed to load team data")}finally{w(B,!1)}});function ie(p,P=!1){var Re,tt;const q=typeof p.ScheduledStartDateTime=="string"?new Date(p.ScheduledStartDateTime).getTime():p.ScheduledStartDateTime,oe=((Re=p.FirstTeamText)==null?void 0:Re.includes("630"))||((tt=p.SecondTeamText)==null?void 0:tt.includes("630")),he=Lt(q),ye=Ye(q);return{matchDate:he,startTimeDisplay:ye,isPlaying:oe,isWork:P,scheduleMatch:p}}se(()=>e(I),()=>{e(I)==="poolsheet"&&w(x,null)}),se(()=>(e(y),e(v),e(h)),()=>{w(n,[...e(y).map(P=>({...P,type:"current"})),...e(v).map(P=>({...P,type:"work"})),...e(h).map(P=>({...P,type:"future"}))].filter((P,q,oe)=>oe.findIndex(he=>he.MatchId===P.MatchId)===q).sort((P,q)=>{const oe=typeof P.ScheduledStartDateTime=="string"?new Date(P.ScheduledStartDateTime).getTime():P.ScheduledStartDateTime||0,he=typeof q.ScheduledStartDateTime=="string"?new Date(q.ScheduledStartDateTime).getTime():q.ScheduledStartDateTime||0;return oe-he}))}),se(()=>e(n),()=>{w(a,(()=>{const p=new Set;return e(n).forEach(P=>{if(P.Division&&P.Division.PlayId){const q=Math.abs(P.Division.PlayId);p.add(q)}}),Array.from(p)})())}),se(()=>(e(_),e(a)),()=>{w(o,e(_).filter(p=>{const P=Math.abs(p.PlayId);return e(a).includes(P)}))}),se(()=>(e(o),e(E)),()=>{e(o).length>0&&!e(E)&&w(E,e(o)[0].PlayId)}),se(()=>(e(E),e(I),T(f())),()=>{e(E)&&e(I)==="poolsheet"&&so(f(),e(E)).then(p=>{w(x,p)}).catch(p=>{console.error("Failed to fetch pool sheet:",p),w(x,null)})}),se(()=>(e(n),Lt),()=>{w(s,(()=>{const p={};return e(n).forEach(P=>{const q=typeof P.ScheduledStartDateTime=="string"?new Date(P.ScheduledStartDateTime).getTime():P.ScheduledStartDateTime||0,oe=Lt(q);p[oe]||(p[oe]=[]),p[oe].push(P)}),p})())}),se(()=>e(s),()=>{w(c,Object.keys(e(s)).sort((p,P)=>{const q=new Date(p).getTime(),oe=new Date(P).getTime();return q-oe}))}),gr(),Qt();var Le=vi(),$e=u(Le),Ce=u($e),Ke=u(Ce),mt=u(Ke);l(Ke);var ht=m(Ke,2);ht.__click=function(...p){var P;(P=g())==null||P.apply(this,p)},l(Ce);var _t=m(Ce,2);{var Pt=p=>{var P=Ws();S(p,P)};R(_t,p=>{e(B)&&p(Pt)})}var N=m(_t,2);{var G=p=>{var P=Ys(),q=u(P,!0);l(P),z(()=>L(q,e(ae))),S(p,P)};R(N,p=>{e(ae)&&p(G)})}var ne=m(N,2);{var le=p=>{var P=fi(),q=u(P),oe=u(q);oe.__click=()=>w(I,"schedule");var he=m(oe,2);he.__click=()=>w(I,"poolsheet");var ye=m(he,2);{var Re=Pe=>{var Oe=Ls();Oe.__click=()=>w(I,"stats"),z(()=>de(Oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),S(Pe,Oe)};R(ye,Pe=>{T(D()),i(()=>D().length>0&&re)&&Pe(Re)})}l(q);var tt=m(q,2);{var Tt=Pe=>{var Oe=js();S(Pe,Oe)},gt=Pe=>{var Oe=$t(),qe=Qe(Oe);{var Ie=je=>{var Ze=Ks(),rt=m(u(Ze),2),Ot=u(rt);{var At=Ge=>{var ct=Hs();S(Ge,ct)},lt=Ge=>{var ct=$t(),ve=Qe(ct);vt(ve,1,()=>e(c),ft,(Me,Ve)=>{const He=Z(()=>(e(s),e(Ve),i(()=>e(s)[e(Ve)])));var Te=Qs(),ge=u(Te),M=u(ge),F=u(M,!0);l(M);var J=m(M,2),V=u(J);l(J),l(ge);var U=m(ge,2);vt(U,1,()=>e(He),ft,(X,j)=>{const O=Z(()=>(e(j),i(()=>ie(e(j),e(j).type==="work"))));var ee=Xs(),A=u(ee),W=m(A,2),Q=u(W,!0);l(W);var ue=m(W,2),te=u(ue,!0);l(ue);var K=m(ue,2);{var me=_e=>{var Fe=Bs(),be=u(Fe,!0);l(Fe),z(()=>L(be,(T(e(O)),i(()=>e(O).scheduleMatch.Court.Name)))),S(_e,Fe)};R(K,_e=>{T(e(O)),i(()=>e(O).scheduleMatch.Court)&&_e(me)})}var pe=m(K,2),We=u(pe),Be=u(We);{var dt=_e=>{var Fe=Us(),be=m(Qe(Fe),2),ze=u(be,!0);l(be),z(()=>L(ze,(T(e(O)),i(()=>{var et,Xe;return((et=e(O).scheduleMatch.Division)==null?void 0:et.CompleteShortName)||((Xe=e(O).scheduleMatch.Division)==null?void 0:Xe.FullName)||e(O).scheduleMatch.FirstTeamText})))),S(_e,Fe)},Ne=_e=>{var Fe=$t(),be=Qe(Fe);{var ze=Xe=>{var ke=qs(),fe=m(Qe(ke),2),at=u(fe),De=m(at);{var yt=nt=>{var ut=Js(),St=m(Qe(ut));z(()=>L(St,` ${T(e(O)),i(()=>e(O).scheduleMatch.SecondTeamText)??""}`)),S(nt,ut)};R(De,nt=>{T(e(O)),i(()=>e(O).scheduleMatch.SecondTeamText)&&nt(yt)})}l(fe),z(()=>L(at,`${T(e(O)),i(()=>e(O).scheduleMatch.FirstTeamText)??""} `)),S(Xe,ke)},et=Xe=>{var ke=Vs(),fe=m(Qe(ke),2),at=u(fe),De=m(at);{var yt=nt=>{var ut=Gs(),St=m(Qe(ut));z(()=>L(St,` ${T(e(O)),i(()=>e(O).scheduleMatch.SecondTeamText)??""}`)),S(nt,ut)};R(De,nt=>{T(e(O)),i(()=>e(O).scheduleMatch.SecondTeamText)&&nt(yt)})}l(fe),z(()=>L(at,`${T(e(O)),i(()=>e(O).scheduleMatch.FirstTeamText)??""} `)),S(Xe,ke)};R(be,Xe=>{T(e(O)),i(()=>e(O).isPlaying)?Xe(ze):Xe(et,!1)},!0)}S(_e,Fe)};R(Be,_e=>{T(e(O)),i(()=>e(O).isWork)?_e(dt):_e(Ne,!1)})}l(We),l(pe);var Ee=m(pe,2);{var H=_e=>{var Fe=zs(),be=u(Fe),ze=u(be,!0);l(be),l(Fe),z(()=>{Ht(be,`background-color: ${T(e(O)),i(()=>e(O).scheduleMatch.Division.ColorHex)??""}20; color: ${T(e(O)),i(()=>e(O).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${T(e(O)),i(()=>e(O).scheduleMatch.Division.ColorHex)??""}40;`),L(ze,(T(e(O)),i(()=>e(O).scheduleMatch.Division.CodeAlias)))}),S(_e,Fe)};R(Ee,_e=>{T(e(O)),i(()=>e(O).scheduleMatch.Division)&&_e(H)})}l(ee),z(()=>{de(ee,1,`flex items-center gap-3 px-3 py-2 rounded border ${T(e(O)),i(()=>e(O).isWork?"border-[#525463] bg-[#454654]/30":e(O).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),de(A,1,`flex-shrink-0 w-1 h-full rounded-full ${T(e(O)),i(()=>e(O).isWork?"bg-[#808593]":e(O).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),L(Q,(T(e(O)),i(()=>e(O).matchDate))),L(te,(T(e(O)),i(()=>e(O).startTimeDisplay)))}),S(X,ee)}),l(Te),z(()=>{L(F,e(Ve)),L(V,`(${T(e(He)),i(()=>e(He).length)??""} match${T(e(He)),i(()=>e(He).length!==1?"es":"")??""})`)}),S(Me,Te)}),S(Ge,ct)};R(Ot,Ge=>{e(c),i(()=>e(c).length===0)?Ge(At):Ge(lt,!1)})}l(rt),l(Ze),S(je,Ze)},bt=je=>{var Ze=ui(),rt=m(u(Ze),2);{var Ot=lt=>{var Ge=Zs();S(lt,Ge)},At=lt=>{var Ge=di(),ct=Qe(Ge);{var ve=Te=>{var ge=ti(),M=m(u(ge),2);M.__change=J=>w(E,Number(J.target.value)),vt(M,5,()=>e(o),ft,(J,V)=>{var U=ei(),X=u(U,!0);l(U);var j={};z(()=>{L(X,(e(V),i(()=>e(V).CompleteFullName||e(V).FullName||`Pool ${e(V).PlayId}`))),j!==(j=(e(V),i(()=>e(V).PlayId)))&&(U.value=(U.__value=(e(V),i(()=>e(V).PlayId)))??"")}),S(J,U)}),l(M);var F;ur(M),l(ge),z(()=>{F!==(F=e(E)||"")&&(M.value=(M.__value=e(E)||"")??"",tr(M,e(E)||""))}),S(Te,ge)};R(ct,Te=>{e(o),i(()=>e(o).length>1)&&Te(ve)})}var Me=m(ct,2);{var Ve=Te=>{var ge=ci(),M=u(ge);{var F=U=>{var X=ai(),j=u(X),O=u(j),ee=u(O);l(O),l(j);var A=m(j,2),W=u(A),Q=m(u(W));vt(Q,5,()=>(e(x),i(()=>e(x).Pool.Teams)),ft,(ue,te)=>{const K=Z(()=>(e(te),i(()=>{var ke;return(ke=e(te).TeamText)==null?void 0:ke.includes("630")})));var me=ri(),pe=u(me),We=u(pe,!0);l(pe);var Be=m(pe),dt=u(Be),Ne=u(dt,!0);l(dt),l(Be);var Ee=m(Be),H=u(Ee,!0);l(Ee);var _e=m(Ee),Fe=u(_e,!0);l(_e);var be=m(_e),ze=u(be);l(be);var et=m(be),Xe=u(et,!0);l(et),l(me),z(()=>{de(me,1,`border-b border-[#454654] ${e(K)?"bg-[#eab308]/10":""}`),L(We,(e(te),i(()=>e(te).FinishRank||e(te).OverallRank||"-"))),de(dt,1,e(K)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),L(Ne,(e(te),i(()=>e(te).TeamText))),L(H,(e(te),i(()=>e(te).MatchesWon??"-"))),L(Fe,(e(te),i(()=>e(te).MatchesLost??"-"))),L(ze,`${e(te),i(()=>e(te).SetsWon??"-")??""}-${e(te),i(()=>e(te).SetsLost??"-")??""}`),L(Xe,(e(te),i(()=>e(te).PointRatio&&e(te).PointRatio!=="NaN"?e(te).PointRatio:"-")))}),S(ue,me)}),l(Q),l(W),l(A),l(X),z(()=>L(ee,`${e(x),i(()=>e(x).Pool.CompleteFullName||e(x).Pool.FullName)??""} - Standings`)),S(U,X)};R(M,U=>{e(x),i(()=>e(x).Pool&&e(x).Pool.Teams&&e(x).Pool.Teams.length>0)&&U(F)})}var J=m(M,2);{var V=U=>{var X=ii(),j=m(u(X),2);vt(j,5,()=>(e(x),i(()=>e(x).Pool.Matches)),ft,(O,ee)=>{const A=Z(()=>(e(ee),i(()=>typeof e(ee).ScheduledStartDateTime=="string"?new Date(e(ee).ScheduledStartDateTime).getTime():e(ee).ScheduledStartDateTime))),W=Z(()=>(e(ee),i(()=>{var Ne,Ee;return((Ne=e(ee).FirstTeamText)==null?void 0:Ne.includes("630"))||((Ee=e(ee).SecondTeamText)==null?void 0:Ee.includes("630"))})));var Q=si(),ue=u(Q),te=u(ue,!0);l(ue);var K=m(ue,2);{var me=Ne=>{var Ee=ni(),H=u(Ee,!0);l(Ee),z(()=>L(H,(e(ee),i(()=>e(ee).Court.Name)))),S(Ne,Ee)};R(K,Ne=>{e(ee),i(()=>e(ee).Court)&&Ne(me)})}var pe=m(K,2),We=u(pe),Be=m(We);{var dt=Ne=>{var Ee=oi(),H=m(Qe(Ee));z(()=>L(H,` ${e(ee),i(()=>e(ee).SecondTeamText)??""}`)),S(Ne,Ee)};R(Be,Ne=>{e(ee),i(()=>e(ee).SecondTeamText)&&Ne(dt)})}l(pe),l(Q),z(Ne=>{de(Q,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(W)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),L(te,Ne),L(We,`${e(ee),i(()=>e(ee).FirstTeamText)??""} `)},[()=>(T(Ye),T(e(A)),i(()=>Ye(e(A))))]),S(O,Q)}),l(j),l(X),S(U,X)};R(J,U=>{e(x),i(()=>e(x).Pool&&e(x).Pool.Matches&&e(x).Pool.Matches.length>0)&&U(V)})}l(ge),S(Te,ge)},He=Te=>{var ge=$t(),M=Qe(ge);{var F=J=>{var V=li();S(J,V)};R(M,J=>{e(E)&&J(F)},!0)}S(Te,ge)};R(Me,Te=>{e(E)&&e(x)?Te(Ve):Te(He,!1)})}S(lt,Ge)};R(rt,lt=>{e(o),i(()=>e(o).length===0)?lt(Ot):lt(At,!1)})}l(Ze),S(je,Ze)};R(qe,je=>{e(I)==="schedule"?je(Ie):je(bt,!1)},!0)}S(Pe,Oe)};R(tt,Pe=>{e(I)==="stats"&&re?Pe(Tt):Pe(gt,!1)})}l(P),z(()=>{de(oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),de(he,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),S(p,P)};R(ne,p=>{!e(B)&&e(C)&&p(le)})}l($e),l(Le),z(()=>L(mt,`${e(C),i(()=>{var p;return((p=e(C))==null?void 0:p.TeamText)||ce})??""} - Full Schedule`)),S(t,Le),Xt()}rr(["click","change"]);var hi=k("<button><span> </span> <span> </span></button>"),gi=k('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function bi(t,r){zt(r,!1);let n=Ae(r,"matchId",8),a=Ae(r,"currentPriority",8),o=Ae(r,"onPriorityChange",8),s=Ae(r,"onClose",8,void 0),c=Y(null);const d=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function f(D){o()(n(),D),s()&&s()()}Qt();var b=gi(),g=m(u(b),2);vt(g,5,()=>d,ft,(D,C)=>{const y=Z(()=>(T(a()),e(C),i(()=>a()===e(C).value))),v=Z(()=>(e(c),e(C),i(()=>e(c)===e(C).value)));var h=hi();h.__click=()=>f(e(C).value);var _=u(h),E=u(_,!0);l(_);var x=m(_,2),I=u(x,!0);l(x),l(h),z(()=>{de(h,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e(y)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(v)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),L(E,(e(C),i(()=>e(C).icon))),L(I,(e(C),i(()=>e(C).label)))}),fr("mouseenter",h,()=>w(c,e(C).value)),fr("mouseleave",h,()=>w(c,null)),S(D,h)}),l(g),l(b),S(t,b),Xt()}rr(["click"]);var xi=k("<button><span> </span> <span> </span></button>"),pi=k('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function _i(t,r){zt(r,!1);let n=Ae(r,"teamId",8),a=Ae(r,"currentStatus",8),o=Ae(r,"onStatusChange",8),s=Ae(r,"onClose",8,void 0),c=Y(null);const d=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function f(y){o()(n(),y),s()&&s()()}Qt();var b=pi(),g=m(u(b),2),D=u(g);l(g);var C=m(g,2);vt(C,5,()=>d,ft,(y,v)=>{const h=Z(()=>(T(a()),e(v),i(()=>a()===e(v).value))),_=Z(()=>(e(c),e(v),i(()=>e(c)===e(v).value)));var E=xi();E.__click=()=>f(e(v).value);var x=u(E),I=u(x,!0);l(x);var B=m(x,2),ae=u(B,!0);l(B),l(E),z(()=>{de(E,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${T(e(h)),e(v),T(e(_)),i(()=>e(h)?e(v).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(v).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(v).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(_)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),L(I,(e(v),i(()=>e(v).icon))),L(ae,(e(v),i(()=>e(v).label)))}),fr("mouseenter",E,()=>w(c,e(v).value)),fr("mouseleave",E,()=>w(c,null)),S(y,E)}),l(C),l(b),z(()=>L(D,`Team ${n()??""}`)),S(t,b),Xt()}rr(["click"]);var yi=k('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Si=k('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),wi=k("<button> </button>"),Ti=k('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),Mi=k('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),Di=k('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),Ci=k('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),ki=k('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),Pi=k("<span> </span>"),Ii=Na('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),$i=k("<button><!></button>"),Ei=k('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Oi=k('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Ni=k('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Fi=k('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function Ai(t,r){zt(r,!1);const n=()=>It(la,"$isSpectator",s),a=()=>It(xr,"$filters",s),o=()=>It(ca,"$isMedia",s),[s,c]=ia(),d=Y(),f=Y(),b=Y(),g=Y(),D=Y(),C=Y(),y=Y(),v=Y(),h=Y(),_=Y(),E=Y(),x=Y();let I=Ae(r,"matches",8),B=Ae(r,"eventId",8),ae=Ae(r,"clubId",8),$=Y("team"),re=Y(null),ce=Y(!1),ie=Y(!1),Le=Y(null),$e=Y(new Set),Ce=Y();Rs(B());function Ke(N){return N.InvolvedTeam==="first"?N.SecondTeamText:N.InvolvedTeam==="second"?N.FirstTeamText:`${N.FirstTeamText} vs ${N.SecondTeamText}`}sa(()=>{if(Ds()){const N=Ms();N&&N.scores.length>0&&JSON.stringify({eventId:N.eventId,scores:N.scores},null,2)}if(e(Ce).startPolling(),n()){let N=[];if(yr.subscribe(G=>{N=G.map(ne=>ne.teamId)})(),N.length>0){const G=setInterval(()=>{ea.checkUpcomingMatches(I(),N)},6e4);return()=>clearInterval(G)}}}),vn(()=>{e(Ce).stopPolling()}),se(()=>(n(),T(B())),()=>{const N=n();w(Ce,Ka({eventId:B(),userId:N?"spectator":"anonymous"}))}),se(()=>T(I()),()=>{w(d,Ba(I()))}),se(()=>(a(),T(I()),Ye),()=>{w(f,(()=>{if(a().wave!=="all"){const N=a().wave==="morning"?"08:00":"14:30",G=a().wave==="morning"?"14:30":"23:59";return kr(I()).filter(ne=>I().some(le=>{const p=Ye(le.ScheduledStartDateTime),P=p.split(" ")[1]||p;return P>=N&&P<G&&le.Division.Name===ne}))}return kr(I())})())}),se(()=>T(I()),()=>{w(b,Xa(I()))}),se(()=>(T(I()),it),()=>{w(g,(()=>{const N=new Map;return I().forEach(G=>{const ne=Je(G);ne&&N.set(ne,it.getTeamStatus(ne))}),N})())}),se(()=>(T(I()),e(d),e(g),Je),()=>{w(D,(()=>{const N=jt(pt);return Ts(I(),N,e(d),e(g),Je,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),se(()=>(T(I()),a(),n(),yr),()=>{w(C,(()=>{let N=Qa(I());if(a().priority&&a().priority!=="all"&&(N=N.filter(G=>Ft.getPriority(G.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(N=N.filter(G=>{const ne=Je(G);if(!ne)return!0;const le=it.getTeamStatus(ne);return a().coverageStatus==="uncovered"?le==="not-covered":a().coverageStatus==="covered"?le==="covered"||le==="partially-covered":a().coverageStatus==="planned"?le==="planned":!0})),n()){let G=[];yr.subscribe(ne=>{G=ne.map(le=>le.teamId)})(),G.length>0&&(N=N.filter(ne=>{const le=Je(ne);return le&&G.includes(le)}))}return N})())}),se(()=>(T(I()),e(d)),()=>{w(y,(()=>{const N=jt(pt);return za(I(),N,e(d),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(y),()=>{w(v,new Set(e(y).map(N=>N.match.MatchId)))}),se(()=>(T(I()),it),()=>{w(h,(()=>{const N=new Map;I().forEach(q=>{const oe=Je(q);if(oe){const he=it.getTeamStatus(oe);N.set(oe,he)}});const G=N.size,ne=Array.from(N.values()).filter(q=>q==="covered").length,le=Array.from(N.values()).filter(q=>q==="partially-covered").length,p=Array.from(N.values()).filter(q=>q==="planned").length,P=Array.from(N.values()).filter(q=>q==="not-covered").length;return{totalTeams:G,coveredTeams:ne,partiallyCoveredTeams:le,plannedTeams:p,uncoveredTeams:P,coveragePercentage:G>0?(ne+le)/G*100:0}})())}),se(()=>(e(C),e($),Je),()=>{w(_,(()=>{let N=[...e(C)];return e($)==="priority"?N.sort((G,ne)=>{const le=Ft.getPriority(G.MatchId),p=Ft.getPriority(ne.MatchId),P={"must-cover":3,priority:2,optional:1,null:0},q=P[le||"null"],oe=P[p||"null"];return q!==oe?oe-q:G.ScheduledStartDateTime-ne.ScheduledStartDateTime}):e($)==="team"?N.sort((G,ne)=>{const le=Je(G),p=Je(ne);return le.localeCompare(p)}):e($)==="court"?N.sort((G,ne)=>G.CourtName.localeCompare(ne.CourtName)):N.sort((G,ne)=>G.ScheduledStartDateTime-ne.ScheduledStartDateTime),N})())}),se(()=>(e(_),Ye),()=>{w(E,(()=>{const N={};return e(_).forEach(G=>{const ne=Ye(G.ScheduledStartDateTime);N[ne]||(N[ne]=[]),N[ne].push(G)}),N})())}),se(()=>e(E),()=>{w(x,Object.keys(e(E)).sort((N,G)=>{const ne=new Date(`2000-01-01 ${N}`).getTime(),le=new Date(`2000-01-01 ${G}`).getTime();return ne-le}))}),se(()=>(n(),T(I()),e(Ce),e($e),e(Le)),()=>{if(n()&&I().length>0){const N=new Set;I().forEach(G=>{e(Ce).isClaimOwner(G.MatchId)&&(N.add(G.MatchId),!e($e).has(G.MatchId)&&(!e(Le)||e(Le).MatchId!==G.MatchId)&&setTimeout(()=>{w(Le,G)},200))}),w($e,N)}}),se(()=>(n(),T(I()),e(Ce),ea),()=>{if(n()&&I().length>0){let N=[];yr.subscribe(G=>{N=G.map(ne=>ne.teamId)})(),I().forEach(G=>{const ne=Je(G);if(ne&&N.includes(ne)){const le=e(Ce).getScore(G.MatchId);le&&le.status==="in-progress"&&ea.notifyScoreUpdate(G,le)}})}}),gr(),Qt();var mt=$t(),ht=Qe(mt);{var _t=N=>{var G=yi(),ne=u(G,!0);l(G),z(()=>L(ne,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(N,G)},Pt=N=>{var G=Fi(),ne=u(G);{var le=ve=>{var Me=Si();S(ve,Me)};R(ne,ve=>{n()&&ve(le)})}var p=m(ne,2);{var P=ve=>{var Me=Ti(),Ve=u(Me),He=u(Ve),Te=u(He),ge=u(Te);l(Te),Hn(),l(He);var M=m(He,2),F=u(M),J=u(F);l(F);var V=m(F,4),U=u(V);l(V);var X=m(V,4),j=u(X);l(X);var O=m(X,4),ee=u(O);l(O),l(M),l(Ve);var A=m(Ve,2),W=u(A);W.__click=()=>w(ce,!e(ce));var Q=u(W,!0);l(W);var ue=m(W,2);{var te=K=>{var me=wi();me.__click=()=>w(ie,!e(ie));var pe=u(me);l(me),z(()=>{de(me,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ie)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Wt(me,"title",`${e(D),i(()=>e(D).length)??""} coverage suggestions`),L(pe,`ð¡ Suggestions (${e(D),i(()=>e(D).length)??""})`)}),S(K,me)};R(ue,K=>{e(D),i(()=>e(D).length>0)&&K(te)})}l(A),l(Me),z(K=>{L(ge,`${K??""}%`),L(J,`â ${e(h),i(()=>e(h).coveredTeams)??""}`),L(U,`â ${e(h),i(()=>e(h).partiallyCoveredTeams)??""}`),L(j,`ð ${e(h),i(()=>e(h).plannedTeams)??""}`),L(ee,`â ${e(h),i(()=>e(h).uncoveredTeams)??""}`),de(W,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ce)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),L(Q,e(ce)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(h),i(()=>e(h).coveragePercentage.toFixed(0)))]),S(ve,Me)};R(p,ve=>{o(),e(h),i(()=>o()&&e(h).totalTeams>0)&&ve(P)})}var q=m(p,2);{var oe=ve=>{var Me=Di(),Ve=u(Me),He=m(u(Ve),2);He.__click=()=>w(ie,!1),l(Ve);var Te=m(Ve,2);vt(Te,5,()=>(e(D),i(()=>e(D).slice(0,5))),ft,(ge,M)=>{var F=Mi(),J=u(F),V=u(J),U=u(V);l(V);var X=m(V,2),j=u(X,!0);l(X),l(J);var O=m(J,2);O.__click=ee=>{ee.stopPropagation(),pt.selectMatch(e(M).match.MatchId)},l(F),z(ee=>{L(U,`${ee??""} - ${e(M),i(()=>e(M).match.CourtName)??""} - Team ${e(M),i(()=>e(M).teamId)??""}`),L(j,(e(M),i(()=>e(M).reason)))},[()=>(T(Ye),e(M),i(()=>Ye(e(M).match.ScheduledStartDateTime)))]),S(ge,F)}),l(Te),l(Me),S(ve,Me)};R(q,ve=>{o(),e(ie),e(D),i(()=>o()&&e(ie)&&e(D).length>0)&&ve(oe)})}var he=m(q,2);{var ye=ve=>{var Me=Ci();S(ve,Me)};R(he,ve=>{o()&&ve(ye)})}var Re=m(he,2),tt=u(Re),Tt=m(u(tt),2),gt=u(Tt);gt.__click=()=>w($,"team");var Pe=m(gt,2);Pe.__click=()=>w($,"court");var Oe=m(Pe,2);Oe.__click=()=>w($,"time"),l(Tt),l(tt);var qe=m(tt,2),Ie=m(u(qe),2),bt=u(Ie);bt.__click=()=>Ct("wave","all");var je=m(bt,2);je.__click=()=>Ct("wave","morning");var Ze=m(je,2);Ze.__click=()=>Ct("wave","afternoon"),l(Ie),l(qe),l(Re);var rt=m(Re,2),Ot=u(rt);{var At=ve=>{var Me=ki();S(ve,Me)},lt=ve=>{var Me=$t(),Ve=Qe(Me);vt(Ve,1,()=>e(x),ft,(He,Te)=>{const ge=Z(()=>(e(E),e(Te),i(()=>e(E)[e(Te)]))),M=Z(()=>(T(e(ge)),e(d),i(()=>e(ge).filter(te=>e(d).has(te.MatchId)).length))),F=Z(()=>e(M)>0),J=Z(()=>(T(e(M)),T(e(ge)),i(()=>e(M)===e(ge).length)));var V=Oi(),U=u(V),X=u(U),j=u(X),O=u(j,!0);l(j);var ee=m(j,2),A=u(ee);l(ee),l(X);var W=m(X,2);{var Q=te=>{var K=Pi(),me=u(K);l(K),z(()=>{de(K,1,`text-xs font-medium ${e(J)?"text-[#808593]":"text-red-400"}`),L(me,`${e(M)??""} conflict${e(M)!==1?"s":""}`)}),S(te,K)};R(W,te=>{e(F)&&te(Q)})}l(U);var ue=m(U,2);vt(ue,1,()=>e(ge),ft,(te,K)=>{const me=Z(()=>(e(d),e(K),i(()=>e(d).has(e(K).MatchId)))),pe=Z(()=>(T(Je),e(K),i(()=>Je(e(K))))),We=Z(()=>(e(K),i(()=>Ke(e(K))))),Be=Z(()=>(e(re),e(K),i(()=>e(re)===e(K).MatchId))),dt=Z(()=>(T(Ft),e(K),i(()=>Ft.getPriority(e(K).MatchId)))),Ne=Z(()=>(e(v),e(K),i(()=>e(v).has(e(K).MatchId)))),Ee=Z(()=>(T(e(pe)),T(it),i(()=>e(pe)?it.getTeamStatus(e(pe)):"not-covered"))),H=Z(()=>e(Ee)==="covered"||e(Ee)==="partially-covered"),_e=Z(()=>e(Ee)==="planned"),Fe=Z(()=>e(Ee)==="not-covered"),be=Z(()=>e(ce)&&e(H)),ze=Z(()=>(T(jt),T(pt),i(()=>jt(pt)))),et=Z(()=>(T(e(ze)),e(K),i(()=>e(ze).has(e(K).MatchId)))),Xe=Z(()=>e(me)&&!e(J));var ke=Ei(),fe=u(ke);fe.__click=()=>w(re,e(Be)?null:e(K).MatchId);var at=u(fe);{var De=ot=>{var Rt=$i();Rt.__click=Jt=>{Jt.stopPropagation(),pt.toggleMatch(e(K).MatchId)};var Fr=u(Rt);{var pr=Jt=>{var _r=Ii();S(Jt,_r)};R(Fr,Jt=>{e(et)&&Jt(pr)})}l(Rt),z(()=>{de(Rt,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(et)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),Wt(Rt,"aria-label",e(et)?"Remove from plan":"Add to plan")}),S(ot,Rt)};R(at,ot=>{o()&&ot(De)})}var yt=m(at,2),nt=u(yt),ut=u(nt,!0);l(nt);var St=m(nt,2),ar=u(St);l(St),l(yt);var Ut=m(yt,2),Er=u(Ut);l(Ut),l(fe);var Or=m(fe,2);{var Nr=ot=>{mi(ot,{get match(){return e(K)},get eventId(){return B()},get clubId(){return ae()},onClose:()=>w(re,null),get matches(){return I()}})};R(Or,ot=>{e(Be)&&ot(Nr)})}l(ke),z(ot=>{de(fe,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(Xe)?"border border-red-800/50 bg-red-950/10":e(dt)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(dt)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(Fe)&&!e(et)?"border border-[#eab308] bg-[#eab308]/5":e(_e)?"border border-[#eab308]/50 bg-[#eab308]/10":e(H)?"border border-green-500/30 bg-green-950/5":e(Ne)&&!e(et)?"border border-green-500/50 bg-green-950/10":e(et)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(be)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),L(ut,ot),L(ar,`${e(K),i(()=>e(K).CourtName)??""} â¢ ${T(e(pe)),e(K),i(()=>e(pe)||e(K).Division.CodeAlias)??""} vs ${e(We)??""}`),de(Er,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(Be)?"rotate-180":""}`)},[()=>(T(Ye),e(K),i(()=>Ye(e(K).ScheduledStartDateTime)))]),S(te,ke)}),l(V),z(()=>{L(O,e(Te)),L(A,`${T(e(ge)),i(()=>e(ge).length)??""} match${T(e(ge)),i(()=>e(ge).length!==1?"es":"")??""}`)}),S(He,V)}),S(ve,Me)};R(Ot,ve=>{e(x),i(()=>e(x).length===0)?ve(At):ve(lt,!1)})}l(rt);var Ge=m(rt,2);{var ct=ve=>{var Me=Ni();S(ve,Me)};R(Ge,ve=>{e(Le)&&ve(ct)})}l(G),z(()=>{de(gt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),de(Pe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),de(Oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),de(bt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(je,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(Ze,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),S(N,G)};R(ht,N=>{e(C),i(()=>e(C).length===0)?N(_t):N(Pt,!1)})}S(t,mt),Xt(),c()}rr(["click"]);var Ri=k('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Wi=k("<option> </option>"),Yi=k('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Li=k("<option> </option>"),ji=k('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),Hi=k('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),Bi=k('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),Ui=k('<span class="ml-2"> </span>'),Ji=k('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),qi=k("<div> </div>"),Gi=k('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),Vi=k('<div class="absolute top-0 left-0 text-[10px]"> </div>'),zi=k('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),Xi=k('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Qi=k('<div class="text-[8px] text-[#9fa2ab]"> </div>'),Ki=k('<div class="text-[8px] text-green-400">â</div>'),Zi=k('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),ec=Na('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),tc=k('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),rc=k('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),ac=k('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),nc=k('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),oc=k('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),sc=k('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),ic=k('<div class="text-[#9fa2ab] mt-4 p-4 border border-[#454654] rounded-lg">ConflictDetailsPanel - To be migrated</div>'),cc=k('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),lc=k('<div class="fixed inset-0 z-40"></div>'),dc=k('<div class="fixed inset-0 z-40"></div>'),uc=k('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function fc(t,r){zt(r,!1);const n=()=>It(la,"$isSpectator",s),a=()=>It(xr,"$filters",s),o=()=>It(ca,"$isMedia",s),[s,c]=ia(),d=Y(),f=Y(),b=Y(),g=Y(),D=Y(),C=Y(),y=Y(),v=Y(),h=Y(),_=Y(),E=Y(),x=Y(),I=Y();let B=Ae(r,"matches",8),ae=Ae(r,"eventId",8),$=Y(null),re=Y(null),ce=Y(null),ie=Y(null),Le=null,$e=Y();function Ce(p){return p.InvolvedTeam==="first"?p.SecondTeamText:p.InvolvedTeam==="second"?p.FirstTeamText:`${p.FirstTeamText} vs ${p.SecondTeamText}`}function Ke(p){return e(h)===0?0:(p-e(y))/e(h)*100}function mt(p,P){return e(h)===0?0:(P-p)/e(h)*100}function ht(p){const P=[],q=[...p].sort((oe,he)=>oe.ScheduledStartDateTime-he.ScheduledStartDateTime);for(let oe=0;oe<q.length-1;oe++){const he=q[oe],ye=q[oe+1],Re=Math.floor((ye.ScheduledStartDateTime-he.ScheduledEndDateTime)/6e4);Re>0&&P.push({before:he,after:ye,gapMinutes:Re})}return P}function _t(p){e(d).has(p.MatchId)?w($,p):o()?pt.toggleMatch(p.MatchId):w($,p)}function Pt(p,P){P.stopPropagation(),w(re,e(re)===p?null:p)}se(()=>(n(),T(ae())),()=>{const p=n();w($e,Ka({eventId:ae(),userId:p?"spectator":"anonymous"}))}),se(()=>T(B()),()=>{w(d,Ba(B()))}),se(()=>(a(),T(B()),Ye),()=>{w(f,(()=>{if(a().wave!=="all"){const p=a().wave==="morning"?"08:00":"14:30",P=a().wave==="morning"?"14:30":"23:59";return kr(B()).filter(q=>B().some(oe=>{const he=Ye(oe.ScheduledStartDateTime),ye=he.split(" ")[1]||he;return ye>=p&&ye<P&&oe.Division.CodeAlias===q}))}return kr(B())})())}),se(()=>T(B()),()=>{w(b,Xa(B()))}),se(()=>(T(B()),a(),it),()=>{w(g,(()=>{let p=Qa(B());return a().priority&&a().priority!=="all"&&(p=p.filter(P=>Ft.getPriority(P.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(p=p.filter(P=>{const q=Je(P);if(!q)return!0;const oe=it.getTeamStatus(q);return a().coverageStatus==="uncovered"?oe==="not-covered":a().coverageStatus==="covered"?oe==="covered"||oe==="partially-covered":a().coverageStatus==="planned"?oe==="planned":!0})),p})())}),se(()=>(T(B()),e(d)),()=>{w(D,(()=>{const p=jt(pt);return za(B(),p,e(d),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(D),()=>{w(C,new Set(e(D).map(p=>p.match.MatchId)))}),se(()=>e(g),()=>{w(y,e(g).length>0?Math.min(...e(g).map(p=>p.ScheduledStartDateTime)):0)}),se(()=>e(g),()=>{w(v,e(g).length>0?Math.max(...e(g).map(p=>p.ScheduledEndDateTime)):0)}),se(()=>(e(v),e(y)),()=>{w(h,e(v)-e(y))}),se(()=>e(g),()=>{w(_,(()=>{const p={};return e(g).forEach(P=>{p[P.CourtName]||(p[P.CourtName]=[]),p[P.CourtName].push(P)}),p})())}),se(()=>e(_),()=>{w(E,Object.keys(e(_)).sort())}),se(()=>(e(re),e(g),Je),()=>{w(x,(()=>{if(!e(re))return new Set;const p=new Set;return e(g).forEach(P=>{Je(P)===e(re)&&p.add(P.MatchId)}),p})())}),se(()=>(e($),e(d),e(g)),()=>{w(I,(()=>{if(!e($))return[];const p=e(d).get(e($).MatchId);return p?p.map(P=>e(g).find(q=>q.MatchId===P)).filter(Boolean):[]})())}),gr(),Qt();var N=$t(),G=Qe(N);{var ne=p=>{var P=Ri(),q=u(P,!0);l(P),z(()=>L(q,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(p,P)},le=p=>{var P=uc(),q=u(P),oe=u(q),he=m(u(oe),2),ye=u(he);ye.__click=()=>Ct("wave","all");var Re=m(ye,2);Re.__click=()=>Ct("wave","morning");var tt=m(Re,2);tt.__click=()=>Ct("wave","afternoon"),l(he),l(oe);var Tt=m(oe,2);{var gt=A=>{var W=Yi(),Q=m(u(W),2);Q.__change=pe=>Ct("division",pe.target.value||null);var ue=u(Q),te=u(ue);l(ue),ue.value=ue.__value="";var K=m(ue);vt(K,1,()=>e(f),ft,(pe,We)=>{var Be=Wi(),dt=u(Be,!0);l(Be);var Ne={};z(()=>{L(dt,e(We)),Ne!==(Ne=e(We))&&(Be.value=(Be.__value=e(We))??"")}),S(pe,Be)}),l(Q);var me;ur(Q),l(W),z(()=>{L(te,`All Divisions${a(),i(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),me!==(me=(a(),i(()=>a().division||"")))&&(Q.value=(Q.__value=(a(),i(()=>a().division||"")))??"",tr(Q,(a(),i(()=>a().division||""))))}),S(A,W)};R(Tt,A=>{e(f),i(()=>e(f).length>1)&&A(gt)})}var Pe=m(Tt,2);{var Oe=A=>{var W=ji(),Q=m(u(W),2);Q.__change=te=>{const K=Array.from(te.target.selectedOptions,me=>me.value);Ct("teams",K)},vt(Q,5,()=>e(b),ft,(te,K)=>{var me=Li(),pe=u(me,!0);l(me);var We={};z(()=>{L(pe,e(K)),We!==(We=e(K))&&(me.value=(me.__value=e(K))??"")}),S(te,me)}),l(Q);var ue;ur(Q),l(W),z(te=>{Wt(Q,"size",te),ue!==(ue=(a(),i(()=>a().teams)))&&(Q.value=(Q.__value=(a(),i(()=>a().teams)))??"",tr(Q,(a(),i(()=>a().teams))))},[()=>(e(b),i(()=>Math.min(e(b).length,4)))]),S(A,W)};R(Pe,A=>{e(b),i(()=>e(b).length>0)&&A(Oe)})}var qe=m(Pe,2),Ie=m(u(qe),2),bt=u(Ie);bt.__click=()=>Ct("timeRange",{start:null,end:null});var je=m(bt,2);je.__click=()=>Ct("timeRange",{start:"08:00",end:"14:30"});var Ze=m(je,2);Ze.__click=()=>Ct("timeRange",{start:"14:30",end:"23:59"}),l(Ie),l(qe);var rt=m(qe,2);{var Ot=A=>{var W=Hi(),Q=m(u(W),2);Q.__change=We=>Ct("priority",We.target.value==="all"?"all":We.target.value);var ue=u(Q);ue.value=ue.__value="all";var te=m(ue);te.value=te.__value="must-cover";var K=m(te);K.value=K.__value="priority";var me=m(K);me.value=me.__value="optional",l(Q);var pe;ur(Q),l(W),z(()=>{pe!==(pe=(a(),i(()=>a().priority||"all")))&&(Q.value=(Q.__value=(a(),i(()=>a().priority||"all")))??"",tr(Q,(a(),i(()=>a().priority||"all"))))}),S(A,W)};R(rt,A=>{o()&&A(Ot)})}var At=m(rt,2);{var lt=A=>{var W=Bi();W.__click=function(...Q){Kr==null||Kr.apply(this,Q)},S(A,W)};R(At,A=>{a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&A(lt)})}l(q);var Ge=m(q,2),ct=u(Ge),ve=u(ct),Me=m(ve);{var Ve=A=>{var W=Ui(),Q=u(W);l(W),z(()=>L(Q,`(${e(g),i(()=>e(g).length)??""} of ${T(B()),i(()=>B().length)??""})`)),S(A,W)};R(Me,A=>{e(g),T(B()),i(()=>e(g).length!==B().length)&&A(Ve)})}l(ct);var He=m(ct,2);{var Te=A=>{var W=Ji(),Q=m(u(W),2),ue=u(Q);l(Q);var te=m(Q,2);te.__click=()=>w(re,null),l(W),z(()=>L(ue,`Team ${e(re)??""}`)),S(A,W)};R(He,A=>{e(re)&&A(Te)})}l(Ge);var ge=m(Ge,2),M=u(ge);vt(M,5,()=>e(E),ft,(A,W)=>{const Q=Z(()=>(e(_),e(W),i(()=>e(_)[e(W)])));var ue=sc(),te=u(ue),K=u(te),me=u(K,!0);l(K);var pe=m(K,2),We=u(pe);l(pe),l(te);var Be=m(te,2),dt=u(Be);vt(dt,1,()=>(T(e(Q)),i(()=>ht(e(Q)))),ft,(Ee,H)=>{const _e=Z(()=>(e(H),i(()=>Ke(e(H).before.ScheduledEndDateTime)))),Fe=Z(()=>(e(H),i(()=>Ke(e(H).after.ScheduledStartDateTime)))),be=Z(()=>e(Fe)-e(_e)),ze=Z(()=>(e(H),i(()=>e(H).gapMinutes>=30))),et=Z(()=>(e(H),i(()=>e(H).gapMinutes>=15&&e(H).gapMinutes<30)));var Xe=$t(),ke=Qe(Xe);{var fe=at=>{var De=Gi(),yt=u(De);{var nt=ut=>{var St=qi(),ar=u(St);l(St),z(()=>{de(St,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(ze)?"bg-green-500/20 text-green-400":e(et)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),L(ar,`${e(H),i(()=>e(H).gapMinutes)??""}m`)}),S(ut,St)};R(yt,ut=>{e(be)>3&&ut(nt)})}l(De),z(()=>{Ht(De,`left: ${e(_e)??""}%; width: ${e(be)??""}%; z-index: 0;`),Wt(De,"title",`${e(H),i(()=>e(H).gapMinutes)??""} min gap between matches`)}),S(at,De)};R(ke,at=>{e(be)>=1&&at(fe)})}S(Ee,Xe)});var Ne=m(dt,2);vt(Ne,1,()=>e(Q),ft,(Ee,H)=>{const _e=Z(()=>(e(d),e(H),i(()=>e(d).has(e(H).MatchId)))),Fe=Z(()=>(e($),e(H),i(()=>{var xe;return((xe=e($))==null?void 0:xe.MatchId)===e(H).MatchId}))),be=Z(()=>(T(Je),e(H),i(()=>Je(e(H))))),ze=Z(()=>(e(re),e(x),e(H),i(()=>e(re)!==null&&e(x).has(e(H).MatchId)))),et=Z(()=>e(re)!==null&&!e(ze)),Xe=Z(()=>(T(jt),T(pt),i(()=>jt(pt)))),ke=Z(()=>(T(e(Xe)),e(H),i(()=>e(Xe).has(e(H).MatchId)))),fe=Z(()=>(T(Ft),e(H),i(()=>Ft.getPriority(e(H).MatchId)))),at=Z(()=>(e(C),e(H),i(()=>e(C).has(e(H).MatchId)))),De=Z(()=>(T(e(be)),T(it),i(()=>e(be)?it.getTeamStatus(e(be)):"not-covered"))),yt=Z(()=>e(De)==="covered"||e(De)==="partially-covered"),nt=Z(()=>e(De)==="planned"),ut=Z(()=>e(De)==="not-covered"),St=Z(()=>(e(H),i(()=>Ke(e(H).ScheduledStartDateTime)))),ar=Z(()=>(e(H),i(()=>Math.max(mt(e(H).ScheduledStartDateTime,e(H).ScheduledEndDateTime),2)))),Ut=Z(()=>(e(H),i(()=>Ce(e(H))))),Er=Z(()=>(T(e(fe)),T(e(ut)),T(e(ke)),T(e(nt)),T(e(ze)),T(e(_e)),T(e(yt)),T(e(at)),e(H),i(()=>e(fe)==="must-cover"?"#eab308":e(fe)==="priority"?"#f59e0b":e(ut)&&!e(ke)||e(nt)||e(ze)||e(ke)&&!e(_e)?"#eab308":e(yt)||e(at)&&!e(ke)?"#10b981":e(_e)?"#dc2626":e(H).Division.ColorHex))),Or=Z(()=>e(fe)==="must-cover"?"#facc15":e(fe)==="priority"?"#fbbf24":e(ut)&&!e(ke)||e(nt)?"#facc15":e(Fe)?"#eab308":e(ze)||e(ke)?"#facc15":e(_e)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Nr=Z(()=>e(Fe)?30:e(ze)?20:e(fe)==="must-cover"?18:e(ke)?15:e(_e)?10:1);var ot=oc();ot.__click=xe=>{xe.target instanceof HTMLElement&&xe.target.closest(".priority-button")||_t(e(H))};var Rt=u(ot);{var Fr=xe=>{var Se=Vi(),Ue=u(Se);l(Se),z(()=>L(Ue,`${e(fe)==="must-cover"&&"â­"}
											${e(fe)==="priority"&&"ð¸"}
											${e(fe)==="optional"&&"â"}`)),S(xe,Se)};R(Rt,xe=>{o()&&e(fe)&&xe(Fr)})}var pr=m(Rt,2);{var Jt=xe=>{var Se=zi();S(xe,Se)};R(pr,xe=>{o()&&e(at)&&!e(ke)&&xe(Jt)})}var _r=m(pr,2);{var Za=xe=>{var Se=Xi();S(xe,Se)};R(_r,xe=>{o()&&e(ke)&&xe(Za)})}var nr=m(_r,2);nr.__click=xe=>e(be)&&Pt(e(be),xe);var en=u(nr,!0);l(nr);var Ar=m(nr,2),tn=u(Ar);l(Ar);var Rr=m(Ar,2),rn=u(Rr,!0);l(Rr);var da=m(Rr,2);{var an=xe=>{const Se=Z(()=>(e($e),e(H),i(()=>e($e).getScore(e(H).MatchId))));var Ue=$t(),Kt=Qe(Ue);{var or=qt=>{const Mt=Z(()=>(T(e(Se)),i(()=>e(Se).sets.find(st=>st.completedAt===0)||e(Se).sets[e(Se).sets.length-1]))),Dt=Z(()=>(T(e(Se)),i(()=>e(Se).sets.filter(st=>st.completedAt>0)))),wt=Z(()=>(T(e(Dt)),i(()=>e(Dt).filter(st=>st.team1Score>st.team2Score).length))),Gt=Z(()=>(T(e(Dt)),i(()=>e(Dt).filter(st=>st.team2Score>st.team1Score).length)));var sr=Zi(),fa=u(sr);{var cn=st=>{var ir=Qi(),fn=u(ir);l(ir),z(()=>L(fn,`(${e(wt)??""}-${e(Gt)??""})`)),S(st,ir)};R(fa,st=>{T(e(Dt)),i(()=>e(Dt).length>0)&&st(cn)})}var Wr=m(fa,2),ln=u(Wr);l(Wr);var dn=m(Wr,2);{var un=st=>{var ir=Ki();S(st,ir)};R(dn,st=>{T(e(Se)),i(()=>e(Se).status==="in-progress")&&st(un)})}l(sr),z(()=>L(ln,`${T(e(Mt)),i(()=>e(Mt).team1Score)??""}-${T(e(Mt)),i(()=>e(Mt).team2Score)??""}`)),S(qt,sr)};R(Kt,qt=>{T(e(Se)),i(()=>e(Se)&&e(Se).status!=="not-started")&&qt(or)})}S(xe,Ue)};R(da,xe=>{e($e)&&xe(an)})}var ua=m(da,2);{var nn=xe=>{var Se=rc(),Ue=u(Se);Ue.__click=wt=>{wt.stopPropagation(),w(ce,e(ce)===e(H).MatchId?null:e(H).MatchId)};var Kt=u(Ue),or=m(Kt);{var qt=wt=>{var Gt=ec();S(wt,Gt)};R(or,wt=>{e(fe)||wt(qt)})}l(Ue);var Mt=m(Ue,2);{var Dt=wt=>{var Gt=tc(),sr=u(Gt);bi(sr,{get matchId(){return e(H),i(()=>e(H).MatchId)},get currentPriority(){return e(fe)},get onPriorityChange(){return T(Ft),i(()=>Ft.setPriority)},onClose:()=>w(ce,null)}),l(Gt),S(wt,Gt)};R(Mt,wt=>{e(ce),e(H),i(()=>e(ce)===e(H).MatchId)&&wt(Dt)})}l(Se),z(()=>{de(Ue,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(fe)==="must-cover"?"text-[#facc15]":e(fe)==="priority"?"text-[#fbbf24]":e(fe)==="optional"?"text-white/60":"text-white/40"}`),Wt(Ue,"title",e(fe)?`Priority: ${e(fe)}`:"Set priority"),L(Kt,`${e(fe)==="must-cover"&&"â­"}
												${e(fe)==="priority"&&"ð¸"}
												${e(fe)==="optional"&&"â"} `)}),S(xe,Se)};R(ua,xe=>{o()&&xe(nn)})}var on=m(ua,2);{var sn=xe=>{var Se=nc(),Ue=u(Se);Ue.__click=Mt=>{Mt.stopPropagation(),w(ie,e(ie)===e(be)?null:e(be))};var Kt=u(Ue);l(Ue);var or=m(Ue,2);{var qt=Mt=>{var Dt=ac(),wt=u(Dt);_i(wt,{get teamId(){return e(be)},get currentStatus(){return e(De)},get onStatusChange(){return T(it),i(()=>it.setTeamStatus)},onClose:()=>w(ie,null)}),l(Dt),S(Mt,Dt)};R(or,Mt=>{e(ie)===e(be)&&Mt(qt)})}l(Se),z(()=>{de(Ue,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(De)==="covered"?"text-green-400":e(De)==="partially-covered"?"text-[#fbbf24]":e(De)==="planned"?"text-[#facc15]":"text-white/40"}`),Wt(Ue,"title",`Coverage: ${e(De)??""}`),L(Kt,`${e(De)==="covered"&&"â"}
												${e(De)==="partially-covered"&&"â"}
												${e(De)==="planned"&&"ð"}
												${e(De)==="not-covered"&&"â"}`)}),S(xe,Se)};R(on,xe=>{o()&&e(be)&&xe(sn)})}l(ot),z((xe,Se,Ue)=>{de(ot,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(Fe)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(ze)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(et)?"opacity-30":""} ${e(ke)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(yt)?"opacity-60":""}`),Ht(ot,`left: ${e(St)??""}%; width: ${e(ar)??""}%; background-color: ${e(Er)??""}; border-color: ${e(Or)??""}; min-width: 100px; z-index: ${e(Nr)??""};`),Wt(ot,"title",`${e(H),i(()=>e(H).CompleteShortName)??""}: ${e(H),i(()=>e(H).FirstTeamText)??""} vs ${e(H),i(()=>e(H).SecondTeamText)??""} - ${xe??""}${e(_e)?" (Click to see conflicts)":" (Click to add to plan)"}${e(fe)?` [Priority: ${e(fe)}]`:""}${e(at)&&!e(ke)?" [Easy opportunity]":""}${e(De)!=="not-covered"?` [Coverage: ${e(De)}]`:""}`),de(nr,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(be)?"cursor-pointer hover:underline":""}`),L(en,(T(e(be)),e(H),i(()=>e(be)||e(H).Division.CodeAlias))),L(tn,`vs ${Se??""}`),L(rn,Ue)},[()=>(T(Ye),e(H),i(()=>Ye(e(H).ScheduledStartDateTime))),()=>(T(e(Ut)),i(()=>e(Ut).length>20?e(Ut).substring(0,17)+"...":e(Ut))),()=>(T(Ye),e(H),i(()=>Ye(e(H).ScheduledStartDateTime)))]),S(Ee,ot)}),l(Be),l(ue),z(()=>{L(me,e(W)),L(We,`${T(e(Q)),i(()=>e(Q).length)??""} match${T(e(Q)),i(()=>e(Q).length!==1?"es":"")??""}`)}),S(A,ue)}),l(M),l(ge);var F=m(ge,2);{var J=A=>{var W=ic();S(A,W)};R(F,A=>{e($)&&A(J)})}var V=m(F,2);{var U=A=>{var W=cc();S(A,W)};R(V,A=>{e($e),i(()=>Le&&e($e)&&e($e).isClaimOwner(Le.MatchId))&&A(U)})}var X=m(V,2);{var j=A=>{var W=lc();W.__click=()=>w(ce,null),S(A,W)};R(X,A=>{e(ce)!==null&&A(j)})}var O=m(X,2);{var ee=A=>{var W=dc();W.__click=()=>w(ie,null),S(A,W)};R(O,A=>{e(ie)!==null&&A(ee)})}l(P),z((A,W)=>{de(ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(Re,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(tt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(bt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(je,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),de(Ze,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),L(ve,`Timeline: ${A??""} - ${W??""} `)},[()=>(T(Ye),e(y),i(()=>Ye(e(y)))),()=>(T(Ye),e(v),i(()=>Ye(e(v))))]),S(p,P)};R(G,p=>{e(g),i(()=>e(g).length===0)?p(ne):p(le,!1)})}S(t,N),Xt(),c()}rr(["click","change"]);var vc=k('<span class="ml-2" style="color: #ef4444;"> </span>'),mc=k('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),hc=k('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),gc=k('<span class="hidden sm:inline"> </span>'),bc=k('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),xc=k('<span class="ml-2" style="color: #ef4444;"> </span>'),pc=k('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),_c=k('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),yc=k("<button> </button>"),Sc=k('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),wc=k('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Tc=k('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),Mc=k('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),Dc=k('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Cc=k('<div class="text-[#9fa2ab]">CoachView component - To be migrated</div>'),kc=k('<div class="text-[#9fa2ab]">CoveragePlanPanel component - To be migrated</div>'),Pc=k('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!> <!></main></div>');function Wc(t,r){zt(r,!1);const n=()=>It(xs,"$selectedCount",d),a=()=>It(ca,"$isMedia",d),o=()=>It(la,"$isSpectator",d),s=()=>It(ys,"$isCoach",d),c=()=>It(mr,"$userRole",d),[d,f]=ia(),b=Y(),g=Y(),D=Y(),C=Y(),y=Y(),v=Y();let h=Y("PTAwMDAwNDEzMTQ90"),_=Y("2025-11-01"),E=Y(300),x=Y([]),I=Y(!1),B=Y(null),ae=Y("list"),$=Y(!1),re=Y(24426),ce=Y(!1),ie=Y(null);sa(()=>{Le(e(h),e(_),e(E))});async function Le(M,F,J){var V;w(I,!0),w(B,null),w(h,M),w(_,F),w(E,J);try{const U=await ao(M),X=(V=U.Clubs)==null?void 0:V.find(ee=>ee.Name==="630 Volleyball");X&&w(re,X.ClubId),w(ie,{name:U.Name||U.EventName||U.FullName||U.Title||"Event",startDate:U.StartDate||U.StartDateTime||U.Start||U.StartTime,endDate:U.EndDate||U.EndDateTime||U.End||U.EndTime});const j=await ro(M,F,J),O=lo(j.CourtSchedules);w(x,O)}catch(U){console.error("Error loading schedule:",U),w(B,U instanceof Error?U.message:"Failed to load schedule"),w(x,[])}finally{w(I,!1)}}function $e(){const M=JSON.stringify(e(x),null,2),F=new Blob([M],{type:"application/json"}),J=URL.createObjectURL(F),V=document.createElement("a");V.href=J,V.download=`630-volleyball-matches-${e(_)}.json`,V.click(),URL.revokeObjectURL(J)}function Ce(){const M=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],F=e(x).map(j=>[j.MatchId.toString(),j.Division.Name,j.CompleteShortName,j.FirstTeamText,j.SecondTeamText,j.WorkTeamText,j.CourtName,new Date(j.ScheduledStartDateTime).toISOString(),new Date(j.ScheduledEndDateTime).toISOString(),((j.ScheduledEndDateTime-j.ScheduledStartDateTime)/6e4).toString(),j.InvolvedTeam]),J=[M.join(","),...F.map(j=>j.map(O=>`"${O}"`).join(","))].join(`
`),V=new Blob([J],{type:"text/csv"}),U=URL.createObjectURL(V),X=document.createElement("a");X.href=U,X.download=`630-volleyball-matches-${e(_)}.csv`,X.click(),URL.revokeObjectURL(U)}se(()=>(e(x),it),()=>{if(e(x).length>0){const M=new Map;e(x).forEach(F=>{const V=(F.InvolvedTeam==="first"?F.FirstTeamText:F.SecondTeamText).match(/(\d+-\d+)/),U=V?V[1]:"";if(!U)return;const X=M.get(U)||{total:0,inPlan:0};X.total++;let j=!1;pt.subscribe(O=>{j=O.has(F.MatchId)})(),j&&X.inPlan++,M.set(U,X)}),M.forEach((F,J)=>{it.updateFromPlan(J,F.inPlan,F.total)})}}),se(()=>e(x),()=>{w(b,(()=>{const M=new Map;return e(x).forEach((F,J)=>{e(x).slice(J+1).forEach(V=>{F.ScheduledStartDateTime<V.ScheduledEndDateTime&&F.ScheduledEndDateTime>V.ScheduledStartDateTime&&(M.has(F.MatchId)||M.set(F.MatchId,[]),M.get(F.MatchId).push(V.MatchId))})}),e(x).filter(F=>M.has(F.MatchId)).length})())}),se(()=>n(),()=>{w(g,n())}),se(()=>a(),()=>{w(D,a())}),se(()=>o(),()=>{w(C,o())}),se(()=>s(),()=>{w(y,s())}),se(()=>c(),()=>{w(v,c())}),se(()=>(e(x),e(g),it),()=>{if(e(x).length>0&&e(g)!==void 0){const M=new Map,F=jt(pt);e(x).forEach(J=>{const U=(J.InvolvedTeam==="first"?J.FirstTeamText:J.SecondTeamText).match(/(\d+-\d+)/),X=U?U[1]:"";if(!X)return;const j=M.get(X)||{total:0,inPlan:0};j.total++,F.has(J.MatchId)&&j.inPlan++,M.set(X,j)}),M.forEach((J,V)=>{it.updateFromPlan(V,J.inPlan,J.total)})}}),gr(),Qt();var Ke=Pc(),mt=u(Ke),ht=u(mt),_t=u(ht),Pt=u(_t),N=u(Pt),G=m(u(N),2);{var ne=M=>{var F=mc(),J=u(F),V=m(J);{var U=X=>{var j=vc(),O=u(j);l(j),z(()=>L(O,`â¢ ${e(b)??""} conflicts`)),S(X,j)};R(V,X=>{e(b)>0&&X(U)})}l(F),z(()=>L(J,`${e(x),i(()=>e(x).length)??""} matches `)),S(M,F)};R(G,M=>{e(x),i(()=>e(x).length>0)&&M(ne)})}l(N);var le=m(N,2);{var p=M=>{var F=bc(),J=u(F);{var V=j=>{var O=hc(),ee=u(O,!0);l(O),z(()=>L(ee,(e(ie),i(()=>e(ie).name)))),S(j,O)};R(J,j=>{e(ie),i(()=>e(ie).name)&&j(V)})}var U=m(J,2);{var X=j=>{var O=gc(),ee=u(O,!0);l(O),z(A=>L(ee,A),[()=>(e(ie),T(Lt),i(()=>(()=>{try{const A=e(ie).startDate?new Date(e(ie).startDate).getTime():null,W=e(ie).endDate?new Date(e(ie).endDate).getTime():null;return A&&W&&Math.abs(A-W)>864e5?`${Lt(A)} - ${Lt(W)}`:A?Lt(A):W?Lt(W):null}catch{return null}})()))]),S(j,O)};R(U,j=>{e(ie),i(()=>(e(ie).startDate||e(ie).endDate)&&(()=>{try{const O=e(ie).startDate?new Date(e(ie).startDate).getTime():null,ee=e(ie).endDate?new Date(e(ie).endDate).getTime():null;return O&&ee&&Math.abs(O-ee)>864e5}catch{return!1}})())&&j(X)})}l(F),S(M,F)};R(le,M=>{e(ie),i(()=>e(ie)&&(e(ie).name||e(ie).startDate))&&M(p)})}var P=m(le,2);{var q=M=>{var F=pc(),J=u(F),V=m(J);{var U=X=>{var j=xc(),O=u(j);l(j),z(()=>L(O,`â¢ ${e(b)??""} conflicts`)),S(X,j)};R(V,X=>{e(b)>0&&X(U)})}l(F),z(()=>L(J,`${e(x),i(()=>e(x).length)??""} matches `)),S(M,F)};R(P,M=>{e(x),i(()=>e(x).length>0)&&M(q)})}l(Pt);var oe=m(Pt,2),he=u(oe),ye=m(u(he),2);ye.__change=M=>mr.setRole(M.target.value);var Re=u(ye);Re.value=Re.__value="media";var tt=m(Re);tt.value=tt.__value="spectator";var Tt=m(tt);Tt.value=Tt.__value="coach",l(ye);var gt;ur(ye),l(he);var Pe=m(he,2);{var Oe=M=>{var F=Sc(),J=Qe(F);{var V=ee=>{var A=_c(),W=u(A);W.__click=()=>w(ae,"list");let Q;var ue=m(W,2);ue.__click=()=>w(ae,"timeline");let te;l(A),z(()=>{Q=de(W,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Q,{"bg-gold-500":e(ae)==="list","text-charcoal-950":e(ae)==="list","text-charcoal-300":e(ae)!=="list","hover:text-charcoal-50":e(ae)!=="list"}),Ht(W,e(ae)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),te=de(ue,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,te,{"bg-gold-500":e(ae)==="timeline","text-charcoal-950":e(ae)==="timeline","text-charcoal-300":e(ae)!=="timeline","hover:text-charcoal-50":e(ae)!=="timeline"}),Ht(ue,e(ae)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),S(ee,A)};R(J,ee=>{e(y)||ee(V)})}var U=m(J,2);{var X=ee=>{var A=yc();A.__click=()=>w(ce,!e(ce));let W;var Q=u(A);l(A),z(()=>{W=de(A,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,W,{"text-charcoal-950":e(ce)}),Ht(A,e(ce)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),L(Q,`Plan (${e(g)??""})`)}),S(ee,A)};R(U,ee=>{e(D)&&e(g)>0&&ee(X)})}var j=m(U,2);j.__click=$e;var O=m(j,2);O.__click=Ce,S(M,F)};R(Pe,M=>{e(x),i(()=>e(x).length>0)&&M(Oe)})}var qe=m(Pe,2);qe.__click=()=>w($,!e($));let Ie;var bt=u(qe,!0);l(qe),l(oe),l(_t),l(ht),l(mt);var je=m(mt,2);{var Ze=M=>{var F=wc(),J=u(F),V=u(J);ws(V,{get eventId(){return e(h)},get date(){return e(_)},get timeWindow(){return e(E)},onLoad:Le,get loading(){return e(I)}}),l(J),l(F),S(M,F)};R(je,M=>{e($)&&M(Ze)})}var rt=m(je,2),Ot=u(rt);{var At=M=>{var F=Tc();S(M,F)};R(Ot,M=>{e(I)&&M(At)})}var lt=m(Ot,2);{var Ge=M=>{var F=Mc(),J=m(u(F),2),V=u(J,!0);l(J),l(F),z(()=>L(V,e(B))),S(M,F)};R(lt,M=>{e(B)&&M(Ge)})}var ct=m(lt,2);{var ve=M=>{var F=Dc();S(M,F)};R(ct,M=>{e(I),e(x),e(B),i(()=>!e(I)&&e(x).length===0&&!e(B))&&M(ve)})}var Me=m(ct,2);{var Ve=M=>{var F=$t(),J=Qe(F);{var V=X=>{var j=Cc();S(X,j)},U=X=>{var j=$t(),O=Qe(j);{var ee=W=>{Ai(W,{get matches(){return e(x)},get eventId(){return e(h)},get clubId(){return e(re)}})},A=W=>{fc(W,{get matches(){return e(x)},get eventId(){return e(h)}})};R(O,W=>{e(ae)==="list"?W(ee):W(A,!1)},!0)}S(X,j)};R(J,X=>{e(y)?X(V):X(U,!1)})}S(M,F)};R(Me,M=>{e(x),i(()=>e(x).length>0)&&M(Ve)})}var He=m(Me,2);R(He,M=>{});var Te=m(He,2);{var ge=M=>{var F=kc();S(M,F)};R(Te,M=>{e(ce)&&M(ge)})}l(rt),l(Ke),z(()=>{gt!==(gt=e(v))&&(ye.value=(ye.__value=e(v))??"",tr(ye,e(v))),Ie=de(qe,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,Ie,{"text-charcoal-950":e($)}),Ht(qe,e($)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),L(bt,e($)?"Hide":"Config")}),S(t,Ke),Xt(),f()}rr(["change","click"]);export{Wc as component,Rc as universal};
