import{f as g,a as h,c as Dt,d as Pr,t as $r}from"../chunks/2ojvjqKR.js";import"../chunks/nXSXTBA3.js";import{d as vr,w as ha,o as Ca,a as Ka,g as va}from"../chunks/SwpKXNH_.js";import{a0 as Xo,aj as Qo,aR as Ko,aS as Zo,aT as Oo,K as Aa,W as en,aU as No,o as lo,aV as tn,aW as an,aX as rn,aY as on,Y as nn,aZ as sn,aP as ln,b as c,X as cn,p as Et,_ as P,a_ as ne,g as e,a2 as v,e as M,a$ as Ut,k as r,s,l as a,t as A,j as Pt,i as lt,a8 as ye,b0 as Ga,b1 as co,z as _a,b2 as qa,b3 as dn}from"../chunks/D8fu8Nzm.js";import{s as w,e as Fa,d as Yt}from"../chunks/DpoftvwD.js";import{p as we,i as $,b as Xa,s as Qt,a as Ea}from"../chunks/yzwITP8F.js";import{s as Kt,a as Me,e as at,i as rt,c as vn}from"../chunks/JnmbpHr6.js";import{i as Ot}from"../chunks/CPq9J1Yd.js";const un=!0;function ua(l,o,t=!1){if(l.multiple){if(o==null)return;if(!Qo(o))return Ko();for(var n of l.options)n.selected=o.includes(sr(n));return}for(n of l.options){var i=sr(n);if(Zo(i,o)){n.selected=!0;return}}(!t||o!==void 0)&&(l.selectedIndex=-1)}function fa(l){var o=new MutationObserver(()=>{ua(l,l.__value)});o.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Xo(()=>{o.disconnect()})}function io(l,o,t=o){var n=new WeakSet,i=!0;Oo(l,"change",d=>{var u=d?"[selected]":":checked",p;if(l.multiple)p=[].map.call(l.querySelectorAll(u),sr);else{var f=l.querySelector(u)??l.querySelector("option:not([disabled])");p=f&&sr(f)}t(p),Aa!==null&&n.add(Aa)}),en(()=>{var d=o();if(l===document.activeElement){var u=No??Aa;if(n.has(u))return}if(ua(l,d,i),i&&d===void 0){var p=l.querySelector(":checked");p!==null&&(d=sr(p),t(d))}l.__value=d,i=!1}),fa(l)}function sr(l){return"__value"in l?l.__value:l.value}const hn=Symbol("is custom element"),fn=Symbol("is html");function Sa(l){if(lo){var o=!1,t=()=>{if(!o){if(o=!0,l.hasAttribute("value")){var n=l.value;Ct(l,"value",null),l.value=n}if(l.hasAttribute("checked")){var i=l.checked;Ct(l,"checked",null),l.checked=i}}};l.__on_r=t,nn(t),sn()}}function cr(l,o){var t=vo(l);t.value===(t.value=o??void 0)||l.value===o&&(o!==0||l.nodeName!=="PROGRESS")||(l.value=o??"")}function mn(l,o){var t=vo(l);t.checked!==(t.checked=o??void 0)&&(l.checked=o)}function Ct(l,o,t,n){var i=vo(l);lo&&(i[o]=l.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&l.nodeName==="LINK")||i[o]!==(i[o]=t)&&(o==="loading"&&(l[tn]=t),t==null?l.removeAttribute(o):typeof t!="string"&&xn(l).includes(o)?l[o]=t:l.setAttribute(o,t))}function vo(l){return l.__attributes??(l.__attributes={[hn]:l.nodeName.includes("-"),[fn]:l.namespaceURI===an})}var mo=new Map;function xn(l){var o=l.getAttribute("is")||l.nodeName,t=mo.get(o);if(t)return t;mo.set(o,t=[]);for(var n,i=l,d=Element.prototype;d!==i;){n=on(i);for(var u in n)n[u].set&&t.push(u);i=rn(i)}return t}function Ta(l,o,t=o){var n=new WeakSet;Oo(l,"input",async i=>{var d=i?l.defaultValue:l.value;if(d=Jr(l)?Vr(d):d,t(d),Aa!==null&&n.add(Aa),await ln(),d!==(d=o())){var u=l.selectionStart,p=l.selectionEnd,f=l.value.length;if(l.value=d??"",p!==null){var S=l.value.length;u===p&&p===f&&S>f?(l.selectionStart=S,l.selectionEnd=S):(l.selectionStart=u,l.selectionEnd=Math.min(p,S))}}}),(lo&&l.defaultValue!==l.value||c(o)==null&&l.value)&&(t(Jr(l)?Vr(l.value):l.value),Aa!==null&&n.add(Aa)),cn(()=>{var i=o();if(l===document.activeElement){var d=No??Aa;if(n.has(d))return}Jr(l)&&i===Vr(l.value)||l.type==="date"&&!i&&!l.value||i!==l.value&&(l.value=i??"")})}function Jr(l){var o=l.type;return o==="number"||o==="range"}function Vr(l){return l===""?null:+l}const gn=un,pn=!1,bn=(async()=>({})),M0=Object.freeze(Object.defineProperty({__proto__:null,load:bn,ssr:pn},Symbol.toStringTag,{value:"Module"})),ur="https://results.advancedeventsystems.com/api",_n="https://results.advancedeventsystems.com/odata",yn=async(l,o,t)=>{const n=`${ur}/event/${l}/courts/${o}/${t}`,i=await fetch(n);if(!i.ok)throw new Error(`Failed to fetch court schedule: ${i.statusText}`);return i.json()},wn=async l=>{const o=`${ur}/event/${l}`,t=await fetch(o);if(!t.ok)throw new Error(`Failed to fetch event info: ${t.statusText}`);return t.json()},Sn=async(l,o)=>{const t=`${_n}/${l}/nextassignments(dId=null,cId=${o},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch team assignments: ${n.statusText}`);return n.json()},zr=async(l,o,t,n)=>{const i=`${ur}/event/${l}/division/${o}/team/${t}/schedule/${n}`,d=await fetch(i);if(!d.ok)throw new Error(`Failed to fetch team schedule: ${d.statusText}`);return d.json()},Tn=async(l,o)=>{const t=`${ur}/event/${l}/division/${o}/plays`,n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch division plays: ${n.statusText}`);return n.json()},kn=async(l,o)=>{const t=`${ur}/event/${l}/poolsheet/${o}`,n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch pool sheet: ${n.statusText}`);return n.json()},kr="630 Volleyball",Mr="630",Mn=l=>[l.FirstTeamText,l.SecondTeamText,l.WorkTeamText].some(t=>t&&(t.includes(kr)||t.includes(Mr))),Cn=l=>l.FirstTeamText&&(l.FirstTeamText.includes(kr)||l.FirstTeamText.includes(Mr))?"first":l.SecondTeamText&&(l.SecondTeamText.includes(kr)||l.SecondTeamText.includes(Mr))?"second":l.WorkTeamText&&(l.WorkTeamText.includes(kr)||l.WorkTeamText.includes(Mr))?"work":null,$n=l=>{const o=[];return l.forEach(t=>{t.CourtMatches.forEach(n=>{if(Mn(n)){const i=Cn(n);i&&i!=="work"&&o.push({...n,CourtName:t.Name,CourtId:t.CourtId,InvolvedTeam:i})}})}),o.sort((t,n)=>t.ScheduledStartDateTime-n.ScheduledStartDateTime)},ir=l=>{const o=new Map;for(let t=0;t<l.length;t++){const n=l[t],i=[];for(let d=0;d<l.length;d++){if(t===d)continue;const u=l[d],p=n.ScheduledStartDateTime<u.ScheduledEndDateTime&&n.ScheduledEndDateTime>u.ScheduledStartDateTime,f=n.CourtId!==u.CourtId;p&&f&&i.push(u.MatchId)}i.length>0&&o.set(n.MatchId,i)}return o},Ao=6048e5,In=864e5,xo=Symbol.for("constructDateFrom");function ja(l,o){return typeof l=="function"?l(o):l&&typeof l=="object"&&xo in l?l[xo](o):l instanceof Date?new l.constructor(o):new Date(o)}function ka(l,o){return ja(o||l,l)}let Dn={};function Or(){return Dn}function dr(l,o){var p,f,S,_;const t=Or(),n=(o==null?void 0:o.weekStartsOn)??((f=(p=o==null?void 0:o.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((_=(S=t.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,i=ka(l,o==null?void 0:o.in),d=i.getDay(),u=(d<n?7:0)+d-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Ir(l,o){return dr(l,{...o,weekStartsOn:1})}function Fo(l,o){const t=ka(l,o==null?void 0:o.in),n=t.getFullYear(),i=ja(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const d=Ir(i),u=ja(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const p=Ir(u);return t.getTime()>=d.getTime()?n+1:t.getTime()>=p.getTime()?n:n-1}function go(l){const o=ka(l),t=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return t.setUTCFullYear(o.getFullYear()),+l-+t}function En(l,...o){const t=ja.bind(null,o.find(n=>typeof n=="object"));return o.map(t)}function po(l,o){const t=ka(l,o==null?void 0:o.in);return t.setHours(0,0,0,0),t}function Pn(l,o,t){const[n,i]=En(t==null?void 0:t.in,l,o),d=po(n),u=po(i),p=+d-go(d),f=+u-go(u);return Math.round((p-f)/In)}function On(l,o){const t=Fo(l,o),n=ja(l,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ir(n)}function Nn(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function An(l){return!(!Nn(l)&&typeof l!="number"||isNaN(+ka(l)))}function Fn(l,o){const t=ka(l,o==null?void 0:o.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Rn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jn=(l,o,t)=>{let n;const i=Rn[l];return typeof i=="string"?n=i:o===1?n=i.one:n=i.other.replace("{{count}}",o.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Gr(l){return(o={})=>{const t=o.width?String(o.width):l.defaultWidth;return l.formats[t]||l.formats[l.defaultWidth]}}const Ln={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Un={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bn={date:Gr({formats:Ln,defaultWidth:"full"}),time:Gr({formats:Un,defaultWidth:"full"}),dateTime:Gr({formats:Wn,defaultWidth:"full"})},Hn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yn=(l,o,t,n)=>Hn[l];function or(l){return(o,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&l.formattingValues){const u=l.defaultFormattingWidth||l.defaultWidth,p=t!=null&&t.width?String(t.width):u;i=l.formattingValues[p]||l.formattingValues[u]}else{const u=l.defaultWidth,p=t!=null&&t.width?String(t.width):l.defaultWidth;i=l.values[p]||l.values[u]}const d=l.argumentCallback?l.argumentCallback(o):o;return i[d]}}const Jn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qn=(l,o)=>{const t=Number(l),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Kn={ordinalNumber:Qn,era:or({values:Jn,defaultWidth:"wide"}),quarter:or({values:Vn,defaultWidth:"wide",argumentCallback:l=>l-1}),month:or({values:zn,defaultWidth:"wide"}),day:or({values:Gn,defaultWidth:"wide"}),dayPeriod:or({values:qn,defaultWidth:"wide",formattingValues:Xn,defaultFormattingWidth:"wide"})};function nr(l){return(o,t={})=>{const n=t.width,i=n&&l.matchPatterns[n]||l.matchPatterns[l.defaultMatchWidth],d=o.match(i);if(!d)return null;const u=d[0],p=n&&l.parsePatterns[n]||l.parsePatterns[l.defaultParseWidth],f=Array.isArray(p)?es(p,m=>m.test(u)):Zn(p,m=>m.test(u));let S;S=l.valueCallback?l.valueCallback(f):f,S=t.valueCallback?t.valueCallback(S):S;const _=o.slice(u.length);return{value:S,rest:_}}}function Zn(l,o){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&o(l[t]))return t}function es(l,o){for(let t=0;t<l.length;t++)if(o(l[t]))return t}function ts(l){return(o,t={})=>{const n=o.match(l.matchPattern);if(!n)return null;const i=n[0],d=o.match(l.parsePattern);if(!d)return null;let u=l.valueCallback?l.valueCallback(d[0]):d[0];u=t.valueCallback?t.valueCallback(u):u;const p=o.slice(i.length);return{value:u,rest:p}}}const as=/^(\d+)(th|st|nd|rd)?/i,rs=/\d+/i,os={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ns={any:[/^b/i,/^(a|c)/i]},ss={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ls={any:[/1/i,/2/i,/3/i,/4/i]},cs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},is={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ds={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vs={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},us={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fs={ordinalNumber:ts({matchPattern:as,parsePattern:rs,valueCallback:l=>parseInt(l,10)}),era:nr({matchPatterns:os,defaultMatchWidth:"wide",parsePatterns:ns,defaultParseWidth:"any"}),quarter:nr({matchPatterns:ss,defaultMatchWidth:"wide",parsePatterns:ls,defaultParseWidth:"any",valueCallback:l=>l+1}),month:nr({matchPatterns:cs,defaultMatchWidth:"wide",parsePatterns:is,defaultParseWidth:"any"}),day:nr({matchPatterns:ds,defaultMatchWidth:"wide",parsePatterns:vs,defaultParseWidth:"any"}),dayPeriod:nr({matchPatterns:us,defaultMatchWidth:"any",parsePatterns:hs,defaultParseWidth:"any"})},ms={code:"en-US",formatDistance:jn,formatLong:Bn,formatRelative:Yn,localize:Kn,match:fs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xs(l,o){const t=ka(l,o==null?void 0:o.in);return Pn(t,Fn(t))+1}function gs(l,o){const t=ka(l,o==null?void 0:o.in),n=+Ir(t)-+On(t);return Math.round(n/Ao)+1}function Ro(l,o){var _,m,T,E;const t=ka(l,o==null?void 0:o.in),n=t.getFullYear(),i=Or(),d=(o==null?void 0:o.firstWeekContainsDate)??((m=(_=o==null?void 0:o.locale)==null?void 0:_.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(T=i.locale)==null?void 0:T.options)==null?void 0:E.firstWeekContainsDate)??1,u=ja((o==null?void 0:o.in)||l,0);u.setFullYear(n+1,0,d),u.setHours(0,0,0,0);const p=dr(u,o),f=ja((o==null?void 0:o.in)||l,0);f.setFullYear(n,0,d),f.setHours(0,0,0,0);const S=dr(f,o);return+t>=+p?n+1:+t>=+S?n:n-1}function ps(l,o){var p,f,S,_;const t=Or(),n=(o==null?void 0:o.firstWeekContainsDate)??((f=(p=o==null?void 0:o.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(S=t.locale)==null?void 0:S.options)==null?void 0:_.firstWeekContainsDate)??1,i=Ro(l,o),d=ja((o==null?void 0:o.in)||l,0);return d.setFullYear(i,0,n),d.setHours(0,0,0,0),dr(d,o)}function bs(l,o){const t=ka(l,o==null?void 0:o.in),n=+dr(t,o)-+ps(t,o);return Math.round(n/Ao)+1}function Ft(l,o){const t=l<0?"-":"",n=Math.abs(l).toString().padStart(o,"0");return t+n}const Na={y(l,o){const t=l.getFullYear(),n=t>0?t:1-t;return Ft(o==="yy"?n%100:n,o.length)},M(l,o){const t=l.getMonth();return o==="M"?String(t+1):Ft(t+1,2)},d(l,o){return Ft(l.getDate(),o.length)},a(l,o){const t=l.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(l,o){return Ft(l.getHours()%12||12,o.length)},H(l,o){return Ft(l.getHours(),o.length)},m(l,o){return Ft(l.getMinutes(),o.length)},s(l,o){return Ft(l.getSeconds(),o.length)},S(l,o){const t=o.length,n=l.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Ft(i,o.length)}},Va={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bo={G:function(l,o,t){const n=l.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(l,o,t){if(o==="yo"){const n=l.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Na.y(l,o)},Y:function(l,o,t,n){const i=Ro(l,n),d=i>0?i:1-i;if(o==="YY"){const u=d%100;return Ft(u,2)}return o==="Yo"?t.ordinalNumber(d,{unit:"year"}):Ft(d,o.length)},R:function(l,o){const t=Fo(l);return Ft(t,o.length)},u:function(l,o){const t=l.getFullYear();return Ft(t,o.length)},Q:function(l,o,t){const n=Math.ceil((l.getMonth()+1)/3);switch(o){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(l,o,t){const n=Math.ceil((l.getMonth()+1)/3);switch(o){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(l,o,t){const n=l.getMonth();switch(o){case"M":case"MM":return Na.M(l,o);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(l,o,t){const n=l.getMonth();switch(o){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(l,o,t,n){const i=bs(l,n);return o==="wo"?t.ordinalNumber(i,{unit:"week"}):Ft(i,o.length)},I:function(l,o,t){const n=gs(l);return o==="Io"?t.ordinalNumber(n,{unit:"week"}):Ft(n,o.length)},d:function(l,o,t){return o==="do"?t.ordinalNumber(l.getDate(),{unit:"date"}):Na.d(l,o)},D:function(l,o,t){const n=xs(l);return o==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,o.length)},E:function(l,o,t){const n=l.getDay();switch(o){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(l,o,t,n){const i=l.getDay(),d=(i-n.weekStartsOn+8)%7||7;switch(o){case"e":return String(d);case"ee":return Ft(d,2);case"eo":return t.ordinalNumber(d,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(l,o,t,n){const i=l.getDay(),d=(i-n.weekStartsOn+8)%7||7;switch(o){case"c":return String(d);case"cc":return Ft(d,o.length);case"co":return t.ordinalNumber(d,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(l,o,t){const n=l.getDay(),i=n===0?7:n;switch(o){case"i":return String(i);case"ii":return Ft(i,o.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(l,o,t){const i=l.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(l,o,t){const n=l.getHours();let i;switch(n===12?i=Va.noon:n===0?i=Va.midnight:i=n/12>=1?"pm":"am",o){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(l,o,t){const n=l.getHours();let i;switch(n>=17?i=Va.evening:n>=12?i=Va.afternoon:n>=4?i=Va.morning:i=Va.night,o){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(l,o,t){if(o==="ho"){let n=l.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Na.h(l,o)},H:function(l,o,t){return o==="Ho"?t.ordinalNumber(l.getHours(),{unit:"hour"}):Na.H(l,o)},K:function(l,o,t){const n=l.getHours()%12;return o==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ft(n,o.length)},k:function(l,o,t){let n=l.getHours();return n===0&&(n=24),o==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ft(n,o.length)},m:function(l,o,t){return o==="mo"?t.ordinalNumber(l.getMinutes(),{unit:"minute"}):Na.m(l,o)},s:function(l,o,t){return o==="so"?t.ordinalNumber(l.getSeconds(),{unit:"second"}):Na.s(l,o)},S:function(l,o){return Na.S(l,o)},X:function(l,o,t){const n=l.getTimezoneOffset();if(n===0)return"Z";switch(o){case"X":return yo(n);case"XXXX":case"XX":return Wa(n);case"XXXXX":case"XXX":default:return Wa(n,":")}},x:function(l,o,t){const n=l.getTimezoneOffset();switch(o){case"x":return yo(n);case"xxxx":case"xx":return Wa(n);case"xxxxx":case"xxx":default:return Wa(n,":")}},O:function(l,o,t){const n=l.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+_o(n,":");case"OOOO":default:return"GMT"+Wa(n,":")}},z:function(l,o,t){const n=l.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+_o(n,":");case"zzzz":default:return"GMT"+Wa(n,":")}},t:function(l,o,t){const n=Math.trunc(+l/1e3);return Ft(n,o.length)},T:function(l,o,t){return Ft(+l,o.length)}};function _o(l,o=""){const t=l>0?"-":"+",n=Math.abs(l),i=Math.trunc(n/60),d=n%60;return d===0?t+String(i):t+String(i)+o+Ft(d,2)}function yo(l,o){return l%60===0?(l>0?"-":"+")+Ft(Math.abs(l)/60,2):Wa(l,o)}function Wa(l,o=""){const t=l>0?"-":"+",n=Math.abs(l),i=Ft(Math.trunc(n/60),2),d=Ft(n%60,2);return t+i+o+d}const wo=(l,o)=>{switch(l){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},jo=(l,o)=>{switch(l){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},_s=(l,o)=>{const t=l.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return wo(l,o);let d;switch(n){case"P":d=o.dateTime({width:"short"});break;case"PP":d=o.dateTime({width:"medium"});break;case"PPP":d=o.dateTime({width:"long"});break;case"PPPP":default:d=o.dateTime({width:"full"});break}return d.replace("{{date}}",wo(n,o)).replace("{{time}}",jo(i,o))},ys={p:jo,P:_s},ws=/^D+$/,Ss=/^Y+$/,Ts=["D","DD","YY","YYYY"];function ks(l){return ws.test(l)}function Ms(l){return Ss.test(l)}function Cs(l,o,t){const n=$s(l,o,t);if(console.warn(n),Ts.includes(l))throw new RangeError(n)}function $s(l,o,t){const n=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${o}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Is=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ds=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Es=/^'([^]*?)'?$/,Ps=/''/g,Os=/[a-zA-Z]/;function Lo(l,o,t){var _,m,T,E;const n=Or(),i=n.locale??ms,d=n.firstWeekContainsDate??((m=(_=n.locale)==null?void 0:_.options)==null?void 0:m.firstWeekContainsDate)??1,u=n.weekStartsOn??((E=(T=n.locale)==null?void 0:T.options)==null?void 0:E.weekStartsOn)??0,p=ka(l,t==null?void 0:t.in);if(!An(p))throw new RangeError("Invalid time value");let f=o.match(Ds).map(b=>{const x=b[0];if(x==="p"||x==="P"){const y=ys[x];return y(b,i.formatLong)}return b}).join("").match(Is).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:Ns(b)};if(bo[x])return{isToken:!0,value:b};if(x.match(Os))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(f=i.localize.preprocessor(p,f));const S={firstWeekContainsDate:d,weekStartsOn:u,locale:i};return f.map(b=>{if(!b.isToken)return b.value;const x=b.value;(Ms(x)||ks(x))&&Cs(x,o,String(l));const y=bo[x[0]];return y(p,x,i.localize,S)}).join("")}function Ns(l){const o=l.match(Es);return o?o[1].replace(Ps,"'"):l}const ot=l=>Lo(new Date(l),"h:mm a"),Xt=l=>Lo(new Date(l),"MMM d, yyyy"),qr="coveragePlan";function As(){const{subscribe:l,set:o,update:t}=ha(new Set);try{const i=localStorage.getItem(qr);if(i){const d=JSON.parse(i);o(new Set(d.selectedMatches))}}catch(i){console.error("Failed to load coverage plan:",i)}const n=i=>{try{const d={selectedMatches:Array.from(i),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(qr,JSON.stringify(d))}catch(d){console.error("Failed to save coverage plan:",d)}};return{subscribe:l,toggleMatch:i=>{t(d=>{const u=new Set(d);return u.has(i)?u.delete(i):u.add(i),n(u),u})},selectMatch:i=>{t(d=>{const u=new Set(d);return u.add(i),n(u),u})},deselectMatch:i=>{t(d=>{const u=new Set(d);return u.delete(i),n(u),u})},clearPlan:()=>{o(new Set),localStorage.removeItem(qr)}}}const Rt=As();vr(Rt,l=>l);const Uo=vr(Rt,l=>l.size),Xr="teamCoverageStatus";function Fs(){const{subscribe:l,set:o,update:t}=ha({});try{const i=localStorage.getItem(Xr);if(i){const d=JSON.parse(i);o(d)}}catch(i){console.error("Failed to load coverage status:",i)}const n=i=>{if(Object.keys(i).length!==0)try{localStorage.setItem(Xr,JSON.stringify(i))}catch(d){console.error("Failed to save coverage status:",d)}};return{subscribe:l,setTeamStatus:(i,d)=>{t(u=>{const p={...u};return d==="not-covered"?delete p[i]:p[i]=d,n(p),p})},getTeamStatus:i=>{let d="not-covered";return l(u=>{d=u[i]||"not-covered"})(),d},clearAllStatus:()=>{o({}),localStorage.removeItem(Xr)},updateFromPlan:(i,d,u)=>{u!==0&&t(p=>{let f;if(d===0?f="not-covered":d===u?f="covered":f="partially-covered",(p[i]||"not-covered")===f)return p;const _={...p};return f==="not-covered"?delete _[i]:_[i]=f,n(_),_})},importStatuses:i=>{o(i),n(i)}}}const ht=Fs(),So="userRole";function Rs(){const{subscribe:l,set:o}=ha("media");try{const n=localStorage.getItem(So);n&&["media","spectator","coach"].includes(n)&&o(n)}catch(n){console.error("Failed to load user role:",n)}const t=n=>{try{localStorage.setItem(So,n)}catch(i){console.error("Failed to save user role:",i)}};return{subscribe:l,setRole:n=>{o(n),t(n)}}}const Ra=Rs(),hr=vr(Ra,l=>l==="media"),Nr=vr(Ra,l=>l==="spectator"),Wo=vr(Ra,l=>l==="coach");var js=g('<form data-event-input="" class="space-y-3 sm:space-y-4"><div class="flex flex-col sm:flex-row gap-2 sm:gap-3 sm:gap-4"><div class="flex-1 min-w-0"><label for="eventId" class="block text-xs text-charcoal-300 mb-1 sm:mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm rounded-lg transition-colors min-h-[40px] sm:min-h-[44px] focus:border-gold-500 focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Event ID"/></div> <div class="flex-1 sm:min-w-[140px]"><label for="date" class="block text-xs text-charcoal-300 mb-1 sm:mb-1.5">Date</label> <input id="date" type="date" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm rounded-lg transition-colors min-h-[40px] sm:min-h-[44px] focus:border-gold-500 focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[100px]"><label for="timeWindow" class="block text-xs text-charcoal-300 mb-1 sm:mb-1.5">Window</label> <input id="timeWindow" type="number" min="1" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 text-sm rounded-lg transition-colors min-h-[40px] sm:min-h-[44px] focus:border-gold-500 focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Mins"/></div> <div class="flex items-end"><button type="submit" class="px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[40px] sm:min-h-[44px] disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto"> </button></div></div></form>');function Ls(l,o){Et(o,!1);let t=we(o,"eventId",8),n=we(o,"date",8),i=we(o,"timeWindow",8),d=we(o,"onLoad",8),u=we(o,"loading",8,!1),p=P(t()),f=P(n()),S=P(i());async function _(he){he.preventDefault(),await d()(e(p),e(f),e(S))}ne(()=>(M(t()),e(p),M(n()),e(f),M(i()),e(S)),()=>{t()!==e(p)&&v(p,t()),n()!==e(f)&&v(f,n()),i()!==e(S)&&v(S,i())}),Ut(),Ot();var m=js(),T=r(m),E=r(T),b=s(r(E),2);Sa(b),a(E);var x=s(E,2),y=s(r(x),2);Sa(y),a(x);var O=s(x,2),k=s(r(O),2);Sa(k),a(O);var D=s(O,2),I=r(D),de=r(I,!0);a(I),a(D),a(T),a(m),A(()=>{b.disabled=u(),y.disabled=u(),k.disabled=u(),I.disabled=u(),Kt(I,`background-color: ${u()?"#ca8a04":"#eab308"}; color: #18181b;`),w(de,u()?"Loading...":"Load")}),Ta(b,()=>e(p),he=>v(p,he)),Ta(y,()=>e(f),he=>v(f,he)),Ta(k,()=>e(S),he=>v(S,he)),Fa("submit",m,_),h(l,m),Pt()}const Bo=(l,o,t,n={})=>{const{excludeSelected:i=!0,preferNoConflicts:d=!0,preferNearSelected:u=!0,maxResults:p=10}=n;return(i?l.filter(_=>!o.has(_.MatchId)):l).map(_=>{const m=[];let T=0;const E=t.has(_.MatchId);if(!E&&d?(T+=50,m.push("No conflicts")):E&&(T-=20,m.push("Has conflicts")),u&&o.size>0){const x=_.ScheduledStartDateTime,y=_.ScheduledEndDateTime,O=l.filter(D=>o.has(D.MatchId));let k=1/0;O.forEach(D=>{const I=D.ScheduledStartDateTime,de=D.ScheduledEndDateTime,he=Math.abs(x-de),K=Math.abs(I-y),se=Math.min(he,K);se<k&&(k=se)}),k<7200*1e3?(T+=20,m.push("Near selected matches")):k>14400*1e3&&(T-=10,m.push("Far from selected matches"))}u&&o.size>0&&l.filter(O=>o.has(O.MatchId)).filter(O=>O.CourtName===_.CourtName).length>0&&(T+=15,m.push("Same court as selected matches"));const b=new Date(_.ScheduledStartDateTime).getHours();return b>=8&&b<12&&(T+=5,m.push("Morning match")),{match:_,score:T,reasons:m}}).sort((_,m)=>m.score-_.score).slice(0,p).filter(_=>_.score>0)},no=(l,o,t,n,i,d={})=>{const{excludeSelected:u=!0,preferUncovered:p=!0,preferNoConflicts:f=!0,preferNearSelected:S=!0,maxResults:_=10}=d,m=[];return l.forEach(T=>{if(u&&o.has(T.MatchId))return;const E=i(T);if(!E)return;const b=n.get(E)||"not-covered",x=t.has(T.MatchId);let y=0;const O=[];if(p&&b==="not-covered"&&(y+=10,O.push("Uncovered team")),f&&!x&&(y+=5,O.push("No conflicts")),S&&o.size>0){const k=T.ScheduledStartDateTime;let D=!1;l.forEach(I=>{if(o.has(I.MatchId)){const he=Math.abs(k-I.ScheduledStartDateTime)/6e4;he<=30&&he>0&&(D=!0)}}),D&&(y+=3,O.push("Near selected match"))}y>0&&O.length>0&&m.push({match:T,teamId:E,reason:O.join(", "),score:y})}),m.sort((T,E)=>E.score-T.score).slice(0,_)},Dr="matchScores",Us=l=>{try{const o=localStorage.getItem(Dr);if(!o)return JSON.stringify({eventId:l,scores:[]},null,2);const t=JSON.parse(o),n=[];return Object.values(t).forEach(i=>{i.eventId===l&&n.push(i)}),JSON.stringify({eventId:l,scores:n,exportedAt:Date.now()},null,2)}catch(o){return console.error("Failed to export scores:",o),JSON.stringify({eventId:l,scores:[],error:"Export failed"},null,2)}},Ws=l=>{const o=[];let t=0;try{const n=JSON.parse(l);if(!n.scores||!Array.isArray(n.scores))return o.push("Invalid JSON format: missing scores array"),{success:!1,imported:0,errors:o};const i=localStorage.getItem(Dr),d=i?JSON.parse(i):{};return n.scores.forEach(u=>{try{if(!u.matchId||!u.eventId||!u.sets||!Array.isArray(u.sets)){o.push(`Invalid score for match ${u.matchId}: missing required fields`);return}const p=u.matchId.toString(),f=d[p];if(f&&f.lastUpdated&&u.lastUpdated)if(u.lastUpdated>f.lastUpdated)d[p]=u,t++;else return;else d[p]=u,t++}catch(p){o.push(`Failed to import score for match ${u.matchId}: ${p}`)}}),localStorage.setItem(Dr,JSON.stringify(d)),{success:o.length===0,imported:t,errors:o}}catch(n){return o.push(`Failed to parse JSON: ${n}`),{success:!1,imported:0,errors:o}}},Bs=l=>{try{const o=localStorage.getItem(Dr);if(!o)return window.location.href.split("#")[0];const t=JSON.parse(o),n=[];if(Object.values(t).forEach(f=>{f.eventId===l&&n.push(f)}),n.length===0)return window.location.href.split("#")[0];const i={eventId:l,scores:n,exportedAt:Date.now()},d=JSON.stringify(i),u=btoa(unescape(encodeURIComponent(d))),p=`${window.location.href.split("#")[0]}#scores=${u}`;return p.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using export/import instead."),p}catch(o){return console.error("Failed to generate shareable URL:",o),window.location.href.split("#")[0]}},Hs=()=>{try{const l=window.location.hash;if(!l||!l.startsWith("#scores="))return null;const o=l.substring(8),t=decodeURIComponent(escape(atob(o))),n=JSON.parse(t);return!n.scores||!Array.isArray(n.scores)?null:{eventId:n.eventId||"",scores:n.scores}}catch(l){return console.error("Failed to extract scores from URL:",l),null}},Ys=()=>{const l=window.location.hash;return l!==null&&l.startsWith("#scores=")},Cr={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all",myTeamsOnly:!1},Qr="matchFilters";function Js(){const{subscribe:l,set:o,update:t}=ha(Cr);try{const i=localStorage.getItem(Qr);if(i){const d=JSON.parse(i);o({...Cr,...d})}}catch(i){console.error("Failed to load filters:",i)}const n=i=>{try{localStorage.setItem(Qr,JSON.stringify(i))}catch(d){console.error("Failed to save filters:",d)}};return{subscribe:l,updateFilter:(i,d)=>{t(u=>{const p={...u,[i]:d};return n(p),p})},resetFilters:()=>{o(Cr),localStorage.removeItem(Qr)},setTimeRangePreset:i=>{t(d=>{let u;return i==="morning"?u={...d,timeRange:{start:"00:00",end:"14:29"}}:i==="afternoon"?u={...d,timeRange:{start:"14:30",end:"23:59"}}:u={...d,timeRange:{start:null,end:null}},n(u),u})},getTeamIdentifier:i=>{const u=(i.InvolvedTeam==="first"?i.FirstTeamText:i.SecondTeamText).match(/(\d+-\d+)/);return u?u[1]:""}}}const Pa=Js();function et(l){const t=(l.InvolvedTeam==="first"?l.FirstTeamText:l.SecondTeamText).match(/(\d+-\d+)/);return t?t[1]:""}function Qa(l){const o=new Set(l.map(t=>t.Division.CodeAlias));return Array.from(o).sort()}function fr(l){const o=new Set;return l.forEach(t=>{const n=et(t);n&&o.add(n)}),Array.from(o).sort()}function Ho(l){let o=Cr;return Pa.subscribe(t=>{o=t})(),l.filter(t=>{if(o.division&&t.Division.CodeAlias!==o.division)return!1;if(o.wave!=="all"){const n=new Date(t.ScheduledStartDateTime).getTime(),i=new Date(n),d=i.getHours(),u=i.getMinutes(),p=d*60+u,f=870;if(o.wave==="morning"&&p>=f||o.wave==="afternoon"&&p<f)return!1}if(o.teams.length>0){const n=et(t);if(!n||!o.teams.includes(n))return!1}if(o.timeRange.start||o.timeRange.end){const n=new Date(t.ScheduledStartDateTime).getTime(),i=new Date(n),d=i.getHours(),u=i.getMinutes(),p=d*60+u;if(o.timeRange.start){const[f,S]=o.timeRange.start.split(":").map(Number),_=f*60+S;if(p<_)return!1}if(o.timeRange.end){const[f,S]=o.timeRange.end.split(":").map(Number),_=f*60+S;if(p>_)return!1}}return!0})}function gt(l,o){Pa.updateFilter(l,o)}function lr(){Pa.resetFilters()}const Kr="matchPriorities";function Vs(){const{subscribe:l,set:o,update:t}=ha({});try{const i=localStorage.getItem(Kr);if(i){const d=JSON.parse(i);o(d)}}catch(i){console.error("Failed to load priorities:",i)}const n=i=>{try{localStorage.setItem(Kr,JSON.stringify(i))}catch(d){console.error("Failed to save priorities:",d)}};return{subscribe:l,setPriority:(i,d)=>{t(u=>{const p={...u};return d===null?delete p[i]:p[i]=d,n(p),p})},getPriority:i=>{let d=null;return l(u=>{d=u[i]||null})(),d},clearAllPriorities:()=>{o({}),localStorage.removeItem(Kr)}}}const xa=Vs(),To="followedTeams",ko="teamColors";function zs(){const{subscribe:l,set:o,update:t}=ha([]),{subscribe:n,set:i,update:d}=ha(new Map);{try{const f=localStorage.getItem(To);f&&o(JSON.parse(f))}catch(f){console.error("Failed to load followed teams:",f)}try{const f=localStorage.getItem(ko);if(f){const S=JSON.parse(f);i(new Map(Object.entries(S)))}}catch(f){console.error("Failed to load team colors:",f)}}const u=f=>{try{localStorage.setItem(To,JSON.stringify(f))}catch(S){console.error("Failed to save followed teams:",S)}},p=f=>{try{const S={};f.forEach((_,m)=>{S[m]=_}),localStorage.setItem(ko,JSON.stringify(S))}catch(S){console.error("Failed to save team colors:",S)}};return{subscribe:l,followTeam:(f,S)=>{t(_=>{if(_.some(T=>T.teamId===f))return _;const m=[..._,{teamId:f,teamName:S,followedAt:Date.now()}];return u(m),m})},unfollowTeam:f=>{t(S=>{const _=S.filter(m=>m.teamId!==f);return u(_),_}),d(S=>{const _=new Map(S);return _.delete(f),p(_),_})},isFollowing:f=>{let S=!1;return l(_=>{S=_.some(m=>m.teamId===f)})(),S},setTeamColor:(f,S)=>{d(_=>{const m=new Map(_);return m.set(f,S),p(m),m})},getTeamColor:f=>{let S=null;return n(_=>{S=_.get(f)||null})(),S},reorderTeams:(f,S)=>{t(_=>{const m=_.findIndex(b=>b.teamId===f);if(m===-1)return _;const T=[..._],E=T[m];return S==="top"?(T.splice(m,1),T.unshift(E)):S==="up"&&m>0?[T[m-1],T[m]]=[T[m],T[m-1]]:S==="down"&&m<T.length-1&&([T[m],T[m+1]]=[T[m+1],T[m]]),u(T),T})}}}const kt=zs(),Mo="notificationPreferences",Sr={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Gs(){const{subscribe:l,set:o,update:t}=ha(Sr),{subscribe:n,set:i}=ha("default");{try{const p=localStorage.getItem(Mo);if(p){const f=JSON.parse(p);o({...Sr,...f})}}catch(p){console.error("Failed to load notification preferences:",p)}"Notification"in window&&i(Notification.permission)}const d=p=>{try{localStorage.setItem(Mo,JSON.stringify(p))}catch(f){console.error("Failed to save notification preferences:",f)}},u=(p,f,S=!1)=>{let _="default";n(m=>{_=m})(),S&&_==="granted"&&"Notification"in window?new Notification(p,{body:f,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${p}: ${f}`)};return{preferences:{subscribe:l},notificationPermission:{subscribe:n},requestPermission:async()=>{if("Notification"in window){let p="default";if(n(f=>{p=f})(),p==="default"){const f=await Notification.requestPermission();return i(f),f==="granted"}return p==="granted"}return!1},checkUpcomingMatches:(p,f)=>{let S=Sr;if(l(T=>{S=T})(),!S.upcomingMatchReminder)return;const _=Date.now(),m=S.reminderMinutes*60*1e3;p.forEach(T=>{const E=T.ScheduledStartDateTime,b=E-_,x=T.FirstTeamText||T.SecondTeamText;if(f.includes(x)&&b>0&&b<=m){const y=`reminder-${T.MatchId}`,O=localStorage.getItem(y);if(!O||Date.now()-parseInt(O)>m){const k=Math.floor(b/6e4);u(`Match starting in ${k} minute${k!==1?"s":""}`,`${T.FirstTeamText} vs ${T.SecondTeamText}
${new Date(E).toLocaleTimeString()} - ${T.CourtName}`,S.browserNotifications),localStorage.setItem(y,Date.now().toString())}}})},notifyScoreUpdate:(p,f)=>{let S=Sr;if(l(x=>{S=x})(),!S.scoreUpdateNotification)return;const _=f.sets.find(x=>x.completedAt===0)||f.sets[f.sets.length-1],m=f.sets.filter(x=>x.completedAt>0),T=m.filter(x=>x.team1Score>x.team2Score).length,E=m.filter(x=>x.team2Score>x.team1Score).length;let b=`Score: ${_.team1Score}-${_.team2Score}`;m.length>0&&(b=`Sets: ${T}-${E} | ${b}`),u(`${p.FirstTeamText} vs ${p.SecondTeamText}`,b,S.browserNotifications)},updatePreferences:p=>{t(f=>{const S={...f,...p};return d(S),S})}}}const Zr=Gs(),qs="courtsync-score-updates";let Tr=null;const Xs=()=>{if(!Tr)try{Tr=new BroadcastChannel(qs)}catch(l){console.error("BroadcastChannel not supported:",l),Tr={postMessage:()=>{},close:()=>{},onmessage:null}}return Tr},Qs=(l,o,t)=>{const n=Xs(),i={type:t?"score-update":"score-delete",eventId:l,matchId:o,score:t||void 0,timestamp:Date.now()};try{n.postMessage(i)}catch(d){console.error("Failed to broadcast score update:",d)}},so="scoreHistory",Ks=l=>{try{const o=localStorage.getItem(so);return o?JSON.parse(o)[l.toString()]||[]:[]}catch(o){return console.error("Failed to load score history:",o),[]}},Zs=(l,o,t)=>{try{const n=localStorage.getItem(so),i=n?JSON.parse(n):{};i[l.toString()]||(i[l.toString()]=[]);const d={matchId:l,timestamp:Date.now(),sets:[...o.sets],status:o.status,updatedBy:t};i[l.toString()].push(d),i[l.toString()].length>100&&(i[l.toString()]=i[l.toString()].slice(-100)),localStorage.setItem(so,JSON.stringify(i))}catch(n){console.error("Failed to save score history:",n)}},el=(l,o,t,n)=>{let i=0,d=0,u=0,p=0,f=0,S=0,_=0,m=0;t.forEach(y=>{const O=y.FirstTeamText===l||y.FirstTeamText===o,k=y.SecondTeamText===l||y.SecondTeamText===o;if(!O&&!k)return;i++;const D=n.get(y.MatchId);if(!D||D.status!=="completed")return;d++;const I=D.sets.filter(he=>he.completedAt>0&&he.team1Score>he.team2Score).length,de=D.sets.filter(he=>he.completedAt>0&&he.team2Score>he.team1Score).length;O?(f+=I,S+=de,D.sets.forEach(he=>{he.completedAt>0&&(_+=he.team1Score,m+=he.team2Score)}),I>de?u++:p++):(f+=de,S+=I,D.sets.forEach(he=>{he.completedAt>0&&(_+=he.team2Score,m+=he.team1Score)}),de>I?u++:p++)});const T=d>0?u/d*100:0,E=d>0?_/d:0,b=d>0?m/d:0,x=f+S>0?`${(f/(f+S)*100).toFixed(1)}%`:"0%";return{teamId:l,teamName:o,totalMatches:i,completedMatches:d,wins:u,losses:p,winPercentage:T,setsWon:f,setsLost:S,pointsScored:_,pointsAllowed:m,avgPointsScored:E,avgPointsAllowed:b,avgSetScore:x}},Er="claimHistory",Co=1e3;function eo(l){try{const o=localStorage.getItem(Er),t=o?JSON.parse(o):[];t.unshift(l),t.length>Co&&t.splice(Co),localStorage.setItem(Er,JSON.stringify(t))}catch(o){console.error("Failed to save claim history:",o)}}function tl(l,o){try{const t=localStorage.getItem(Er);return t?JSON.parse(t).filter(i=>i.matchId===l&&i.eventId===o).sort((i,d)=>d.timestamp-i.timestamp):[]}catch(t){return console.error("Failed to load claim history:",t),[]}}function $o(l){try{const o=localStorage.getItem(Er);return o?JSON.parse(o).filter(n=>n.eventId===l).sort((n,i)=>i.timestamp-n.timestamp):[]}catch(o){return console.error("Failed to load claim history:",o),[]}}const Io="matchClaims",to="matchScores",al=1800*1e3;function mr({eventId:l,userId:o="anonymous"}){const{subscribe:t,set:n,update:i}=ha(new Map),{subscribe:d,set:u,update:p}=ha(new Map);{try{const E=localStorage.getItem(Io);if(E){const b=JSON.parse(E),x=new Map;Object.values(b).forEach(y=>{y.eventId===l&&y.expiresAt>Date.now()&&x.set(y.matchId,y)}),n(x)}}catch(E){console.error("Failed to load claims:",E)}try{const E=localStorage.getItem(to);if(E){const b=JSON.parse(E),x=new Map;Object.values(b).forEach(y=>{y.eventId===l&&x.set(y.matchId,y)}),u(x)}}catch(E){console.error("Failed to load scores:",E)}}const f=E=>{try{const b={};E.forEach(x=>{b[x.matchId.toString()]=x}),localStorage.setItem(Io,JSON.stringify(b))}catch(b){console.error("Failed to save claims:",b)}},S=E=>{try{const b={};E.forEach(x=>{b[x.matchId.toString()]=x}),localStorage.setItem(to,JSON.stringify(b))}catch(b){console.error("Failed to save scores:",b)}};let _=null;return{claims:{subscribe:t},scores:{subscribe:d},claimMatch:(E,b)=>{const x=Date.now(),y=b+al,O={matchId:E,claimedBy:o,claimedAt:x,expiresAt:y,eventId:l};i(k=>{const D=new Map(k);return D.set(E,O),f(D),D}),eo({matchId:E,eventId:l,action:"claimed",userId:o,timestamp:x})},releaseClaim:E=>{i(b=>{const x=b.get(E),y=new Map(b);return y.delete(E),f(y),x&&gn&&eo({matchId:E,eventId:l,action:"released",userId:x.claimedBy,timestamp:Date.now()}),y})},transferClaim:(E,b)=>{let x=!1;if(t(O=>{const k=O.get(E);x=(k==null?void 0:k.claimedBy)===o&&k.expiresAt>Date.now()})(),!x)return!1;const y=Date.now();return i(O=>{const k=O.get(E);if(!k)return O;const D={...k,claimedBy:b,claimedAt:y},I=new Map(O);return I.set(E,D),f(I),eo({matchId:E,eventId:l,action:"transferred",userId:o,timestamp:y,transferredTo:b}),I}),!0},isClaimed:E=>{let b=!1;return t(x=>{const y=x.get(E);b=y?y.expiresAt>Date.now():!1})(),b},getClaimStatus:E=>{let b="available";return t(x=>{const y=x.get(E);!y||y.expiresAt<Date.now()?b="available":y.claimedBy===o?b="claimed":b="locked"})(),b},getClaimer:E=>{let b=null;return t(x=>{const y=x.get(E);b=y&&y.expiresAt>Date.now()?y.claimedBy:null})(),b},isClaimOwner:E=>{let b=!1;return t(x=>{const y=x.get(E);b=(y==null?void 0:y.claimedBy)===o&&y.expiresAt>Date.now()})(),b},updateScore:(E,b,x)=>{const y={matchId:E,eventId:l,sets:b,status:x,lastUpdated:Date.now(),lastUpdatedBy:o};p(O=>{const k=new Map(O);return k.set(E,y),S(k),k}),Qs(l,E,y),Zs(E,y,o)},getScore:E=>{let b=null;return d(x=>{b=x.get(E)||null})(),b},clearEventData:()=>{i(E=>{const b=new Map(E);return b.forEach((x,y)=>{x.eventId===l&&b.delete(y)}),f(b),b}),p(E=>{const b=new Map(E);return b.forEach((x,y)=>{x.eventId===l&&b.delete(y)}),S(b),b})},startPolling:()=>{_||(_=setInterval(()=>{try{const E=localStorage.getItem(to);if(!E)return;const b=JSON.parse(E),x=new Map;let y=!1;d(O=>{Object.values(b).forEach(k=>{if(k.eventId===l){x.set(k.matchId,k);const D=O.get(k.matchId);(!D||k.lastUpdated&&k.lastUpdated>D.lastUpdated)&&(y=!0)}}),y&&p(k=>{const D=new Map(k);return x.forEach((I,de)=>{const he=k.get(de);(!he||I.lastUpdated&&I.lastUpdated>he.lastUpdated)&&D.set(de,I)}),D})})()}catch(E){console.error("Failed to poll scores:",E)}},3e3))},stopPolling:()=>{_&&(clearInterval(_),_=null)}}}const ao="matchNotes";function rl(l){const{subscribe:o,set:t,update:n}=ha(new Map);try{const d=localStorage.getItem(ao);if(d){const u=JSON.parse(d),p=new Map;Object.values(u).forEach(f=>{f.eventId===l&&p.set(f.matchId,f)}),t(p)}}catch(d){console.error("Failed to load match notes:",d)}const i=d=>{try{const u=localStorage.getItem(ao),p=u?JSON.parse(u):{};d.forEach(f=>{p[`${l}-${f.matchId}`]=f}),Object.keys(p).forEach(f=>{if(f.startsWith(`${l}-`)){const S=parseInt(f.split("-").pop()||"0");d.has(S)||delete p[f]}}),localStorage.setItem(ao,JSON.stringify(p))}catch(u){console.error("Failed to save match notes:",u)}};return{subscribe:o,setNote:(d,u)=>{const p=Date.now();n(f=>{const S=new Map(f),_=S.get(d);return u.trim()?S.set(d,{matchId:d,eventId:l,note:u.trim(),createdAt:(_==null?void 0:_.createdAt)||p,updatedAt:p}):S.delete(d),i(S),S})},getNote:d=>{let u="";return o(p=>{var f;u=((f=p.get(d))==null?void 0:f.note)||""})(),u},deleteNote:d=>{n(u=>{const p=new Map(u);return p.delete(d),i(p),p})},hasNote:d=>{let u=!1;return o(p=>{const f=p.get(d);u=f!==void 0&&f.note.trim().length>0})(),u}}}function Yo(l){return rl(l)}var ol=g('<div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-sm font-semibold text-charcoal-50 mb-2">Win/Loss Breakdown</div> <div class="space-y-2"><div class="flex items-center justify-between"><span class="text-xs text-charcoal-300">Wins</span> <div class="flex items-center gap-2"><div class="w-24 h-2 bg-charcoal-700 rounded-full overflow-hidden"><div class="h-full bg-green-500"></div></div> <span class="text-sm font-semibold text-charcoal-50 w-8 text-right"> </span></div></div> <div class="flex items-center justify-between"><span class="text-xs text-charcoal-300">Losses</span> <div class="flex items-center gap-2"><div class="w-24 h-2 bg-charcoal-700 rounded-full overflow-hidden"><div class="h-full bg-red-500"></div></div> <span class="text-sm font-semibold text-charcoal-50 w-8 text-right"> </span></div></div></div></div>'),nl=g('<div class="text-center py-8 text-charcoal-300 text-sm">No completed matches yet</div>'),sl=g('<div class="space-y-4"><h3 class="text-lg font-semibold text-charcoal-50">Team Statistics</h3> <div class="grid grid-cols-2 sm:grid-cols-4 gap-3"><div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Record</div> <div class="text-lg font-bold text-charcoal-50"> </div></div> <div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Win %</div> <div class="text-lg font-bold text-[#facc15]"> </div></div> <div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Sets</div> <div class="text-lg font-bold text-charcoal-50"> </div></div> <div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Matches</div> <div class="text-lg font-bold text-charcoal-50"> </div></div></div> <div class="space-y-3"><div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800"><div class="text-sm font-semibold text-charcoal-50 mb-2">Points</div> <div class="grid grid-cols-2 gap-4 text-sm"><div><div class="text-xs text-charcoal-300 mb-1">Scored</div> <div class="text-base font-bold text-charcoal-50"> </div></div> <div><div class="text-xs text-charcoal-300 mb-1">Allowed</div> <div class="text-base font-bold text-charcoal-50"> </div></div></div></div> <!></div> <!></div>');function ll(l,o){Et(o,!1);const t=P(),n=P();let i=we(o,"matches",8),d=we(o,"eventId",8),u=we(o,"teamId",8),p=we(o,"teamName",8);const f=mr(d());ne(()=>M(i()),()=>{v(t,(()=>{const Ie=new Map;return i().forEach(Q=>{const $e=f.getScore(Q.MatchId);$e&&Ie.set(Q.MatchId,$e)}),Ie})())}),ne(()=>(M(u()),M(p()),M(i()),e(t)),()=>{v(n,el(u(),p(),i(),e(t)))}),Ut(),Ot();var S=sl(),_=s(r(S),2),m=r(_),T=s(r(m),2),E=r(T);a(T),a(m);var b=s(m,2),x=s(r(b),2),y=r(x);a(x),a(b);var O=s(b,2),k=s(r(O),2),D=r(k);a(k),a(O);var I=s(O,2),de=s(r(I),2),he=r(de);a(de),a(I),a(_);var K=s(_,2),se=r(K),le=s(r(se),2),ce=r(le),q=s(r(ce),2),z=r(q);a(q),a(ce);var U=s(ce,2),G=s(r(U),2),Y=r(G);a(G),a(U),a(le),a(se);var ae=s(se,2);{var W=Ie=>{var Q=ol(),$e=s(r(Q),2),ee=r($e),te=s(r(ee),2),Ce=r(te),B=r(Ce);a(Ce);var oe=s(Ce,2),fe=r(oe,!0);a(oe),a(te),a(ee);var V=s(ee,2),pe=s(r(V),2),ve=r(pe),Pe=r(ve);a(ve);var j=s(ve,2),ue=r(j,!0);a(j),a(pe),a(V),a($e),a(Q),A(()=>{Kt(B,`width: ${e(n),c(()=>e(n).winPercentage)??""}%`),w(fe,(e(n),c(()=>e(n).wins))),Kt(Pe,`width: ${e(n),c(()=>100-e(n).winPercentage)??""}%`),w(ue,(e(n),c(()=>e(n).losses)))}),h(Ie,Q)};$(ae,Ie=>{e(n),c(()=>e(n).completedMatches>0)&&Ie(W)})}a(K);var me=s(K,2);{var Te=Ie=>{var Q=nl();h(Ie,Q)};$(me,Ie=>{e(n),c(()=>e(n).completedMatches===0)&&Ie(Te)})}a(S),A((Ie,Q,$e)=>{w(E,`${e(n),c(()=>e(n).wins)??""}-${e(n),c(()=>e(n).losses)??""}`),w(y,`${Ie??""}%`),w(D,`${e(n),c(()=>e(n).setsWon)??""}-${e(n),c(()=>e(n).setsLost)??""}`),w(he,`${e(n),c(()=>e(n).completedMatches)??""}/${e(n),c(()=>e(n).totalMatches)??""}`),w(z,`${e(n),c(()=>e(n).pointsScored)??""} (${Q??""} avg)`),w(Y,`${e(n),c(()=>e(n).pointsAllowed)??""} (${$e??""} avg)`)},[()=>(e(n),c(()=>e(n).winPercentage.toFixed(1))),()=>(e(n),c(()=>e(n).avgPointsScored.toFixed(1))),()=>(e(n),c(()=>e(n).avgPointsAllowed.toFixed(1)))]),h(l,S),Pt()}var cl=g('<div class="text-xs text-charcoal-300 mt-1"> </div>'),il=g('<div class="text-center py-8 text-charcoal-300 text-sm">Loading schedule...</div>'),dl=g('<div class="text-center py-4 text-red-400 text-sm"> </div>'),vl=g("<button>Statistics</button>"),ul=g('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),hl=g('<div class="flex-shrink-0 w-16 text-xs font-medium text-charcoal-300"> </div>'),fl=g('<div class="flex-shrink-0 w-16"></div>'),ml=g('<div class="flex-shrink-0 w-24 text-xs text-[#facc15] font-semibold text-right"> </div>'),xl=g('<div class="text-xs space-y-0.5"><div><span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span></div></div>'),gl=g('<div class="text-[#808593] ml-8"> </div>'),pl=g('<div class="text-xs space-y-0.5"><div><span class="text-gold-500 font-semibold">PLAY</span> <span class="text-charcoal-200 ml-2"> </span></div> <!></div>'),bl=g('<div class="text-[#808593] ml-8"> </div>'),_l=g('<div class="text-xs space-y-0.5"><div><span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> </span></div> <!></div>'),yl=g('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-xs font-semibold rounded"> </span></div>'),wl=g('<div><div></div> <!> <div class="flex-shrink-0 w-24 text-base font-bold text-charcoal-50 text-left"> </div> <!> <div class="flex-1 min-w-0 pr-2 text-right"><!></div> <!></div>'),Sl=g('<div class="space-y-4"><div class="flex items-center gap-2 mb-6 pb-3 border-b border-charcoal-700"><h6 class="text-sm font-semibold text-charcoal-50"> </h6> <span class="text-xs text-[#808593]"> </span></div> <div class="space-y-4"></div></div>'),Tl=g('<div><div class="space-y-8"><!></div></div>'),kl=g('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),Ml=g("<option> </option>"),Cl=g('<div class="mb-4"><label class="text-xs text-charcoal-300 mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),$l=g('<tr><td class="px-2 sm:px-3 py-2 text-charcoal-50 font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-charcoal-200"> </td><td class="px-2 sm:px-3 py-2 text-center text-charcoal-200"> </td><td class="px-2 sm:px-3 py-2 text-center text-charcoal-200"> </td><td class="px-2 sm:px-3 py-2 text-center text-charcoal-200"> </td></tr>'),Il=g('<div class="border border-charcoal-700 rounded-lg bg-charcoal-800 overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-charcoal-700 border-b border-charcoal-600"><h6 class="text-xs sm:text-sm font-semibold text-charcoal-50"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-charcoal-700 bg-charcoal-700/50"><th class="px-2 sm:px-3 py-2 text-left text-charcoal-300 font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-charcoal-300 font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-charcoal-300 font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-charcoal-300 font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-charcoal-300 font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-charcoal-300 font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),Dl=g('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),El=g('<span class="text-[#808593] mx-1">vs</span> ',1),Pl=g('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-charcoal-50"> </div> <!> <div class="flex-1 min-w-0 text-xs text-charcoal-200"> <!></div></div>'),Ol=g('<div class="border border-charcoal-700 rounded-lg bg-charcoal-800 overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-charcoal-700 border-b border-charcoal-600"><h6 class="text-xs sm:text-sm font-semibold text-charcoal-50">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),Nl=g('<div class="space-y-4"><!> <!></div>'),Al=g('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),Fl=g("<!> <!>",1),Rl=g('<div><h5 class="text-xs font-semibold text-charcoal-300 uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),jl=g('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-charcoal-700 pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),Ll=g('<div class="mt-8 border border-charcoal-700 rounded-lg bg-charcoal-800 overflow-hidden"><div class="p-4"><div class="flex items-center justify-between mb-6"><div><h4 class="text-sm sm:text-base font-semibold text-charcoal-50 truncate pr-2">Full Schedule</h4> <!></div> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function uo(l,o){Et(o,!1);const t=P(),n=P(),i=P(),d=P(),u=P();let p=we(o,"match",8),f=we(o,"eventId",8),S=we(o,"clubId",8),_=we(o,"onClose",8),m=we(o,"matches",24,()=>[]),T=P(null),E=P([]),b=P([]),x=P([]),y=P([]),O=P(null),k=P(null),D=P("schedule"),I=P(!0),de=P(null);function he(){return p().InvolvedTeam==="first"?p().FirstTeamText:p().InvolvedTeam==="second"?p().SecondTeamText:""}const K=et(p()),se=he();Ca(async()=>{v(I,!0),v(de,null);try{const te=(await Sn(f(),S())).value||[],Ce=he();if(!Ce){v(de,"Could not extract team name from match"),v(I,!1);return}const B=te.find(ue=>{if(ue.TeamText===Ce||ue.TeamName===Ce)return!0;const _e=Ce.match(/(\d+-\d+)/);if(_e){const De=_e[1];return ue.TeamName.includes(De)||ue.TeamText.includes(De)}return!1});if(!B){v(de,`Team not found: ${Ce}`),v(I,!1);return}const oe=B.TeamId,fe=B.TeamDivision.DivisionId;v(T,{TeamId:oe,DivisionId:fe,TeamName:B.TeamName,TeamText:B.TeamText});const[V,pe,ve]=await Promise.all([zr(f(),fe,oe,"current").catch(()=>[]),zr(f(),fe,oe,"work").catch(()=>[]),zr(f(),fe,oe,"future").catch(()=>[])]),Pe=(ue,_e=!1)=>Array.isArray(ue)?ue.flatMap(De=>{var J,C;return _e?De.Match?[{...De.Match,Court:De.Match.Court||null,Division:{...De.Play,PlayId:(J=De.Play)==null?void 0:J.PlayId},FirstTeamText:((C=De.Play)==null?void 0:C.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!De.Matches||!Array.isArray(De.Matches)?[]:De.Matches.map(R=>{var L;return{...R,Court:R.Court||null,Division:{...De.Play,PlayId:(L=De.Play)==null?void 0:L.PlayId}}})}):[];v(E,Pe(V,!1)),v(b,Pe(pe,!0)),v(x,Pe(ve,!1));const j=await Tn(f(),fe).catch(()=>null);j!=null&&j.Plays&&v(y,j.Plays)}catch(ee){v(de,ee instanceof Error?ee.message:"Failed to load team data")}finally{v(I,!1)}});function le(ee,te=!1){var V,pe;const Ce=typeof ee.ScheduledStartDateTime=="string"?new Date(ee.ScheduledStartDateTime).getTime():ee.ScheduledStartDateTime,B=((V=ee.FirstTeamText)==null?void 0:V.includes("630"))||((pe=ee.SecondTeamText)==null?void 0:pe.includes("630")),oe=Xt(Ce),fe=ot(Ce);return{matchDate:oe,startTimeDisplay:fe,isPlaying:B,isWork:te,scheduleMatch:ee}}ne(()=>e(D),()=>{e(D)==="poolsheet"&&v(k,null)}),ne(()=>(e(E),e(b),e(x)),()=>{v(t,[...e(E).map(te=>({...te,type:"current"})),...e(b).map(te=>({...te,type:"work"})),...e(x).map(te=>({...te,type:"future"}))].filter((te,Ce,B)=>B.findIndex(oe=>oe.MatchId===te.MatchId)===Ce).sort((te,Ce)=>{const B=typeof te.ScheduledStartDateTime=="string"?new Date(te.ScheduledStartDateTime).getTime():te.ScheduledStartDateTime||0,oe=typeof Ce.ScheduledStartDateTime=="string"?new Date(Ce.ScheduledStartDateTime).getTime():Ce.ScheduledStartDateTime||0;return B-oe}))}),ne(()=>e(t),()=>{v(n,(()=>{const ee=new Set;return e(t).forEach(te=>{if(te.Division&&te.Division.PlayId){const Ce=Math.abs(te.Division.PlayId);ee.add(Ce)}}),Array.from(ee)})())}),ne(()=>(e(y),e(n)),()=>{v(i,e(y).filter(ee=>{const te=Math.abs(ee.PlayId);return e(n).includes(te)}))}),ne(()=>(e(i),e(O)),()=>{e(i).length>0&&!e(O)&&v(O,e(i)[0].PlayId)}),ne(()=>(e(O),e(D),M(f())),()=>{e(O)&&e(D)==="poolsheet"&&kn(f(),e(O)).then(ee=>{v(k,ee)}).catch(ee=>{console.error("Failed to fetch pool sheet:",ee),v(k,null)})}),ne(()=>(e(t),Xt),()=>{v(d,(()=>{const ee={};return e(t).forEach(te=>{const Ce=typeof te.ScheduledStartDateTime=="string"?new Date(te.ScheduledStartDateTime).getTime():te.ScheduledStartDateTime||0,B=Xt(Ce);ee[B]||(ee[B]=[]),ee[B].push(te)}),ee})())}),ne(()=>e(d),()=>{v(u,Object.keys(e(d)).sort((ee,te)=>{const Ce=new Date(ee).getTime(),B=new Date(te).getTime();return Ce-B}))}),Ut(),Ot();var ce=Ll(),q=r(ce),z=r(q),U=r(z),G=s(r(U),2);{var Y=ee=>{var te=cl(),Ce=r(te,!0);a(te),A(()=>w(Ce,(e(T),c(()=>{var B;return((B=e(T))==null?void 0:B.TeamText)||se})))),h(ee,te)};$(G,ee=>{e(T),c(()=>{var te;return((te=e(T))==null?void 0:te.TeamText)||se})&&ee(Y)})}a(U);var ae=s(U,2);ae.__click=function(...ee){var te;(te=_())==null||te.apply(this,ee)},a(z);var W=s(z,2);{var me=ee=>{var te=il();h(ee,te)};$(W,ee=>{e(I)&&ee(me)})}var Te=s(W,2);{var Ie=ee=>{var te=dl(),Ce=r(te,!0);a(te),A(()=>w(Ce,e(de))),h(ee,te)};$(Te,ee=>{e(de)&&ee(Ie)})}var Q=s(Te,2);{var $e=ee=>{var te=jl(),Ce=r(te),B=r(Ce);B.__click=()=>v(D,"schedule");var oe=s(B,2);oe.__click=()=>v(D,"poolsheet");var fe=s(oe,2);{var V=j=>{var ue=vl();ue.__click=()=>v(D,"stats"),A(()=>Me(ue,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(D)==="stats"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`)),h(j,ue)};$(fe,j=>{M(m()),c(()=>m().length>0&&K)&&j(V)})}a(Ce);var pe=s(Ce,2);{var ve=j=>{ll(j,{get matches(){return m()},get eventId(){return f()},get teamId(){return K},get teamName(){return se}})},Pe=j=>{var ue=Dt(),_e=lt(ue);{var De=C=>{var R=Tl(),L=r(R),N=r(L);{var F=ie=>{var be=ul();h(ie,be)},H=ie=>{var be=Dt(),Ue=lt(be);at(Ue,1,()=>e(u),rt,(We,ze)=>{const xe=ye(()=>(e(d),e(ze),c(()=>e(d)[e(ze)])));var ke=Sl(),Le=r(ke),qe=r(Le),ft=r(qe,!0);a(qe);var Ze=s(qe,2),Xe=r(Ze);a(Ze),a(Le);var st=s(Le,2);at(st,5,()=>e(xe),rt,(St,ct,mt)=>{const Ee=ye(()=>(e(ct),c(()=>le(e(ct),e(ct).type==="work")))),tt=ye(()=>(M(e(xe)),c(()=>mt>0?le(e(xe)[mt-1],e(xe)[mt-1].type==="work"):null))),it=ye(()=>(M(e(tt)),M(e(Ee)),c(()=>!e(tt)||e(tt).matchDate!==e(Ee).matchDate)));var vt=wl(),dt=r(vt),Qe=s(dt,2);{var ut=He=>{var Ke=hl(),wt=r(Ke,!0);a(Ke),A(()=>w(wt,(M(e(Ee)),c(()=>e(Ee).matchDate)))),h(He,Ke)},jt=He=>{var Ke=fl();h(He,Ke)};$(Qe,He=>{e(it)?He(ut):He(jt,!1)})}var Wt=s(Qe,2),ea=r(Wt,!0);a(Wt);var zt=s(Wt,2);{var ta=He=>{var Ke=ml(),wt=r(Ke,!0);a(Ke),A(()=>w(wt,(M(e(Ee)),c(()=>e(Ee).scheduleMatch.Court.Name)))),h(He,Ke)};$(zt,He=>{M(e(Ee)),c(()=>e(Ee).scheduleMatch.Court)&&He(ta)})}var $t=s(zt,2),Tt=r($t);{var bt=He=>{var Ke=xl(),wt=r(Ke),Nt=s(r(wt),2),ge=r(Nt,!0);a(Nt),a(wt),a(Ke),A(()=>w(ge,(M(e(Ee)),c(()=>{var Se,Ae;return((Se=e(Ee).scheduleMatch.Division)==null?void 0:Se.CompleteShortName)||((Ae=e(Ee).scheduleMatch.Division)==null?void 0:Ae.FullName)||e(Ee).scheduleMatch.FirstTeamText})))),h(He,Ke)},aa=He=>{var Ke=Dt(),wt=lt(Ke);{var Nt=Se=>{var Ae=pl(),Be=r(Ae),Z=s(r(Be),2),re=r(Z,!0);a(Z),a(Be);var X=s(Be,2);{var Oe=Fe=>{var Re=gl(),Ge=r(Re);a(Re),A(()=>w(Ge,`vs ${M(e(Ee)),c(()=>e(Ee).scheduleMatch.SecondTeamText)??""}`)),h(Fe,Re)};$(X,Fe=>{M(e(Ee)),c(()=>e(Ee).scheduleMatch.SecondTeamText)&&Fe(Oe)})}a(Ae),A(()=>w(re,(M(e(Ee)),c(()=>e(Ee).scheduleMatch.FirstTeamText)))),h(Se,Ae)},ge=Se=>{var Ae=_l(),Be=r(Ae),Z=s(r(Be),2),re=r(Z,!0);a(Z),a(Be);var X=s(Be,2);{var Oe=Fe=>{var Re=bl(),Ge=r(Re);a(Re),A(()=>w(Ge,`vs ${M(e(Ee)),c(()=>e(Ee).scheduleMatch.SecondTeamText)??""}`)),h(Fe,Re)};$(X,Fe=>{M(e(Ee)),c(()=>e(Ee).scheduleMatch.SecondTeamText)&&Fe(Oe)})}a(Ae),A(()=>w(re,(M(e(Ee)),c(()=>e(Ee).scheduleMatch.FirstTeamText)))),h(Se,Ae)};$(wt,Se=>{M(e(Ee)),c(()=>e(Ee).isPlaying)?Se(Nt):Se(ge,!1)},!0)}h(He,Ke)};$(Tt,He=>{M(e(Ee)),c(()=>e(Ee).isWork)?He(bt):He(aa,!1)})}a($t);var Jt=s($t,2);{var Je=He=>{var Ke=yl(),wt=r(Ke),Nt=r(wt,!0);a(wt),a(Ke),A(()=>{Kt(wt,`background-color: ${M(e(Ee)),c(()=>e(Ee).scheduleMatch.Division.ColorHex)??""}20; color: ${M(e(Ee)),c(()=>e(Ee).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${M(e(Ee)),c(()=>e(Ee).scheduleMatch.Division.ColorHex)??""}40;`),w(Nt,(M(e(Ee)),c(()=>e(Ee).scheduleMatch.Division.CodeAlias)))}),h(He,Ke)};$(Jt,He=>{M(e(Ee)),c(()=>e(Ee).scheduleMatch.Division)&&He(Je)})}a(vt),A(()=>{Me(vt,1,`flex items-center gap-4 px-4 py-3 rounded border ${M(e(Ee)),c(()=>e(Ee).isWork?"border-charcoal-600 bg-charcoal-700/30":e(Ee).isPlaying?"border-[#eab308]/50 bg-gold-500/5":"border-charcoal-700 bg-charcoal-800/30")??""}`),Me(dt,1,`flex-shrink-0 w-1 h-full rounded-full ${M(e(Ee)),c(()=>e(Ee).isWork?"bg-[#808593]":e(Ee).isPlaying?"bg-gold-500":"bg-[#525463]")??""}`),w(ea,(M(e(Ee)),c(()=>e(Ee).startTimeDisplay)))}),h(St,vt)}),a(st),a(ke),A(()=>{w(ft,e(ze)),w(Xe,`(${M(e(xe)),c(()=>e(xe).length)??""} match${M(e(xe)),c(()=>e(xe).length!==1?"es":"")??""})`)}),h(We,ke)}),h(ie,be)};$(N,ie=>{e(u),c(()=>e(u).length===0)?ie(F):ie(H,!1)})}a(L),a(R),h(C,R)},J=C=>{var R=Rl(),L=s(r(R),2);{var N=H=>{var ie=kl();h(H,ie)},F=H=>{var ie=Fl(),be=lt(ie);{var Ue=ke=>{var Le=Cl(),qe=s(r(Le),2);qe.__change=Ze=>v(O,Number(Ze.target.value)),at(qe,5,()=>e(i),rt,(Ze,Xe)=>{var st=Ml(),St=r(st,!0);a(st);var ct={};A(()=>{w(St,(e(Xe),c(()=>e(Xe).CompleteFullName||e(Xe).FullName||`Pool ${e(Xe).PlayId}`))),ct!==(ct=(e(Xe),c(()=>e(Xe).PlayId)))&&(st.value=(st.__value=(e(Xe),c(()=>e(Xe).PlayId)))??"")}),h(Ze,st)}),a(qe);var ft;fa(qe),a(Le),A(()=>{ft!==(ft=e(O)||"")&&(qe.value=(qe.__value=e(O)||"")??"",ua(qe,e(O)||""))}),h(ke,Le)};$(be,ke=>{e(i),c(()=>e(i).length>1)&&ke(Ue)})}var We=s(be,2);{var ze=ke=>{var Le=Nl(),qe=r(Le);{var ft=st=>{var St=Il(),ct=r(St),mt=r(ct),Ee=r(mt);a(mt),a(ct);var tt=s(ct,2),it=r(tt),vt=s(r(it));at(vt,5,()=>(e(k),c(()=>e(k).Pool.Teams)),rt,(dt,Qe)=>{const ut=ye(()=>(e(Qe),c(()=>{var Nt;return(Nt=e(Qe).TeamText)==null?void 0:Nt.includes("630")})));var jt=$l(),Wt=r(jt),ea=r(Wt,!0);a(Wt);var zt=s(Wt),ta=r(zt),$t=r(ta,!0);a(ta),a(zt);var Tt=s(zt),bt=r(Tt,!0);a(Tt);var aa=s(Tt),Jt=r(aa,!0);a(aa);var Je=s(aa),He=r(Je);a(Je);var Ke=s(Je),wt=r(Ke,!0);a(Ke),a(jt),A(()=>{Me(jt,1,`border-b border-charcoal-700 ${e(ut)?"bg-gold-500/10":""}`),w(ea,(e(Qe),c(()=>e(Qe).FinishRank||e(Qe).OverallRank||"-"))),Me(ta,1,e(ut)?"text-[#facc15] font-semibold":"text-charcoal-200"),w($t,(e(Qe),c(()=>e(Qe).TeamText))),w(bt,(e(Qe),c(()=>e(Qe).MatchesWon??"-"))),w(Jt,(e(Qe),c(()=>e(Qe).MatchesLost??"-"))),w(He,`${e(Qe),c(()=>e(Qe).SetsWon??"-")??""}-${e(Qe),c(()=>e(Qe).SetsLost??"-")??""}`),w(wt,(e(Qe),c(()=>e(Qe).PointRatio&&e(Qe).PointRatio!=="NaN"?e(Qe).PointRatio:"-")))}),h(dt,jt)}),a(vt),a(it),a(tt),a(St),A(()=>w(Ee,`${e(k),c(()=>e(k).Pool.CompleteFullName||e(k).Pool.FullName)??""} - Standings`)),h(st,St)};$(qe,st=>{e(k),c(()=>e(k).Pool&&e(k).Pool.Teams&&e(k).Pool.Teams.length>0)&&st(ft)})}var Ze=s(qe,2);{var Xe=st=>{var St=Ol(),ct=s(r(St),2);at(ct,5,()=>(e(k),c(()=>e(k).Pool.Matches)),rt,(mt,Ee)=>{const tt=ye(()=>(e(Ee),c(()=>typeof e(Ee).ScheduledStartDateTime=="string"?new Date(e(Ee).ScheduledStartDateTime).getTime():e(Ee).ScheduledStartDateTime))),it=ye(()=>(e(Ee),c(()=>{var $t,Tt;return(($t=e(Ee).FirstTeamText)==null?void 0:$t.includes("630"))||((Tt=e(Ee).SecondTeamText)==null?void 0:Tt.includes("630"))})));var vt=Pl(),dt=r(vt),Qe=r(dt,!0);a(dt);var ut=s(dt,2);{var jt=$t=>{var Tt=Dl(),bt=r(Tt,!0);a(Tt),A(()=>w(bt,(e(Ee),c(()=>e(Ee).Court.Name)))),h($t,Tt)};$(ut,$t=>{e(Ee),c(()=>e(Ee).Court)&&$t(jt)})}var Wt=s(ut,2),ea=r(Wt),zt=s(ea);{var ta=$t=>{var Tt=El(),bt=s(lt(Tt));A(()=>w(bt,` ${e(Ee),c(()=>e(Ee).SecondTeamText)??""}`)),h($t,Tt)};$(zt,$t=>{e(Ee),c(()=>e(Ee).SecondTeamText)&&$t(ta)})}a(Wt),a(vt),A($t=>{Me(vt,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(it)?"border-[#eab308]/50 bg-gold-500/5":"border-charcoal-700 bg-charcoal-800/30"}`),w(Qe,$t),w(ea,`${e(Ee),c(()=>e(Ee).FirstTeamText)??""} `)},[()=>(M(ot),M(e(tt)),c(()=>ot(e(tt))))]),h(mt,vt)}),a(ct),a(St),h(st,St)};$(Ze,st=>{e(k),c(()=>e(k).Pool&&e(k).Pool.Matches&&e(k).Pool.Matches.length>0)&&st(Xe)})}a(Le),h(ke,Le)},xe=ke=>{var Le=Dt(),qe=lt(Le);{var ft=Ze=>{var Xe=Al();h(Ze,Xe)};$(qe,Ze=>{e(O)&&Ze(ft)},!0)}h(ke,Le)};$(We,ke=>{e(O)&&e(k)?ke(ze):ke(xe,!1)})}h(H,ie)};$(L,H=>{e(i),c(()=>e(i).length===0)?H(N):H(F,!1)})}a(R),h(C,R)};$(_e,C=>{e(D)==="schedule"?C(De):C(J,!1)},!0)}h(j,ue)};$(pe,j=>{e(D)==="stats"&&K?j(ve):j(Pe,!1)})}a(te),A(()=>{Me(B,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(D)==="schedule"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(D)==="poolsheet"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`)}),h(ee,te)};$(Q,ee=>{!e(I)&&e(T)&&ee($e)})}a(q),a(ce),h(l,ce),Pt()}Yt(["click","change"]);function Ul(l="light"){if(typeof navigator>"u"||!("vibrate"in navigator))return;const o={light:[5],medium:[10],heavy:[20],success:[5,10,5],warning:[10,5,10],error:[20,10,20]};navigator.vibrate(o[l]||o.light)}const Wl=50,Bl=.3;function Ar(l,o={}){const{threshold:t=Wl,velocityThreshold:n=Bl,onStart:i,onMove:d,onCancel:u,enableHaptic:p=!0}=o;let f=null,S=!1;return{handleTouchStart:b=>{const x=b.touches[0];x&&(f={x:x.clientX,y:x.clientY,time:Date.now()},S=!1,i==null||i())},handleTouchMove:b=>{if(!f)return;const x=b.touches[0];if(!x)return;const y=x.clientX-f.x,O=x.clientY-f.y,k=Math.abs(y),D=Math.abs(O);k>D&&k>t/2?(S=!0,d==null||d(k,y>0?"right":"left")):D>k&&D>t/2&&(S=!0,d==null||d(D,O>0?"down":"up"))},handleTouchEnd:b=>{if(!f)return;const x=b.changedTouches[0];if(!x){f=null;return}const y=x.clientX-f.x,O=x.clientY-f.y,k=Math.abs(y),D=Math.abs(O),I=Date.now()-f.time,de=Math.max(k,D)/I;let he=null,K=0;k>D&&k>t?(he=y>0?"right":"left",K=k):D>k&&D>t&&(he=O>0?"down":"up",K=D),he&&de>n?(p&&Ul("light"),l({direction:he,distance:K,velocity:de})):S&&(u==null||u()),f=null,S=!1},handleTouchCancel:()=>{f=null,S=!1,u==null||u()},destroy:()=>{f=null,S=!1}}}var Hl=g('<div role="dialog" aria-modal="true" aria-label="Match details" tabindex="-1"><div class="fixed bottom-0 left-0 right-0 top-0 bg-charcoal-950 overflow-y-auto transition-transform duration-300" role="dialog"><div class="sticky top-0 bg-charcoal-950 border-b border-charcoal-700 px-4 py-3 flex items-center justify-between z-10 shadow-lg" style="padding-top: max(1rem, env(safe-area-inset-top));"><div class="absolute top-2 left-1/2 -translate-x-1/2 w-12 h-1 bg-charcoal-600 rounded-full"></div> <button type="button" class="ml-auto w-10 h-10 flex items-center justify-center rounded-lg text-charcoal-300 hover:text-charcoal-50 hover:bg-charcoal-800 transition-colors min-h-[44px]" aria-label="Close match details"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="pb-8" style="padding-bottom: max(2rem, env(safe-area-inset-bottom));"><!></div></div></div>');function Yl(l,o){Et(o,!1);let t=we(o,"match",8,null),n=we(o,"eventId",8),i=we(o,"clubId",8),d=we(o,"matches",24,()=>[]),u=we(o,"onClose",8),p=P(),f=null,S=P(0),_=P(!1);function m(){v(_,!1),setTimeout(()=>{u()()},300)}Ca(()=>{if(e(p))return f=Ar(x=>{x.direction==="down"&&x.distance>100&&m(),v(S,0)},{onMove:(x,y)=>{y==="down"&&v(S,Math.min(x,200))},onCancel:()=>{v(S,0)}}),e(p).addEventListener("touchstart",f.handleTouchStart,{passive:!0}),e(p).addEventListener("touchmove",f.handleTouchMove,{passive:!0}),e(p).addEventListener("touchend",f.handleTouchEnd,{passive:!0}),e(p).addEventListener("touchcancel",f.handleTouchCancel,{passive:!0}),document.body.style.overflow="hidden",()=>{f&&(e(p).removeEventListener("touchstart",f.handleTouchStart),e(p).removeEventListener("touchmove",f.handleTouchMove),e(p).removeEventListener("touchend",f.handleTouchEnd),e(p).removeEventListener("touchcancel",f.handleTouchCancel),f.destroy()),document.body.style.overflow=""}}),Ka(()=>{document.body.style.overflow=""}),ne(()=>M(t()),()=>{t()?setTimeout(()=>{v(_,!0)},10):v(_,!1)}),Ut(),Ot();var T=Dt(),E=lt(T);{var b=x=>{var y=Hl();let O;y.__click=m,y.__keydown=se=>se.key==="Escape"&&m();var k=r(y);k.__click=se=>se.stopPropagation();var D=r(k),I=s(r(D),2);I.__click=m,a(D);var de=s(D,2),he=r(de);{var K=se=>{uo(se,{get match(){return t()},get eventId(){return n()},get clubId(){return i()},onClose:m,get matches(){return d()}})};$(he,se=>{t()&&se(K)})}a(de),a(k),Xa(k,se=>v(p,se),()=>e(p)),a(y),A(()=>{O=Me(y,1,"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity",null,O,{"opacity-0":!e(_),"opacity-100":e(_)}),Kt(k,`transform: translateY(${(e(_)?e(S):"100%")??""}%);`)}),h(x,y)};$(E,x=>{t()&&x(b)})}h(l,T),Pt()}Yt(["click","keydown"]);var Jl=g("<button><span> </span> <span> </span></button>"),Vl=g('<div class="bg-charcoal-800 border border-charcoal-700 rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function Jo(l,o){Et(o,!1);let t=we(o,"matchId",8),n=we(o,"currentPriority",8),i=we(o,"onPriorityChange",8),d=we(o,"onClose",8,void 0),u=P(null);const p=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"⭐"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"🔸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"○"},{value:null,label:"Clear",color:"#9fa2ab",icon:"✕"}];function f(m){i()(t(),m),d()&&d()()}Ot();var S=Vl(),_=s(r(S),2);at(_,5,()=>p,rt,(m,T)=>{const E=ye(()=>(M(n()),e(T),c(()=>n()===e(T).value))),b=ye(()=>(e(u),e(T),c(()=>e(u)===e(T).value)));var x=Jl();x.__click=()=>f(e(T).value);var y=r(x),O=r(y,!0);a(y);var k=s(y,2),D=r(k,!0);a(k),a(x),A(()=>{Me(x,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e(E)?"bg-gold-500/20 text-[#facc15] border border-[#eab308]/50":e(b)?"bg-charcoal-700 text-charcoal-50":"text-charcoal-200 hover:bg-charcoal-700"}`),w(O,(e(T),c(()=>e(T).icon))),w(D,(e(T),c(()=>e(T).label)))}),Fa("mouseenter",x,()=>v(u,e(T).value)),Fa("mouseleave",x,()=>v(u,null)),h(m,x)}),a(_),a(S),h(l,S),Pt()}Yt(["click"]);var zl=g("<button><span> </span> <span> </span></button>"),Gl=g('<div class="bg-charcoal-800 border border-charcoal-700 rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-charcoal-200 mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function ho(l,o){Et(o,!1);let t=we(o,"teamId",8),n=we(o,"currentStatus",8),i=we(o,"onStatusChange",8),d=we(o,"onClose",8,void 0),u=P(null);const p=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"○"},{value:"covered",label:"Covered",color:"#10b981",icon:"✓"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"◐"},{value:"planned",label:"Planned",color:"#eab308",icon:"📋"}];function f(E){i()(t(),E),d()&&d()()}Ot();var S=Gl(),_=s(r(S),2),m=r(_);a(_);var T=s(_,2);at(T,5,()=>p,rt,(E,b)=>{const x=ye(()=>(M(n()),e(b),c(()=>n()===e(b).value))),y=ye(()=>(e(u),e(b),c(()=>e(u)===e(b).value)));var O=zl();O.__click=()=>f(e(b).value);var k=r(O),D=r(k,!0);a(k);var I=s(k,2),de=r(I,!0);a(I),a(O),A(()=>{Me(O,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${M(e(x)),e(b),M(e(y)),c(()=>e(x)?e(b).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(b).value==="planned"?"bg-gold-500/20 text-[#facc15] border border-[#eab308]/50":e(b).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-charcoal-700 text-charcoal-300 border border-charcoal-600":e(y)?"bg-charcoal-700 text-charcoal-50":"text-charcoal-200 hover:bg-charcoal-700")??""}`),w(D,(e(b),c(()=>e(b).icon))),w(de,(e(b),c(()=>e(b).label)))}),Fa("mouseenter",O,()=>v(u,e(b).value)),Fa("mouseleave",O,()=>v(u,null)),h(E,O)}),a(T),a(S),A(()=>w(m,`Team ${t()??""}`)),h(l,S),Pt()}Yt(["click"]);var ql=g('<div class="px-2 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-300 border border-charcoal-600"> </div>'),Xl=g('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-charcoal-800 rounded-lg border border-charcoal-700 shadow-xl max-w-md w-full p-4"><h3 class="text-lg font-semibold text-charcoal-50 mb-3">Transfer Claim</h3> <p class="text-sm text-charcoal-300 mb-4">Enter the name or identifier of the person who will take over scoring for this match.</p> <input type="text" placeholder="Enter scorer name or ID..." class="w-full px-3 py-2 bg-charcoal-700 border border-charcoal-600 rounded text-charcoal-200 focus:border-brand-500 focus:outline-none mb-4"/> <div class="flex items-center gap-2"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-brand-500 text-white hover:bg-brand-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors">Cancel</button></div></div></div>'),Ql=g('<div class="flex items-center gap-1"><button class="px-2 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors border border-charcoal-600" title="Release claim">Release</button> <button class="px-2 py-1 text-xs font-medium rounded bg-charcoal-600 text-charcoal-200 hover:bg-charcoal-700 transition-colors border border-charcoal-600" title="Transfer claim to another scorer">Transfer</button></div> <!>',1),Kl=g('<button class="px-2 py-1 text-xs font-medium rounded bg-brand-500 text-white hover:bg-brand-600 transition-colors whitespace-nowrap" title="Claim this match for scoring">Claim Match</button>');function Zl(l,o){Et(o,!1);const t=P(),n=P(),i=P();let d=we(o,"match",8),u=we(o,"eventId",8),p=we(o,"onClaim",8),f=we(o,"onRelease",8);const S=mr(u());let _=P(!1),m=P("");function T(){e(t)==="available"?(S.claimMatch(d().MatchId,d().ScheduledEndDateTime),setTimeout(()=>{p()(d().MatchId)},100)):e(i)&&(S.releaseClaim(d().MatchId),f()())}function E(){e(m).trim()&&S.transferClaim(d().MatchId,e(m).trim())&&(v(_,!1),v(m,""),f()())}ne(()=>M(d()),()=>{v(t,S.getClaimStatus(d().MatchId))}),ne(()=>M(d()),()=>{v(n,S.getClaimer(d().MatchId))}),ne(()=>M(d()),()=>{v(i,S.isClaimOwner(d().MatchId))}),Ut(),Ot();var b=Dt(),x=lt(b);{var y=k=>{var D=ql(),I=r(D);a(D),A(()=>w(I,`Claimed by ${e(n)??""}`)),h(k,D)},O=k=>{var D=Dt(),I=lt(D);{var de=K=>{var se=Ql(),le=lt(se),ce=r(le);ce.__click=T;var q=s(ce,2);q.__click=()=>v(_,!0),a(le);var z=s(le,2);{var U=G=>{var Y=Xl(),ae=r(Y),W=s(r(ae),4);Sa(W),Ga(W),W.__keydown=Q=>{Q.key==="Enter"?E():Q.key==="Escape"&&(v(_,!1),v(m,""))};var me=s(W,2),Te=r(me);Te.__click=E;var Ie=s(Te,2);Ie.__click=()=>{v(_,!1),v(m,"")},a(me),a(ae),a(Y),A(Q=>Te.disabled=Q,[()=>(e(m),c(()=>!e(m).trim()))]),Ta(W,()=>e(m),Q=>v(m,Q)),h(G,Y)};$(z,G=>{e(_)&&G(U)})}h(K,se)},he=K=>{var se=Dt(),le=lt(se);{var ce=q=>{var z=Kl();z.__click=T,h(q,z)};$(le,q=>{e(t)==="available"&&q(ce)},!0)}h(K,se)};$(I,K=>{e(t)==="claimed"&&e(i)?K(de):K(he,!1)},!0)}h(k,D)};$(x,k=>{e(t)==="locked"?k(y):k(O,!1)})}h(l,b),Pt()}Yt(["click","keydown"]);var ec=g('<div class="text-center py-8 text-charcoal-300 text-sm">No score history available</div>'),tc=g('<div class="text-charcoal-200 mb-1"> </div>'),ac=g('<div class="px-3 py-2 rounded-lg border border-charcoal-700 bg-charcoal-800 text-xs"><div class="flex items-center justify-between mb-1"><div class="text-charcoal-300"> </div> <div> </div></div> <!> <div class="text-charcoal-50 font-semibold"> </div> <div class="text-[10px] text-charcoal-400 mt-1"> </div></div>'),rc=g('<div class="space-y-2"><h3 class="text-sm font-semibold text-charcoal-50 mb-3">Score History</h3> <div class="space-y-2 max-h-64 overflow-y-auto"></div></div>');function oc(l,o){Et(o,!1);let t=we(o,"matchId",8),n=P([]),i=null;function d(){v(n,Ks(t()))}Ca(()=>{d(),i=setInterval(d,5e3)}),Ka(()=>{i&&clearInterval(i)}),Ot();var u=Dt(),p=lt(u);{var f=_=>{var m=ec();h(_,m)},S=_=>{var m=rc(),T=s(r(m),2);at(T,5,()=>(e(n),c(()=>e(n).slice().reverse())),rt,(E,b)=>{const x=ye(()=>(e(b),c(()=>e(b).sets.filter(Y=>Y.completedAt>0)))),y=ye(()=>(M(e(x)),c(()=>e(x).filter(Y=>Y.team1Score>Y.team2Score).length))),O=ye(()=>(M(e(x)),c(()=>e(x).filter(Y=>Y.team2Score>Y.team1Score).length))),k=ye(()=>(e(b),c(()=>e(b).sets.find(Y=>Y.completedAt===0)||e(b).sets[e(b).sets.length-1])));var D=ac(),I=r(D),de=r(I),he=r(de,!0);a(de);var K=s(de,2),se=r(K,!0);a(K),a(I);var le=s(I,2);{var ce=Y=>{var ae=tc(),W=r(ae);a(ae),A(()=>w(W,`Sets: ${e(y)??""}-${e(O)??""}`)),h(Y,ae)};$(le,Y=>{M(e(x)),c(()=>e(x).length>0)&&Y(ce)})}var q=s(le,2),z=r(q);a(q);var U=s(q,2),G=r(U);a(U),a(D),A(Y=>{w(he,Y),Me(K,1,`px-2 py-0.5 rounded text-[10px] font-medium ${e(b),c(()=>e(b).status==="completed"?"bg-green-500/20 text-green-400":e(b).status==="in-progress"?"bg-gold-500/20 text-[#facc15]":"bg-charcoal-700 text-charcoal-300")??""}`),w(se,(e(b),c(()=>e(b).status))),w(z,`Current: ${M(e(k)),c(()=>e(k).team1Score)??""}-${M(e(k)),c(()=>e(k).team2Score)??""}`),w(G,`Updated by ${e(b),c(()=>e(b).updatedBy)??""}`)},[()=>(e(b),c(()=>new Date(e(b).timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})))]),h(E,D)}),a(T),a(m),h(_,m)};$(p,_=>{e(n),c(()=>e(n).length===0)?_(f):_(S,!1)})}h(l,u),Pt()}var nc=g('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors">Start Match</button>'),sc=g('<div class="px-4 py-2 rounded-lg border border-yellow-500/50 bg-yellow-500/10 text-yellow-400 text-sm"> </div>'),lc=g('<button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors">Add Set</button>'),cc=g('<div class="bg-charcoal-700 rounded-lg border border-charcoal-600 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-2"> </div> <div class="grid grid-cols-2 gap-4"><div class="text-center"><div class="text-xs text-charcoal-300 mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors font-bold">−</button> <div class="text-3xl font-bold text-charcoal-50 w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors font-bold">+</button></div></div> <div class="text-center"><div class="text-xs text-charcoal-300 mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors font-bold">−</button> <div class="text-3xl font-bold text-charcoal-50 w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors font-bold">+</button></div></div></div> <div class="flex gap-2 mt-4"><button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-charcoal-200 hover:bg-charcoal-700 transition-colors">Complete Set</button> <!></div></div>'),ic=g('<div class="flex items-center justify-between px-3 py-2 bg-charcoal-700 rounded border border-charcoal-600"><span class="text-sm text-charcoal-300"> </span> <div class="flex items-center gap-4"><span class="text-sm font-medium text-charcoal-50"> </span> <span class="text-sm text-charcoal-300">vs</span> <span class="text-sm font-medium text-charcoal-50"> </span></div></div>'),dc=g('<div><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-2">Completed Sets</div> <div class="space-y-2"></div></div>'),vc=g('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors">Complete Match</button>'),uc=g('<div class="text-xs text-charcoal-300 text-center"> </div>'),hc=g('<div class="border-t border-charcoal-700 pt-4"><!></div>'),fc=g('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-charcoal-800 rounded-lg border border-charcoal-700 shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="sticky top-0 bg-charcoal-800 border-b border-charcoal-700 px-4 py-3 flex items-center justify-between"><div><h2 class="text-lg font-semibold text-charcoal-50">Scorekeeper</h2> <p class="text-sm text-charcoal-300"> </p></div> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors" aria-label="Close scorekeeper">✕</button></div> <div class="p-4 space-y-4"><div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Status:</span> <select class="px-3 py-1 text-sm font-medium rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none"><option>Not Started</option><option>In Progress</option><option>Completed</option></select></div> <!> <!> <!> <!> <!> <button> </button> <!> <!></div></div></div>');function Vo(l,o){var R,L;Et(o,!1);const t=P(),n=P();let i=we(o,"matchId",8),d=we(o,"team1Name",8),u=we(o,"team2Name",8),p=we(o,"currentScore",8),f=we(o,"onScoreUpdate",8),S=we(o,"onClose",8);const _=0,m=50,T=25,E=2;function b(N,F){if(N<_||N>m)return{valid:!1,warning:`Score must be between ${_} and ${m}`};if(F<_||F>m)return{valid:!1,warning:`Score must be between ${_} and ${m}`};const H=Math.max(N,F),ie=Math.min(N,F);if(H>=T){if(H-ie<E)return{valid:!0,warning:`Set requires winning by at least ${E} points. Current: ${H-ie}`};if(H>T+5)return{valid:!0,warning:`High score (${H}). Verify this is correct.`}}return{valid:!0}}let x=P(((R=p())==null?void 0:R.sets)||[]),y=P(((L=p())==null?void 0:L.status)||"not-started"),O=P(null),k=P(!1),D=null;function I(){const N="in-progress";v(y,N),e(x).length===0&&v(x,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}]),v(k,!0),f()(e(x),N),setTimeout(()=>v(k,!1),500)}function de(){const N=e(x).length+1;v(x,[...e(x),{setNumber:N,team1Score:0,team2Score:0,completedAt:0}])}function he(N,F,H){const ie=b(F,H);v(O,ie.warning||null),ie.valid&&(v(x,e(x).map(be=>be.setNumber===N?{...be,team1Score:F,team2Score:H}:be)),e(y)==="in-progress"&&(D&&clearTimeout(D),D=setTimeout(()=>{v(k,!0),f()(e(x),e(y)),setTimeout(()=>v(k,!1),300)},1e3)))}function K(N){v(x,e(x).map(F=>F.setNumber===N?{...F,completedAt:Date.now()}:F)),e(y)==="in-progress"&&(v(k,!0),f()(e(x),e(y)),setTimeout(()=>v(k,!1),500))}function se(){v(y,"completed"),f()(e(x),"completed")}function le(){v(k,!0),f()(e(x),e(y)),setTimeout(()=>v(k,!1),500)}Ka(()=>{D&&clearTimeout(D)}),ne(()=>(e(x),e(y)),()=>{e(x).length===0&&e(y)==="not-started"&&v(x,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}])}),ne(()=>e(x),()=>{v(t,e(x).find(N=>N.completedAt===0)||e(x)[e(x).length-1])}),ne(()=>e(x),()=>{v(n,e(x).filter(N=>N.completedAt>0))}),Ut(),Ot();var ce=fc(),q=r(ce),z=r(q),U=r(z),G=s(r(U),2),Y=r(G);a(G),a(U);var ae=s(U,2);ae.__click=function(...N){var F;(F=S())==null||F.apply(this,N)},a(z);var W=s(z,2),me=r(W),Te=s(r(me),2);A(()=>{e(y),co(()=>{})});var Ie=r(Te);Ie.value=Ie.__value="not-started";var Q=s(Ie);Q.value=Q.__value="in-progress";var $e=s(Q);$e.value=$e.__value="completed",a(Te),a(me);var ee=s(me,2);{var te=N=>{var F=nc();F.__click=I,h(N,F)};$(ee,N=>{e(y)==="not-started"&&N(te)})}var Ce=s(ee,2);{var B=N=>{var F=sc(),H=r(F);a(F),A(()=>w(H,`⚠️ ${e(O)??""}`)),h(N,F)};$(Ce,N=>{e(O)&&N(B)})}var oe=s(Ce,2);{var fe=N=>{var F=cc(),H=r(F),ie=r(H);a(H);var be=s(H,2),Ue=r(be),We=r(Ue),ze=r(We,!0);a(We);var xe=s(We,2),ke=r(xe);ke.__click=()=>{const ut=Math.max(0,e(t).team1Score-1);he(e(t).setNumber,ut,e(t).team2Score)};var Le=s(ke,2),qe=r(Le,!0);a(Le);var ft=s(Le,2);ft.__click=()=>{const ut=e(t).team1Score+1;he(e(t).setNumber,ut,e(t).team2Score)},a(xe),a(Ue);var Ze=s(Ue,2),Xe=r(Ze),st=r(Xe,!0);a(Xe);var St=s(Xe,2),ct=r(St);ct.__click=()=>{const ut=Math.max(0,e(t).team2Score-1);he(e(t).setNumber,e(t).team1Score,ut)};var mt=s(ct,2),Ee=r(mt,!0);a(mt);var tt=s(mt,2);tt.__click=()=>{const ut=e(t).team2Score+1;he(e(t).setNumber,e(t).team1Score,ut)},a(St),a(Ze),a(be);var it=s(be,2),vt=r(it);vt.__click=()=>K(e(t).setNumber);var dt=s(vt,2);{var Qe=ut=>{var jt=lc();jt.__click=de,h(ut,jt)};$(dt,ut=>{e(x),c(()=>e(x).length<5)&&ut(Qe)})}a(it),a(F),A(()=>{w(ie,`Set ${e(t),c(()=>e(t).setNumber)??""}`),w(ze,d()),w(qe,(e(t),c(()=>e(t).team1Score))),w(st,u()),w(Ee,(e(t),c(()=>e(t).team2Score)))}),h(N,F)};$(oe,N=>{e(y)==="in-progress"&&e(t)&&N(fe)})}var V=s(oe,2);{var pe=N=>{var F=dc(),H=s(r(F),2);at(H,5,()=>e(n),rt,(ie,be)=>{var Ue=ic(),We=r(Ue),ze=r(We);a(We);var xe=s(We,2),ke=r(xe),Le=r(ke);a(ke);var qe=s(ke,4),ft=r(qe);a(qe),a(xe),a(Ue),A(()=>{w(ze,`Set ${e(be),c(()=>e(be).setNumber)??""}`),w(Le,`${d()??""}: ${e(be),c(()=>e(be).team1Score)??""}`),w(ft,`${u()??""}: ${e(be),c(()=>e(be).team2Score)??""}`)}),h(ie,Ue)}),a(H),a(F),h(N,F)};$(V,N=>{e(n),c(()=>e(n).length>0)&&N(pe)})}var ve=s(V,2);{var Pe=N=>{var F=vc();F.__click=se,h(N,F)};$(ve,N=>{e(y),e(n),c(()=>e(y)==="in-progress"&&e(n).length>0)&&N(Pe)})}var j=s(ve,2);j.__click=le;var ue=r(j,!0);a(j);var _e=s(j,2);{var De=N=>{var F=uc(),H=r(F,!0);a(F),A(()=>w(H,e(k)?"💾 Saving...":"✓ Auto-save enabled")),h(N,F)};$(_e,N=>{e(y)==="in-progress"&&N(De)})}var J=s(_e,2);{var C=N=>{var F=hc(),H=r(F);oc(H,{get matchId(){return i()}}),a(F),h(N,F)};$(J,N=>{p()&&N(C)})}a(W),a(q),a(ce),A(()=>{w(Y,`${d()??""} vs ${u()??""}`),j.disabled=e(k),Me(j,1,`w-full px-4 py-2 text-sm font-medium rounded transition-colors border ${e(k)?"bg-[#525463] text-charcoal-300 cursor-not-allowed":"bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 border-charcoal-600"}`),w(ue,e(k)?"Saving...":"Save Score")}),io(Te,()=>e(y),N=>v(y,N)),h(l,ce),Pt()}Yt(["click"]);var mc=g('<span class="text-[9px] text-[#9fa2ab] opacity-75"> </span>'),xc=g("<div><span>LIVE</span> <!></div>");function fo(l,o){Et(o,!1);let t=we(o,"isLive",8),n=we(o,"lastUpdated",8,void 0),i=we(o,"className",8,""),d=P(!1),u=P(null);Ka(()=>{e(u)&&clearTimeout(e(u))}),ne(()=>(M(n()),e(u)),()=>{n()&&(v(d,!0),e(u)&&clearTimeout(e(u)),v(u,setTimeout(()=>{v(d,!1)},2e3)))}),Ut(),Ot();var p=Dt(),f=lt(p);{var S=_=>{var m=xc(),T=r(m),E=s(T,2);{var b=x=>{var y=mc(),O=r(y,!0);a(y),A(k=>w(O,k),[()=>(M(n()),c(()=>new Date(n()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))]),h(x,y)};$(E,x=>{n()&&x(b)})}a(m),A(()=>{Me(m,1,`flex items-center gap-1 ${i()??""}`),Me(T,1,`px-1.5 py-0.5 text-[10px] font-medium rounded border transition-all ${e(d)?"bg-green-500/30 text-green-300 border-green-500/50 animate-pulse":"bg-green-500/20 text-green-400 border-green-500/30"}`)}),h(_,m)};$(f,_=>{t()&&_(S)})}h(l,p),Pt()}var gc=g("<button></button>"),pc=g('<button class="text-charcoal-300 hover:text-charcoal-50 text-xs" title="Move up">↑</button>'),bc=g('<button class="text-gold-500 hover:text-[#facc15] text-xs" title="Pinned">📌</button>'),_c=g('<button class="text-charcoal-300 hover:text-charcoal-50 text-xs" title="Move down">↓</button>'),yc=g('<div class="flex items-center gap-2 px-3 py-2 rounded bg-charcoal-700 border border-charcoal-600"><div class="flex-shrink-0 flex items-center gap-1"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-charcoal-50 truncate"> </div></div> <div class="flex-shrink-0 flex flex-col gap-0.5"><!> <!> <!></div> <button class="flex-shrink-0 text-charcoal-300 hover:text-red-400 transition-colors" title="Unfollow">✕</button></div>'),wc=g('<div class="mb-4 space-y-2"></div>'),Sc=g('<button class="w-full px-3 py-2 text-left text-sm text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-700 rounded transition-colors"> </button>'),Tc=g('<div class="fixed inset-0 z-40"></div> <div class="absolute top-full left-0 mt-2 w-80 bg-charcoal-800 border border-charcoal-700 rounded-lg shadow-lg z-50 max-h-[500px] overflow-y-auto"><div class="p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-charcoal-50">Followed Teams</h3> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors">✕</button></div> <!> <div class="border-t border-charcoal-700 pt-3"><h4 class="text-xs font-medium text-charcoal-300 mb-2 uppercase tracking-wider">Available Teams</h4> <div class="space-y-1 max-h-48 overflow-y-auto"></div></div></div></div>',1),kc=g('<div class="relative"><button class="px-3 py-2 text-sm font-medium rounded-lg bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600 hover:border-[#eab308] transition-colors"> </button> <!></div>');function Mc(l,o){Et(o,!1);const t=()=>Qt(kt,"$followedTeams",n),[n,i]=Ea(),d=P();let u=we(o,"matches",8),p=P(!1);const f=["#eab308","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function S(y,O){kt.isFollowing(y)?kt.unfollowTeam(y):kt.followTeam(y,O)}function _(y,O){kt.setTeamColor(y,O)}ne(()=>M(u()),()=>{v(d,(()=>{const y=new Map;return u().forEach(O=>{const k=O.FirstTeamText||O.SecondTeamText;k&&!y.has(k)&&y.set(k,k)}),Array.from(y.entries()).map(([O,k])=>({id:O,name:k}))})())}),Ut(),Ot();var m=kc(),T=r(m);T.__click=()=>v(p,!e(p));var E=r(T);a(T);var b=s(T,2);{var x=y=>{var O=Tc(),k=lt(O);k.__click=()=>v(p,!1);var D=s(k,2),I=r(D),de=r(I),he=s(r(de),2);he.__click=()=>v(p,!1),a(de);var K=s(de,2);{var se=q=>{var z=wc();at(z,5,t,rt,(U,G,Y)=>{var ae=yc(),W=r(ae);at(W,5,()=>f,rt,(V,pe)=>{var ve=gc();ve.__click=()=>_(e(G).teamId,e(pe)),A(Pe=>{Me(ve,1,`w-4 h-4 rounded border-2 transition-all ${Pe??""}`),Kt(ve,`background-color: ${e(pe)??""}`),Ct(ve,"title",e(pe))},[()=>(t(),e(G),e(pe),c(()=>t().getTeamColor(e(G).teamId)===e(pe)?"border-white scale-110":"border-charcoal-600 hover:border-[#9fa2ab]"))]),h(V,ve)}),a(W);var me=s(W,2),Te=r(me),Ie=r(Te,!0);a(Te),a(me);var Q=s(me,2),$e=r(Q);{var ee=V=>{var pe=pc();pe.__click=()=>kt.reorderTeams(e(G).teamId,"up"),h(V,pe)};$($e,V=>{Y>0&&V(ee)})}var te=s($e,2);{var Ce=V=>{var pe=bc();pe.__click=()=>kt.reorderTeams(e(G).teamId,"top"),h(V,pe)};$(te,V=>{Y===0&&V(Ce)})}var B=s(te,2);{var oe=V=>{var pe=_c();pe.__click=()=>kt.reorderTeams(e(G).teamId,"down"),h(V,pe)};$(B,V=>{t(),c(()=>{var pe;return Y<(((pe=t())==null?void 0:pe.length)||0)-1})&&V(oe)})}a(Q);var fe=s(Q,2);fe.__click=()=>S(e(G).teamId,e(G).teamName),a(ae),A(()=>w(Ie,(e(G),c(()=>e(G).teamName)))),h(U,ae)}),a(z),h(q,z)};$(K,q=>{t(),c(()=>t()&&t().length>0)&&q(se)})}var le=s(K,2),ce=s(r(le),2);at(ce,5,()=>(e(d),M(kt),c(()=>e(d).filter(q=>!kt.isFollowing(q.id)))),rt,(q,z)=>{var U=Sc();U.__click=()=>S(e(z).id,e(z).name);var G=r(U);a(U),A(()=>w(G,`+ ${e(z),c(()=>e(z).name)??""}`)),h(q,U)}),a(ce),a(le),a(I),a(D),h(y,O)};$(b,y=>{e(p)&&y(x)})}a(m),A(()=>w(E,`My Teams (${t(),c(()=>{var y;return((y=t())==null?void 0:y.length)||0})??""})`)),h(l,m),Pt(),i()}Yt(["click"]);var Cc=g('<div class="text-xs text-charcoal-300"> </div>'),$c=g('<div class="mt-3 pt-3 border-t border-charcoal-600"><div class="flex items-center justify-between"><!> <div class="text-lg font-bold text-[#facc15]"> </div></div></div>'),Ic=g('<div class="px-4 py-3 rounded-lg border border-charcoal-600 bg-charcoal-700 hover:border-gold-500 transition-colors cursor-pointer"><div class="flex items-center justify-between mb-2"><div class="flex items-center gap-2"><span class="text-xs font-medium text-[#facc15]"> </span> <!></div> <div class="text-xs text-charcoal-300"> </div></div> <div class="space-y-1"><div class="text-sm font-semibold text-charcoal-50"> </div> <div class="text-xs text-charcoal-300">vs</div> <div class="text-sm font-semibold text-charcoal-50"> </div></div> <!></div>'),Dc=g('<div class="mb-6 rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-charcoal-50 flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> Live Now</h2> <span class="text-xs text-charcoal-300"> </span></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div></div>');function Ec(l,o){Et(o,!1);const t=P();let n=we(o,"matches",8),i=we(o,"eventId",8),d=we(o,"userId",8,void 0),u=we(o,"onMatchClick",8,void 0);const p=mr(i(),d()||"anonymous");ne(()=>M(n()),()=>{v(t,(()=>{const m=Date.now();return n().filter(T=>{const E=T.ScheduledStartDateTime,b=T.ScheduledEndDateTime||E+5400*1e3,x=p.getScore(T.MatchId);return x&&x.status==="in-progress"||m>=E&&m<=b})})())}),Ut(),Ot();var f=Dt(),S=lt(f);{var _=m=>{var T=Dc(),E=r(T),b=s(r(E),2),x=r(b);a(b),a(E);var y=s(E,2);at(y,5,()=>e(t),rt,(O,k)=>{const D=ye(()=>(e(k),c(()=>p.getScore(e(k).MatchId)))),I=ye(()=>(M(e(D)),c(()=>{var ee,te,Ce;return((ee=e(D))==null?void 0:ee.sets.find(B=>B.completedAt===0))||((Ce=e(D))==null?void 0:Ce.sets[((te=e(D))==null?void 0:te.sets.length)-1])}))),de=ye(()=>(M(e(D)),c(()=>{var ee;return((ee=e(D))==null?void 0:ee.sets.filter(te=>te.completedAt>0))||[]}))),he=ye(()=>(M(e(de)),c(()=>e(de).filter(ee=>ee.team1Score>ee.team2Score).length))),K=ye(()=>(M(e(de)),c(()=>e(de).filter(ee=>ee.team2Score>ee.team1Score).length)));var se=Ic();se.__click=()=>{var ee;return(ee=u())==null?void 0:ee(e(k))};var le=r(se),ce=r(le),q=r(ce),z=r(q,!0);a(q);var U=s(q,2);{let ee=ye(()=>(M(e(D)),c(()=>{var Ce;return((Ce=e(D))==null?void 0:Ce.status)==="in-progress"||!1}))),te=ye(()=>(M(e(D)),c(()=>{var Ce;return(Ce=e(D))==null?void 0:Ce.lastUpdated})));fo(U,{get isLive(){return e(ee)},get lastUpdated(){return e(te)}})}a(ce);var G=s(ce,2),Y=r(G,!0);a(G),a(le);var ae=s(le,2),W=r(ae),me=r(W,!0);a(W);var Te=s(W,4),Ie=r(Te,!0);a(Te),a(ae);var Q=s(ae,2);{var $e=ee=>{var te=$c(),Ce=r(te),B=r(Ce);{var oe=pe=>{var ve=Cc(),Pe=r(ve);a(ve),A(()=>w(Pe,`Sets: ${e(he)??""}-${e(K)??""}`)),h(pe,ve)};$(B,pe=>{M(e(de)),c(()=>e(de).length>0)&&pe(oe)})}var fe=s(B,2),V=r(fe);a(fe),a(Ce),a(te),A(()=>w(V,`${M(e(I)),c(()=>e(I).team1Score)??""}-${M(e(I)),c(()=>e(I).team2Score)??""}`)),h(ee,te)};$(Q,ee=>{M(e(D)),M(e(I)),c(()=>e(D)&&e(D).status!=="not-started"&&e(I))&&ee($e)})}a(se),A(ee=>{w(z,(e(k),c(()=>e(k).CourtName))),w(Y,ee),w(me,(e(k),c(()=>e(k).FirstTeamText))),w(Ie,(e(k),c(()=>e(k).SecondTeamText)))},[()=>(M(ot),e(k),c(()=>ot(e(k).ScheduledStartDateTime)))]),h(O,se)}),a(y),a(T),A(()=>w(x,`${e(t),c(()=>e(t).length)??""} match${e(t),c(()=>e(t).length!==1?"es":"")??""} in progress`)),h(m,T)};$(S,m=>{e(t),c(()=>e(t).length>0)&&m(_)})}h(l,f),Pt()}Yt(["click"]);var Pc=g('<select class="px-2 py-1 text-xs rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none"><option>This Match</option><option>All Matches</option></select>'),Oc=g('<div class="text-center py-12 text-charcoal-300 text-sm">No claim history found</div>'),Nc=g('<div class="text-sm font-semibold text-charcoal-50"> </div>'),Ac=g('<div class="px-3 py-2 rounded-lg border border-charcoal-700 bg-charcoal-700/30"><div class="flex items-start justify-between mb-1"><div class="flex-1"><!> <div class="text-xs text-charcoal-300 mt-0.5"> </div></div> <div> </div></div> <div class="flex items-center justify-between mt-2 text-xs text-charcoal-400"><span> </span> <span> </span></div></div>'),Fc=g('<div class="space-y-2"></div>'),Rc=g('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="bg-charcoal-800 rounded-lg border border-charcoal-700 shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-charcoal-700 bg-charcoal-700/50"><div><h3 class="text-lg font-semibold text-charcoal-50">Claim History</h3> <p class="text-xs text-charcoal-300 mt-0.5"> </p></div> <div class="flex items-center gap-2"><!> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div class="flex-1 overflow-y-auto p-4"><!></div></div></div>');function jc(l,o){Et(o,!1);let t=we(o,"matchId",8,void 0),n=we(o,"eventId",8),i=we(o,"matches",8),d=we(o,"onClose",8),u=P([]),p=P("match");function f(z){return i().find(U=>U.MatchId===z)}function S(z){return`${Xt(z)} ${ot(z)}`}function _(z){switch(z.action){case"claimed":return"Claimed";case"released":return"Released";case"transferred":return`Transferred to ${z.transferredTo}`;default:return z.action}}function m(z){switch(z){case"claimed":return"text-gold-500";case"released":return"text-charcoal-300";case"transferred":return"text-[#facc15]";default:return"text-charcoal-200"}}ne(()=>(e(p),M(t()),M(n()),$o),()=>{e(p)==="match"&&t()?v(u,tl(t(),n())):v(u,$o(n()))}),Ut(),Ot();var T=Rc(),E=r(T),b=r(E),x=r(b),y=s(r(x),2),O=r(y,!0);a(y),a(x);var k=s(x,2),D=r(k);{var I=z=>{var U=Pc();A(()=>{e(p),co(()=>{})});var G=r(U);G.value=G.__value="match";var Y=s(G);Y.value=Y.__value="all",a(U),io(U,()=>e(p),ae=>v(p,ae)),h(z,U)};$(D,z=>{t()&&z(I)})}var de=s(D,2);de.__click=function(...z){var U;(U=d())==null||U.apply(this,z)};var he=r(de),K=r(he);Ct(K,"stroke-width",2),a(he),a(de),a(k),a(b);var se=s(b,2),le=r(se);{var ce=z=>{var U=Oc();h(z,U)},q=z=>{var U=Fc();at(U,5,()=>e(u),rt,(G,Y)=>{const ae=ye(()=>(e(Y),c(()=>f(e(Y).matchId))));var W=Ac(),me=r(W),Te=r(me),Ie=r(Te);{var Q=ve=>{var Pe=Nc(),j=r(Pe);a(Pe),A(ue=>w(j,`${ue??""} • ${M(e(ae)),c(()=>e(ae).CourtName)??""}`),[()=>(M(ot),M(e(ae)),c(()=>ot(e(ae).ScheduledStartDateTime)))]),h(ve,Pe)};$(Ie,ve=>{e(ae)&&ve(Q)})}var $e=s(Ie,2),ee=r($e,!0);a($e),a(Te);var te=s(Te,2),Ce=r(te,!0);a(te),a(me);var B=s(me,2),oe=r(B),fe=r(oe);a(oe);var V=s(oe,2),pe=r(V,!0);a(V),a(B),a(W),A((ve,Pe,j)=>{w(ee,(M(e(ae)),e(Y),c(()=>e(ae)?`${e(ae).FirstTeamText} vs ${e(ae).SecondTeamText}`:`Match ${e(Y).matchId}`))),Me(te,1,`text-xs font-medium ${ve??""}`),w(Ce,Pe),w(fe,`By: ${e(Y),c(()=>e(Y).userId)??""}`),w(pe,j)},[()=>(e(Y),c(()=>m(e(Y).action))),()=>(e(Y),c(()=>_(e(Y)))),()=>(e(Y),c(()=>S(e(Y).timestamp)))]),h(G,W)}),a(U),h(z,U)};$(le,z=>{e(u),c(()=>e(u).length===0)?z(ce):z(q,!1)})}a(se),a(E),a(T),A(()=>w(O,e(p)==="match"&&t()?"Match history":"All claims for this event")),h(l,T),Pt()}Yt(["click"]);var Lc=g('<span class="px-2 py-1 rounded-full bg-gold-500 text-charcoal-950 text-xs font-medium"> </span>'),Uc=g("<option> </option>"),Wc=g("<option> </option>"),Bc=g('<div><label for="priority-filter-sheet" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Priority</label> <select id="priority-filter-sheet" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),Hc=g('<div><label for="coverage-status-filter-sheet" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Coverage Status</label> <select id="coverage-status-filter-sheet" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"><option>All Status</option><option>Uncovered</option><option>Planned</option><option>Covered</option></select></div>'),Yc=g('<div><label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-5 h-5 rounded border-charcoal-600 bg-charcoal-800 text-brand-500 focus:ring-brand-500 focus:ring-offset-charcoal-950"/> <span class="text-sm text-charcoal-50">Show conflicts only</span></label></div>'),Jc=g('<div class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity" role="dialog" aria-modal="true" aria-label="Filter matches"><div class="fixed bottom-0 left-0 right-0 max-h-[80vh] bg-charcoal-950 rounded-t-lg border-t border-charcoal-900 overflow-y-auto transform transition-transform backdrop-blur-sm"><div class="sticky top-0 bg-charcoal-950 border-b border-charcoal-900 px-4 py-3 flex items-center justify-between z-10"><div class="absolute top-2 left-1/2 -translate-x-1/2 w-12 h-1 bg-charcoal-600 rounded-full"></div> <h2 class="text-lg font-semibold text-charcoal-50 ml-auto">Filters</h2> <div class="flex items-center gap-2 ml-auto"><!> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg text-charcoal-300 hover:text-charcoal-50 hover:bg-charcoal-900 transition-colors min-h-[44px]" aria-label="Close filters">×</button></div></div> <div class="p-4 space-y-4"><div><label for="wave-filter" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Wave</label> <div class="flex gap-2"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <div><label for="division-filter" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Division</label> <select id="division-filter" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"><option>All Divisions</option><!></select></div> <div><label for="team-filter" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Team</label> <select id="team-filter" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"><option>All Teams</option><!></select></div> <div><label for="time-range-filter" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Time Range</label> <div class="grid grid-cols-2 gap-2"><div><label for="time-start" class="block text-xs text-charcoal-500 mb-1">Start</label> <input id="time-start" type="time" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"/></div> <div><label for="time-end" class="block text-xs text-charcoal-500 mb-1">End</label> <input id="time-end" type="time" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-brand-500 focus:outline-none bg-charcoal-800 text-charcoal-50 border border-charcoal-700"/></div></div></div> <!> <!> <!></div> <div class="sticky bottom-0 bg-charcoal-950 border-t border-charcoal-900 px-4 py-3 flex gap-3"><button class="flex-1 px-4 py-2 rounded-lg bg-charcoal-800 text-charcoal-50 border border-charcoal-700 font-medium transition-colors hover:bg-charcoal-700 min-h-[44px]">Clear Filters</button> <button class="flex-1 px-4 py-2 rounded-lg bg-brand-500 text-white font-medium transition-colors hover:bg-brand-600 min-h-[44px]">Apply Filters</button></div></div></div>');function zo(l,o){Et(o,!1);const t=()=>Qt(Pa,"$filters",i),n=()=>Qt(Ra,"$userRole",i),[i,d]=Ea(),u=P();we(o,"matches",8);let p=we(o,"divisions",8),f=we(o,"teams",8),S=we(o,"open",8,!1),_=we(o,"onClose",8),m=P(),T=null,E=P(0);function b(){let k=0;return t().wave!=="all"&&k++,t().division&&k++,t().teams.length>0&&k++,(t().timeRange.start||t().timeRange.end)&&k++,t().priority&&t().priority!=="all"&&k++,t().coverageStatus&&t().coverageStatus!=="all"&&k++,t().conflictsOnly&&k++,t().myTeamsOnly&&k++,k}Ca(()=>{if(e(m))return T=Ar(k=>{k.direction==="down"&&k.distance>100&&_()(),v(E,0)},{onMove:(k,D)=>{D==="down"&&v(E,Math.min(k,200))},onCancel:()=>{v(E,0)}}),e(m).addEventListener("touchstart",T.handleTouchStart,{passive:!0}),e(m).addEventListener("touchmove",T.handleTouchMove,{passive:!0}),e(m).addEventListener("touchend",T.handleTouchEnd,{passive:!0}),e(m).addEventListener("touchcancel",T.handleTouchCancel,{passive:!0}),()=>{T&&(e(m).removeEventListener("touchstart",T.handleTouchStart),e(m).removeEventListener("touchmove",T.handleTouchMove),e(m).removeEventListener("touchend",T.handleTouchEnd),e(m).removeEventListener("touchcancel",T.handleTouchCancel),T.destroy())}}),ne(()=>{},()=>{v(u,b())}),Ut(),Ot();var x=Dt(),y=lt(x);{var O=k=>{var D=Jc();D.__click=function(...N){var F;(F=_())==null||F.apply(this,N)};var I=r(D);I.__click=N=>N.stopPropagation();var de=r(I),he=s(r(de),4),K=r(he);{var se=N=>{var F=Lc(),H=r(F,!0);a(F),A(()=>w(H,e(u))),h(N,F)};$(K,N=>{e(u)>0&&N(se)})}var le=s(K,2);le.__click=function(...N){var F;(F=_())==null||F.apply(this,N)},a(he),a(de);var ce=s(de,2),q=r(ce),z=s(r(q),2),U=r(z);U.__click=()=>gt("wave","all");var G=s(U,2);G.__click=()=>gt("wave","morning");var Y=s(G,2);Y.__click=()=>gt("wave","afternoon"),a(z),a(q);var ae=s(q,2),W=s(r(ae),2);W.__change=N=>gt("division",N.target.value||null);var me=r(W);me.value=me.__value="";var Te=s(me);at(Te,1,p,rt,(N,F)=>{var H=Uc(),ie=r(H,!0);a(H);var be={};A(()=>{w(ie,e(F)),be!==(be=e(F))&&(H.value=(H.__value=e(F))??"")}),h(N,H)}),a(W);var Ie;fa(W),a(ae);var Q=s(ae,2),$e=s(r(Q),2);$e.__change=N=>gt("teams",N.target.value?[N.target.value]:[]);var ee=r($e);ee.value=ee.__value="";var te=s(ee);at(te,1,f,rt,(N,F)=>{var H=Wc(),ie=r(H,!0);a(H);var be={};A(()=>{w(ie,e(F)),be!==(be=e(F))&&(H.value=(H.__value=e(F))??"")}),h(N,H)}),a($e);var Ce;fa($e),a(Q);var B=s(Q,2),oe=s(r(B),2),fe=r(oe),V=s(r(fe),2);Sa(V),V.__change=N=>gt("timeRange",{...t().timeRange,start:N.target.value||null}),a(fe);var pe=s(fe,2),ve=s(r(pe),2);Sa(ve),ve.__change=N=>gt("timeRange",{...t().timeRange,end:N.target.value||null}),a(pe),a(oe),a(B);var Pe=s(B,2);{var j=N=>{var F=Bc(),H=s(r(F),2);H.__change=xe=>gt("priority",xe.target.value==="all"?null:xe.target.value);var ie=r(H);ie.value=ie.__value="all";var be=s(ie);be.value=be.__value="must-cover";var Ue=s(be);Ue.value=Ue.__value="priority";var We=s(Ue);We.value=We.__value="optional",a(H);var ze;fa(H),a(F),A(()=>{ze!==(ze=(t(),c(()=>t().priority||"all")))&&(H.value=(H.__value=(t(),c(()=>t().priority||"all")))??"",ua(H,(t(),c(()=>t().priority||"all"))))}),h(N,F)};$(Pe,N=>{n()==="media"&&N(j)})}var ue=s(Pe,2);{var _e=N=>{var F=Hc(),H=s(r(F),2);H.__change=xe=>gt("coverageStatus",xe.target.value==="all"?null:xe.target.value);var ie=r(H);ie.value=ie.__value="all";var be=s(ie);be.value=be.__value="uncovered";var Ue=s(be);Ue.value=Ue.__value="planned";var We=s(Ue);We.value=We.__value="covered",a(H);var ze;fa(H),a(F),A(()=>{ze!==(ze=(t(),c(()=>t().coverageStatus||"all")))&&(H.value=(H.__value=(t(),c(()=>t().coverageStatus||"all")))??"",ua(H,(t(),c(()=>t().coverageStatus||"all"))))}),h(N,F)};$(ue,N=>{n()==="media"&&N(_e)})}var De=s(ue,2);{var J=N=>{var F=Yc(),H=r(F),ie=r(H);Sa(ie),ie.__change=be=>gt("conflictsOnly",be.currentTarget.checked),_a(2),a(H),a(F),A(()=>mn(ie,(t(),c(()=>t().conflictsOnly)))),h(N,F)};$(De,N=>{n()==="media"&&N(J)})}a(ce);var C=s(ce,2),R=r(C);R.__click=()=>{lr()};var L=s(R,2);L.__click=function(...N){var F;(F=_())==null||F.apply(this,N)},a(C),a(I),Xa(I,N=>v(m,N),()=>e(m)),a(D),A(()=>{Kt(I,`backdrop-filter: blur(8px); transform: translateY(${e(E)??""}px);`),Me(U,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${t(),c(()=>t().wave==="all"?"bg-gold-500 text-charcoal-950":"bg-charcoal-800 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-700")??""}`),Me(G,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${t(),c(()=>t().wave==="morning"?"bg-gold-500 text-charcoal-950":"bg-charcoal-800 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-700")??""}`),Me(Y,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${t(),c(()=>t().wave==="afternoon"?"bg-gold-500 text-charcoal-950":"bg-charcoal-800 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-700")??""}`),Ie!==(Ie=(t(),c(()=>t().division||"")))&&(W.value=(W.__value=(t(),c(()=>t().division||"")))??"",ua(W,(t(),c(()=>t().division||"")))),Ce!==(Ce=(t(),c(()=>t().teams[0]||"")))&&($e.value=($e.__value=(t(),c(()=>t().teams[0]||"")))??"",ua($e,(t(),c(()=>t().teams[0]||"")))),cr(V,(t(),c(()=>t().timeRange.start||""))),cr(ve,(t(),c(()=>t().timeRange.end||"")))}),h(k,D)};$(y,k=>{S()&&k(O)})}h(l,x),Pt(),d()}Yt(["click","change"]);var Vc=g('<span class="text-charcoal-950 font-bold text-lg">✓</span>'),zc=g('<span class="text-charcoal-200 font-bold text-lg">✕</span>'),Gc=g("<div><!></div>"),qc=g('<span class="text-xs text-warning-500 flex-shrink-0">⚠️</span>'),Xc=g('<span class="text-xs text-gold-500 flex-shrink-0">⭐</span>'),Qc=g('<span class="text-xs text-success-500">✓ Covered</span>'),Kc=g('<span class="text-xs text-warning-500">◐ Partial</span>'),Zc=g('<span class="text-xs text-gold-500">📋 Planned</span>'),ei=Pr('<svg class="w-4 h-4 text-gold-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),ti=g('<span class="text-xs text-charcoal-400">+</span>'),ai=g('<button type="button"><!></button>'),ri=g('<button type="button"> </button>'),oi=g('<div data-match-card=""><!> <div><div class="flex items-start gap-3"><div class="flex-shrink-0"><div class="px-2 py-1 rounded-lg bg-charcoal-700 text-charcoal-200 border border-charcoal-600 text-xs font-bold"> </div></div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><div class="text-base font-bold text-charcoal-50 truncate"> </div> <!> <!></div> <div class="text-sm text-charcoal-300 truncate mb-1"> </div> <div class="flex items-center gap-2 mt-1"><span class="text-xs font-semibold text-charcoal-300"> </span> <span class="text-xs text-charcoal-400">•</span> <span class="text-xs text-charcoal-400"> </span> <!></div></div> <div class="flex-shrink-0 flex flex-col items-center gap-1"><!></div></div></div></div>');function ni(l,o){Et(o,!1);const t=()=>Qt(hr,"$isMedia",i),n=()=>Qt(Nr,"$isSpectator",i),[i,d]=Ea(),u=P(),p=P(),f=P(),S=P(),_=P(),m=P(),T=P(),E=P(),b=P(),x=P(),y=P(),O=P(),k=P();let D=we(o,"match",8),I=we(o,"hasConflict",8,!1),de=we(o,"onTap",8),he=we(o,"onSwipeRight",8,null),K=we(o,"onSwipeLeft",8,null),se=we(o,"scanningMode",8,!1);we(o,"conflicts",8);let le=P(),ce=P(0),q=P(!1),z=P(null),U=null;function G(xe){const Le=(xe.InvolvedTeam==="first"?xe.FirstTeamText:xe.SecondTeamText).match(/(\d+-\d+)/);return Le?Le[1]:""}function Y(xe){return xe.InvolvedTeam==="first"?xe.SecondTeamText:xe.InvolvedTeam==="second"?xe.FirstTeamText:`${xe.FirstTeamText} vs ${xe.SecondTeamText}`}Ca(()=>{if(e(le))return U=Ar(xe=>{xe.direction==="right"&&he()?he()(D()):xe.direction==="left"&&K()&&K()(D()),v(ce,0),v(q,!1),v(z,null)},{onMove:(xe,ke)=>{v(q,!0),v(z,ke==="left"||ke==="right"?ke:null),v(ce,ke==="left"||ke==="right"?xe:0)},onCancel:()=>{v(ce,0),v(q,!1),v(z,null)}}),e(le).addEventListener("touchstart",U.handleTouchStart,{passive:!0}),e(le).addEventListener("touchmove",U.handleTouchMove,{passive:!0}),e(le).addEventListener("touchend",U.handleTouchEnd,{passive:!0}),e(le).addEventListener("touchcancel",U.handleTouchCancel,{passive:!0}),()=>{U&&(e(le).removeEventListener("touchstart",U.handleTouchStart),e(le).removeEventListener("touchmove",U.handleTouchMove),e(le).removeEventListener("touchend",U.handleTouchEnd),e(le).removeEventListener("touchcancel",U.handleTouchCancel),U.destroy())}});function ae(){e(q)||de()(D())}function W(xe){xe.stopPropagation(),Rt.toggleMatch(D().MatchId)}ne(()=>M(D()),()=>{v(u,G(D()))}),ne(()=>M(D()),()=>{v(p,Y(D()))}),ne(()=>M(D()),()=>{v(f,xa.getPriority(D().MatchId))}),ne(()=>(e(u),ht),()=>{v(S,e(u)?ht.getTeamStatus(e(u)):"not-covered")}),ne(()=>e(S),()=>{v(_,e(S)==="covered"||e(S)==="partially-covered")}),ne(()=>e(S),()=>{v(m,e(S)==="planned")}),ne(()=>e(S),()=>{v(T,e(S)==="not-covered")}),ne(()=>(M(se()),e(_)),()=>{v(E,se()&&e(_))}),ne(()=>Rt,()=>{v(b,va(Rt))}),ne(()=>(e(b),M(D())),()=>{v(x,e(b).has(D().MatchId))}),ne(()=>t(),()=>{v(y,t())}),ne(()=>n(),()=>{v(O,n())}),ne(()=>(M(I()),e(f),e(m),e(_),e(T),e(x),e(q)),()=>{v(k,["relative rounded-xl px-4 py-3 min-h-[44px] transition-colors",I()||e(f)==="must-cover"?"border-2":"border",I()?"border-warning-500 bg-warning-500/10":"",e(f)==="must-cover"&&!I()?"border-gold-500 bg-gold-500/10":"",e(m)&&!I()&&e(f)!=="must-cover"?"border-gold-500/50 bg-gold-500/10":"",e(_)&&!I()&&!e(m)&&e(f)!=="must-cover"?"border-success-500/30 bg-success-500/5":"",e(T)&&!I()&&!e(m)&&e(f)!=="must-cover"&&e(x)?"border-gold-500 bg-gold-500/5":"",!I()&&!e(_)&&!e(m)&&!e(x)&&e(f)!=="must-cover"?"border-charcoal-700 bg-charcoal-900":"",e(q)?"":"hover:border-charcoal-600 hover:bg-charcoal-800"].filter(Boolean).join(" "))}),Ut(),Ot();var me=oi();let Te;me.__click=ae;var Ie=r(me);{var Q=xe=>{var ke=Gc();let Le;var qe=r(ke);{var ft=Xe=>{var st=Vc();h(Xe,st)},Ze=Xe=>{var st=Dt(),St=lt(st);{var ct=mt=>{var Ee=zc();h(mt,Ee)};$(St,mt=>{e(z)==="left"&&mt(ct)},!0)}h(Xe,st)};$(qe,Xe=>{e(z)==="right"?Xe(ft):Xe(Ze,!1)})}a(ke),A(Xe=>{Le=Me(ke,1,"absolute left-0 top-0 bottom-0 w-20 flex items-center justify-center rounded-l-xl transition-opacity",null,Le,{"bg-gold-500":e(z)==="right","bg-charcoal-700":e(z)==="left"}),Kt(ke,`opacity: ${Xe??""};`)},[()=>(e(ce),c(()=>Math.min(e(ce)/100,1)))]),h(xe,ke)};$(Ie,xe=>{e(ce)>20&&xe(Q)})}var $e=s(Ie,2),ee=r($e),te=r(ee),Ce=r(te),B=r(Ce,!0);a(Ce),a(te);var oe=s(te,2),fe=r(oe),V=r(fe),pe=r(V,!0);a(V);var ve=s(V,2);{var Pe=xe=>{var ke=qc();h(xe,ke)};$(ve,xe=>{I()&&xe(Pe)})}var j=s(ve,2);{var ue=xe=>{var ke=Xc();h(xe,ke)};$(j,xe=>{e(f)==="must-cover"&&xe(ue)})}a(fe);var _e=s(fe,2),De=r(_e);a(_e);var J=s(_e,2),C=r(J),R=r(C,!0);a(C);var L=s(C,4),N=r(L,!0);a(L);var F=s(L,2);{var H=xe=>{var ke=Qc();h(xe,ke)},ie=xe=>{var ke=Dt(),Le=lt(ke);{var qe=Ze=>{var Xe=Kc();h(Ze,Xe)},ft=Ze=>{var Xe=Dt(),st=lt(Xe);{var St=ct=>{var mt=Zc();h(ct,mt)};$(st,ct=>{e(S)==="planned"&&ct(St)},!0)}h(Ze,Xe)};$(Le,Ze=>{e(S)==="partially-covered"?Ze(qe):Ze(ft,!1)},!0)}h(xe,ke)};$(F,xe=>{e(S)==="covered"?xe(H):xe(ie,!1)})}a(J),a(oe);var be=s(oe,2),Ue=r(be);{var We=xe=>{var ke=ai();ke.__click=W;var Le=r(ke);{var qe=Ze=>{var Xe=ei();h(Ze,Xe)},ft=Ze=>{var Xe=ti();h(Ze,Xe)};$(Le,Ze=>{e(x)?Ze(qe):Ze(ft,!1)})}a(ke),A(()=>{Me(ke,1,`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors min-h-[44px] sm:min-h-0 ${e(x)?"border-gold-500 bg-gold-500/20":"border-charcoal-600 hover:bg-charcoal-700"}`),Ct(ke,"aria-label",e(x)?"Remove from plan":"Add to plan")}),h(xe,ke)},ze=xe=>{var ke=Dt(),Le=lt(ke);{var qe=ft=>{var Ze=Dt(),Xe=lt(Ze);{var st=St=>{var ct=ri();ct.__click=tt=>{tt.stopPropagation(),kt.isFollowing(e(u))?kt.unfollowTeam(e(u)):kt.followTeam(e(u),e(u))};let mt;var Ee=r(ct,!0);a(ct),A((tt,it,vt)=>{mt=Me(ct,1,"px-2 py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,mt,tt),Ct(ct,"title",it),w(Ee,vt)},[()=>({"bg-gold-500":kt.isFollowing(e(u)),"text-charcoal-950":kt.isFollowing(e(u)),"bg-charcoal-700":!kt.isFollowing(e(u)),"text-charcoal-200":!kt.isFollowing(e(u))}),()=>(M(kt),e(u),c(()=>kt.isFollowing(e(u))?"Unfollow team":"Follow team")),()=>(M(kt),e(u),c(()=>kt.isFollowing(e(u))?"✓":"+"))]),h(St,ct)};$(Xe,St=>{e(u)&&St(st)})}h(ft,Ze)};$(Le,ft=>{e(O)&&ft(qe)},!0)}h(xe,ke)};$(Ue,xe=>{e(y)?xe(We):xe(ze,!1)})}a(be),a(ee),a($e),a(me),Xa(me,xe=>v(le,xe),()=>e(le)),A(xe=>{Te=Me(me,1,"relative w-full rounded-xl transition-all duration-200 cursor-pointer touch-pan-y svelte-xjb0a1",null,Te,{"opacity-30":e(E)}),Kt(me,`transform: translateX(${e(ce)*(e(z)==="left"?-1:e(z)==="right"?1:0)}px);`),Ct(me,"data-match-id",(M(D()),c(()=>D().MatchId))),Me($e,1,vn(e(k))),w(B,xe),w(pe,(e(u),M(D()),c(()=>e(u)||D().Division.CodeAlias))),w(De,`vs ${e(p)??""}`),w(R,(M(D()),c(()=>D().CourtName))),w(N,(M(D()),c(()=>D().Division.CodeAlias)))},[()=>(M(ot),M(D()),c(()=>ot(D().ScheduledStartDateTime)))]),h(l,me),Pt(),d()}Yt(["click"]);var si=g('<div class="text-center py-12 text-charcoal-300 text-sm"> </div>'),li=g('<div class="mt-8 pt-6 border-t border-charcoal-700"><button title="Dim covered teams to focus on uncovered"> </button></div>'),ci=g('<div class="mb-4 px-4 py-2 rounded-lg border border-charcoal-700 bg-charcoal-800 flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-charcoal-300"><span class="font-semibold text-charcoal-50"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-charcoal-300">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-charcoal-300">/</span> <span class="text-gold-500"> </span> <span class="text-charcoal-300">/</span> <span class="text-charcoal-400"> </span></div></div> <!></div>'),ii=g('<div class="flex items-center justify-between px-3 py-2 rounded bg-charcoal-700 border border-charcoal-600 hover:border-gold-500/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-charcoal-50 truncate"> </div> <div class="text-[10px] text-charcoal-300 mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors flex-shrink-0">Add</button></div>'),di=g('<div class="mb-4 rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-charcoal-50">Coverage Suggestions</h3> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors" aria-label="Close suggestions">✕</button></div> <div class="space-y-2"></div></div>'),vi=g('<div class="mb-4 px-3 py-2 rounded-lg border border-charcoal-700 bg-charcoal-800 text-xs"><div class="font-medium text-charcoal-300 uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-charcoal-200"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-gold-500 bg-gold-500/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-gold-500/50 bg-gold-500/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),ui=g('<span class="absolute -top-1 -right-1 w-5 h-5 rounded-full bg-[#ef4444] text-charcoal-50 text-xs flex items-center justify-center"> </span>'),hi=g('<div class="flex items-center gap-2"><!></div>'),fi=g('<div class="text-center py-12 text-charcoal-300 text-sm">No matches found</div>'),mi=g('<span class="text-xs font-medium text-[#ef4444]"> </span>'),xi=g('<div class="w-3 h-3 rounded-full flex-shrink-0"></div>'),gi=g('<span class="text-xs text-[#ef4444] flex-shrink-0">⚠️</span>'),pi=Pr('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),bi=g('<span class="text-xs text-charcoal-300">+</span>'),_i=g("<button><!></button>"),yi=Pr('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),wi=g('<div class="absolute right-0 top-8 z-50"><!></div>'),Si=g('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Ti=g('<div class="absolute right-0 top-8 z-50"><!></div>'),ki=g('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Mi=g("<button> </button>"),Ci=g('<button class="flex-shrink-0 px-2 py-1 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors border border-gold-500 whitespace-nowrap" title="Start keeping score for this match"> </button>'),$i=g('<!> <div class="flex-shrink-0"><!></div> <!> <!>',1),Ii=g('<div class="hidden lg:block mt-8"><!></div>'),Di=g('<div><div class="lg:hidden"><!></div> <div data-match-card="" role="button" tabindex="0"><div class="flex-shrink-0 w-16"><div class="text-base font-bold text-charcoal-50 leading-tight"> </div> <div class="text-xs text-charcoal-300 leading-tight mt-0.5"> </div></div> <div class="flex-shrink-0 w-28"><div class="text-base font-bold text-[#facc15] leading-tight"> </div></div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><!> <div class="text-sm text-charcoal-200 truncate"> </div> <!></div></div> <div class="flex items-center gap-2 flex-shrink-0"><!> <!> <!> <!></div></div> <!></div>'),Ei=g('<div class="space-y-2"><div class="flex items-center justify-between mb-2"><div class="flex items-center gap-2"><h3 class="text-base font-bold text-charcoal-50"> </h3> <span class="text-xs text-charcoal-300"> </span></div> <!></div> <div class="space-y-1"></div></div>'),Pi=g('<div class="absolute bottom-full right-0 mb-2 w-64 rounded-lg border border-charcoal-700 bg-charcoal-800 shadow-lg p-2"><div class="px-3 py-2 text-xs text-charcoal-300 border-b border-charcoal-700 mb-2">Score Sharing</div> <button class="w-full px-3 py-2 text-sm text-left text-charcoal-200 hover:bg-charcoal-700 rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Scores (JSON)</button> <button class="w-full px-3 py-2 text-sm text-left text-charcoal-200 hover:bg-charcoal-700 rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg> Generate Share Link</button> <div class="border-t border-charcoal-700 my-2"></div> <div class="px-3 py-2 text-xs text-charcoal-300 border-b border-charcoal-700 mb-2">Receive Scores</div> <button class="w-full px-3 py-2 text-sm text-left text-charcoal-200 hover:bg-charcoal-700 rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> Import Scores from JSON</button> <div class="px-3 py-1.5 mt-2 text-[10px] text-charcoal-400 bg-charcoal-700/30 rounded">💡 Scores sync automatically across tabs. To share with others, use Export or Share Link.</div> <div class="border-t border-charcoal-700 my-2"></div> <div class="px-3 py-2 text-xs text-charcoal-300 border-b border-charcoal-700 mb-2">Claim History</div> <button class="w-full px-3 py-2 text-sm text-left text-charcoal-200 hover:bg-charcoal-700 rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> View All Claim History</button></div>'),Oi=g('<div class="px-4 py-2 rounded-lg border border-red-500/50 bg-red-500/10 text-red-400 text-sm"> </div>'),Ni=g('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-charcoal-800 rounded-lg border border-charcoal-700 p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-charcoal-50">Import Scores</h3> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="space-y-4"><div><label class="block text-sm font-medium text-charcoal-200 mb-2">Paste JSON score data:</label> <textarea class="w-full px-3 py-2 text-sm rounded bg-charcoal-700 text-charcoal-50 border border-charcoal-600 focus:border-gold-500 focus:outline-none font-mono" rows="10" placeholder="Paste JSON score data here"></textarea></div> <!> <div class="flex justify-end gap-2"><button class="px-4 py-2 text-sm font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-[#525463] transition-colors border border-charcoal-600">Cancel</button> <button class="px-4 py-2 text-sm font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors">Import</button></div></div></div></div>'),Ai=g('<div class="fixed bottom-4 right-4 z-50"><div class="relative"><button class="px-4 py-2 text-sm font-medium rounded-lg bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors shadow-lg flex items-center gap-2" title="Score sharing &amp; sync options"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Scores</button> <!></div></div> <!>',1),Fi=g('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-3 sm:mb-4"><button class="fixed bottom-4 right-4 w-14 h-14 rounded-full bg-gold-500 text-charcoal-950 shadow-lg flex items-center justify-center font-semibold z-40 sm:hidden" aria-label="Open filters">Filters <!></button> <div class="hidden sm:flex lg:hidden flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"><div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-charcoal-700 rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-charcoal-700 rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!></div> <div class="flex items-center gap-2 sm:hidden"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-charcoal-700 rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div></div> <!> <div data-match-list="" class="space-y-4"><!></div> <!> <!> <!> <!></div>');function Ri(l,o){Et(o,!1);const t=()=>Qt(Pa,"$filters",d),n=()=>Qt(Nr,"$isSpectator",d),i=()=>Qt(hr,"$isMedia",d),[d,u]=Ea(),p=P(),f=P(),S=P(),_=P(),m=P(),T=P(),E=P(),b=P(),x=P(),y=P(),O=P(),k=P(),D=P();let I=we(o,"matches",8),de=we(o,"eventId",8),he=we(o,"clubId",8),K=P("team"),se=P(null),le=P(null),ce=P(null),q=P(null),z=P(!1),U=P(!1),G=P(null),Y=P(!1),ae=P(!1),W=P(!1),me=P(void 0),Te=P(""),Ie=P(null),Q=P(new Set),$e=P(!1);function ee(){let j=0;return t().wave!=="all"&&j++,t().division&&j++,t().teams.length>0&&j++,(t().timeRange.start||t().timeRange.end)&&j++,t().priority&&t().priority!=="all"&&j++,t().coverageStatus&&t().coverageStatus!=="all"&&j++,j}let te=P();Yo(de());function Ce(j){return j.InvolvedTeam==="first"?j.SecondTeamText:j.InvolvedTeam==="second"?j.FirstTeamText:`${j.FirstTeamText} vs ${j.SecondTeamText}`}function B(){const j=Us(de()),ue=new Blob([j],{type:"application/json"}),_e=URL.createObjectURL(ue),De=document.createElement("a");De.href=_e,De.download=`scores-${de()}-${Date.now()}.json`,document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(_e),v(Y,!1)}function oe(){const j=Bs(de());navigator.clipboard.writeText(j).then(()=>{alert("Score link copied to clipboard! Share this link with others."),v(Y,!1)}).catch(()=>{prompt("Copy this link to share scores:",j)})}function fe(){try{v(Ie,null);const j=Ws(e(Te));j.success?(alert(`Successfully imported ${j.imported} score(s)!`),v(ae,!1),v(Te,""),window.location.reload()):v(Ie,j.errors.join(", "))}catch(j){v(Ie,`Failed to import scores: ${j}`)}}Ca(()=>{if(Ys()){const j=Hs();if(j&&j.scores.length>0){const ue=JSON.stringify({eventId:j.eventId,scores:j.scores},null,2);v(Te,ue),v(ae,!0)}}if(e(te).startPolling(),n()){let j=[];if(kt.subscribe(ue=>{j=ue.map(_e=>_e.teamId)})(),j.length>0){const ue=setInterval(()=>{Zr.checkUpcomingMatches(I(),j)},6e4);return()=>clearInterval(ue)}}}),Ka(()=>{e(te).stopPolling()}),ne(()=>{},()=>{v(p,ee())}),ne(()=>(n(),M(de())),()=>{const j=n();v(te,mr({eventId:de(),userId:j?"spectator":"anonymous"}))}),ne(()=>M(I()),()=>{v(f,ir(I()))}),ne(()=>(t(),M(I()),ot),()=>{v(S,(()=>{if(t().wave!=="all"){const j=t().wave==="morning"?"08:00":"14:30",ue=t().wave==="morning"?"14:30":"23:59";return Qa(I()).filter(_e=>I().some(De=>{const J=ot(De.ScheduledStartDateTime),C=J.split(" ")[1]||J;return C>=j&&C<ue&&De.Division.Name===_e}))}return Qa(I())})())}),ne(()=>M(I()),()=>{v(_,fr(I()))}),ne(()=>(M(I()),ht),()=>{v(m,(()=>{const j=new Map;return I().forEach(ue=>{const _e=et(ue);_e&&j.set(_e,ht.getTeamStatus(_e))}),j})())}),ne(()=>(M(I()),e(f),e(m),et),()=>{v(T,(()=>{const j=va(Rt);return no(I(),j,e(f),e(m),et,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),ne(()=>(M(I()),t(),n(),kt),()=>{v(E,(()=>{let j=Ho(I());if(t().priority&&t().priority!=="all"&&(j=j.filter(ue=>xa.getPriority(ue.MatchId)===t().priority)),t().coverageStatus&&t().coverageStatus!=="all"&&(j=j.filter(ue=>{const _e=et(ue);if(!_e)return!0;const De=ht.getTeamStatus(_e);return t().coverageStatus==="uncovered"?De==="not-covered":t().coverageStatus==="covered"?De==="covered"||De==="partially-covered":t().coverageStatus==="planned"?De==="planned":!0})),n()&&t().myTeamsOnly){let ue=[];kt.subscribe(_e=>{ue=_e.map(De=>De.teamId)})(),ue.length>0&&(j=j.filter(_e=>{const De=et(_e);return De&&ue.includes(De)}))}return j})())}),ne(()=>(M(I()),e(f)),()=>{v(b,(()=>{const j=va(Rt);return Bo(I(),j,e(f),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),ne(()=>e(b),()=>{v(x,new Set(e(b).map(j=>j.match.MatchId)))}),ne(()=>(M(I()),ht),()=>{v(y,(()=>{const j=new Map;I().forEach(R=>{const L=et(R);if(L){const N=ht.getTeamStatus(L);j.set(L,N)}});const ue=j.size,_e=Array.from(j.values()).filter(R=>R==="covered").length,De=Array.from(j.values()).filter(R=>R==="partially-covered").length,J=Array.from(j.values()).filter(R=>R==="planned").length,C=Array.from(j.values()).filter(R=>R==="not-covered").length;return{totalTeams:ue,coveredTeams:_e,partiallyCoveredTeams:De,plannedTeams:J,uncoveredTeams:C,coveragePercentage:ue>0?(_e+De)/ue*100:0}})())}),ne(()=>(e(E),e(K),et),()=>{v(O,(()=>{let j=[...e(E)];return e(K)==="priority"?j.sort((ue,_e)=>{const De=xa.getPriority(ue.MatchId),J=xa.getPriority(_e.MatchId),C={"must-cover":3,priority:2,optional:1,null:0},R=C[De||"null"],L=C[J||"null"];return R!==L?L-R:ue.ScheduledStartDateTime-_e.ScheduledStartDateTime}):e(K)==="team"?j.sort((ue,_e)=>{const De=et(ue),J=et(_e);return De.localeCompare(J)}):e(K)==="court"?j.sort((ue,_e)=>ue.CourtName.localeCompare(_e.CourtName)):j.sort((ue,_e)=>ue.ScheduledStartDateTime-_e.ScheduledStartDateTime),j})())}),ne(()=>(e(O),ot),()=>{v(k,(()=>{const j={};return e(O).forEach(ue=>{const _e=ot(ue.ScheduledStartDateTime);j[_e]||(j[_e]=[]),j[_e].push(ue)}),j})())}),ne(()=>e(k),()=>{v(D,Object.keys(e(k)).sort((j,ue)=>{const _e=new Date(`2000-01-01 ${j}`).getTime(),De=new Date(`2000-01-01 ${ue}`).getTime();return _e-De}))}),ne(()=>(n(),M(I()),e(te),e(Q),e(G)),()=>{if(n()&&I().length>0){const j=new Set;I().forEach(ue=>{e(te).isClaimOwner(ue.MatchId)&&(j.add(ue.MatchId),!e(Q).has(ue.MatchId)&&(!e(G)||e(G).MatchId!==ue.MatchId)&&setTimeout(()=>{v(G,ue)},200))}),v(Q,j)}}),ne(()=>(n(),M(I()),e(te),Zr),()=>{if(n()&&I().length>0){let j=[];kt.subscribe(ue=>{j=ue.map(_e=>_e.teamId)})(),I().forEach(ue=>{const _e=et(ue);if(_e&&j.includes(_e)){const De=e(te).getScore(ue.MatchId);De&&De.status==="in-progress"&&Zr.notifyScoreUpdate(ue,De)}})}}),Ut(),Ot();var V=Dt(),pe=lt(V);{var ve=j=>{var ue=si(),_e=r(ue,!0);a(ue),A(()=>w(_e,(t(),c(()=>t().division||t().wave!=="all"||t().teams.length>0||t().timeRange.start||t().timeRange.end?"No matches found for selected filters":"No matches found")))),h(j,ue)},Pe=j=>{var ue=Fi(),_e=r(ue);{var De=Je=>{{let He=ye(()=>n()?"spectator":"anonymous");Ec(Je,{get matches(){return I()},get eventId(){return de()},get userId(){return e(He)}})}};$(_e,Je=>{n()&&Je(De)})}var J=s(_e,2);{var C=Je=>{var He=ci(),Ke=r(He),wt=r(Ke),Nt=r(wt),ge=r(Nt);a(Nt),_a(),a(wt);var Se=s(wt,2),Ae=r(Se),Be=r(Ae);a(Ae);var Z=s(Ae,4),re=r(Z);a(Z);var X=s(Z,4),Oe=r(X);a(X);var Fe=s(X,4),Re=r(Fe);a(Fe),a(Se),a(Ke);var Ge=s(Ke,2);{var pt=nt=>{var _t=li(),Ye=r(_t);Ye.__click=()=>v(z,!e(z));var oa=r(Ye,!0);a(Ye),a(_t),A(()=>{Me(Ye,1,`w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors min-h-[44px] ${e(z)?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`),w(oa,e(z)?"👁️ Scanning":"Scanning Mode")}),h(nt,_t)};$(Ge,nt=>{i()&&nt(pt)})}a(He),A(nt=>{w(ge,`${nt??""}%`),w(Be,`✓ ${e(y),c(()=>e(y).coveredTeams)??""}`),w(re,`◐ ${e(y),c(()=>e(y).partiallyCoveredTeams)??""}`),w(Oe,`📋 ${e(y),c(()=>e(y).plannedTeams)??""}`),w(Re,`○ ${e(y),c(()=>e(y).uncoveredTeams)??""}`)},[()=>(e(y),c(()=>e(y).coveragePercentage.toFixed(0)))]),h(Je,He)};$(J,Je=>{i(),e(y),c(()=>i()&&e(y).totalTeams>0)&&Je(C)})}var R=s(J,2);{var L=Je=>{var He=di(),Ke=r(He),wt=s(r(Ke),2);wt.__click=()=>v(U,!1),a(Ke);var Nt=s(Ke,2);at(Nt,5,()=>(e(T),c(()=>e(T).slice(0,5))),rt,(ge,Se)=>{var Ae=ii(),Be=r(Ae),Z=r(Be),re=r(Z);a(Z);var X=s(Z,2),Oe=r(X,!0);a(X),a(Be);var Fe=s(Be,2);Fe.__click=Re=>{Re.stopPropagation(),Rt.selectMatch(e(Se).match.MatchId)},a(Ae),A(Re=>{w(re,`${Re??""} - ${e(Se),c(()=>e(Se).match.CourtName)??""} - Team ${e(Se),c(()=>e(Se).teamId)??""}`),w(Oe,(e(Se),c(()=>e(Se).reason)))},[()=>(M(ot),e(Se),c(()=>ot(e(Se).match.ScheduledStartDateTime)))]),h(ge,Ae)}),a(Nt),a(He),h(Je,He)};$(R,Je=>{i(),e(U),e(T),c(()=>i()&&e(U)&&e(T).length>0)&&Je(L)})}var N=s(R,2);{var F=Je=>{var He=vi();h(Je,He)};$(N,Je=>{i()&&Je(F)})}var H=s(N,2),ie=r(H);ie.__click=()=>v($e,!0);var be=s(r(ie));{var Ue=Je=>{var He=ui(),Ke=r(He,!0);a(He),A(()=>w(Ke,e(p))),h(Je,He)};$(be,Je=>{e(p)>0&&Je(Ue)})}a(ie);var We=s(ie,2),ze=r(We),xe=s(r(ze),2),ke=r(xe);ke.__click=()=>v(K,"team");var Le=s(ke,2);Le.__click=()=>v(K,"court");var qe=s(Le,2);qe.__click=()=>v(K,"time"),a(xe),a(ze);var ft=s(ze,2),Ze=s(r(ft),2),Xe=r(Ze);Xe.__click=()=>gt("wave","all");var st=s(Xe,2);st.__click=()=>gt("wave","morning");var St=s(st,2);St.__click=()=>gt("wave","afternoon"),a(Ze),a(ft);var ct=s(ft,2);{var mt=Je=>{var He=hi(),Ke=r(He);Mc(Ke,{get matches(){return I()}}),a(He),h(Je,He)};$(ct,Je=>{n()&&Je(mt)})}a(We);var Ee=s(We,2),tt=s(r(Ee),2),it=r(tt);it.__click=()=>v(K,"team");var vt=s(it,2);vt.__click=()=>v(K,"court");var dt=s(vt,2);dt.__click=()=>v(K,"time"),a(tt),a(Ee),a(H);var Qe=s(H,2);zo(Qe,{get matches(){return I()},get divisions(){return e(S)},get teams(){return e(_)},get open(){return e($e)},onClose:()=>v($e,!1)});var ut=s(Qe,2),jt=r(ut);{var Wt=Je=>{var He=fi();h(Je,He)},ea=Je=>{var He=Dt(),Ke=lt(He);at(Ke,1,()=>e(D),rt,(wt,Nt)=>{const ge=ye(()=>(e(k),e(Nt),c(()=>e(k)[e(Nt)]))),Se=ye(()=>(M(e(ge)),e(f),c(()=>e(ge).filter(_t=>e(f).has(_t.MatchId)).length))),Ae=ye(()=>e(Se)>0);var Be=Ei(),Z=r(Be),re=r(Z),X=r(re),Oe=r(X,!0);a(X);var Fe=s(X,2),Re=r(Fe);a(Fe),a(re);var Ge=s(re,2);{var pt=_t=>{var Ye=mi(),oa=r(Ye);a(Ye),A(()=>w(oa,`${e(Se)??""} conflict${e(Se)!==1?"s":""}`)),h(_t,Ye)};$(Ge,_t=>{e(Ae)&&_t(pt)})}a(Z);var nt=s(Z,2);at(nt,5,()=>e(ge),rt,(_t,Ye)=>{const oa=ye(()=>(e(f),e(Ye),c(()=>e(f).has(e(Ye).MatchId)))),Mt=ye(()=>(M(et),e(Ye),c(()=>et(e(Ye))))),Ne=ye(()=>(e(Ye),c(()=>Ce(e(Ye))))),Vt=ye(()=>(e(se),e(Ye),c(()=>e(se)===e(Ye).MatchId))),Gt=ye(()=>(M(xa),e(Ye),c(()=>xa.getPriority(e(Ye).MatchId)))),yt=ye(()=>(M(e(Mt)),M(ht),c(()=>e(Mt)?ht.getTeamStatus(e(Mt)):"not-covered"))),ma=ye(()=>e(yt)==="covered"||e(yt)==="partially-covered"),$a=ye(()=>e(z)&&e(ma)),ya=ye(()=>(M(va),M(Rt),c(()=>va(Rt)))),na=ye(()=>(M(e(ya)),e(Ye),c(()=>e(ya).has(e(Ye).MatchId))));var Lt=Di(),ga=r(Lt),qt=r(ga);{let je=ye(()=>i()?Ve=>Rt.toggleMatch(Ve.MatchId):null);ni(qt,{get match(){return e(Ye)},get hasConflict(){return e(oa)},get conflicts(){return e(f)},get scanningMode(){return e(z)},onTap:Ve=>v(le,Ve),get onSwipeRight(){return e(je)},onSwipeLeft:null})}a(ga);var pa=s(ga,2);pa.__click=()=>v(se,e(Vt)?null:e(Ye).MatchId),pa.__keydown=je=>{(je.key==="Enter"||je.key===" ")&&v(se,e(Vt)?null:e(Ye).MatchId)};var Ia=r(pa),wa=r(Ia),Oa=r(wa,!0);a(wa);var Ba=s(wa,2),Ha=r(Ba,!0);a(Ba),a(Ia);var Za=s(Ia,2),xr=r(Za),Fr=r(xr,!0);a(xr),a(Za);var ba=s(Za,2),er=r(ba),gr=r(er);{var pr=je=>{const Ve=ye(()=>(M(kt),M(e(Mt)),c(()=>kt.getTeamColor(e(Mt)))));var xt=Dt(),sa=lt(xt);{var ca=Bt=>{var At=xi();A(()=>{Kt(At,`background-color: ${e(Ve)??""};`),Ct(At,"title",`${e(Mt)??""} (followed)`)}),h(Bt,At)};$(sa,Bt=>{e(Ve)&&Bt(ca)})}h(je,xt)};$(gr,je=>{n()&&e(Mt)&&je(pr)})}var tr=s(gr,2),br=r(tr);a(tr);var Rr=s(tr,2);{var Ma=je=>{var Ve=gi();h(je,Ve)};$(Rr,je=>{e(oa)&&je(Ma)})}a(er),a(ba);var _r=s(ba,2),Ya=r(_r);{var jr=je=>{var Ve=_i();Ve.__click=Bt=>{Bt.stopPropagation(),Rt.toggleMatch(e(Ye).MatchId)};var xt=r(Ve);{var sa=Bt=>{var At=pi();h(Bt,At)},ca=Bt=>{var At=bi();h(Bt,At)};$(xt,Bt=>{e(na)?Bt(sa):Bt(ca,!1)})}a(Ve),A(()=>{Me(Ve,1,`flex-shrink-0 w-5 h-5 rounded border-2 ${e(na)?"border-gold-500 bg-gold-500/20":"border-charcoal-600 bg-transparent"} flex items-center justify-center hover:bg-charcoal-700 transition-colors`),Ct(Ve,"aria-label",e(na)?"Remove from plan":"Add to plan")}),h(je,Ve)};$(Ya,je=>{i()&&je(jr)})}var Ja=s(Ya,2);{var Lr=je=>{var Ve=Si(),xt=r(Ve);xt.__click=Ht=>{Ht.stopPropagation(),v(ce,e(ce)===e(Ye).MatchId?null:e(Ye).MatchId)};var sa=r(xt),ca=s(sa);{var Bt=Ht=>{var ia=yi();h(Ht,ia)};$(ca,Ht=>{e(Gt)||Ht(Bt)})}a(xt);var At=s(xt,2);{var Zt=Ht=>{var ia=wi(),Da=r(ia);Jo(Da,{get matchId(){return e(Ye),c(()=>e(Ye).MatchId)},get currentPriority(){return e(Gt)},get onPriorityChange(){return M(xa),c(()=>xa.setPriority)},onClose:()=>v(ce,null)}),a(ia),h(Ht,ia)};$(At,Ht=>{e(ce),e(Ye),c(()=>e(ce)===e(Ye).MatchId)&&Ht(Zt)})}a(Ve),A(()=>{Me(xt,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-charcoal-700 ${e(Gt)==="must-cover"?"text-gold-500":e(Gt)==="priority"?"text-[#f59e0b]":e(Gt)==="optional"?"text-charcoal-300":"text-charcoal-400"}`),Ct(xt,"title",e(Gt)?`Priority: ${e(Gt)}`:"Set priority"),w(sa,`${e(Gt)==="must-cover"&&"⭐"}
													${e(Gt)==="priority"&&"🔸"}
													${e(Gt)==="optional"&&"○"} `)}),h(je,Ve)};$(Ja,je=>{i()&&je(Lr)})}var ar=s(Ja,2);{var Ur=je=>{var Ve=ki(),xt=r(Ve);xt.__click=At=>{At.stopPropagation(),v(q,e(q)===e(Mt)?null:e(Mt))};var sa=r(xt);a(xt);var ca=s(xt,2);{var Bt=At=>{var Zt=Ti(),Ht=r(Zt);ho(Ht,{get teamId(){return e(Mt)},get currentStatus(){return e(yt)},get onStatusChange(){return M(ht),c(()=>ht.setTeamStatus)},onClose:()=>v(q,null)}),a(Zt),h(At,Zt)};$(ca,At=>{e(q)===e(Mt)&&At(Bt)})}a(Ve),A(()=>{Me(xt,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-charcoal-700 ${e(yt)==="covered"?"text-green-500":e(yt)==="partially-covered"?"text-[#f59e0b]":e(yt)==="planned"?"text-gold-500":"text-charcoal-400"}`),Ct(xt,"title",`Coverage: ${e(yt)??""}`),w(sa,`${e(yt)==="covered"&&"✓"}
													${e(yt)==="partially-covered"&&"◐"}
													${e(yt)==="planned"&&"📋"}
													${e(yt)==="not-covered"&&"○"}`)}),h(je,Ve)};$(ar,je=>{i()&&e(Mt)&&je(Ur)})}var yr=s(ar,2);{var Wr=je=>{const Ve=ye(()=>(e(te),e(Ye),c(()=>e(te).getScore(e(Ye).MatchId)))),xt=ye(()=>(e(te),e(Ye),c(()=>e(te).getClaimStatus(e(Ye).MatchId)))),sa=ye(()=>(e(te),e(Ye),c(()=>e(te).isClaimOwner(e(Ye).MatchId))));var ca=$i(),Bt=lt(ca);{var At=la=>{var da=Mi();da.__click=Ua=>{Ua.stopPropagation(),kt.isFollowing(e(Mt))?kt.unfollowTeam(e(Mt)):kt.followTeam(e(Mt),e(Mt))};var La=r(da,!0);a(da),A((Ua,ra,rr)=>{Me(da,1,`flex-shrink-0 px-2 py-1 text-xs font-medium rounded transition-colors ${Ua??""}`),Ct(da,"title",ra),w(La,rr)},[()=>(M(kt),M(e(Mt)),c(()=>kt.isFollowing(e(Mt))?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600")),()=>(M(kt),M(e(Mt)),c(()=>kt.isFollowing(e(Mt))?"Unfollow team":"Follow team")),()=>(M(kt),M(e(Mt)),c(()=>kt.isFollowing(e(Mt))?"✓":"+"))]),h(la,da)};$(Bt,la=>{e(Mt)&&la(At)})}var Zt=s(Bt,2),Ht=r(Zt);Zl(Ht,{get match(){return e(Ye)},get eventId(){return de()},onClaim:la=>{const da=I().find(La=>La.MatchId===la);da&&setTimeout(()=>{v(G,da)},300)},onRelease:()=>{v(G,null)}}),a(Zt);var ia=s(Zt,2);{var Da=la=>{var da=Ci();da.__click=Ua=>{Ua.stopPropagation(),v(G,e(Ye))};var La=r(da,!0);a(da),A(()=>w(La,e(Ve)?"Update Score":"Start Scoring")),h(la,da)};$(ia,la=>{e(xt)==="claimed"&&e(sa)&&la(Da)})}var wr=s(ia,2);{var Yr=la=>{fo(la,{get match(){return e(Ye)},get matchClaiming(){return e(te)}})};$(wr,la=>{M(e(Ve)),c(()=>e(Ve)&&e(Ve).status!=="not-started")&&la(Yr)})}h(je,ca)};$(yr,je=>{n()&&je(Wr)})}a(_r),a(pa);var Br=s(pa,2);{var Hr=je=>{var Ve=Ii(),xt=r(Ve);uo(xt,{get match(){return e(Ye)},get eventId(){return de()},get clubId(){return he()},onClose:()=>v(se,null),get matches(){return I()}}),a(Ve),h(je,Ve)};$(Br,je=>{M(e(Vt)),e(se),e(Ye),c(()=>e(Vt)&&e(se)===e(Ye).MatchId)&&je(Hr)})}a(Lt),A(()=>{Me(pa,1,`hidden lg:flex lg:items-center lg:gap-4 lg:py-2 lg:px-3 lg:border-b lg:border-charcoal-700 hover:bg-[#2a2a2f]/50 transition-colors cursor-pointer ${e($a)?"opacity-30":""}`),w(Oa,(M(e(Mt)),e(Ye),c(()=>e(Mt)||e(Ye).Division.CodeAlias))),w(Ha,(e(Ye),c(()=>e(Ye).Division.CodeAlias))),w(Fr,(e(Ye),c(()=>e(Ye).CourtName))),w(br,`vs ${e(Ne)??""}`)}),h(_t,Lt)}),a(nt),a(Be),A(()=>{w(Oe,e(Nt)),w(Re,`${M(e(ge)),c(()=>e(ge).length)??""} match${M(e(ge)),c(()=>e(ge).length!==1?"es":"")??""}`)}),h(wt,Be)}),h(Je,He)};$(jt,Je=>{e(D),c(()=>e(D).length===0)?Je(Wt):Je(ea,!1)})}a(ut);var zt=s(ut,2);Yl(zt,{get match(){return e(le)},get eventId(){return de()},get clubId(){return he()},get matches(){return I()},onClose:()=>v(le,null)});var ta=s(zt,2);{var $t=Je=>{{let He=ye(()=>(e(te),e(G),c(()=>e(te).getScore(e(G).MatchId))));Vo(Je,{get matchId(){return e(G),c(()=>e(G).MatchId)},get team1Name(){return e(G),c(()=>e(G).FirstTeamText)},get team2Name(){return e(G),c(()=>e(G).SecondTeamText)},get currentScore(){return e(He)},onScoreUpdate:(Ke,wt)=>{e(te).updateScore(e(G).MatchId,Ke,wt)},onClose:()=>v(G,null)})}};$(ta,Je=>{e(G),e(te),c(()=>e(G)&&e(te).isClaimOwner(e(G).MatchId))&&Je($t)})}var Tt=s(ta,2);{var bt=Je=>{jc(Je,{get matchId(){return e(me)},get eventId(){return de()},get matches(){return I()},onClose:()=>{v(W,!1),v(me,void 0)}})};$(Tt,Je=>{e(W)&&Je(bt)})}var aa=s(Tt,2);{var Jt=Je=>{var He=Ai(),Ke=lt(He),wt=r(Ke),Nt=r(wt);Nt.__click=()=>v(Y,!e(Y));var ge=s(Nt,2);{var Se=Z=>{var re=Pi(),X=s(r(re),2);X.__click=B;var Oe=s(X,2);Oe.__click=oe;var Fe=s(Oe,6);Fe.__click=()=>{v(ae,!0),v(Y,!1)};var Re=s(Fe,8);Re.__click=()=>{v(W,!0),v(me,void 0),v(Y,!1)},a(re),h(Z,re)};$(ge,Z=>{e(Y)&&Z(Se)})}a(wt),a(Ke);var Ae=s(Ke,2);{var Be=Z=>{var re=Ni(),X=r(re),Oe=r(X),Fe=s(r(Oe),2);Fe.__click=()=>{v(ae,!1),v(Te,""),v(Ie,null)},a(Oe);var Re=s(Oe,2),Ge=r(Re),pt=s(r(Ge),2);qa(pt),a(Ge);var nt=s(Ge,2);{var _t=Ne=>{var Vt=Oi(),Gt=r(Vt,!0);a(Vt),A(()=>w(Gt,e(Ie))),h(Ne,Vt)};$(nt,Ne=>{e(Ie)&&Ne(_t)})}var Ye=s(nt,2),oa=r(Ye);oa.__click=()=>{v(ae,!1),v(Te,""),v(Ie,null)};var Mt=s(oa,2);Mt.__click=fe,a(Ye),a(Re),a(X),a(re),Ta(pt,()=>e(Te),Ne=>v(Te,Ne)),h(Z,re)};$(Ae,Z=>{e(ae)&&Z(Be)})}h(Je,He)};$(aa,Je=>{n()&&Je(Jt)})}a(ue),A(()=>{Me(ke,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(K)==="team"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(K)==="court"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(qe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(K)==="time"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(Xe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${t(),c(()=>t().wave==="all"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(st,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${t(),c(()=>t().wave==="morning"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(St,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${t(),c(()=>t().wave==="afternoon"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(it,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(K)==="team"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(vt,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(K)==="court"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(dt,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(K)==="time"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`)}),h(j,ue)};$(pe,j=>{e(E),c(()=>e(E).length===0)?j(ve):j(Pe,!1)})}h(l,V),Pt(),u()}Yt(["click","keydown"]);var ji=g('<button title="Previous conflict">← Prev</button>'),Li=g('<button title="Next conflict">Next →</button>'),Ui=g('<span class="ml-2 text-green-400">✓ All resolved!</span>'),Wi=g('<div class="text-xs text-charcoal-300"> <!></div>'),Bi=g('<div class="flex items-center justify-between mb-3 pb-3 border-b border-charcoal-700"><div class="flex items-center gap-2"><!> <span class="text-xs text-charcoal-300"> </span> <!></div> <!></div>'),Hi=g('<div class="text-xs text-charcoal-400 py-4 text-center">No conflicts found</div>'),Yi=g('<span class="text-charcoal-300">•</span> <span class="text-charcoal-400"> </span>',1),Ji=g('<div class="px-3 py-2.5 rounded border border-charcoal-600 bg-charcoal-700/30"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-charcoal-50"> </span> <span class="text-xs text-charcoal-400">vs</span> <span class="text-sm text-charcoal-200 truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs flex-wrap"><span class="text-[#facc15] font-medium"> </span> <span class="text-charcoal-300"> </span> <span class="text-charcoal-300">•</span> <span class="text-charcoal-300"> </span> <!></div></div>'),Vi=g('<div class="space-y-2"></div>'),zi=g(`<div class="mt-2 border border-charcoal-700 rounded-lg bg-charcoal-800 overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-charcoal-50 truncate pr-2">Conflict Details</h4> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <div class="mb-4 pb-4 border-b border-charcoal-700"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-2">Selected Match</div> <div class="px-3 py-2 rounded border border-gold-500/50 bg-gold-500/5"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#facc15]"> </span> <span class="text-xs text-charcoal-400">vs</span> <span class="text-sm text-charcoal-200 truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs"><span class="text-[#facc15] font-medium"> </span> <span class="text-charcoal-300"> </span> <span class="text-charcoal-300">•</span> <span class="text-charcoal-300"> </span></div></div></div> <div><div class="flex items-center justify-between mb-2"><div class="text-xs text-charcoal-300 uppercase tracking-wider"> </div> <span class="text-xs text-red-400 font-medium">Cannot cover simultaneously</span></div> <!></div> <div class="mt-4 pt-4 border-t border-charcoal-700"><p class="text-xs text-charcoal-400">These matches overlap in time and are on different courts. You'll need to choose which match to cover.</p></div></div></div>`);function Gi(l,o){Et(o,!1);const t=P();let n=we(o,"match",8),i=we(o,"conflictingMatches",8),d=we(o,"onClose",8),u=we(o,"onNextConflict",8,void 0),p=we(o,"onPreviousConflict",8,void 0),f=we(o,"currentIndex",8,void 0),S=we(o,"totalConflicts",8,void 0),_=we(o,"conflictProgress",8,void 0);function m(B){return B.InvolvedTeam==="first"?B.SecondTeamText:B.InvolvedTeam==="second"?B.FirstTeamText:`${B.FirstTeamText} vs ${B.SecondTeamText}`}function T(B,oe){return B!==oe?5:0}const E=et(n()),b=m(n());ne(()=>M(i()),()=>{v(t,[...i()].sort((B,oe)=>B.ScheduledStartDateTime-oe.ScheduledStartDateTime))}),Ut(),Ot();var x=zi(),y=r(x),O=r(y),k=s(r(O),2);k.__click=function(...B){var oe;(oe=d())==null||oe.apply(this,B)},a(O);var D=s(O,2);{var I=B=>{var oe=Bi(),fe=r(oe),V=r(fe);{var pe=J=>{var C=ji();C.__click=function(...R){var L;(L=p())==null||L.apply(this,R)},A(()=>{C.disabled=f()===0,Me(C,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${f()===0?"bg-charcoal-700 text-charcoal-400 cursor-not-allowed":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`)}),h(J,C)};$(V,J=>{p()&&J(pe)})}var ve=s(V,2),Pe=r(ve);a(ve);var j=s(ve,2);{var ue=J=>{var C=Li();C.__click=function(...R){var L;(L=u())==null||L.apply(this,R)},A(()=>{C.disabled=f()===S()-1,Me(C,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${f()===S()-1?"bg-charcoal-700 text-charcoal-400 cursor-not-allowed":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`)}),h(J,C)};$(j,J=>{u()&&J(ue)})}a(fe);var _e=s(fe,2);{var De=J=>{var C=Wi(),R=r(C),L=s(R);{var N=F=>{var H=Ui();h(F,H)};$(L,F=>{M(_()),c(()=>_().remaining===0)&&F(N)})}a(C),A(()=>w(R,`${M(_()),c(()=>_().resolved)??""}/${M(_()),c(()=>_().total)??""} resolved `)),h(J,C)};$(_e,J=>{_()&&J(De)})}a(oe),A(()=>w(Pe,`Conflict ${f()+1} of ${S()??""}`)),h(B,oe)};$(D,B=>{f()!==void 0&&S()!==void 0&&S()>1&&B(I)})}var de=s(D,2),he=s(r(de),2),K=r(he),se=r(K),le=r(se,!0);a(se);var ce=s(se,4),q=r(ce,!0);a(ce),a(K);var z=s(K,2),U=r(z),G=r(U,!0);a(U);var Y=s(U,2),ae=r(Y,!0);a(Y);var W=s(Y,4),me=r(W,!0);a(W),a(z),a(he),a(de);var Te=s(de,2),Ie=r(Te),Q=r(Ie),$e=r(Q);a(Q),_a(2),a(Ie);var ee=s(Ie,2);{var te=B=>{var oe=Hi();h(B,oe)},Ce=B=>{var oe=Vi();at(oe,5,()=>e(t),rt,(fe,V)=>{const pe=ye(()=>(M(et),e(V),c(()=>et(e(V))))),ve=ye(()=>(e(V),c(()=>m(e(V))))),Pe=ye(()=>(M(n()),e(V),c(()=>T(n().CourtName,e(V).CourtName))));var j=Ji(),ue=r(j),_e=r(ue),De=r(_e,!0);a(_e);var J=s(_e,4),C=r(J,!0);a(J),a(ue);var R=s(ue,2),L=r(R),N=r(L,!0);a(L);var F=s(L,2),H=r(F,!0);a(F);var ie=s(F,4),be=r(ie,!0);a(ie);var Ue=s(ie,2);{var We=ze=>{var xe=Yi(),ke=s(lt(xe),2),Le=r(ke);a(ke),A(()=>w(Le,`~${e(Pe)??""} min travel from ${M(n()),c(()=>n().CourtName)??""}`)),h(ze,xe)};$(Ue,ze=>{e(Pe)>0&&ze(We)})}a(R),a(j),A(ze=>{w(De,(M(e(pe)),e(V),c(()=>e(pe)||e(V).Division.CodeAlias))),w(C,e(ve)),w(N,(e(V),c(()=>e(V).CourtName))),w(H,ze),w(be,(e(V),c(()=>e(V).Division.CodeAlias)))},[()=>(M(ot),e(V),c(()=>ot(e(V).ScheduledStartDateTime)))]),h(fe,j)}),a(oe),h(B,oe)};$(ee,B=>{e(t),c(()=>e(t).length===0)?B(te):B(Ce,!1)})}a(Te),_a(2),a(y),a(x),A(B=>{w(le,(M(n()),c(()=>E||n().Division.CodeAlias))),w(q,b),w(G,(M(n()),c(()=>n().CourtName))),w(ae,B),w(me,(M(n()),c(()=>n().Division.CodeAlias))),w($e,`Conflicting Matches (${M(i()),c(()=>i().length)??""})`)},[()=>(M(ot),M(n()),c(()=>ot(n().ScheduledStartDateTime)))]),h(l,x),Pt()}Yt(["click"]);var qi=g('<div class="text-center py-12 text-charcoal-300 text-sm"> </div>'),Xi=g("<option> </option>"),Qi=g('<div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Ki=g("<option> </option>"),Zi=g('<div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),ed=g('<div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),td=g('<div class="flex items-center gap-2"><button title="Highlight all time gaps"> </button> <button title="Show only matches with gaps"> </button></div>'),ad=g('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-charcoal-300 hover:text-charcoal-50 hover:bg-charcoal-700 border border-charcoal-600 min-h-[44px] sm:min-h-0">Clear</button>'),rd=g('<button type="button"> </button>'),od=g('<div class="flex items-center gap-2 overflow-x-auto scrollbar-hide pb-2 lg:hidden svelte-vnglym"></div>'),nd=g('<span class="ml-2 text-gold-400"> </span>'),sd=g('<span class="ml-2"> </span>'),ld=g('<span class="ml-2 text-xs"> </span>'),cd=g('<div class="flex items-center gap-2"><span class="text-xs text-charcoal-300">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-gold-500/20 text-[#facc15] border border-gold-500/50"> </span> <button type="button" class="text-xs text-charcoal-300 hover:text-charcoal-50 transition-colors min-h-[44px] sm:min-h-0" aria-label="Clear highlight">✕</button></div>'),id=g('<button type="button"> </button>'),dd=g('<div class="hidden lg:flex items-center gap-2 mb-4"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Day:</span> <div class="flex gap-2"></div></div>'),vd=g("<div> </div>"),ud=g("<div><!></div>"),hd=g('<div class="absolute top-0 left-0 text-[10px]"> </div>'),fd=g('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),md=g('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),xd=g('<div class="text-[8px] text-charcoal-300"> </div>'),gd=g('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),pd=Pr('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),bd=g('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),_d=g('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),yd=g('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),wd=g('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Sd=g('<div role="button" tabindex="0"><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),Td=g('<div class="border-b border-charcoal-700 pb-4 last:border-b-0 last:pb-0 min-w-[calc(100vw-2rem)] lg:min-w-0" style="scroll-snap-align: start;"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-charcoal-50"> </div> <div class="text-xs text-charcoal-400"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-charcoal-800 border-charcoal-700"><!> <!></div></div>'),kd=g('<div class="fixed inset-0 z-40" role="button" tabindex="-1"></div>'),Md=g('<div class="fixed inset-0 z-40" role="button" tabindex="-1"></div>'),Cd=g('<div data-timeline="" class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-charcoal-700 rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-charcoal-700 rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <!></div> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4"><!> <div class="flex items-center justify-between"><div class="text-xs text-charcoal-300"> <!> <!> <!></div> <!></div></div> <!> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0 scrollbar-hide svelte-vnglym" style="scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch;"><div class="space-y-4 min-w-max lg:min-w-0"></div></div> <!> <!> <!> <!></div>');function $d(l,o){Et(o,!1);const t=()=>Qt(Nr,"$isSpectator",d),n=()=>Qt(Pa,"$filters",d),i=()=>Qt(hr,"$isMedia",d),[d,u]=Ea(),p=P(),f=P(),S=P(),_=P(),m=P(),T=P(),E=P(),b=P(),x=P(),y=P(),O=P(),k=P(),D=P(),I=P(),de=P(),he=P(),K=P(),se=P(),le=P(),ce=P(),q=P(),z=P();let U=we(o,"matches",8),G=we(o,"eventId",8),Y=P(null),ae=P(null),W=P(null),me=P(null),Te=P(null),Ie=P(!1),Q=P(!1),$e=P(null),ee=P(),te=P();function Ce(J){return J.InvolvedTeam==="first"?J.SecondTeamText:J.InvolvedTeam==="second"?J.FirstTeamText:`${J.FirstTeamText} vs ${J.SecondTeamText}`}function B(J){return e(he)===0?0:(J-e(I))/e(he)*100}function oe(J,C){return e(he)===0?0:(C-J)/e(he)*100}function fe(){e(z)>=0&&e(z)<e(le).length-1&&v(Y,e(le)[e(z)+1])}function V(){e(z)>0&&v(Y,e(le)[e(z)-1])}function pe(J){const C=[],R=[...J].sort((L,N)=>L.ScheduledStartDateTime-N.ScheduledStartDateTime);for(let L=0;L<R.length-1;L++){const N=R[L],F=R[L+1],H=Math.floor((F.ScheduledStartDateTime-N.ScheduledEndDateTime)/6e4);H>0&&C.push({before:N,after:F,gapMinutes:H})}return C}function ve(J){e(b).has(J.MatchId)?v(Y,J):i()?Rt.toggleMatch(J.MatchId):v(Y,J)}function Pe(J,C){C.stopPropagation(),v(ae,e(ae)===J?null:J)}ne(()=>(M(U()),n(),ht),()=>{v(O,(()=>{let J=Ho(U());return n().priority&&n().priority!=="all"&&(J=J.filter(C=>xa.getPriority(C.MatchId)===n().priority)),n().coverageStatus&&n().coverageStatus!=="all"&&(J=J.filter(C=>{const R=et(C);if(!R)return!0;const L=ht.getTeamStatus(R);return n().coverageStatus==="uncovered"?L==="not-covered":n().coverageStatus==="covered"?L==="covered"||L==="partially-covered":n().coverageStatus==="planned"?L==="planned":!0})),J})())}),ne(()=>e(O),()=>{v(p,(()=>{const J=new Set,C={};return e(O).forEach(R=>{C[R.CourtName]||(C[R.CourtName]=[]),C[R.CourtName].push(R)}),Object.values(C).forEach(R=>{pe(R).forEach(N=>{J.add(N.before.MatchId),J.add(N.after.MatchId)})}),J})())}),ne(()=>(e(Q),e(O),e(p)),()=>{v(f,e(Q)?e(O).filter(J=>e(p).has(J.MatchId)):e(O))}),ne(()=>(e(f),Xt),()=>{v(S,(()=>{const J={};return e(f).forEach(C=>{const R=Xt(C.ScheduledStartDateTime);J[R]||(J[R]=[]),J[R].push(C)}),J})())}),ne(()=>e(S),()=>{v(_,Object.keys(e(S)).sort())}),ne(()=>(e(_),e($e)),()=>{e(_).length>0&&!e($e)&&v($e,e(_)[0])}),ne(()=>(e($e),e(S),e(f)),()=>{v(m,e($e)?e(S)[e($e)]||[]:e(f))}),ne(()=>e(m),()=>{v(T,(()=>{const J={};return e(m).forEach(C=>{J[C.CourtName]||(J[C.CourtName]=[]),J[C.CourtName].push(C)}),J})())}),ne(()=>e(T),()=>{v(E,Object.keys(e(T)).sort())}),ne(()=>(t(),M(G())),()=>{const J=t();v(te,mr({eventId:G(),userId:J?"spectator":"anonymous"}))}),ne(()=>M(U()),()=>{v(b,ir(U()))}),ne(()=>(n(),M(U()),ot),()=>{v(x,(()=>{if(n().wave!=="all"){const J=n().wave==="morning"?"08:00":"14:30",C=n().wave==="morning"?"14:30":"23:59";return Qa(U()).filter(R=>U().some(L=>{const N=ot(L.ScheduledStartDateTime),F=N.split(" ")[1]||N;return F>=J&&F<C&&L.Division.CodeAlias===R}))}return Qa(U())})())}),ne(()=>M(U()),()=>{v(y,fr(U()))}),ne(()=>(e(m),e(b)),()=>{v(k,(()=>{const J=va(Rt);return Bo(e(m),J,e(b),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),ne(()=>e(k),()=>{v(D,new Set(e(k).map(J=>J.match.MatchId)))}),ne(()=>e(m),()=>{v(I,e(m).length>0?Math.min(...e(m).map(J=>J.ScheduledStartDateTime)):0)}),ne(()=>e(m),()=>{v(de,e(m).length>0?Math.max(...e(m).map(J=>J.ScheduledEndDateTime)):0)}),ne(()=>(e(de),e(I)),()=>{v(he,e(de)-e(I))}),ne(()=>(e(ae),e(m),et),()=>{v(K,(()=>{if(!e(ae))return new Set;const J=new Set;return e(m).forEach(C=>{et(C)===e(ae)&&J.add(C.MatchId)}),J})())}),ne(()=>(e(Y),e(b),e(m)),()=>{v(se,(()=>{if(!e(Y))return[];const J=e(b).get(e(Y).MatchId);return J?J.map(C=>e(m).find(R=>R.MatchId===C)).filter(Boolean):[]})())}),ne(()=>(e(m),e(b)),()=>{v(le,(()=>{const J=[],C=new Set;return e(m).forEach(R=>{if(e(b).has(R.MatchId)&&!C.has(R.MatchId)){J.push(R),C.add(R.MatchId);const L=e(b).get(R.MatchId);L&&L.forEach(N=>C.add(N))}}),J.sort((R,L)=>R.ScheduledStartDateTime-L.ScheduledStartDateTime)})())}),ne(()=>(e(le),e(b)),()=>{v(ce,(()=>{const J=va(Rt);return e(le).filter(C=>{const R=e(b).get(C.MatchId);return R?R.some(L=>J.has(L)):!1})})())}),ne(()=>(e(le),e(ce)),()=>{v(q,{total:e(le).length,resolved:e(ce).length,remaining:e(le).length-e(ce).length})}),ne(()=>(e(Y),e(le)),()=>{v(z,e(Y)?e(le).findIndex(J=>J.MatchId===e(Y).MatchId):-1)}),Ut(),Ot();var j=Dt(),ue=lt(j);{var _e=J=>{var C=qi(),R=r(C,!0);a(C),A(()=>w(R,(n(),c(()=>n().division||n().wave!=="all"||n().teams.length>0||n().timeRange.start||n().timeRange.end?"No matches found for selected filters":"No matches found")))),h(J,C)},De=J=>{var C=Cd(),R=r(C),L=r(R),N=s(r(L),2),F=r(N);F.__click=()=>gt("wave","all");var H=s(F,2);H.__click=()=>gt("wave","morning");var ie=s(H,2);ie.__click=()=>gt("wave","afternoon"),a(N),a(L);var be=s(L,2);{var Ue=Z=>{var re=Qi(),X=s(r(re),2);X.__change=pt=>gt("division",pt.target.value||null);var Oe=r(X),Fe=r(Oe);a(Oe),Oe.value=Oe.__value="";var Re=s(Oe);at(Re,1,()=>e(x),rt,(pt,nt)=>{var _t=Xi(),Ye=r(_t,!0);a(_t);var oa={};A(()=>{w(Ye,e(nt)),oa!==(oa=e(nt))&&(_t.value=(_t.__value=e(nt))??"")}),h(pt,_t)}),a(X);var Ge;fa(X),a(re),A(()=>{w(Fe,`All Divisions${n(),c(()=>n().wave!=="all"?` (${n().wave})`:"")??""}`),Ge!==(Ge=(n(),c(()=>n().division||"")))&&(X.value=(X.__value=(n(),c(()=>n().division||"")))??"",ua(X,(n(),c(()=>n().division||""))))}),h(Z,re)};$(be,Z=>{e(x),c(()=>e(x).length>1)&&Z(Ue)})}var We=s(be,2);{var ze=Z=>{var re=Zi(),X=s(r(re),2);X.__change=Fe=>{const Re=Array.from(Fe.target.selectedOptions,Ge=>Ge.value);gt("teams",Re)},at(X,5,()=>e(y),rt,(Fe,Re)=>{var Ge=Ki(),pt=r(Ge,!0);a(Ge);var nt={};A(()=>{w(pt,e(Re)),nt!==(nt=e(Re))&&(Ge.value=(Ge.__value=e(Re))??"")}),h(Fe,Ge)}),a(X);var Oe;fa(X),a(re),A(Fe=>{Ct(X,"size",Fe),Oe!==(Oe=(n(),c(()=>n().teams)))&&(X.value=(X.__value=(n(),c(()=>n().teams)))??"",ua(X,(n(),c(()=>n().teams))))},[()=>(e(y),c(()=>Math.min(e(y).length,4)))]),h(Z,re)};$(We,Z=>{e(y),c(()=>e(y).length>0)&&Z(ze)})}var xe=s(We,2),ke=s(r(xe),2),Le=r(ke);Le.__click=()=>gt("timeRange",{start:null,end:null});var qe=s(Le,2);qe.__click=()=>gt("timeRange",{start:"08:00",end:"14:30"});var ft=s(qe,2);ft.__click=()=>gt("timeRange",{start:"14:30",end:"23:59"}),a(ke),a(xe);var Ze=s(xe,2);{var Xe=Z=>{var re=ed(),X=s(r(re),2);X.__change=nt=>gt("priority",nt.target.value==="all"?"all":nt.target.value);var Oe=r(X);Oe.value=Oe.__value="all";var Fe=s(Oe);Fe.value=Fe.__value="must-cover";var Re=s(Fe);Re.value=Re.__value="priority";var Ge=s(Re);Ge.value=Ge.__value="optional",a(X);var pt;fa(X),a(re),A(()=>{pt!==(pt=(n(),c(()=>n().priority||"all")))&&(X.value=(X.__value=(n(),c(()=>n().priority||"all")))??"",ua(X,(n(),c(()=>n().priority||"all"))))}),h(Z,re)};$(Ze,Z=>{i()&&Z(Xe)})}var st=s(Ze,2);{var St=Z=>{var re=td(),X=r(re);X.__click=()=>v(Ie,!e(Ie));var Oe=r(X);a(X);var Fe=s(X,2);Fe.__click=()=>v(Q,!e(Q));var Re=r(Fe);a(Fe),a(re),A(()=>{Me(X,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Ie)?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`),w(Oe,`${e(Ie)?"✓":""} Highlight Gaps`),Me(Fe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Q)?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`),w(Re,`${e(Q)?"✓":""} Gaps Only`)}),h(Z,re)};$(st,Z=>{i()&&Z(St)})}var ct=s(st,2);{var mt=Z=>{var re=ad();re.__click=function(...X){lr==null||lr.apply(this,X)},h(Z,re)};$(ct,Z=>{n(),c(()=>n().division||n().wave!=="all"||n().teams.length>0||n().timeRange.start||n().timeRange.end||n().priority&&n().priority!=="all"||n().coverageStatus&&n().coverageStatus!=="all")&&Z(mt)})}a(R);var Ee=s(R,2),tt=r(Ee);{var it=Z=>{var re=od();at(re,5,()=>e(_),rt,(X,Oe)=>{var Fe=rd();Fe.__click=()=>v($e,e(Oe));var Re=r(Fe,!0);a(Fe),A(()=>{Me(Fe,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap min-h-[44px] flex-shrink-0 ${e($e)===e(Oe)?"bg-gold-500 text-charcoal-950":"bg-charcoal-800 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-700"}`),w(Re,e(Oe))}),h(X,Fe)}),a(re),h(Z,re)};$(tt,Z=>{e(_),c(()=>e(_).length>1)&&Z(it)})}var vt=s(tt,2),dt=r(vt),Qe=r(dt),ut=s(Qe);{var jt=Z=>{var re=nd(),X=r(re);a(re),A(()=>w(X,`• ${e($e)??""}`)),h(Z,re)};$(ut,Z=>{e($e)&&Z(jt)})}var Wt=s(ut,2);{var ea=Z=>{var re=sd(),X=r(re);a(re),A(()=>w(X,`(${e(m),c(()=>e(m).length)??""} of ${e(O),c(()=>e(O).length)??""})`)),h(Z,re)};$(Wt,Z=>{e(m),e(O),c(()=>e(m).length!==e(O).length)&&Z(ea)})}var zt=s(Wt,2);{var ta=Z=>{var re=ld(),X=r(re);a(re),A(()=>w(X,`• Conflicts: ${e(q),c(()=>e(q).resolved)??""}/${e(q),c(()=>e(q).total)??""} resolved`)),h(Z,re)};$(zt,Z=>{e(q),i(),c(()=>e(q).total>0&&i())&&Z(ta)})}a(dt);var $t=s(dt,2);{var Tt=Z=>{var re=cd(),X=s(r(re),2),Oe=r(X);a(X);var Fe=s(X,2);Fe.__click=()=>v(ae,null),a(re),A(()=>w(Oe,`Team ${e(ae)??""}`)),h(Z,re)};$($t,Z=>{e(ae)&&Z(Tt)})}a(vt),a(Ee);var bt=s(Ee,2);{var aa=Z=>{var re=dd(),X=s(r(re),2);at(X,5,()=>e(_),rt,(Oe,Fe)=>{var Re=id();Re.__click=()=>v($e,e(Fe));var Ge=r(Re,!0);a(Re),A(()=>{Me(Re,1,`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${e($e)===e(Fe)?"bg-gold-500 text-charcoal-950":"bg-charcoal-800 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-700"}`),w(Ge,e(Fe))}),h(Oe,Re)}),a(X),a(re),h(Z,re)};$(bt,Z=>{e(_),c(()=>e(_).length>1)&&Z(aa)})}var Jt=s(bt,2),Je=r(Jt);at(Je,5,()=>e(E),rt,(Z,re)=>{const X=ye(()=>(e(T),e(re),c(()=>e(T)[e(re)])));var Oe=Td(),Fe=r(Oe),Re=r(Fe),Ge=r(Re,!0);a(Re);var pt=s(Re,2),nt=r(pt);a(pt),a(Fe);var _t=s(Fe,2),Ye=r(_t);at(Ye,1,()=>(M(e(X)),c(()=>pe(e(X)))),rt,(Mt,Ne)=>{const Vt=ye(()=>(e(Ne),c(()=>B(e(Ne).before.ScheduledEndDateTime)))),Gt=ye(()=>(e(Ne),c(()=>B(e(Ne).after.ScheduledStartDateTime)))),yt=ye(()=>e(Gt)-e(Vt)),ma=ye(()=>(e(Ne),c(()=>e(Ne).gapMinutes>=30))),$a=ye(()=>(e(Ne),c(()=>e(Ne).gapMinutes>=15&&e(Ne).gapMinutes<30)));var ya=Dt(),na=lt(ya);{var Lt=ga=>{var qt=ud(),pa=r(qt);{var Ia=wa=>{var Oa=vd(),Ba=r(Oa);a(Oa),A(()=>{Me(Oa,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(ma)?"bg-green-500/20 text-green-400":e($a)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"} ${e(Ie)?"ring-2 ring-[#eab308]":""}`),w(Ba,`${e(Ne),c(()=>e(Ne).gapMinutes)??""}m`)}),h(wa,Oa)};$(pa,wa=>{(e(yt)>3||e(Ie))&&wa(Ia)})}a(qt),A(()=>{Me(qt,1,`absolute top-0 bottom-0 flex items-center justify-center transition-all ${e(Ie)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""}`),Kt(qt,`left: ${e(Vt)??""}%; width: ${e(yt)??""}%; z-index: 0;`),Ct(qt,"title",`${e(Ne),c(()=>e(Ne).gapMinutes)??""} min gap between matches`)}),h(ga,qt)};$(na,ga=>{e(yt)>=1&&ga(Lt)})}h(Mt,ya)});var oa=s(Ye,2);at(oa,1,()=>e(X),rt,(Mt,Ne)=>{const Vt=ye(()=>(e(b),e(Ne),c(()=>e(b).has(e(Ne).MatchId)))),Gt=ye(()=>(e(Y),e(Ne),c(()=>{var je;return((je=e(Y))==null?void 0:je.MatchId)===e(Ne).MatchId}))),yt=ye(()=>(M(et),e(Ne),c(()=>et(e(Ne))))),ma=ye(()=>(e(ae),e(K),e(Ne),c(()=>e(ae)!==null&&e(K).has(e(Ne).MatchId)))),$a=ye(()=>e(ae)!==null&&!e(ma)),ya=ye(()=>(M(va),M(Rt),c(()=>va(Rt)))),na=ye(()=>(M(e(ya)),e(Ne),c(()=>e(ya).has(e(Ne).MatchId)))),Lt=ye(()=>(M(xa),e(Ne),c(()=>xa.getPriority(e(Ne).MatchId)))),ga=ye(()=>(e(D),e(Ne),c(()=>e(D).has(e(Ne).MatchId)))),qt=ye(()=>(M(e(yt)),M(ht),c(()=>e(yt)?ht.getTeamStatus(e(yt)):"not-covered"))),pa=ye(()=>e(qt)==="covered"||e(qt)==="partially-covered"),Ia=ye(()=>e(qt)==="planned"),wa=ye(()=>e(qt)==="not-covered"),Oa=ye(()=>(e(Ne),c(()=>B(e(Ne).ScheduledStartDateTime)))),Ba=ye(()=>(e(Ne),c(()=>Math.max(oe(e(Ne).ScheduledStartDateTime,e(Ne).ScheduledEndDateTime),2)))),Ha=ye(()=>(e(Ne),c(()=>Ce(e(Ne))))),Za=ye(()=>(M(e(Lt)),M(e(wa)),M(e(na)),M(e(Ia)),M(e(ma)),M(e(Vt)),M(e(pa)),M(e(ga)),e(Ne),c(()=>e(Lt)==="must-cover"?"#eab308":e(Lt)==="priority"?"#f59e0b":e(wa)&&!e(na)||e(Ia)||e(ma)||e(na)&&!e(Vt)?"#eab308":e(pa)||e(ga)&&!e(na)?"#10b981":e(Vt)?"#dc2626":e(Ne).Division.ColorHex))),xr=ye(()=>e(Lt)==="must-cover"?"#facc15":e(Lt)==="priority"?"#fbbf24":e(wa)&&!e(na)||e(Ia)?"#facc15":e(Gt)?"#eab308":e(ma)||e(na)?"#facc15":e(Vt)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Fr=ye(()=>e(Gt)?30:e(ma)?20:e(Lt)==="must-cover"?18:e(na)?15:e(Vt)?10:1);var ba=Sd();ba.__click=je=>{je.target instanceof HTMLElement&&je.target.closest(".priority-button")||ve(e(Ne))},ba.__keydown=je=>{(je.key==="Enter"||je.key===" ")&&je.target instanceof HTMLElement&&!je.target.closest(".priority-button")&&ve(e(Ne))};var er=r(ba);{var gr=je=>{var Ve=hd(),xt=r(Ve);a(Ve),A(()=>w(xt,`${e(Lt)==="must-cover"&&"⭐"}
											${e(Lt)==="priority"&&"🔸"}
											${e(Lt)==="optional"&&"○"}`)),h(je,Ve)};$(er,je=>{i()&&e(Lt)&&je(gr)})}var pr=s(er,2);{var tr=je=>{var Ve=fd();h(je,Ve)};$(pr,je=>{i()&&e(ga)&&!e(na)&&je(tr)})}var br=s(pr,2);{var Rr=je=>{var Ve=md();h(je,Ve)};$(br,je=>{i()&&e(na)&&je(Rr)})}var Ma=s(br,2);Ma.__click=je=>e(yt)&&Pe(e(yt),je),Ma.__keydown=je=>{e(yt)&&(je.key==="Enter"||je.key===" ")&&Pe(e(yt),je)};var _r=r(Ma,!0);a(Ma);var Ya=s(Ma,2),jr=r(Ya);a(Ya);var Ja=s(Ya,2),Lr=r(Ja,!0);a(Ja);var ar=s(Ja,2);{var Ur=je=>{const Ve=ye(()=>(e(te),e(Ne),c(()=>e(te).getScore(e(Ne).MatchId))));var xt=Dt(),sa=lt(xt);{var ca=Bt=>{const At=ye(()=>(M(e(Ve)),c(()=>e(Ve).sets.find(ra=>ra.completedAt===0)||e(Ve).sets[e(Ve).sets.length-1]))),Zt=ye(()=>(M(e(Ve)),c(()=>e(Ve).sets.filter(ra=>ra.completedAt>0)))),Ht=ye(()=>(M(e(Zt)),c(()=>e(Zt).filter(ra=>ra.team1Score>ra.team2Score).length))),ia=ye(()=>(M(e(Zt)),c(()=>e(Zt).filter(ra=>ra.team2Score>ra.team1Score).length)));var Da=gd(),wr=r(Da);{var Yr=ra=>{var rr=xd(),qo=r(rr);a(rr),A(()=>w(qo,`(${e(Ht)??""}-${e(ia)??""})`)),h(ra,rr)};$(wr,ra=>{M(e(Zt)),c(()=>e(Zt).length>0)&&ra(Yr)})}var la=s(wr,2),da=r(la);a(la);var La=s(la,2);{var Ua=ra=>{fo(ra,{isLive:!0,get lastUpdated(){return M(e(Ve)),c(()=>e(Ve).lastUpdated)}})};$(La,ra=>{M(e(Ve)),c(()=>e(Ve).status==="in-progress")&&ra(Ua)})}a(Da),A(()=>w(da,`${M(e(At)),c(()=>e(At).team1Score)??""}-${M(e(At)),c(()=>e(At).team2Score)??""}`)),h(Bt,Da)};$(sa,Bt=>{M(e(Ve)),c(()=>e(Ve)&&e(Ve).status!=="not-started")&&Bt(ca)})}h(je,xt)};$(ar,je=>{e(te)&&je(Ur)})}var yr=s(ar,2);{var Wr=je=>{var Ve=_d(),xt=r(Ve);xt.__click=Ht=>{Ht.stopPropagation(),v(W,e(W)===e(Ne).MatchId?null:e(Ne).MatchId)};var sa=r(xt),ca=s(sa);{var Bt=Ht=>{var ia=pd();h(Ht,ia)};$(ca,Ht=>{e(Lt)||Ht(Bt)})}a(xt);var At=s(xt,2);{var Zt=Ht=>{var ia=bd(),Da=r(ia);Jo(Da,{get matchId(){return e(Ne),c(()=>e(Ne).MatchId)},get currentPriority(){return e(Lt)},get onPriorityChange(){return M(xa),c(()=>xa.setPriority)},onClose:()=>v(W,null)}),a(ia),h(Ht,ia)};$(At,Ht=>{e(W),e(Ne),c(()=>e(W)===e(Ne).MatchId)&&Ht(Zt)})}a(Ve),A(()=>{Me(xt,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(Lt)==="must-cover"?"text-[#facc15]":e(Lt)==="priority"?"text-[#fbbf24]":e(Lt)==="optional"?"text-white/60":"text-white/40"}`),Ct(xt,"title",e(Lt)?`Priority: ${e(Lt)}`:"Set priority"),w(sa,`${e(Lt)==="must-cover"&&"⭐"}
												${e(Lt)==="priority"&&"🔸"}
												${e(Lt)==="optional"&&"○"} `)}),h(je,Ve)};$(yr,je=>{i()&&je(Wr)})}var Br=s(yr,2);{var Hr=je=>{var Ve=wd(),xt=r(Ve);xt.__click=At=>{At.stopPropagation(),v(me,e(me)===e(yt)?null:e(yt))};var sa=r(xt);a(xt);var ca=s(xt,2);{var Bt=At=>{var Zt=yd(),Ht=r(Zt);ho(Ht,{get teamId(){return e(yt)},get currentStatus(){return e(qt)},get onStatusChange(){return M(ht),c(()=>ht.setTeamStatus)},onClose:()=>v(me,null)}),a(Zt),h(At,Zt)};$(ca,At=>{e(me)===e(yt)&&At(Bt)})}a(Ve),A(()=>{Me(xt,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(qt)==="covered"?"text-green-400":e(qt)==="partially-covered"?"text-[#fbbf24]":e(qt)==="planned"?"text-[#facc15]":"text-white/40"}`),Ct(xt,"title",`Coverage: ${e(qt)??""}`),w(sa,`${e(qt)==="covered"&&"✓"}
												${e(qt)==="partially-covered"&&"◐"}
												${e(qt)==="planned"&&"📋"}
												${e(qt)==="not-covered"&&"○"}`)}),h(je,Ve)};$(Br,je=>{i()&&e(yt)&&je(Hr)})}a(ba),A((je,Ve,xt)=>{Me(ba,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer min-h-[44px] ${e(Gt)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(ma)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e($a)?"opacity-30":""} ${e(na)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(pa)?"opacity-60":""}`),Kt(ba,`left: ${e(Oa)??""}%; width: ${e(Ba)??""}%; background-color: ${e(Za)??""}; border-color: ${e(xr)??""}; min-width: 120px; z-index: ${e(Fr)??""};`),Ct(ba,"title",`${e(Ne),c(()=>e(Ne).CompleteShortName)??""}: ${e(Ne),c(()=>e(Ne).FirstTeamText)??""} vs ${e(Ne),c(()=>e(Ne).SecondTeamText)??""} - ${je??""}${e(Vt)?" (Click to see conflicts)":" (Click to add to plan)"}${e(Lt)?` [Priority: ${e(Lt)}]`:""}${e(ga)&&!e(na)?" [Easy opportunity]":""}${e(qt)!=="not-covered"?` [Coverage: ${e(qt)}]`:""}`),Me(Ma,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(yt)?"cursor-pointer hover:underline":""}`),Ct(Ma,"role",e(yt)?"button":void 0),Ct(Ma,"tabindex",e(yt)?0:void 0),w(_r,(M(e(yt)),e(Ne),c(()=>e(yt)||e(Ne).Division.CodeAlias))),w(jr,`vs ${Ve??""}`),w(Lr,xt)},[()=>(M(ot),e(Ne),c(()=>ot(e(Ne).ScheduledStartDateTime))),()=>(M(e(Ha)),c(()=>e(Ha).length>20?e(Ha).substring(0,17)+"...":e(Ha))),()=>(M(ot),e(Ne),c(()=>ot(e(Ne).ScheduledStartDateTime)))]),h(Mt,ba)}),a(_t),a(Oe),A(()=>{w(Ge,e(re)),w(nt,`${M(e(X)),c(()=>e(X).length)??""} match${M(e(X)),c(()=>e(X).length!==1?"es":"")??""}`)}),h(Z,Oe)}),a(Je),a(Jt),Xa(Jt,Z=>v(ee,Z),()=>e(ee));var He=s(Jt,2);{var Ke=Z=>{Gi(Z,{get match(){return e(Y)},get conflictingMatches(){return e(se)},onClose:()=>v(Y,null),onNextConflict:fe,onPreviousConflict:V,get currentIndex(){return e(z)},get totalConflicts(){return e(le),c(()=>e(le).length)},get conflictProgress(){return e(q)}})};$(He,Z=>{e(Y)&&Z(Ke)})}var wt=s(He,2);{var Nt=Z=>{{let re=ye(()=>(e(te),e(Te),c(()=>e(te).getScore(e(Te).MatchId))));Vo(Z,{get matchId(){return e(Te),c(()=>e(Te).MatchId)},get team1Name(){return e(Te),c(()=>e(Te).FirstTeamText)},get team2Name(){return e(Te),c(()=>e(Te).SecondTeamText)},get currentScore(){return e(re)},onScoreUpdate:(X,Oe)=>{e(te).updateScore(e(Te).MatchId,X,Oe)},onClose:()=>v(Te,null)})}};$(wt,Z=>{e(Te),e(te),c(()=>e(Te)&&e(te).isClaimOwner(e(Te).MatchId))&&Z(Nt)})}var ge=s(wt,2);{var Se=Z=>{var re=kd();re.__click=()=>v(W,null),re.__keydown=X=>X.key==="Escape"&&v(W,null),h(Z,re)};$(ge,Z=>{e(W)!==null&&Z(Se)})}var Ae=s(ge,2);{var Be=Z=>{var re=Md();re.__click=()=>v(me,null),re.__keydown=X=>X.key==="Escape"&&v(me,null),h(Z,re)};$(Ae,Z=>{e(me)!==null&&Z(Be)})}a(C),A((Z,re)=>{Me(F,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="all"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(H,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="morning"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(ie,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="afternoon"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start===null&&n().timeRange.end===null?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(qe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start==="08:00"&&n().timeRange.end==="14:30"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),Me(ft,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start==="14:30"&&n().timeRange.end==="23:59"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50")??""}`),w(Qe,`Timeline: ${Z??""} - ${re??""} `)},[()=>(M(ot),e(I),c(()=>ot(e(I)))),()=>(M(ot),e(de),c(()=>ot(e(de))))]),h(J,C)};$(ue,J=>{e(O),c(()=>e(O).length===0)?J(_e):J(De,!1)})}h(l,j),Pt(),u()}Yt(["click","change","keydown"]);function za(l){return l.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}function ro(l){const o=new Date(l),t=o.getUTCFullYear(),n=String(o.getUTCMonth()+1).padStart(2,"0"),i=String(o.getUTCDate()).padStart(2,"0"),d=String(o.getUTCHours()).padStart(2,"0"),u=String(o.getUTCMinutes()).padStart(2,"0"),p=String(o.getUTCSeconds()).padStart(2,"0");return`${t}${n}${i}T${d}${u}${p}Z`}function Id(l,o){return`match-${l}-${o}@coursync.local`}function Dd(l,o,t,n){const i=Date.now();let d=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CourtSync//Coverage Plan//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",`X-WR-CALNAME:${za(n)}`,`X-WR-CALDESC:${za("Volleyball Match Coverage Plan")}`,"X-WR-TIMEZONE:UTC"].join(`\r
`)+`\r
`;return l.forEach(u=>{const p=o(u),f=t(u),S=p?`${p} vs ${f}`:`${u.FirstTeamText} vs ${u.SecondTeamText}`,_=[`Court: ${u.CourtName}`,`Division: ${u.Division.CodeAlias}`,`First Team: ${u.FirstTeamText}`,`Second Team: ${u.SecondTeamText}`].join("\\n"),m=za(u.CourtName),T=za(S),E=za(_),b=u.ScheduledStartDateTime,x=u.ScheduledEndDateTime,O=b-5*60*1e3,k=ro(O),D=ro(x),I=ro(i),de=Id(u.MatchId,b);d+=["BEGIN:VEVENT",`UID:${de}`,`DTSTAMP:${I}`,`DTSTART:${k}`,`DTEND:${D}`,`SUMMARY:${T}`,`DESCRIPTION:${E}`,`LOCATION:${m}`,"SEQUENCE:0","STATUS:CONFIRMED","TRANSP:OPAQUE"].join(`\r
`)+`\r
`,d+=["BEGIN:VALARM","TRIGGER:-PT15M","ACTION:DISPLAY",`DESCRIPTION:${za(`Match starts in 15 minutes: ${S}`)}`,"END:VALARM"].join(`\r
`)+`\r
`,d+=`END:VEVENT\r
`}),d+=`END:VCALENDAR\r
`,d}const Ed=(l,o,t)=>{const n=l.length,i=o.size,d=n>0?i/n*100:0,u=l.filter(b=>o.has(b.MatchId)).reduce((b,x)=>{const y=(x.ScheduledEndDateTime-x.ScheduledStartDateTime)/6e4;return b+y},0),p=b=>{const y=(b.InvolvedTeam==="first"?b.FirstTeamText:b.SecondTeamText).match(/(\d+-\d+)/);return y?y[1]:""},f=new Set,S=new Set;l.forEach(b=>{const x=p(b);x&&(f.add(x),o.has(b.MatchId)&&S.add(x))});const _=S.size,m=f.size,T=m>0?n/m:0,E=Array.from(o).filter(b=>t.has(b)).length;return{totalMatches:n,coveredMatches:i,coveragePercentage:d,totalCoverageTime:u,teamsCovered:_,totalTeams:m,averageMatchesPerTeam:T,conflictsInPlan:E}},Pd=(l,o)=>{const t=i=>{const u=(i.InvolvedTeam==="first"?i.FirstTeamText:i.SecondTeamText).match(/(\d+-\d+)/);return u?u[1]:""},n=new Map;return l.forEach(i=>{const d=t(i);if(d){const u=n.get(d)||{total:0,covered:0};u.total++,o.has(i.MatchId)&&u.covered++,n.set(d,u)}}),Array.from(n.entries()).map(([i,d])=>({teamId:i,totalMatches:d.total,coveredMatches:d.covered,coveragePercentage:d.total>0?d.covered/d.total*100:0})).sort((i,d)=>d.coveragePercentage-i.coveragePercentage)},Do=l=>{if(l<60)return`${Math.round(l)}m`;const o=Math.floor(l/60),t=Math.round(l%60);return t===0?`${o}h`:`${o}h ${t}m`};var Od=g('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="text-sm font-medium text-charcoal-50 truncate"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-charcoal-700 rounded-full overflow-hidden"><div class="h-full bg-gold-500 transition-all duration-300"></div></div> <div class="text-xs text-charcoal-300 w-12 text-right"> </div></div></div>'),Nd=g('<div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-sm font-medium text-charcoal-50 mb-4">Team Coverage Breakdown</div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div>'),Ad=g('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-charcoal-50 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Teams Covered</div> <div class="text-2xl font-bold text-charcoal-50 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Total Time</div> <div class="text-2xl font-bold text-charcoal-50 mb-1"> </div> <div class="text-xs text-charcoal-300">coverage time</div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Conflicts</div> <div> </div> <div class="text-xs text-charcoal-300">in coverage plan</div></div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-charcoal-50">Coverage Progress</div> <div class="text-xs text-charcoal-300"> </div></div> <div class="w-full h-3 bg-charcoal-700 rounded-full overflow-hidden"><div class="h-full bg-gold-500 transition-all duration-300"></div></div></div> <!> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Avg Matches/Team</div> <div class="text-xl font-bold text-charcoal-50"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Coverage Efficiency</div> <div class="text-xl font-bold text-charcoal-50"> </div> <div class="text-xs text-charcoal-300 mt-1">teams covered ratio</div></div></div></div>');function Fd(l,o){Et(o,!1);const t=P(),n=P();let i=we(o,"matches",8);const d=ir(i()),p=va(Rt);ne(()=>M(i()),()=>{v(t,Ed(i(),p,d))}),ne(()=>M(i()),()=>{v(n,Pd(i(),p))}),Ut(),Ot();var f=Ad(),S=r(f),_=r(S),m=s(r(_),2),T=r(m);a(m);var E=s(m,2),b=r(E);a(E),a(_);var x=s(_,2),y=s(r(x),2),O=r(y,!0);a(y);var k=s(y,2),D=r(k);a(k),a(x);var I=s(x,2),de=s(r(I),2),he=r(de,!0);a(de),_a(2),a(I);var K=s(I,2),se=s(r(K),2),le=r(se,!0);a(se),_a(2),a(K),a(S);var ce=s(S,2),q=r(ce),z=s(r(q),2),U=r(z);a(z),a(q);var G=s(q,2),Y=r(G);a(G),a(ce);var ae=s(ce,2);{var W=Ce=>{var B=Nd(),oe=s(r(B),2);at(oe,5,()=>e(n),rt,(fe,V)=>{var pe=Od(),ve=r(pe),Pe=r(ve),j=r(Pe);a(Pe);var ue=s(Pe,2),_e=r(ue);a(ue),a(ve);var De=s(ve,2),J=r(De),C=r(J);a(J);var R=s(J,2),L=r(R);a(R),a(De),a(pe),A((N,F)=>{w(j,`Team ${e(V),c(()=>e(V).teamId)??""}`),w(_e,`${e(V),c(()=>e(V).coveredMatches)??""}/${e(V),c(()=>e(V).totalMatches)??""} matches`),Kt(C,`width: ${N??""}%;`),w(L,`${F??""}%`)},[()=>(e(V),c(()=>Math.min(e(V).coveragePercentage,100))),()=>(e(V),c(()=>e(V).coveragePercentage.toFixed(0)))]),h(fe,pe)}),a(oe),a(B),h(Ce,B)};$(ae,Ce=>{e(n),c(()=>e(n).length>0)&&Ce(W)})}var me=s(ae,2),Te=r(me),Ie=s(r(Te),2),Q=r(Ie,!0);a(Ie),a(Te);var $e=s(Te,2),ee=s(r($e),2),te=r(ee);a(ee),_a(2),a($e),a(me),a(f),A((Ce,B,oe,fe,V,pe)=>{w(T,`${Ce??""}%`),w(b,`${e(t),c(()=>e(t).coveredMatches)??""} of ${e(t),c(()=>e(t).totalMatches)??""} matches`),w(O,(e(t),c(()=>e(t).teamsCovered))),w(D,`of ${e(t),c(()=>e(t).totalTeams)??""} teams`),w(he,B),Me(se,1,`text-2xl font-bold mb-1 ${e(t),c(()=>e(t).conflictsInPlan>0?"text-red-400":"text-charcoal-50")??""}`),w(le,(e(t),c(()=>e(t).conflictsInPlan))),w(U,`${oe??""}%`),Kt(Y,`width: ${fe??""}%;`),w(Q,V),w(te,`${pe??""}%`)},[()=>(e(t),c(()=>e(t).coveragePercentage.toFixed(1))),()=>(M(Do),e(t),c(()=>Do(e(t).totalCoverageTime))),()=>(e(t),c(()=>e(t).coveragePercentage.toFixed(1))),()=>(e(t),c(()=>Math.min(e(t).coveragePercentage,100))),()=>(e(t),c(()=>e(t).averageMatchesPerTeam.toFixed(1))),()=>(e(t),c(()=>e(t).totalMatches>0?(e(t).teamsCovered/e(t).totalTeams*100).toFixed(1):"0"))]),h(l,f),Pt()}const Rd=(l,o,t,n)=>{const i=new Map;return l.forEach(d=>{const u=n(d);if(!u)return;const p=i.get(u)||{total:0,covered:0,planned:0};p.total++,o.has(d.MatchId)&&p.covered++,t.get(u)==="planned"&&p.planned++,i.set(u,p)}),Array.from(i.entries()).map(([d,u])=>({teamId:d,status:t.get(d)||"not-covered",totalMatches:u.total,coveredMatches:u.covered,plannedMatches:u.planned,coveragePercentage:u.total>0?u.covered/u.total*100:0})).sort((d,u)=>{const p={"not-covered":0,planned:1,"partially-covered":2,covered:3},f=p[d.status],S=p[u.status];return f!==S?f-S:d.coveragePercentage-u.coveragePercentage})},jd=(l,o,t,n)=>{const i=new Map,d=new Map;l.forEach(b=>{const x=n(b);if(!x)return;const y=t.get(x)||"not-covered";i.has(x)||i.set(x,y);const O=d.get(x)||{total:0,covered:0,planned:0};O.total++,o.has(b.MatchId)&&O.covered++,y==="planned"&&O.planned++,d.set(x,O)});const u=i.size,p=Array.from(i.values()).filter(b=>b==="covered").length,f=Array.from(i.values()).filter(b=>b==="partially-covered").length,S=Array.from(i.values()).filter(b=>b==="planned").length,_=Array.from(i.values()).filter(b=>b==="not-covered").length,m=l.length,T=o.size,E=Array.from(d.values()).reduce((b,x)=>b+x.planned,0);return{totalTeams:u,coveredTeams:p,partiallyCoveredTeams:f,plannedTeams:S,uncoveredTeams:_,coveragePercentage:u>0?(p+f)/u*100:0,plannedPercentage:u>0?S/u*100:0,totalMatches:m,coveredMatches:T,plannedMatches:E}},Ld=(l,o)=>{const t=[];return t.push("Coverage Statistics Report"),t.push(`Generated: ${new Date().toLocaleString()}`),t.push(""),t.push("Summary"),t.push(`Total Teams,${o.totalTeams}`),t.push(`Covered Teams,${o.coveredTeams}`),t.push(`Partially Covered Teams,${o.partiallyCoveredTeams}`),t.push(`Planned Teams,${o.plannedTeams}`),t.push(`Uncovered Teams,${o.uncoveredTeams}`),t.push(`Coverage Percentage,${o.coveragePercentage.toFixed(1)}%`),t.push(`Planned Percentage,${o.plannedPercentage.toFixed(1)}%`),t.push(""),t.push("Team Breakdown"),t.push("Team ID,Status,Total Matches,Covered Matches,Planned Matches,Coverage Percentage"),l.forEach(n=>{t.push(`${n.teamId},${n.status},${n.totalMatches},${n.coveredMatches},${n.plannedMatches},${n.coveragePercentage.toFixed(1)}%`)}),t.join(`
`)},Ud=(l,o)=>JSON.stringify({generated:new Date().toISOString(),summary:o,teams:l},null,2);var Wd=g('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="flex items-center gap-2 flex-shrink-0"><div></div> <div class="text-sm font-medium text-charcoal-50"> </div></div> <div class="text-xs text-charcoal-300"> <!></div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-charcoal-700 rounded-full overflow-hidden"><div></div></div> <div class="text-xs text-charcoal-300 w-12 text-right"> </div></div></div>'),Bd=g('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-charcoal-50 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Covered</div> <div class="text-2xl font-bold text-green-400 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Planned</div> <div class="text-2xl font-bold text-gold-500 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Uncovered</div> <div class="text-2xl font-bold text-charcoal-400 mb-1"> </div> <div class="text-xs text-charcoal-300"> </div></div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-charcoal-50">Overall Coverage Progress</div> <div class="text-xs text-charcoal-300"> </div></div> <div class="w-full h-3 bg-charcoal-700 rounded-full overflow-hidden"><div class="h-full bg-gold-500 transition-all duration-300"></div></div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-4"><div class="text-sm font-medium text-charcoal-50">Team Coverage Breakdown</div> <div class="flex gap-2"><button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Export CSV</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Export JSON</button></div></div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div></div>');function Hd(l,o){Et(o,!1);const t=P(),n=P(),i=P();let d=we(o,"matches",8);const p=va(Rt);function f(){const fe=Ld(e(n),e(i)),V=new Blob([fe],{type:"text/csv"}),pe=URL.createObjectURL(V),ve=document.createElement("a");ve.href=pe,ve.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.csv`,ve.click(),URL.revokeObjectURL(pe)}function S(){const fe=Ud(e(n),e(i)),V=new Blob([fe],{type:"application/json"}),pe=URL.createObjectURL(V),ve=document.createElement("a");ve.href=pe,ve.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.json`,ve.click(),URL.revokeObjectURL(pe)}ne(()=>(M(d()),ht),()=>{v(t,(()=>{const fe=new Map;return d().forEach(V=>{const pe=et(V);pe&&fe.set(pe,ht.getTeamStatus(pe))}),fe})())}),ne(()=>(M(d()),e(t),et),()=>{v(n,Rd(d(),p,e(t),et))}),ne(()=>(M(d()),e(t),et),()=>{v(i,jd(d(),p,e(t),et))}),Ut(),Ot();var _=Bd(),m=r(_),T=r(m),E=s(r(T),2),b=r(E);a(E);var x=s(E,2),y=r(x);a(x),a(T);var O=s(T,2),k=s(r(O),2),D=r(k,!0);a(k);var I=s(k,2),de=r(I);a(I),a(O);var he=s(O,2),K=s(r(he),2),se=r(K,!0);a(K);var le=s(K,2),ce=r(le);a(le),a(he);var q=s(he,2),z=s(r(q),2),U=r(z,!0);a(z);var G=s(z,2),Y=r(G);a(G),a(q),a(m);var ae=s(m,2),W=r(ae),me=s(r(W),2),Te=r(me);a(me),a(W);var Ie=s(W,2),Q=r(Ie);a(Ie),a(ae);var $e=s(ae,2),ee=r($e),te=s(r(ee),2),Ce=r(te);Ce.__click=f;var B=s(Ce,2);B.__click=S,a(te),a(ee);var oe=s(ee,2);at(oe,5,()=>e(n),rt,(fe,V)=>{var pe=Wd(),ve=r(pe),Pe=r(ve),j=r(Pe),ue=s(j,2),_e=r(ue);a(ue),a(Pe);var De=s(Pe,2),J=r(De),C=s(J);{var R=be=>{var Ue=$r();A(()=>w(Ue,`• ${e(V),c(()=>e(V).plannedMatches)??""} planned`)),h(be,Ue)};$(C,be=>{e(V),c(()=>e(V).plannedMatches>0)&&be(R)})}a(De),a(ve);var L=s(ve,2),N=r(L),F=r(N);a(N);var H=s(N,2),ie=r(H);a(H),a(L),a(pe),A((be,Ue)=>{Me(j,1,`w-3 h-3 rounded ${e(V),c(()=>e(V).status==="covered"?"bg-green-500":e(V).status==="partially-covered"?"bg-[#f59e0b]":e(V).status==="planned"?"bg-gold-500":"bg-[#808593]")??""}`),w(_e,`Team ${e(V),c(()=>e(V).teamId)??""}`),w(J,`${e(V),c(()=>e(V).coveredMatches)??""}/${e(V),c(()=>e(V).totalMatches)??""} matches `),Me(F,1,`h-full transition-all duration-300 ${e(V),c(()=>e(V).status==="covered"?"bg-green-500":e(V).status==="partially-covered"?"bg-[#f59e0b]":e(V).status==="planned"?"bg-gold-500":"bg-[#808593]")??""}`),Kt(F,`width: ${be??""}%;`),w(ie,`${Ue??""}%`)},[()=>(e(V),c(()=>Math.min(e(V).coveragePercentage,100))),()=>(e(V),c(()=>e(V).coveragePercentage.toFixed(0)))]),h(fe,pe)}),a(oe),a($e),a(_),A((fe,V,pe,ve,Pe)=>{w(b,`${fe??""}%`),w(y,`${e(i),c(()=>e(i).coveredTeams+e(i).partiallyCoveredTeams)??""} of ${e(i),c(()=>e(i).totalTeams)??""} teams`),w(D,(e(i),c(()=>e(i).coveredTeams))),w(de,`${e(i),c(()=>e(i).partiallyCoveredTeams)??""} partially covered`),w(se,(e(i),c(()=>e(i).plannedTeams))),w(ce,`${V??""}% of teams`),w(U,(e(i),c(()=>e(i).uncoveredTeams))),w(Y,`${pe??""}% remaining`),w(Te,`${ve??""}%`),Kt(Q,`width: ${Pe??""}%;`)},[()=>(e(i),c(()=>e(i).coveragePercentage.toFixed(1))),()=>(e(i),c(()=>e(i).plannedPercentage.toFixed(1))),()=>(e(i),c(()=>e(i).totalTeams>0?(e(i).uncoveredTeams/e(i).totalTeams*100).toFixed(1):0)),()=>(e(i),c(()=>e(i).coveragePercentage.toFixed(1))),()=>(e(i),c(()=>Math.min(e(i).coveragePercentage,100)))]),h(l,_),Pt()}Yt(["click"]);const Eo="teamMembers",Po="teamAssignments",oo=["#eab308","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Yd(){const{subscribe:l,set:o,update:t}=ha([]),{subscribe:n,set:i,update:d}=ha(new Map),{subscribe:u,set:p}=ha(null);{try{const _=localStorage.getItem(Eo);if(_){const m=JSON.parse(_);o(m),m.length>0&&p(m[0].id)}else{const m={id:"you",name:"You",color:oo[0],createdAt:Date.now()};o([m]),p("you")}}catch(_){console.error("Failed to load team coordination data:",_)}try{const _=localStorage.getItem(Po);if(_){const m=JSON.parse(_);i(new Map(Object.entries(m)))}}catch(_){console.error("Failed to load team assignments:",_)}}const f=_=>{try{localStorage.setItem(Eo,JSON.stringify(_))}catch(m){console.error("Failed to save team members:",m)}},S=_=>{try{const m=Object.fromEntries(_);localStorage.setItem(Po,JSON.stringify(m))}catch(m){console.error("Failed to save team assignments:",m)}};return{members:{subscribe:l},assignments:{subscribe:n},currentMemberId:{subscribe:u},setCurrentMemberId:_=>{p(_)},addMember:_=>{let m=new Set;l(b=>{m=new Set(b.map(x=>x.color))})();const T=oo.find(b=>!m.has(b))||oo[0],E={id:`member-${Date.now()}`,name:_,color:T,createdAt:Date.now()};return t(b=>{const x=[...b,E];return f(x),x}),p(E.id),E.id},removeMember:_=>{t(m=>{const T=m.filter(E=>E.id!==_);return f(T),T}),d(m=>{const T=new Map(m);return Array.from(T.entries()).forEach(([E,b])=>{b===_&&T.delete(E)}),S(T),T}),l(m=>{m.length>0&&p(m[0].id)})()},updateMember:(_,m)=>{t(T=>{const E=T.map(b=>b.id===_?{...b,...m}:b);return f(E),E})},assignTeam:(_,m)=>{d(T=>{const E=new Map(T);return E.set(_,m),S(E),E})},unassignTeam:_=>{d(m=>{const T=new Map(m);return T.delete(_),S(T),T})},getTeamAssignment:_=>{let m=null;return n(T=>{m=T.get(_)||null})(),m},getMember:_=>{let m=null;return l(T=>{m=T.find(E=>E.id===_)||null})(),m},getCurrentMember:()=>{let _=null;if(u(T=>{_=T})(),!_)return null;let m=null;return l(T=>{m=T.find(E=>E.id===_)||null})(),m},exportCoverageStatus:(_,m)=>{let T=null;u(D=>{T=D})();const E=m||T;if(!E)return JSON.stringify({});let b=null;l(D=>{b=D.find(I=>I.id===E)||null})();let x=new Map;n(D=>{x=D})();const y=Array.from(x.entries()).filter(([D,I])=>I===E).map(([D])=>D),O={};Array.from(_.entries()).forEach(([D,I])=>{y.includes(D)&&(O[D]=I)});const k={memberId:E,memberName:(b==null?void 0:b.name)||"Unknown",exportedAt:new Date().toISOString(),assignments:y.map(D=>({teamId:D})),coverageStatus:O};return JSON.stringify(k,null,2)},importCoverageStatus:(_,m="merge")=>{try{const T=JSON.parse(_);return!T.coverageStatus||!T.memberId?{success:!1,error:"Invalid data format: missing coverageStatus or memberId"}:(m==="merge"&&T.assignments&&d(E=>{const b=new Map(E);return T.assignments.forEach(x=>{b.set(x.teamId,T.memberId)}),S(b),b}),{success:!0})}catch(T){return{success:!1,error:T instanceof Error?T.message:"Unknown error"}}},mergeCoverageStatuses:_=>{const m=new Map;return _.forEach(({coverageStatus:T})=>{Object.entries(T).forEach(([E,b])=>{const x=m.get(E);if(!x)m.set(E,b);else{const y={covered:3,"partially-covered":2,planned:1,"not-covered":0};y[b]>y[x]&&m.set(E,b)}})}),m}}}const It=Yd();var Jd=g('<div class="mb-4 p-3 rounded bg-charcoal-700 border border-charcoal-600"><div class="flex gap-2"><input type="text" placeholder="Member name" class="flex-1 px-3 py-2 text-sm rounded bg-charcoal-800 text-charcoal-50 border border-charcoal-600 focus:border-[#eab308] focus:outline-none"/> <button class="px-3 py-2 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-[#facc15] transition-colors">Add</button></div></div>'),Vd=g('<input type="text" class="flex-1 px-2 py-1 text-sm rounded bg-charcoal-700 text-charcoal-50 border border-charcoal-600 focus:border-[#eab308] focus:outline-none"/>'),zd=g('<span class="text-[10px] text-charcoal-300">(Active)</span>'),Gd=g('<span class="text-[10px] text-charcoal-300"> </span>'),qd=g('<div class="flex items-center gap-2 flex-1 min-w-0"><button> </button> <!> <!></div>'),Xd=g('<button class="px-2 py-1 text-xs text-charcoal-300 hover:text-charcoal-50 transition-colors" title="Edit name">✏️</button>'),Qd=g('<button class="px-2 py-1 text-xs text-charcoal-300 hover:text-red-400 transition-colors" title="Remove member">✕</button>'),Kd=g('<div><div class="flex items-center gap-3 flex-1 min-w-0"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <!></div> <div class="flex items-center gap-2 flex-shrink-0"><!> <!></div></div>'),Zd=g('<div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-charcoal-50">Team Members</h3> <button class="px-3 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors"> </button></div> <!> <div class="space-y-2"></div></div>');function ev(l,o){Et(o,!1);const t=P();let n=P(!1),i=P(""),d=P(null);function u(){e(i).trim()&&(It.addMember(e(i).trim()),v(i,""),v(n,!1))}function p(x){if(It.members.length>1){const y=It.getMember(x);confirm(`Remove ${y==null?void 0:y.name}?`)&&It.removeMember(x)}else alert("Cannot remove the last team member")}ne(()=>It,()=>{v(t,(()=>{const x=new Map;return Array.from(It.assignments.values()).forEach(y=>{x.set(y,(x.get(y)||0)+1)}),x})())}),Ut(),Ot();var f=Zd(),S=r(f),_=s(r(S),2);_.__click=()=>v(n,!e(n));var m=r(_,!0);a(_),a(S);var T=s(S,2);{var E=x=>{var y=Jd(),O=r(y),k=r(O);Sa(k),Ga(k);var D=s(k,2);D.__click=u,a(O),a(y),Fa("keypress",k,I=>I.key==="Enter"&&u()),Ta(k,()=>e(i),I=>v(i,I)),h(x,y)};$(T,x=>{e(n)&&x(E)})}var b=s(T,2);at(b,5,()=>(M(It),c(()=>It.members)),rt,(x,y)=>{const O=ye(()=>(M(It),e(y),c(()=>It.currentMemberId===e(y).id))),k=ye(()=>(e(d),e(y),c(()=>e(d)===e(y).id))),D=ye(()=>(e(t),e(y),c(()=>e(t).get(e(y).id)||0)));var I=Kd(),de=r(I),he=r(de),K=s(he,2);{var se=Y=>{var ae=Vd();Sa(ae),Ga(ae),A(()=>cr(ae,(e(y),c(()=>e(y).name)))),Fa("blur",ae,W=>{W.target.value.trim()&&W.target.value!==e(y).name&&It.updateMember(e(y).id,{name:W.target.value.trim()}),v(d,null)}),Fa("keypress",ae,W=>{W.key==="Enter"&&W.currentTarget.blur()}),h(Y,ae)},le=Y=>{var ae=qd(),W=r(ae);W.__click=()=>It.setCurrentMemberId(e(y).id);var me=r(W,!0);a(W);var Te=s(W,2);{var Ie=ee=>{var te=zd();h(ee,te)};$(Te,ee=>{e(O)&&ee(Ie)})}var Q=s(Te,2);{var $e=ee=>{var te=Gd(),Ce=r(te);a(te),A(()=>w(Ce,`(${e(D)??""} team${e(D)!==1?"s":""})`)),h(ee,te)};$(Q,ee=>{e(D)>0&&ee($e)})}a(ae),A(()=>{Me(W,1,`text-sm font-medium truncate ${e(O)?"text-[#facc15]":"text-charcoal-50 hover:text-[#facc15]"} transition-colors`),w(me,(e(y),c(()=>e(y).name)))}),h(Y,ae)};$(K,Y=>{e(k)?Y(se):Y(le,!1)})}a(de);var ce=s(de,2),q=r(ce);{var z=Y=>{var ae=Xd();ae.__click=()=>v(d,e(y).id),h(Y,ae)};$(q,Y=>{e(k)||Y(z)})}var U=s(q,2);{var G=Y=>{var ae=Qd();ae.__click=()=>p(e(y).id),h(Y,ae)};$(U,Y=>{M(It),c(()=>It.members.length>1)&&Y(G)})}a(ce),a(I),A(()=>{Me(I,1,`flex items-center justify-between p-3 rounded border transition-colors ${e(O)?"border-[#eab308] bg-gold-500/10":"border-charcoal-700 bg-charcoal-800"}`),Kt(he,`background-color: ${e(y),c(()=>e(y).color)??""}`)}),h(x,I)}),a(b),a(f),A(()=>w(m,e(n)?"Cancel":"+ Add Member")),h(l,f),Pt()}Yt(["click"]);const tv=l=>{try{const o=JSON.stringify(l);return btoa(encodeURIComponent(o))}catch(o){throw console.error("Failed to encode coverage data:",o),new Error("Failed to encode coverage data")}},av=l=>{try{const o=l.startsWith("#")?l.slice(1):l,t=decodeURIComponent(atob(o)),n=JSON.parse(t);return!n.memberId||!n.coverageStatus?null:n}catch(o){return console.error("Failed to decode coverage data:",o),null}},rv=l=>{const o=tv(l),n=`${window.location.origin+window.location.pathname}#coverage=${o}`;return n.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using compression or export/import instead."),n},Go=()=>{const l=window.location.hash;if(!l||!l.includes("coverage="))return null;const o=l.match(/coverage=([^&]+)/);return o?av(o[1]):null},ov=()=>Go()!==null;var nv=g("<option> </option>"),sv=g('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-charcoal-800 border border-charcoal-700 rounded-lg p-6 max-w-md w-full"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-charcoal-50">Transfer Coverage</h3> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors">✕</button></div> <div class="space-y-4"><div><label class="text-xs text-charcoal-300 mb-1 block">Team</label> <div class="text-sm text-charcoal-50"> </div></div> <div><label class="text-xs text-charcoal-300 mb-1 block">From</label> <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div> <span class="text-sm text-charcoal-50"> </span></div></div> <div><label class="text-xs text-charcoal-300 mb-1 block">Transfer To</label> <select class="w-full px-3 py-2 text-sm rounded bg-charcoal-700 text-charcoal-50 border border-charcoal-600 focus:border-gold-500 focus:outline-none"><option>Select team member...</option><!></select></div> <div><label class="text-xs text-charcoal-300 mb-1 block">Notes (optional)</label> <textarea placeholder="Add any notes about this handoff..." class="w-full px-3 py-2 text-sm rounded bg-charcoal-700 text-charcoal-50 border border-charcoal-600 focus:border-gold-500 focus:outline-none resize-none"></textarea></div></div> <div class="flex gap-2 mt-6"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Cancel</button></div></div></div>');function lv(l,o){Et(o,!1);const t=P();let n=we(o,"teamId",8),i=we(o,"fromMemberId",8),d=we(o,"onClose",8),u=we(o,"onHandoff",8),p=P(""),f=P("");const S=It.getMember(i());function _(){e(p)&&(u()(e(p),e(f)),d()())}ne(()=>M(i()),()=>{v(t,It.members.filter(W=>W.id!==i()))}),Ut(),Ot();var m=sv(),T=r(m),E=r(T),b=s(r(E),2);b.__click=function(...W){var me;(me=d())==null||me.apply(this,W)},a(E);var x=s(E,2),y=r(x),O=s(r(y),2),k=r(O);a(O),a(y);var D=s(y,2),I=s(r(D),2),de=r(I),he=s(de,2),K=r(he,!0);a(he),a(I),a(D);var se=s(D,2),le=s(r(se),2);A(()=>{e(p),co(()=>{e(t)})});var ce=r(le);ce.value=ce.__value="";var q=s(ce);at(q,1,()=>e(t),rt,(W,me)=>{var Te=nv(),Ie=r(Te,!0);a(Te);var Q={};A(()=>{w(Ie,(e(me),c(()=>e(me).name))),Q!==(Q=(e(me),c(()=>e(me).id)))&&(Te.value=(Te.__value=(e(me),c(()=>e(me).id)))??"")}),h(W,Te)}),a(le),a(se);var z=s(se,2),U=s(r(z),2);qa(U),Ct(U,"rows",3),a(z),a(x);var G=s(x,2),Y=r(G);Y.__click=_;var ae=s(Y,2);ae.__click=function(...W){var me;(me=d())==null||me.apply(this,W)},a(G),a(T),a(m),A(()=>{w(k,`Team ${n()??""}`),Kt(de,`background-color: ${c(()=>S==null?void 0:S.color)??""}`),w(K,c(()=>(S==null?void 0:S.name)||"Unknown")),Y.disabled=!e(p)}),io(le,()=>e(p),W=>v(p,W)),Ta(U,()=>e(f),W=>v(f,W)),h(l,m),Pt()}Yt(["click"]);var cv=g('<div class="mt-2 text-xs text-red-400"> </div>'),iv=g('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-charcoal-800 border border-charcoal-700 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-charcoal-50">Import Coverage Status</h3> <button class="text-charcoal-300 hover:text-charcoal-50 transition-colors">✕</button></div> <textarea placeholder="Paste JSON data here..." class="w-full h-64 px-3 py-2 text-sm rounded bg-charcoal-700 text-charcoal-50 border border-charcoal-600 focus:border-gold-500 focus:outline-none font-mono"></textarea> <!> <div class="flex gap-2 mt-4"><button class="px-3 py-1.5 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-gold-400 transition-colors">Import</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Cancel</button></div></div></div>'),dv=g('<div class="flex items-center gap-3"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-charcoal-50"> </div> <div class="text-xs text-charcoal-300"> </div></div></div>'),vv=g('<div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><h3 class="text-sm font-semibold text-charcoal-50 mb-4">Coverage by Team Member</h3> <div class="space-y-3"></div></div>'),uv=g("<option> </option>"),hv=g('<div class="flex items-center justify-between p-2 rounded bg-charcoal-700 border border-charcoal-600"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-charcoal-50"> </span> <span class="text-xs text-charcoal-300"> </span></div> <select class="px-2 py-1 text-xs rounded bg-charcoal-800 text-charcoal-200 border border-charcoal-600 focus:border-gold-500 focus:outline-none"><option>Assign...</option><!></select></div>'),fv=g('<div class="mb-6"><h4 class="text-xs font-medium text-charcoal-400 uppercase tracking-wider mb-2"> </h4> <div class="space-y-1"></div></div>'),mv=g('<div class="flex items-center justify-between p-2 rounded bg-charcoal-700 border border-charcoal-600"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-charcoal-50"> </span> <span class="text-xs text-charcoal-300"> </span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs text-charcoal-300 hover:text-gold-500 transition-colors" title="Transfer to another member">↪</button> <button class="px-2 py-1 text-xs text-charcoal-300 hover:text-red-400 transition-colors" title="Unassign">✕</button></div></div>'),xv=g('<div class="mb-6"><div class="flex items-center gap-2 mb-2"><div class="w-3 h-3 rounded-full"></div> <h4 class="text-xs font-medium text-charcoal-50 uppercase tracking-wider"> </h4></div> <div class="space-y-1"></div></div>'),gv=g('<div class="space-y-6"><div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-charcoal-50">Share Coverage Status</h3> <div class="flex gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Export JSON</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Generate Link</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600 transition-colors">Import JSON</button></div></div> <p class="text-xs text-charcoal-300">Export your coverage status to share with team members, generate a shareable link, or import coverage status from others.</p></div> <!> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4"><div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Total Teams</div> <div class="text-2xl font-bold text-charcoal-50"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Assigned</div> <div class="text-2xl font-bold text-green-400"> </div></div> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><div class="text-xs text-charcoal-300 uppercase tracking-wider mb-1">Unassigned</div> <div class="text-2xl font-bold text-charcoal-400"> </div></div></div> <!> <div class="rounded-lg border border-charcoal-700 bg-charcoal-800 p-4"><h3 class="text-sm font-semibold text-charcoal-50 mb-4">Team Assignments</h3> <!> <!></div> <!></div>');function pv(l,o){Et(o,!1);const t=P(),n=P(),i=P(),d=P();let u=we(o,"matches",8),p=P(!1),f=P(""),S=P(null),_=P(null);Ca(()=>{if(ov()){const B=Go();B&&(v(f,JSON.stringify(B,null,2)),v(p,!0),window.history.replaceState(null,"",window.location.pathname))}});function m(){const B=It.exportCoverageStatus(e(t)),oe=new Blob([B],{type:"application/json"}),fe=URL.createObjectURL(oe),V=document.createElement("a");V.href=fe,V.download=`coverage-status-${new Date().toISOString().split("T")[0]}.json`,V.click(),URL.revokeObjectURL(fe)}function T(){const B=It.getCurrentMember();if(!B){alert("Please select a team member first");return}const oe={memberId:B.id,memberName:B.name,exportedAt:new Date().toISOString(),assignments:[],coverageStatus:{}},fe=new Map;u().forEach(pe=>{const ve=et(pe);ve&&(fe.has(ve)||fe.set(ve,{teamId:ve,status:ht.getTeamStatus(ve),assignment:It.getTeamAssignment(ve)}))}),Array.from(fe.entries()).forEach(([pe,ve])=>{ve.assignment===B.id&&(oe.assignments.push({teamId:pe}),oe.coverageStatus[pe]=ve.status)});const V=rv(oe);navigator.clipboard.writeText(V).then(()=>{alert("Shareable link copied to clipboard!")}).catch(()=>{prompt("Shareable link (copy this):",V)})}function E(B,oe,fe,V){It.assignTeam(B,fe),console.log(`Handoff: Team ${B} from ${oe} to ${fe}`,V),v(_,null)}function b(){try{v(S,null);const B=It.importCoverageStatus(e(f),"merge");if(B.success){try{const oe=JSON.parse(e(f));oe.coverageStatus&&Object.entries(oe.coverageStatus).forEach(([fe,V])=>{ht.setTeamStatus(fe,V)})}catch(oe){console.error("Failed to import coverage status:",oe)}v(p,!1),v(f,""),alert("Coverage status imported successfully!")}else v(S,B.error||"Import failed")}catch(B){v(S,B instanceof Error?B.message:"Unknown error")}}ne(()=>(M(u()),ht),()=>{v(t,(()=>{const B=new Map;return u().forEach(oe=>{const fe=et(oe);fe&&B.set(fe,ht.getTeamStatus(fe))}),B})())}),ne(()=>(M(u()),It),()=>{v(n,(()=>{const B=new Map;return u().forEach(oe=>{const fe=et(oe);fe&&(B.has(fe)||B.set(fe,{teamId:fe,status:ht.getTeamStatus(fe),assignment:It.getTeamAssignment(fe),matches:[]}),B.get(fe).matches.push(oe))}),B})())}),ne(()=>e(n),()=>{v(i,(()=>{const B=e(n).size,oe=Array.from(e(n).values()).filter(ve=>ve.assignment!==null).length,fe=B-oe,V=new Map;Array.from(e(n).values()).forEach(ve=>{ve.assignment&&(V.has(ve.teamId)||V.set(ve.teamId,[]),V.get(ve.teamId).push(ve.assignment))});const pe=new Map;return Array.from(e(n).values()).forEach(ve=>{if(ve.assignment){const Pe=pe.get(ve.assignment)||{covered:0,partiallyCovered:0,planned:0,uncovered:0};ve.status==="covered"?Pe.covered++:ve.status==="partially-covered"?Pe.partiallyCovered++:ve.status==="planned"?Pe.planned++:Pe.uncovered++,pe.set(ve.assignment,Pe)}}),{totalTeams:B,assignedTeams:oe,unassignedTeams:fe,coverageByMember:pe,assignmentConflicts:V}})())}),ne(()=>e(n),()=>{v(d,(()=>{const B=new Map;return Array.from(e(n).values()).forEach(oe=>{const fe=oe.assignment||"unassigned";B.has(fe)||B.set(fe,[]),B.get(fe).push(oe)}),B})())}),Ut(),Ot();var x=gv(),y=r(x),O=r(y),k=s(r(O),2),D=r(k);D.__click=m;var I=s(D,2);I.__click=T;var de=s(I,2);de.__click=()=>v(p,!0),a(k),a(O),_a(2),a(y);var he=s(y,2);{var K=B=>{var oe=iv(),fe=r(oe),V=r(fe),pe=s(r(V),2);pe.__click=()=>{v(p,!1),v(f,""),v(S,null)},a(V);var ve=s(V,2);qa(ve);var Pe=s(ve,2);{var j=J=>{var C=cv(),R=r(C,!0);a(C),A(()=>w(R,e(S))),h(J,C)};$(Pe,J=>{e(S)&&J(j)})}var ue=s(Pe,2),_e=r(ue);_e.__click=b;var De=s(_e,2);De.__click=()=>{v(p,!1),v(f,""),v(S,null)},a(ue),a(fe),a(oe),Ta(ve,()=>e(f),J=>v(f,J)),h(B,oe)};$(he,B=>{e(p)&&B(K)})}var se=s(he,2),le=r(se),ce=s(r(le),2),q=r(ce,!0);a(ce),a(le);var z=s(le,2),U=s(r(z),2),G=r(U,!0);a(U),a(z);var Y=s(z,2),ae=s(r(Y),2),W=r(ae,!0);a(ae),a(Y),a(se);var me=s(se,2);{var Te=B=>{var oe=vv(),fe=s(r(oe),2);at(fe,5,()=>(M(It),c(()=>It.members)),rt,(V,pe)=>{const ve=ye(()=>(e(i),e(pe),c(()=>e(i).coverageByMember.get(e(pe).id)||{covered:0,partiallyCovered:0,planned:0,uncovered:0}))),Pe=ye(()=>(M(e(ve)),c(()=>e(ve).covered+e(ve).partiallyCovered+e(ve).planned+e(ve).uncovered)));var j=dv(),ue=r(j),_e=s(ue,2),De=r(_e),J=r(De,!0);a(De);var C=s(De,2),R=r(C);a(C),a(_e),a(j),A(()=>{Kt(ue,`background-color: ${e(pe),c(()=>e(pe).color)??""}`),w(J,(e(pe),c(()=>e(pe).name))),w(R,`${e(Pe)??""} team${e(Pe)!==1?"s":""} • ${M(e(ve)),c(()=>e(ve).covered)??""} covered • ${M(e(ve)),c(()=>e(ve).planned)??""} planned`)}),h(V,j)}),a(fe),a(oe),h(B,oe)};$(me,B=>{M(It),c(()=>It.members.length>0)&&B(Te)})}var Ie=s(me,2),Q=s(r(Ie),2);{var $e=B=>{var oe=fv(),fe=r(oe),V=r(fe);a(fe);var pe=s(fe,2);at(pe,5,()=>(e(d),c(()=>e(d).get("unassigned"))),rt,(ve,Pe)=>{var j=hv(),ue=r(j),_e=r(ue),De=s(_e,2),J=r(De);a(De);var C=s(De,2),R=r(C);a(C),a(ue);var L=s(ue,2);L.__change=H=>{H.target.value&&It.assignTeam(e(Pe).teamId,H.target.value)};var N=r(L);N.value=N.__value="";var F=s(N);at(F,1,()=>(M(It),c(()=>It.members)),rt,(H,ie)=>{var be=uv(),Ue=r(be,!0);a(be);var We={};A(()=>{w(Ue,(e(ie),c(()=>e(ie).name))),We!==(We=(e(ie),c(()=>e(ie).id)))&&(be.value=(be.__value=(e(ie),c(()=>e(ie).id)))??"")}),h(H,be)}),a(L),L.value=L.__value="",a(j),A(()=>{Me(_e,1,`w-2 h-2 rounded ${e(Pe),c(()=>e(Pe).status==="covered"?"bg-green-500":e(Pe).status==="partially-covered"?"bg-[#f59e0b]":e(Pe).status==="planned"?"bg-gold-500":"bg-[#808593]")??""}`),w(J,`Team ${e(Pe),c(()=>e(Pe).teamId)??""}`),w(R,`(${e(Pe),c(()=>e(Pe).matches.length)??""} matches)`)}),h(ve,j)}),a(pe),a(oe),A(ve=>w(V,`Unassigned (${ve??""})`),[()=>(e(d),c(()=>e(d).get("unassigned").length))]),h(B,oe)};$(Q,B=>{e(d),c(()=>e(d).has("unassigned"))&&B($e)})}var ee=s(Q,2);at(ee,1,()=>(M(It),c(()=>It.members)),rt,(B,oe)=>{const fe=ye(()=>(e(d),e(oe),c(()=>e(d).get(e(oe).id)||[])));var V=Dt(),pe=lt(V);{var ve=Pe=>{var j=xv(),ue=r(j),_e=r(ue),De=s(_e,2),J=r(De);a(De),a(ue);var C=s(ue,2);at(C,5,()=>e(fe),rt,(R,L)=>{var N=mv(),F=r(N),H=r(F),ie=s(H,2),be=r(ie);a(ie);var Ue=s(ie,2),We=r(Ue);a(Ue),a(F);var ze=s(F,2),xe=r(ze);xe.__click=()=>v(_,{teamId:e(L).teamId,fromMemberId:e(oe).id});var ke=s(xe,2);ke.__click=()=>It.unassignTeam(e(L).teamId),a(ze),a(N),A(()=>{Me(H,1,`w-2 h-2 rounded ${e(L),c(()=>e(L).status==="covered"?"bg-green-500":e(L).status==="partially-covered"?"bg-[#f59e0b]":e(L).status==="planned"?"bg-gold-500":"bg-[#808593]")??""}`),w(be,`Team ${e(L),c(()=>e(L).teamId)??""}`),w(We,`(${e(L),c(()=>e(L).matches.length)??""} matches)`)}),h(R,N)}),a(C),a(j),A(()=>{Kt(_e,`background-color: ${e(oe),c(()=>e(oe).color)??""}`),w(J,`${e(oe),c(()=>e(oe).name)??""} (${M(e(fe)),c(()=>e(fe).length)??""})`)}),h(Pe,j)};$(pe,Pe=>{M(e(fe)),c(()=>e(fe).length>0)&&Pe(ve)})}h(B,V)}),a(Ie);var te=s(Ie,2);{var Ce=B=>{lv(B,{get teamId(){return e(_),c(()=>e(_).teamId)},get fromMemberId(){return e(_),c(()=>e(_).fromMemberId)},onClose:()=>v(_,null),onHandoff:(oe,fe)=>E(e(_).teamId,e(_).fromMemberId,oe,fe)})};$(te,B=>{e(_)&&B(Ce)})}a(x),A(()=>{w(q,(e(i),c(()=>e(i).totalTeams))),w(G,(e(i),c(()=>e(i).assignedTeams))),w(W,(e(i),c(()=>e(i).unassignedTeams)))}),h(l,x),Pt()}Yt(["click","change"]);var bv=g('<span class="ml-2 text-red-400"> </span>'),_v=g('<div class="flex items-center gap-1 bg-charcoal-800 rounded-lg p-1 border border-charcoal-700 mx-4 overflow-x-auto scrollbar-hide svelte-1r7fm91"><button type="button">Plan</button> <button type="button">Analytics</button> <button type="button">Stats</button> <button type="button">Team</button></div>'),yv=g('<div class="text-center py-12 text-charcoal-300 text-sm"><p>No matches selected yet</p> <p class="text-xs text-charcoal-400 mt-2">Click matches in the timeline or list to add them to your coverage plan</p></div>'),wv=g('<span class="ml-2 text-gold-500"> </span>'),Sv=g('<button class="px-2 py-1 text-xs font-medium rounded-lg bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors border border-charcoal-600" title="Previous conflict">← Prev</button> <button class="px-2 py-1 text-xs font-medium rounded-lg bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors border border-charcoal-600" title="Next conflict">Next →</button>',1),Tv=g('<div class="text-[10px] font-semibold text-gold-500 px-1.5 py-0.5 rounded bg-gold-500/20">ACTIVE</div>'),kv=g('<div class="flex-shrink-0 text-[10px] font-semibold text-gold-500 px-1.5 py-0.5 rounded bg-gold-500/20">KEEP</div>'),Mv=g('<div class="text-[10px] text-charcoal-400 mt-0.5"> </div>'),Cv=g('<button class="px-2 py-1 text-[10px] font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Remove</button>'),$v=g('<div><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-charcoal-50"> </span> <span class="text-xs text-[#facc15] font-medium"> </span> <span class="text-xs text-charcoal-200"> </span></div> <!></div> <!></div>'),Iv=g('<div><div class="flex items-center gap-2 mb-2"><div class="text-xs font-medium text-warning-500"> </div> <!></div> <div class="space-y-2"></div></div>'),Dv=g('<div class="border border-red-800/50 rounded-lg bg-red-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-red-400">⚠️ Conflicts Detected</h4> <p class="text-xs text-charcoal-300 mt-0.5"> <!></p></div> <div class="flex items-center gap-2"><!> <button class="px-3 py-1.5 text-xs font-medium rounded-lg bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Auto-Resolve</button></div></div> <div class="space-y-3"></div></div>'),Ev=g('<span class="text-[10px] px-1.5 py-0.5 rounded bg-gold-500/20 text-gold-500 border border-gold-500/50">Uncovered</span>'),Pv=g('<div class="flex items-center gap-2 px-2 py-1.5 rounded bg-green-950/20 border border-green-500/30"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-charcoal-50"> </span> <span class="text-xs text-green-400 font-medium"> </span> <span class="text-xs text-charcoal-200"> </span> <!></div> <div class="text-[10px] text-charcoal-400 mt-0.5"> </div></div> <button class="px-2 py-1 text-xs font-medium rounded transition-colors bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30">Add</button></div>'),Ov=g('<div class="border border-green-500/50 rounded-lg bg-green-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-green-400">💡 Coverage Opportunities</h4> <p class="text-xs text-charcoal-300 mt-0.5"> </p></div></div> <div class="space-y-2"></div></div>'),Nv=g('<div class="flex-shrink-0 text-[10px] font-semibold text-red-400 px-1.5 py-0.5 rounded bg-red-950/50">CONFLICT</div>'),Av=g("<div></div>"),Fv=g('<div class="fixed inset-0 z-40"></div> <div class="absolute right-0 top-full mt-1 z-50"><!></div>',1),Rv=g('<div class="relative flex-shrink-0"><button title="Set coverage status"> </button> <!></div>'),jv=g('<div><button aria-label="Remove from plan"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></button> <!> <div class="flex-shrink-0 w-20 text-sm font-semibold text-charcoal-50"> </div> <div class="flex-shrink-0 w-24 text-sm font-bold text-[#facc15]"> </div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><div class="text-sm font-bold text-charcoal-50"> </div> <!></div> <div class="text-xs text-charcoal-200 truncate"> </div></div> <!> <div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div></div>'),Lv=g('<div class="space-y-2"><div class="flex items-center gap-2 pb-2 border-b border-charcoal-700"><h4 class="text-sm font-semibold text-charcoal-50"> </h4> <span class="text-xs text-charcoal-400"> </span></div> <!></div>'),Uv=g('<div class="space-y-4"><!> <!> <div class="space-y-4"></div></div>'),Wv=g('<div class="space-y-4"><!> <!></div>'),Bv=g('<div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 border-t border-charcoal-700 bg-charcoal-700/50"><div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600">Mark All as Planned</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600">Mark All as Covered</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors text-charcoal-300 hover:text-charcoal-50 hover:bg-charcoal-700">Clear Plan</button></div> <div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600" title="Copy plan to clipboard">Copy</button> <div class="flex items-center gap-1 bg-charcoal-800 rounded-lg p-1 border border-charcoal-700"><button class="px-2 py-1 text-xs font-medium rounded transition-colors text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-700" title="Export as JSON">JSON</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-700" title="Export as CSV">CSV</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-700" title="Export as Text">TXT</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-700" title="Export as Calendar (ICS)">📅 ICS</button></div></div></div>'),Hv=g('<div class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity lg:flex lg:items-center lg:justify-center lg:p-4" role="dialog" aria-modal="true" aria-label="Coverage plan" tabindex="-1"><div class="fixed bottom-0 left-0 right-0 max-h-[90vh] lg:relative lg:max-w-3xl lg:max-h-[90vh] lg:rounded-lg border border-charcoal-700 lg:border-t bg-charcoal-800 lg:bg-charcoal-800 overflow-hidden flex flex-col transform transition-transform lg:transform-none" role="dialog" tabindex="-1"><div class="sticky top-0 bg-charcoal-700/50 lg:bg-charcoal-700/50 border-b border-charcoal-700 px-4 py-3 flex items-center justify-between z-10"><div class="absolute top-2 left-1/2 -translate-x-1/2 w-12 h-1 bg-charcoal-600 rounded-full lg:hidden"></div> <div class="flex-1 ml-auto lg:ml-0"><h3 class="text-base sm:text-lg font-semibold text-charcoal-50">My Coverage Plan</h3> <div class="flex items-center gap-3 mt-1 flex-wrap"><p class="text-xs text-charcoal-300"> <!> <!></p> <select id="coverage-status-filter-panel" class="px-2 py-1 text-xs rounded bg-charcoal-700 text-charcoal-200 border border-charcoal-600 focus:border-brand-500 focus:outline-none"><option>All Status</option><option>Uncovered</option><option>Planned</option><option>Covered</option></select></div></div> <!> <button type="button" class="text-charcoal-300 hover:text-charcoal-50 transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] lg:min-w-0 lg:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 lg:w-4 lg:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <!></div></div>');function Yv(l,o){Et(o,!1);const t=P(),n=P(),i=P(),d=P(),u=P(),p=P(),f=P();let S=we(o,"matches",8),_=we(o,"onClose",8),m=P(),T=null,E=P(0),b=P("plan"),x=P("all"),y=P(null),O=P(0),k=P([]);function D(C){return(e(n).get(C)||[]).map(L=>e(t).find(N=>N.MatchId===L)).filter(Boolean)}Ca(()=>{if(e(m))return T=Ar(C=>{C.direction==="down"&&C.distance>100&&_()(),v(E,0)},{onMove:(C,R)=>{R==="down"&&v(E,Math.min(C,200))},onCancel:()=>{v(E,0)}}),e(m).addEventListener("touchstart",T.handleTouchStart,{passive:!0}),e(m).addEventListener("touchmove",T.handleTouchMove,{passive:!0}),e(m).addEventListener("touchend",T.handleTouchEnd,{passive:!0}),e(m).addEventListener("touchcancel",T.handleTouchCancel,{passive:!0}),document.body.style.overflow="hidden",()=>{T&&(e(m).removeEventListener("touchstart",T.handleTouchStart),e(m).removeEventListener("touchmove",T.handleTouchMove),e(m).removeEventListener("touchend",T.handleTouchEnd),e(m).removeEventListener("touchcancel",T.handleTouchCancel),T.destroy()),document.body.style.overflow=""}}),Ka(()=>{document.body.style.overflow=""});function I(){e(d).length>0&&v(O,(e(O)+1)%e(d).length)}function de(){e(d).length>0&&v(O,(e(O)-1+e(d).length)%e(d).length)}function he(C){return C.InvolvedTeam==="first"?C.SecondTeamText:C.InvolvedTeam==="second"?C.FirstTeamText:`${C.FirstTeamText} vs ${C.SecondTeamText}`}function K(){var H;const C={plan:{createdAt:new Date().toISOString(),totalMatches:e(t).length,totalCoverageTime:e(u),conflicts:e(d).length},matches:e(t).map(ie=>({MatchId:ie.MatchId,Date:Xt(ie.ScheduledStartDateTime),Time:ot(ie.ScheduledStartDateTime),Court:ie.CourtName,Team:et(ie)||ie.Division.CodeAlias,Opponent:he(ie),Division:ie.Division.CodeAlias,FirstTeam:ie.FirstTeamText,SecondTeam:ie.SecondTeamText,StartTime:new Date(ie.ScheduledStartDateTime).toISOString(),EndTime:new Date(ie.ScheduledEndDateTime).toISOString()}))},R=JSON.stringify(C,null,2),L=new Blob([R],{type:"application/json"}),N=URL.createObjectURL(L),F=document.createElement("a");F.href=N,F.download=`coverage-plan-${Xt(((H=e(t)[0])==null?void 0:H.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.json`,F.click(),URL.revokeObjectURL(N)}function se(){var ie;const C=["Date","Time","Court","Team","Opponent","Division","First Team","Second Team","Start Time","End Time"],R=e(t).map(be=>[Xt(be.ScheduledStartDateTime),ot(be.ScheduledStartDateTime),be.CourtName,et(be)||be.Division.CodeAlias,he(be),be.Division.CodeAlias,be.FirstTeamText,be.SecondTeamText,new Date(be.ScheduledStartDateTime).toISOString(),new Date(be.ScheduledEndDateTime).toISOString()]),L=[C.join(","),...R.map(be=>be.map(Ue=>`"${Ue}"`).join(","))].join(`
`),N=new Blob([L],{type:"text/csv"}),F=URL.createObjectURL(N),H=document.createElement("a");H.href=F,H.download=`coverage-plan-${Xt(((ie=e(t)[0])==null?void 0:ie.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.csv`,H.click(),URL.revokeObjectURL(F)}function le(){var F;let C=`COVERAGE PLAN
`;C+=`${"=".repeat(50)}

`,C+=`Total Matches: ${e(t).length}
`,C+=`Total Coverage Time: ${Math.floor(e(u)/60)}h ${e(u)%60}m
`,e(d).length>0&&(C+=`Conflicts: ${e(d).length}
`),C+=`
`,e(f).forEach(H=>{const ie=e(p)[H];C+=`${H}
`,C+=`${"-".repeat(50)}
`,ie.forEach(be=>{const Ue=et(be),We=he(be);C+=`${ot(be.ScheduledStartDateTime)} | ${be.CourtName} | ${Ue||be.Division.CodeAlias} vs ${We}
`}),C+=`
`});const R=new Blob([C],{type:"text/plain"}),L=URL.createObjectURL(R),N=document.createElement("a");N.href=L,N.download=`coverage-plan-${Xt(((F=e(t)[0])==null?void 0:F.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.txt`,N.click(),URL.revokeObjectURL(L)}function ce(){var F;const C=Dd(e(t),et,he,"Coverage Plan"),R=new Blob([C],{type:"text/calendar;charset=utf-8"}),L=URL.createObjectURL(R),N=document.createElement("a");N.href=L,N.download=`coverage-plan-${Xt(((F=e(t)[0])==null?void 0:F.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.ics`,N.click(),URL.revokeObjectURL(L)}async function q(){let C=`COVERAGE PLAN
`;C+=`${"=".repeat(50)}

`,C+=`Total Matches: ${e(t).length}
`,C+=`Total Coverage Time: ${Math.floor(e(u)/60)}h ${e(u)%60}m
`,e(d).length>0&&(C+=`Conflicts: ${e(d).length}
`),C+=`
`,e(f).forEach(R=>{const L=e(p)[R];C+=`${R}
`,C+=`${"-".repeat(50)}
`,L.forEach(N=>{const F=et(N),H=he(N);C+=`${ot(N.ScheduledStartDateTime)} | ${N.CourtName} | ${F||N.Division.CodeAlias} vs ${H}
`}),C+=`
`});try{await navigator.clipboard.writeText(C),alert("Coverage plan copied to clipboard!")}catch(R){console.error("Failed to copy to clipboard:",R),alert("Failed to copy to clipboard. Please try exporting instead.")}}ne(()=>(M(S()),ht),()=>{if(S().length>0){const C=new Map,R=va(Rt);S().forEach(L=>{const N=et(L);if(!N)return;const F=C.get(N)||{total:0,inPlan:0};F.total++,R.has(L.MatchId)&&F.inPlan++,C.set(N,F)}),C.forEach((L,N)=>{ht.updateFromPlan(N,L.inPlan,L.total)})}}),ne(()=>(M(S()),e(x),ht),()=>{v(t,(()=>{const C=va(Rt);let R=S().filter(L=>C.has(L.MatchId)).sort((L,N)=>L.ScheduledStartDateTime-N.ScheduledStartDateTime);return e(x)!=="all"&&(R=R.filter(L=>{const N=et(L);return N?ht.getTeamStatus(N)===e(x):!1})),R})())}),ne(()=>e(t),()=>{v(n,ir(e(t)))}),ne(()=>(M(S()),no),()=>{v(i,(()=>{const C=ir(S()),L=va(Rt),N=new Map;return S().forEach(F=>{const H=et(F);H&&N.set(H,ht.getTeamStatus(H))}),no(S(),L,C,N,et,{preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:5})})())}),ne(()=>(e(n),e(t)),()=>{v(d,(()=>{if(e(n).size===0)return[];const C=[],R=new Set;return e(t).forEach(L=>{if(R.has(L.MatchId))return;const N=e(n).get(L.MatchId);if(!N||N.length===0)return;const F=[L,...N.map(H=>e(t).find(ie=>ie.MatchId===H)).filter(Boolean)];F.forEach(H=>R.add(H.MatchId)),C.push({matches:F.sort((H,ie)=>H.ScheduledStartDateTime-ie.ScheduledStartDateTime),conflictCount:F.length})}),C})())}),ne(()=>(e(d),e(O)),()=>{e(d).length>0&&e(O)>=e(d).length?v(O,0):e(d).length===0&&v(O,0)}),ne(()=>(e(d),e(k),e(O)),()=>{e(d).length>0&&e(k)[e(O)]&&setTimeout(()=>{var C;(C=e(k)[e(O)])==null||C.scrollIntoView({behavior:"smooth",block:"center"})},100)}),ne(()=>e(t),()=>{v(u,(()=>{if(e(t).length===0)return 0;const C=Math.min(...e(t).map(L=>L.ScheduledStartDateTime)),R=Math.max(...e(t).map(L=>L.ScheduledEndDateTime));return Math.floor((R-C)/6e4)})())}),ne(()=>(e(t),Xt),()=>{v(p,(()=>{const C={};return e(t).forEach(R=>{const L=Xt(R.ScheduledStartDateTime);C[L]||(C[L]=[]),C[L].push(R)}),C})())}),ne(()=>e(p),()=>{v(f,Object.keys(e(p)).sort((C,R)=>{const L=new Date(C).getTime(),N=new Date(R).getTime();return L-N}))}),Ut(),Ot();var z=Hv();z.__click=function(...C){var R;(R=_())==null||R.apply(this,C)},z.__keydown=C=>C.key==="Escape"&&_()();var U=r(z);U.__click=C=>C.stopPropagation(),U.__keydown=C=>C.stopPropagation();var G=r(U),Y=s(r(G),2),ae=s(r(Y),2),W=r(ae),me=r(W),Te=s(me);{var Ie=C=>{var R=$r();A(L=>w(R,`• ${L??""}h ${e(u)%60}m coverage`),[()=>(e(u),c(()=>Math.floor(e(u)/60)))]),h(C,R)};$(Te,C=>{e(u)>0&&C(Ie)})}var Q=s(Te,2);{var $e=C=>{var R=bv(),L=r(R);a(R),A(()=>w(L,`• ${e(d),c(()=>e(d).length)??""} conflict${e(d),c(()=>e(d).length!==1?"s":"")??""}`)),h(C,R)};$(Q,C=>{e(d),c(()=>e(d).length>0)&&C($e)})}a(W);var ee=s(W,2);ee.__change=C=>v(x,C.target.value);var te=r(ee);te.value=te.__value="all";var Ce=s(te);Ce.value=Ce.__value="not-covered";var B=s(Ce);B.value=B.__value="planned";var oe=s(B);oe.value=oe.__value="covered",a(ee);var fe;fa(ee),a(ae),a(Y);var V=s(Y,2);{var pe=C=>{var R=_v(),L=r(R);L.__click=()=>v(b,"plan");var N=s(L,2);N.__click=()=>v(b,"analytics");var F=s(N,2);F.__click=()=>v(b,"stats");var H=s(F,2);H.__click=()=>v(b,"coordination"),a(R),A(()=>{Me(L,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap flex-shrink-0 min-h-[44px] lg:min-h-0 ${e(b)==="plan"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(N,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap flex-shrink-0 min-h-[44px] lg:min-h-0 ${e(b)==="analytics"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(F,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap flex-shrink-0 min-h-[44px] lg:min-h-0 ${e(b)==="stats"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(H,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors whitespace-nowrap flex-shrink-0 min-h-[44px] lg:min-h-0 ${e(b)==="coordination"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`)}),h(C,R)};$(V,C=>{e(t),c(()=>e(t).length>0)&&C(pe)})}var ve=s(V,2);ve.__click=function(...C){var R;(R=_())==null||R.apply(this,C)},a(G);var Pe=s(G,2),j=r(Pe);{var ue=C=>{var R=Dt(),L=lt(R);{var N=H=>{var ie=yv();h(H,ie)},F=H=>{var ie=Uv(),be=r(ie);{var Ue=ke=>{var Le=Dv(),qe=r(Le),ft=r(qe),Ze=s(r(ft),2),Xe=r(Ze),st=s(Xe);{var St=vt=>{var dt=wv(),Qe=r(dt);a(dt),A(()=>w(Qe,`• Conflict ${e(O)+1} of ${e(d),c(()=>e(d).length)??""}`)),h(vt,dt)};$(st,vt=>{e(d),c(()=>e(d).length>0)&&vt(St)})}a(Ze),a(ft);var ct=s(ft,2),mt=r(ct);{var Ee=vt=>{var dt=Sv(),Qe=lt(dt);Qe.__click=de;var ut=s(Qe,2);ut.__click=I,h(vt,dt)};$(mt,vt=>{e(d),c(()=>e(d).length>1)&&vt(Ee)})}var tt=s(mt,2);tt.__click=()=>{e(d).forEach(vt=>{vt.matches.slice(1).forEach(dt=>{Rt.deselectMatch(dt.MatchId)})})},a(ct),a(qe);var it=s(qe,2);at(it,5,()=>e(d),rt,(vt,dt,Qe)=>{var ut=Iv(),jt=r(ut),Wt=r(jt),ea=r(Wt);a(Wt);var zt=s(Wt,2);{var ta=Tt=>{var bt=Tv();h(Tt,bt)};$(zt,Tt=>{Qe===e(O)&&Tt(ta)})}a(jt);var $t=s(jt,2);at($t,5,()=>(e(dt),c(()=>e(dt).matches)),rt,(Tt,bt,aa)=>{const Jt=ye(()=>(M(et),e(bt),c(()=>et(e(bt))))),Je=ye(()=>(e(bt),c(()=>D(e(bt).MatchId)))),He=ye(()=>aa===0);var Ke=$v(),wt=r(Ke);{var Nt=nt=>{var _t=kv();h(nt,_t)};$(wt,nt=>{e(He)&&nt(Nt)})}var ge=s(wt,2),Se=r(ge),Ae=r(Se),Be=r(Ae,!0);a(Ae);var Z=s(Ae,2),re=r(Z,!0);a(Z);var X=s(Z,2),Oe=r(X,!0);a(X),a(Se);var Fe=s(Se,2);{var Re=nt=>{var _t=Mv(),Ye=r(_t);a(_t),A(()=>w(Ye,`Conflicts with ${M(e(Je)),c(()=>e(Je).length)??""} other match${M(e(Je)),c(()=>e(Je).length!==1?"es":"")??""}`)),h(nt,_t)};$(Fe,nt=>{M(e(Je)),c(()=>e(Je).length>0)&&nt(Re)})}a(ge);var Ge=s(ge,2);{var pt=nt=>{var _t=Cv();_t.__click=()=>Rt.deselectMatch(e(bt).MatchId),h(nt,_t)};$(Ge,nt=>{e(He)||nt(pt)})}a(Ke),A(nt=>{Me(Ke,1,`flex items-center gap-2 px-2 py-1.5 rounded ${e(He)?"bg-gold-500/10 border border-gold-500/30":"bg-charcoal-700/50"}`),w(Be,nt),w(re,(e(bt),c(()=>e(bt).CourtName))),w(Oe,(M(e(Jt)),e(bt),c(()=>e(Jt)||e(bt).Division.CodeAlias)))},[()=>(M(ot),e(bt),c(()=>ot(e(bt).ScheduledStartDateTime)))]),h(Tt,Ke)}),a($t),a(ut),Xa(ut,(Tt,bt)=>dn(k,e(k)[bt]=Tt),Tt=>{var bt;return(bt=e(k))==null?void 0:bt[Tt]},()=>[Qe]),A(()=>{Me(ut,1,`border rounded p-3 transition-all ${Qe===e(O)?"border-gold-500 bg-gold-500/5":"border-warning-500/30 bg-charcoal-800/50"}`),w(ea,`Conflict Group ${Qe+1}: ${e(dt),c(()=>e(dt).conflictCount)??""} overlapping match${e(dt),c(()=>e(dt).conflictCount!==1?"es":"")??""}`)}),h(vt,ut)}),a(it),a(Le),A(()=>w(Xe,`${e(d),c(()=>e(d).length)??""} conflict group${e(d),c(()=>e(d).length!==1?"s":"")??""} in your plan `)),h(ke,Le)};$(be,ke=>{e(d),c(()=>e(d).length>0)&&ke(Ue)})}var We=s(be,2);{var ze=ke=>{var Le=Ov(),qe=r(Le),ft=r(qe),Ze=s(r(ft),2),Xe=r(Ze);a(Ze),a(ft),a(qe);var st=s(qe,2);at(st,5,()=>e(i),rt,(St,ct)=>{const mt=ye(()=>(e(ct),c(()=>e(ct).match))),Ee=ye(()=>(M(et),M(e(mt)),c(()=>et(e(mt))))),tt=ye(()=>(M(e(Ee)),M(ht),c(()=>e(Ee)?ht.getTeamStatus(e(Ee)):"not-covered")));var it=Pv(),vt=r(it),dt=r(vt),Qe=r(dt),ut=r(Qe,!0);a(Qe);var jt=s(Qe,2),Wt=r(jt,!0);a(jt);var ea=s(jt,2),zt=r(ea,!0);a(ea);var ta=s(ea,2);{var $t=Jt=>{var Je=Ev();h(Jt,Je)};$(ta,Jt=>{e(tt)==="not-covered"&&Jt($t)})}a(dt);var Tt=s(dt,2),bt=r(Tt,!0);a(Tt),a(vt);var aa=s(vt,2);aa.__click=()=>Rt.selectMatch(e(mt).MatchId),a(it),A(Jt=>{w(ut,Jt),w(Wt,(M(e(mt)),c(()=>e(mt).CourtName))),w(zt,(M(e(Ee)),M(e(mt)),c(()=>e(Ee)||e(mt).Division.CodeAlias))),w(bt,(e(ct),c(()=>e(ct).reason)))},[()=>(M(ot),M(e(mt)),c(()=>ot(e(mt).ScheduledStartDateTime)))]),h(St,it)}),a(st),a(Le),A(()=>w(Xe,`${e(i),c(()=>e(i).length)??""} suggestion${e(i),c(()=>e(i).length!==1?"s":"")??""} (prioritizing uncovered teams)`)),h(ke,Le)};$(We,ke=>{e(i),c(()=>e(i).length>0)&&ke(ze)})}var xe=s(We,2);at(xe,5,()=>e(f),rt,(ke,Le)=>{const qe=ye(()=>(e(p),e(Le),c(()=>e(p)[e(Le)])));var ft=Lv(),Ze=r(ft),Xe=r(Ze),st=r(Xe,!0);a(Xe);var St=s(Xe,2),ct=r(St);a(St),a(Ze);var mt=s(Ze,2);at(mt,1,()=>e(qe),rt,(Ee,tt)=>{const it=ye(()=>(M(et),e(tt),c(()=>et(e(tt))))),vt=ye(()=>(e(tt),c(()=>he(e(tt))))),dt=ye(()=>(e(n),e(tt),c(()=>e(n).has(e(tt).MatchId))));var Qe=jv(),ut=r(Qe);ut.__click=()=>Rt.toggleMatch(e(tt).MatchId);var jt=r(ut);a(ut);var Wt=s(ut,2);{var ea=re=>{var X=Nv();h(re,X)};$(Wt,re=>{e(dt)&&re(ea)})}var zt=s(Wt,2),ta=r(zt,!0);a(zt);var $t=s(zt,2),Tt=r($t,!0);a($t);var bt=s($t,2),aa=r(bt),Jt=r(aa),Je=r(Jt,!0);a(Jt);var He=s(Jt,2);{var Ke=re=>{const X=ye(()=>(M(ht),M(e(it)),c(()=>ht.getTeamStatus(e(it)))));var Oe=Av();A(()=>{Me(Oe,1,`w-2 h-2 rounded ${e(X)==="covered"?"bg-green-500":e(X)==="partially-covered"?"bg-[#f59e0b]":e(X)==="planned"?"bg-gold-500":"bg-[#808593]"}`),Ct(Oe,"title",`Status: ${e(X)??""}`)}),h(re,Oe)};$(He,re=>{e(it)&&re(Ke)})}a(aa);var wt=s(aa,2),Nt=r(wt);a(wt),a(bt);var ge=s(bt,2);{var Se=re=>{var X=Rv(),Oe=r(X);Oe.__click=pt=>{pt.stopPropagation(),v(y,e(y)===e(it)?null:e(it))};var Fe=r(Oe,!0);a(Oe);var Re=s(Oe,2);{var Ge=pt=>{var nt=Fv(),_t=lt(nt);_t.__click=()=>v(y,null);var Ye=s(_t,2),oa=r(Ye);{let Mt=ye(()=>(M(ht),M(e(it)),c(()=>ht.getTeamStatus(e(it)))));ho(oa,{get teamId(){return e(it)},get currentStatus(){return e(Mt)},onStatusChange:Ne=>{ht.setTeamStatus(e(it),Ne),v(y,null)},onClose:()=>v(y,null)})}a(Ye),h(pt,nt)};$(Re,pt=>{e(y)===e(it)&&pt(Ge)})}a(X),A(pt=>{Me(Oe,1,`px-2 py-1 text-xs rounded transition-colors ${e(y)===e(it)?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 hover:bg-charcoal-600 border border-charcoal-600"}`),w(Fe,pt)},[()=>(M(ht),M(e(it)),c(()=>(()=>{const pt=ht.getTeamStatus(e(it));return pt==="covered"?"✓":pt==="partially-covered"?"◐":pt==="planned"?"📋":"○"})()))]),h(re,X)};$(ge,re=>{e(it)&&re(Se)})}var Ae=s(ge,2),Be=r(Ae),Z=r(Be,!0);a(Be),a(Ae),a(Qe),A(re=>{Me(Qe,1,`flex items-center gap-3 px-3 py-2.5 rounded border ${e(dt)?"border-red-800/50 bg-red-950/10":"border-gold-500/50 bg-gold-500/5"}`),Me(ut,1,`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center hover:opacity-80 transition-colors ${e(dt)?"border-red-800/50 bg-red-950/20":"border-gold-500 bg-gold-500/20"}`),Me(jt,0,`w-3 h-3 ${e(dt)?"text-red-400":"text-[#facc15]"}`),w(ta,re),w(Tt,(e(tt),c(()=>e(tt).CourtName))),w(Je,(M(e(it)),e(tt),c(()=>e(it)||e(tt).Division.CodeAlias))),w(Nt,`vs ${e(vt)??""}`),Kt(Be,`background-color: ${e(tt),c(()=>e(tt).Division.ColorHex)??""}20; color: ${e(tt),c(()=>e(tt).Division.ColorHex)??""}; border: 1px solid ${e(tt),c(()=>e(tt).Division.ColorHex)??""}40;`),w(Z,(e(tt),c(()=>e(tt).Division.CodeAlias)))},[()=>(M(ot),e(tt),c(()=>ot(e(tt).ScheduledStartDateTime)))]),h(Ee,Qe)}),a(ft),A(()=>{w(st,e(Le)),w(ct,`(${M(e(qe)),c(()=>e(qe).length)??""} match${M(e(qe)),c(()=>e(qe).length!==1?"es":"")??""})`)}),h(ke,ft)}),a(xe),a(ie),h(H,ie)};$(L,H=>{e(t),c(()=>e(t).length===0)?H(N):H(F,!1)})}h(C,R)},_e=C=>{var R=Dt(),L=lt(R);{var N=H=>{Fd(H,{get matches(){return S()}})},F=H=>{var ie=Dt(),be=lt(ie);{var Ue=ze=>{Hd(ze,{get matches(){return S()}})},We=ze=>{var xe=Wv(),ke=r(xe);ev(ke,{});var Le=s(ke,2);pv(Le,{get matches(){return S()}}),a(xe),h(ze,xe)};$(be,ze=>{e(b)==="stats"?ze(Ue):ze(We,!1)},!0)}h(H,ie)};$(L,H=>{e(b)==="analytics"?H(N):H(F,!1)},!0)}h(C,R)};$(j,C=>{e(b)==="plan"?C(ue):C(_e,!1)})}a(Pe);var De=s(Pe,2);{var J=C=>{var R=Bv(),L=r(R),N=r(L);N.__click=()=>{e(t).forEach(Le=>{const qe=et(Le);qe&&ht.setTeamStatus(qe,"planned")}),alert("All matches marked as Planned")};var F=s(N,2);F.__click=()=>{e(t).forEach(Le=>{const qe=et(Le);qe&&ht.setTeamStatus(qe,"covered")}),alert("All matches marked as Covered")};var H=s(F,2);H.__click=()=>Rt.clearPlan(),a(L);var ie=s(L,2),be=r(ie);be.__click=q;var Ue=s(be,2),We=r(Ue);We.__click=K;var ze=s(We,2);ze.__click=se;var xe=s(ze,2);xe.__click=le;var ke=s(xe,2);ke.__click=ce,a(Ue),a(ie),a(R),h(C,R)};$(De,C=>{e(t),e(b),c(()=>e(t).length>0&&e(b)==="plan")&&C(J)})}a(U),Xa(U,C=>v(m,C),()=>e(m)),a(z),A(()=>{Kt(U,`transform: translateY(${e(E)??""}px); padding-bottom: env(safe-area-inset-bottom);`),w(me,`${e(t),c(()=>e(t).length)??""} match${e(t),c(()=>e(t).length!==1?"es":"")??""} selected `),fe!==(fe=e(x))&&(ee.value=(ee.__value=e(x))??"",ua(ee,e(x)))}),h(l,z),Pt()}Yt(["click","keydown","change"]);var Jv=g('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Vv=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-charcoal-700 border border-charcoal-600 rounded text-charcoal-200 focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors">Cancel</button></div></div>'),zv=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><div class="text-xs text-charcoal-300 mb-1">Note:</div> <div class="text-sm text-charcoal-200 whitespace-pre-wrap"> </div></div>'),Gv=g('<div class="px-4 py-3 rounded-lg border-2 border-[#eab308] bg-gold-500/10 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-charcoal-50"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-charcoal-50"> </div> <div class="text-xs text-charcoal-300 mt-1"> </div></div> <button> </button></div> <!></div>'),qv=g('<div><h3 class="text-sm font-semibold text-[#facc15] mb-3 uppercase tracking-wider">Live Now</h3> <div class="space-y-2"></div></div>'),Xv=g('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Qv=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-charcoal-700 border border-charcoal-600 rounded text-charcoal-200 focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors">Cancel</button></div></div>'),Kv=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><div class="text-xs text-charcoal-300 mb-1">Note:</div> <div class="text-sm text-charcoal-200 whitespace-pre-wrap"> </div></div>'),Zv=g('<div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800 hover:border-charcoal-600 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-charcoal-50"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-charcoal-50"> </div> <div class="text-xs text-charcoal-300 mt-1"> </div></div> <button> </button></div> <!></div>'),eu=g('<div><h3 class="text-sm font-semibold text-charcoal-50 mb-3 uppercase tracking-wider">Upcoming Matches</h3> <div class="space-y-2"></div></div>'),tu=g('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),au=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-charcoal-700 border border-charcoal-600 rounded text-charcoal-200 focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-gold-500 text-charcoal-950 hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 transition-colors">Cancel</button></div></div>'),ru=g('<div class="mt-3 pt-3 border-t border-charcoal-700"><div class="text-xs text-charcoal-300 mb-1">Note:</div> <div class="text-sm text-charcoal-200 whitespace-pre-wrap"> </div></div>'),ou=g('<div class="px-4 py-3 rounded-lg border border-charcoal-700 bg-charcoal-800/50 opacity-75 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-xs font-semibold text-charcoal-50"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-sm font-bold text-charcoal-50"> </div> <div class="text-xs text-charcoal-300 mt-1"> </div></div> <button> </button></div> <!></div>'),nu=g('<div><h3 class="text-sm font-semibold text-charcoal-300 mb-3 uppercase tracking-wider">Match History</h3> <div class="space-y-2"></div></div>'),su=g('<div class="text-center py-12 text-charcoal-300 text-sm"> </div>'),lu=g('<div class="space-y-6"><div class="border-b border-charcoal-700 pb-4"><h2 class="text-xl font-bold text-charcoal-50"> </h2> <div class="text-sm text-charcoal-300 mt-1"> </div></div> <!> <!> <!> <!></div>');function cu(l,o){Et(o,!1);const t=P(),n=P(),i=P(),d=P();let u=we(o,"matches",8),p=we(o,"teamId",8),f=we(o,"teamName",8),S=we(o,"eventId",8,"");const _=Yo(S());let m=P(null),T=P("");const E=Date.now();function b(W){return W.InvolvedTeam==="first"?W.SecondTeamText:W.InvolvedTeam==="second"?W.FirstTeamText:`${W.FirstTeamText} vs ${W.SecondTeamText}`}function x(W){v(m,W),v(T,_.getNote(W))}function y(W){_.setNote(W,e(T)),v(m,null),v(T,"")}function O(){v(m,null),v(T,"")}function k(W){_.deleteNote(W),v(m,null)}ne(()=>(M(u()),M(p())),()=>{v(t,u().filter(W=>et(W)===p()).sort((W,me)=>W.ScheduledStartDateTime-me.ScheduledStartDateTime))}),ne(()=>e(t),()=>{v(n,e(t).filter(W=>W.ScheduledEndDateTime<E))}),ne(()=>e(t),()=>{v(i,e(t).filter(W=>W.ScheduledStartDateTime<=E&&W.ScheduledEndDateTime>=E))}),ne(()=>e(t),()=>{v(d,e(t).filter(W=>W.ScheduledStartDateTime>E))}),Ut(),Ot();var D=lu(),I=r(D),de=r(I),he=r(de,!0);a(de);var K=s(de,2),se=r(K);a(K),a(I);var le=s(I,2);{var ce=W=>{var me=qv(),Te=s(r(me),2);at(Te,5,()=>e(i),rt,(Ie,Q)=>{const $e=ye(()=>(e(Q),c(()=>_.hasNote(e(Q).MatchId)))),ee=ye(()=>(e(m),e(Q),c(()=>e(m)===e(Q).MatchId))),te=ye(()=>(e(Q),c(()=>_.getNote(e(Q).MatchId))));var Ce=Gv(),B=r(Ce),oe=r(B),fe=r(oe),V=r(fe),pe=r(V,!0);a(V);var ve=s(V,2),Pe=r(ve,!0);a(ve),a(fe);var j=s(fe,2),ue=r(j);a(j);var _e=s(j,2),De=r(_e,!0);a(_e),a(oe);var J=s(oe,2);J.__click=()=>e(ee)?O():x(e(Q).MatchId);var C=r(J,!0);a(J),a(B);var R=s(B,2);{var L=F=>{var H=Vv(),ie=r(H);qa(ie),Ct(ie,"rows",3),Ga(ie);var be=s(ie,2),Ue=r(be);Ue.__click=()=>y(e(Q).MatchId);var We=s(Ue,2);{var ze=ke=>{var Le=Jv();Le.__click=()=>k(e(Q).MatchId),h(ke,Le)};$(We,ke=>{e($e)&&ke(ze)})}var xe=s(We,2);xe.__click=O,a(be),a(H),Ta(ie,()=>e(T),ke=>v(T,ke)),h(F,H)},N=F=>{var H=Dt(),ie=lt(H);{var be=Ue=>{var We=zv(),ze=s(r(We),2),xe=r(ze,!0);a(ze),a(We),A(()=>w(xe,e(te))),h(Ue,We)};$(ie,Ue=>{e($e)&&Ue(be)},!0)}h(F,H)};$(R,F=>{e(ee)?F(L):F(N,!1)})}a(Ce),A((F,H)=>{w(pe,F),w(Pe,(e(Q),c(()=>e(Q).CourtName))),w(ue,`vs ${H??""}`),w(De,(e(Q),c(()=>e(Q).Division.CodeAlias))),Me(J,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e($e)||e(ee)?"bg-gold-500 text-charcoal-950 hover:bg-[#facc15]":"bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 border border-charcoal-600"}`),Ct(J,"title",e($e)?"Edit note":"Add note"),w(C,e($e)?"📝":"📄")},[()=>(M(ot),e(Q),c(()=>ot(e(Q).ScheduledStartDateTime))),()=>(e(Q),c(()=>b(e(Q))))]),h(Ie,Ce)}),a(Te),a(me),h(W,me)};$(le,W=>{e(i),c(()=>e(i).length>0)&&W(ce)})}var q=s(le,2);{var z=W=>{var me=eu(),Te=s(r(me),2);at(Te,5,()=>e(d),rt,(Ie,Q)=>{const $e=ye(()=>(e(Q),c(()=>_.hasNote(e(Q).MatchId)))),ee=ye(()=>(e(m),e(Q),c(()=>e(m)===e(Q).MatchId))),te=ye(()=>(e(Q),c(()=>_.getNote(e(Q).MatchId))));var Ce=Zv(),B=r(Ce),oe=r(B),fe=r(oe),V=r(fe),pe=r(V,!0);a(V);var ve=s(V,2),Pe=r(ve,!0);a(ve),a(fe);var j=s(fe,2),ue=r(j);a(j);var _e=s(j,2),De=r(_e,!0);a(_e),a(oe);var J=s(oe,2);J.__click=()=>e(ee)?O():x(e(Q).MatchId);var C=r(J,!0);a(J),a(B);var R=s(B,2);{var L=F=>{var H=Qv(),ie=r(H);qa(ie),Ct(ie,"rows",3),Ga(ie);var be=s(ie,2),Ue=r(be);Ue.__click=()=>y(e(Q).MatchId);var We=s(Ue,2);{var ze=ke=>{var Le=Xv();Le.__click=()=>k(e(Q).MatchId),h(ke,Le)};$(We,ke=>{e($e)&&ke(ze)})}var xe=s(We,2);xe.__click=O,a(be),a(H),Ta(ie,()=>e(T),ke=>v(T,ke)),h(F,H)},N=F=>{var H=Dt(),ie=lt(H);{var be=Ue=>{var We=Kv(),ze=s(r(We),2),xe=r(ze,!0);a(ze),a(We),A(()=>w(xe,e(te))),h(Ue,We)};$(ie,Ue=>{e($e)&&Ue(be)},!0)}h(F,H)};$(R,F=>{e(ee)?F(L):F(N,!1)})}a(Ce),A((F,H)=>{w(pe,F),w(Pe,(e(Q),c(()=>e(Q).CourtName))),w(ue,`vs ${H??""}`),w(De,(e(Q),c(()=>e(Q).Division.CodeAlias))),Me(J,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e($e)||e(ee)?"bg-gold-500 text-charcoal-950 hover:bg-[#facc15]":"bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 border border-charcoal-600"}`),Ct(J,"title",e($e)?"Edit note":"Add note"),w(C,e($e)?"📝":"📄")},[()=>(M(ot),e(Q),c(()=>ot(e(Q).ScheduledStartDateTime))),()=>(e(Q),c(()=>b(e(Q))))]),h(Ie,Ce)}),a(Te),a(me),h(W,me)};$(q,W=>{e(d),c(()=>e(d).length>0)&&W(z)})}var U=s(q,2);{var G=W=>{var me=nu(),Te=s(r(me),2);at(Te,5,()=>e(n),rt,(Ie,Q)=>{const $e=ye(()=>(e(Q),c(()=>_.hasNote(e(Q).MatchId)))),ee=ye(()=>(e(m),e(Q),c(()=>e(m)===e(Q).MatchId))),te=ye(()=>(e(Q),c(()=>_.getNote(e(Q).MatchId))));var Ce=ou(),B=r(Ce),oe=r(B),fe=r(oe),V=r(fe),pe=r(V);a(V);var ve=s(V,2),Pe=r(ve,!0);a(ve),a(fe);var j=s(fe,2),ue=r(j);a(j);var _e=s(j,2),De=r(_e,!0);a(_e),a(oe);var J=s(oe,2);J.__click=()=>e(ee)?O():x(e(Q).MatchId);var C=r(J,!0);a(J),a(B);var R=s(B,2);{var L=F=>{var H=au(),ie=r(H);qa(ie),Ct(ie,"rows",3),Ga(ie);var be=s(ie,2),Ue=r(be);Ue.__click=()=>y(e(Q).MatchId);var We=s(Ue,2);{var ze=ke=>{var Le=tu();Le.__click=()=>k(e(Q).MatchId),h(ke,Le)};$(We,ke=>{e($e)&&ke(ze)})}var xe=s(We,2);xe.__click=O,a(be),a(H),Ta(ie,()=>e(T),ke=>v(T,ke)),h(F,H)},N=F=>{var H=Dt(),ie=lt(H);{var be=Ue=>{var We=ru(),ze=s(r(We),2),xe=r(ze,!0);a(ze),a(We),A(()=>w(xe,e(te))),h(Ue,We)};$(ie,Ue=>{e($e)&&Ue(be)},!0)}h(F,H)};$(R,F=>{e(ee)?F(L):F(N,!1)})}a(Ce),A((F,H,ie)=>{w(pe,`${F??""} • ${H??""}`),w(Pe,(e(Q),c(()=>e(Q).CourtName))),w(ue,`vs ${ie??""}`),w(De,(e(Q),c(()=>e(Q).Division.CodeAlias))),Me(J,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e($e)||e(ee)?"bg-gold-500 text-charcoal-950 hover:bg-[#facc15]":"bg-charcoal-700 text-charcoal-200 hover:bg-charcoal-600 border border-charcoal-600"}`),Ct(J,"title",e($e)?"Edit note":"Add note"),w(C,e($e)?"📝":"📄")},[()=>(M(Xt),e(Q),c(()=>Xt(e(Q).ScheduledStartDateTime))),()=>(M(ot),e(Q),c(()=>ot(e(Q).ScheduledStartDateTime))),()=>(e(Q),c(()=>b(e(Q))))]),h(Ie,Ce)}),a(Te),a(me),h(W,me)};$(U,W=>{e(n),c(()=>e(n).length>0)&&W(G)})}var Y=s(U,2);{var ae=W=>{var me=su(),Te=r(me);a(me),A(()=>w(Te,`No matches found for ${f()??""}`)),h(W,me)};$(Y,W=>{e(t),c(()=>e(t).length===0)&&W(ae)})}a(D),A(()=>{w(he,f()),w(se,`${e(t),c(()=>e(t).length)??""} total match${e(t),c(()=>e(t).length!==1?"es":"")??""}`)}),h(l,D),Pt()}Yt(["click"]);var iu=g('<div class="px-4 py-3 rounded-lg border border-charcoal-600 bg-charcoal-700/30"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-charcoal-50"> </div> <div class="text-xs font-medium text-charcoal-300"> </div></div> <div class="text-sm text-charcoal-200"> </div> <div class="text-xs text-charcoal-300 mt-1"> </div></div>'),du=g('<div><h3 class="text-sm font-semibold text-charcoal-300 mb-2 uppercase tracking-wider"> </h3> <div class="space-y-2"></div></div>'),vu=g('<div class="space-y-4"></div>'),uu=g('<div class="text-center py-12 text-charcoal-300 text-sm"> <div class="text-xs text-charcoal-400 mt-2">Work assignments will appear here when assigned by tournament officials.</div></div>'),hu=g('<div class="space-y-6"><div class="border-b border-charcoal-700 pb-4"><h2 class="text-xl font-bold text-charcoal-50">Work Assignments</h2> <div class="text-sm text-charcoal-300 mt-1"> </div></div> <!></div>');function fu(l,o){Et(o,!1);const t=P(),n=P(),i=P();let d=we(o,"matches",8),u=we(o,"teamId",8),p=we(o,"teamName",8);ne(()=>(M(d()),M(u())),()=>{v(t,d().filter(x=>(et(x)===u(),!1)).sort((x,y)=>x.ScheduledStartDateTime-y.ScheduledStartDateTime))}),ne(()=>(e(t),Xt),()=>{v(n,(()=>{const x={};return e(t).forEach(y=>{const O=Xt(y.ScheduledStartDateTime);x[O]||(x[O]=[]),x[O].push(y)}),x})())}),ne(()=>e(n),()=>{v(i,Object.keys(e(n)).sort())}),Ut(),Ot();var f=hu(),S=r(f),_=s(r(S),2),m=r(_);a(_),a(S);var T=s(S,2);{var E=x=>{var y=vu();at(y,5,()=>e(i),rt,(O,k)=>{var D=du(),I=r(D),de=r(I,!0);a(I);var he=s(I,2);at(he,5,()=>(e(n),e(k),c(()=>e(n)[e(k)])),rt,(K,se)=>{var le=iu(),ce=r(le),q=r(ce),z=r(q,!0);a(q);var U=s(q,2),G=r(U,!0);a(U),a(ce);var Y=s(ce,2),ae=r(Y);a(Y);var W=s(Y,2),me=r(W);a(W),a(le),A(Te=>{w(z,Te),w(G,(e(se),c(()=>e(se).CourtName))),w(ae,`${e(se),c(()=>e(se).FirstTeamText)??""} vs ${e(se),c(()=>e(se).SecondTeamText)??""}`),w(me,`${e(se),c(()=>e(se).Division.CodeAlias)??""} • Work Assignment`)},[()=>(M(ot),e(se),c(()=>ot(e(se).ScheduledStartDateTime)))]),h(K,le)}),a(he),a(D),A(()=>w(de,e(k))),h(O,D)}),a(y),h(x,y)},b=x=>{var y=uu(),O=r(y);_a(),a(y),A(()=>w(O,`No work assignments found for ${p()??""} `)),h(x,y)};$(T,x=>{e(t),c(()=>e(t).length>0)?x(E):x(b,!1)})}a(f),A(()=>w(m,`${p()??""} • ${e(t),c(()=>e(t).length)??""} assignment${e(t),c(()=>e(t).length!==1?"s":"")??""}`)),h(l,f),Pt()}var mu=g('<span class="ml-2 text-[10px] opacity-75"> </span>'),xu=g("<button> <!></button>"),gu=g('<div class="border-b border-charcoal-700 pb-4"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-charcoal-300 uppercase tracking-wider">Select Team:</span> <!></div></div>'),pu=g('<div class="text-center py-12 text-charcoal-300 text-sm">Select a team to view matches and work assignments</div>'),bu=g('<div class="space-y-4"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-xl font-bold text-charcoal-50">Coach View</h1> <p class="text-sm text-charcoal-300 mt-1">View matches and work assignments by team</p></div> <div class="flex items-center gap-2 bg-charcoal-700 rounded-lg p-1"><button>Matches</button> <button>Work Assignments</button></div></div> <!> <!> <!></div>');function _u(l,o){Et(o,!1);const t=P(),n=P(),i=P(),d=P();let u=we(o,"matches",8),p=we(o,"eventId",8),f=we(o,"clubId",8),S=P(null),_=P(null),m=P("matches");function T(le){var q;v(S,le);const ce=(q=e(n)[le])==null?void 0:q[0];ce&&v(_,ce)}ne(()=>M(u()),()=>{v(t,fr(u()))}),ne(()=>(M(u()),et),()=>{v(n,(()=>{const le={};return u().forEach(ce=>{const q=et(ce);q&&(le[q]||(le[q]=[]),le[q].push(ce))}),le})())}),ne(()=>(e(S),e(n)),()=>{v(i,e(S)?e(n)[e(S)]||[]:[])}),ne(()=>(e(t),e(n)),()=>{v(d,[...e(t)].sort((le,ce)=>{var U,G;const q=((U=e(n)[le])==null?void 0:U.length)||0;return(((G=e(n)[ce])==null?void 0:G.length)||0)-q}))}),Ut(),Ot();var E=bu(),b=r(E),x=s(r(b),2),y=r(x);y.__click=()=>v(m,"matches");var O=s(y,2);O.__click=()=>v(m,"work"),a(x),a(b);var k=s(b,2);{var D=le=>{var ce=gu(),q=r(ce),z=s(r(q),2);at(z,1,()=>e(d),rt,(U,G)=>{var Y=xu();Y.__click=()=>T(e(G));var ae=r(Y),W=s(ae);{var me=Te=>{var Ie=mu(),Q=r(Ie);a(Ie),A(()=>w(Q,`(${e(n),e(G),c(()=>e(n)[e(G)].length)??""})`)),h(Te,Ie)};$(W,Te=>{e(n),e(G),c(()=>e(n)[e(G)])&&Te(me)})}a(Y),A(()=>{Me(Y,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(S)===e(G)?"bg-gold-500 text-charcoal-950":"bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 border border-charcoal-600"}`),w(ae,`${e(G)??""} `)}),h(U,Y)}),a(q),a(ce),h(le,ce)};$(k,le=>{e(t),c(()=>e(t).length>0)&&le(D)})}var I=s(k,2);{var de=le=>{var ce=Dt(),q=lt(ce);{var z=G=>{cu(G,{get matches(){return u()},teamId,get teamName(){return e(S)},get eventId(){return p()}})},U=G=>{fu(G,{get matches(){return u()},teamId,get teamName(){return e(S)}})};$(q,G=>{e(m)==="matches"?G(z):G(U,!1)})}h(le,ce)},he=le=>{var ce=pu();h(le,ce)};$(I,le=>{e(S)?le(de):le(he,!1)})}var K=s(I,2);{var se=le=>{uo(le,{get match(){return e(_)},get eventId(){return p()},get clubId(){return f()},onClose:()=>v(_,null),get matches(){return u()}})};$(K,le=>{e(_)&&le(se)})}a(E),A(()=>{Me(y,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(m)==="matches"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`),Me(O,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(m)==="work"?"bg-gold-500 text-charcoal-950":"text-charcoal-200 hover:text-charcoal-50"}`)}),h(l,E),Pt()}Yt(["click"]);var yu=g('<h2 class="text-sm font-semibold uppercase tracking-wider text-charcoal-50">Filters</h2>'),wu=g('<div class="w-6 h-6 flex items-center justify-center"><span class="text-lg">🎯</span></div>'),Su=g("<option> </option>"),Tu=g("<option> </option>"),ku=g('<button class="w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors" style="background-color: #252529; color: #a1a1a6; border: 1px solid #2a2a2f;"> </button>'),Mu=g('<div class="flex-1 overflow-y-auto p-4 space-y-3"><div class="pb-3 border-b border-charcoal-900"><label for="wave-filter-sidebar" class="block text-xs font-medium uppercase tracking-wider mb-2 text-left text-charcoal-300">Wave</label> <div class="flex gap-2"><button>All</button> <button>AM</button> <button>PM</button></div></div> <div class="pb-3 border-b border-charcoal-900"><label for="sidebar-division" class="block text-xs font-medium uppercase tracking-wider mb-2 text-left text-charcoal-300">Division</label> <select id="sidebar-division" class="w-full px-3 py-2 rounded-lg text-sm focus:border-brand-500 focus:outline-none text-left bg-surface-200 text-charcoal-50 border border-charcoal-900"><option>All Divisions</option><!></select></div> <div class="pb-3 border-b border-charcoal-900"><label for="sidebar-team" class="block text-xs font-medium uppercase tracking-wider mb-2 text-left text-charcoal-300">Team</label> <select id="sidebar-team" class="w-full px-3 py-2 rounded-lg text-sm focus:border-brand-500 focus:outline-none text-left bg-surface-200 text-charcoal-50 border border-charcoal-900"><option>All Teams</option><!></select></div> <div class="pb-3 border-b border-charcoal-900"><label for="time-range-filter-sidebar" class="block text-xs font-medium uppercase tracking-wider mb-2 text-left text-charcoal-300">Time Range</label> <div class="space-y-2"><div><label for="sidebar-time-start" class="block text-xs mb-1 text-charcoal-500">Start</label> <input id="sidebar-time-start" type="time" class="w-full px-3 py-2 rounded-lg text-sm focus:border-brand-500 focus:outline-none bg-surface-200 text-charcoal-50 border border-charcoal-900"/></div> <div><label for="sidebar-time-end" class="block text-xs mb-1" style="color: #6e6e73;">End</label> <input id="sidebar-time-end" type="time" class="w-full px-3 py-2 rounded-lg text-sm focus:border-[#eab308] focus:outline-none" style="background-color: #252529; color: #f5f5f7; border: 1px solid #2a2a2f;"/></div></div></div> <!></div>'),Cu=g('<div class="w-12 h-12 flex items-center justify-center rounded-lg" style="background-color: #252529;"><span class="text-xs font-medium" style="color: #eab308;"> </span></div>'),$u=g('<div class="flex-1 overflow-y-auto p-2 space-y-2"><button class="w-12 h-12 flex items-center justify-center rounded-lg transition-colors" style="background-color: #252529; color: #a1a1a6;" title="Toggle Wave">🌊</button> <!></div>'),Iu=g('<div class="p-3 rounded-lg border" style="background-color: #252529; border-color: #2a2a2f;"><div class="text-xs mb-1" style="color: #6e6e73;">Conflicts</div> <div class="text-xl font-bold" style="color: #ef4444;"> </div></div>'),Du=g('<h3 class="text-xs font-semibold uppercase tracking-wider mb-3" style="color: #a1a1a6;">Quick Stats</h3> <div class="space-y-3"><div class="p-3 rounded-lg border" style="background-color: #252529; border-color: #2a2a2f;"><div class="text-xs mb-1" style="color: #6e6e73;">Total Matches</div> <div class="text-xl font-bold" style="color: #f5f5f7;"> </div></div> <!></div>',1),Eu=g('<div class="w-12 h-12 flex flex-col items-center justify-center rounded-lg" style="background-color: #252529;"><span class="text-xs font-medium" style="color: #ef4444;"> </span> <span class="text-xs" style="color: #6e6e73;">⚠️</span></div>'),Pu=g('<div class="space-y-2"><div class="w-12 h-12 flex flex-col items-center justify-center rounded-lg" style="background-color: #252529;"><span class="text-xs font-medium" style="color: #f5f5f7;"> </span> <span class="text-xs" style="color: #6e6e73;">📊</span></div> <!></div>'),Ou=g('<aside style="max-width: 250px;"><div class="flex items-center justify-between p-4 border-b border-charcoal-900"><!> <button class="w-8 h-8 flex items-center justify-center rounded-lg transition-colors text-charcoal-300 bg-surface-200"><!></button></div> <!> <div class="p-4 border-t" style="border-color: #2a2a2f;"><!></div></aside>');function Nu(l,o){Et(o,!1);const t=()=>Qt(Pa,"$filters",n),[n,i]=Ea(),d=P(),u=P(),p=P(),f=P();let S=we(o,"matches",8),_=we(o,"collapsed",8,!1),m=we(o,"onToggle",8);ne(()=>M(S()),()=>{v(d,Qa(S()))}),ne(()=>M(S()),()=>{v(u,fr(S()))}),ne(()=>M(S()),()=>{v(p,(()=>{const U=new Map;return S().forEach((G,Y)=>{S().slice(Y+1).forEach(ae=>{G.ScheduledStartDateTime<ae.ScheduledEndDateTime&&G.ScheduledEndDateTime>ae.ScheduledStartDateTime&&(U.has(G.MatchId)||U.set(G.MatchId,[]),U.get(G.MatchId).push(ae.MatchId))})}),S().filter(G=>U.has(G.MatchId)).length})())}),ne(()=>t(),()=>{v(f,(()=>{let U=0;return t().wave!=="all"&&U++,t().division&&U++,t().teams.length>0&&U++,(t().timeRange.start||t().timeRange.end)&&U++,t().priority&&t().priority!=="all"&&U++,t().coverageStatus&&t().coverageStatus!=="all"&&U++,U})())}),Ut(),Ot();var T=Ou();let E;var b=r(T),x=r(b);{var y=U=>{var G=yu();h(U,G)},O=U=>{var G=wu();h(U,G)};$(x,U=>{_()?U(O,!1):U(y)})}var k=s(x,2);k.__click=function(...U){var G;(G=m())==null||G.apply(this,U)};var D=r(k);{var I=U=>{var G=$r("→");h(U,G)},de=U=>{var G=$r("←");h(U,G)};$(D,U=>{_()?U(I):U(de,!1)})}a(k),a(b);var he=s(b,2);{var K=U=>{var G=Mu(),Y=r(G),ae=s(r(Y),2),W=r(ae);W.__click=()=>gt("wave","all");var me=s(W,2);me.__click=()=>gt("wave","morning");var Te=s(me,2);Te.__click=()=>gt("wave","afternoon"),a(ae),a(Y);var Ie=s(Y,2),Q=s(r(Ie),2);Q.__change=C=>gt("division",C.target.value||null);var $e=r(Q);$e.value=$e.__value="";var ee=s($e);at(ee,1,()=>e(d),rt,(C,R)=>{var L=Su(),N=r(L,!0);a(L);var F={};A(()=>{w(N,e(R)),F!==(F=e(R))&&(L.value=(L.__value=e(R))??"")}),h(C,L)}),a(Q);var te;fa(Q),a(Ie);var Ce=s(Ie,2),B=s(r(Ce),2);B.__change=C=>gt("teams",C.target.value?[C.target.value]:[]);var oe=r(B);oe.value=oe.__value="";var fe=s(oe);at(fe,1,()=>e(u),rt,(C,R)=>{var L=Tu(),N=r(L,!0);a(L);var F={};A(()=>{w(N,e(R)),F!==(F=e(R))&&(L.value=(L.__value=e(R))??"")}),h(C,L)}),a(B);var V;fa(B),a(Ce);var pe=s(Ce,2),ve=s(r(pe),2),Pe=r(ve),j=s(r(Pe),2);Sa(j),j.__change=C=>gt("timeRange",{...t().timeRange,start:C.target.value||null}),a(Pe);var ue=s(Pe,2),_e=s(r(ue),2);Sa(_e),_e.__change=C=>gt("timeRange",{...t().timeRange,end:C.target.value||null}),a(ue),a(ve),a(pe);var De=s(pe,2);{var J=C=>{var R=ku();R.__click=()=>lr();var L=r(R);a(R),A(()=>w(L,`Clear Filters (${e(f)??""})`)),h(C,R)};$(De,C=>{e(f)>0&&C(J)})}a(G),A(()=>{Me(W,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t(),c(()=>t().wave==="all"?"bg-gold-500 text-charcoal-950":"bg-surface-200 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-900")??""}`),Me(me,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t(),c(()=>t().wave==="morning"?"bg-gold-500 text-charcoal-950":"bg-surface-200 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-900")??""}`),Me(Te,1,`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t(),c(()=>t().wave==="afternoon"?"bg-gold-500 text-charcoal-950":"bg-surface-200 text-charcoal-300 hover:text-charcoal-50 border border-charcoal-900")??""}`),te!==(te=(t(),c(()=>t().division||"")))&&(Q.value=(Q.__value=(t(),c(()=>t().division||"")))??"",ua(Q,(t(),c(()=>t().division||"")))),V!==(V=(t(),c(()=>t().teams[0]||"")))&&(B.value=(B.__value=(t(),c(()=>t().teams[0]||"")))??"",ua(B,(t(),c(()=>t().teams[0]||"")))),cr(j,(t(),c(()=>t().timeRange.start||""))),cr(_e,(t(),c(()=>t().timeRange.end||"")))}),h(U,G)},se=U=>{var G=$u(),Y=r(G);Y.__click=()=>gt("wave",t().wave==="morning"?"afternoon":"morning");var ae=s(Y,2);{var W=me=>{var Te=Cu(),Ie=r(Te),Q=r(Ie,!0);a(Ie),a(Te),A(()=>w(Q,e(f))),h(me,Te)};$(ae,me=>{e(f)>0&&me(W)})}a(G),h(U,G)};$(he,U=>{_()?U(se,!1):U(K)})}var le=s(he,2),ce=r(le);{var q=U=>{var G=Du(),Y=s(lt(G),2),ae=r(Y),W=s(r(ae),2),me=r(W,!0);a(W),a(ae);var Te=s(ae,2);{var Ie=Q=>{var $e=Iu(),ee=s(r($e),2),te=r(ee,!0);a(ee),a($e),A(()=>w(te,e(p))),h(Q,$e)};$(Te,Q=>{e(p)>0&&Q(Ie)})}a(Y),A(()=>w(me,(M(S()),c(()=>S().length)))),h(U,G)},z=U=>{var G=Pu(),Y=r(G),ae=r(Y),W=r(ae,!0);a(ae),_a(2),a(Y);var me=s(Y,2);{var Te=Ie=>{var Q=Eu(),$e=r(Q),ee=r($e,!0);a($e),_a(2),a(Q),A(()=>w(ee,e(p))),h(Ie,Q)};$(me,Ie=>{e(p)>0&&Ie(Te)})}a(G),A(()=>w(W,(M(S()),c(()=>S().length)))),h(U,G)};$(ce,U=>{_()?U(z,!1):U(q)})}a(le),a(T),A(()=>{E=Me(T,1,"hidden lg:flex flex-col h-[calc(100vh-64px)] border-r transition-all duration-300 overflow-hidden bg-surface-100 border-charcoal-900",null,E,{"w-64":!_(),"w-16":_()}),Ct(k,"aria-label",_()?"Expand sidebar":"Collapse sidebar"),Ct(k,"title",_()?"Expand sidebar":"Collapse sidebar")}),h(l,T),Pt(),i()}Yt(["click","change"]);var Au=g('<span class="ml-1 text-warning-500"> </span>'),Fu=g('<span class="text-xs whitespace-nowrap text-charcoal-300"> <!></span>'),Ru=g('<span class="ml-2 text-warning-500"> </span>'),ju=g('<span class="text-xs whitespace-nowrap text-charcoal-300"> <!></span>'),Lu=g('<div class="text-xs text-charcoal-300 truncate"> </div>'),Uu=g('<header style="backdrop-filter: blur(10px); background-color: rgba(24, 24, 27, 0.95);"><div class="px-4 py-3"><div><div class="flex items-center gap-2 min-w-0 flex-1"><h1 class="text-base font-semibold truncate text-charcoal-50">630 Volleyball</h1> <!></div> <button type="button" class="w-10 h-10 flex items-center justify-center rounded-lg transition-colors text-charcoal-300 bg-charcoal-900 hover:bg-charcoal-800 min-h-[44px]"><span class="text-lg"> </span></button></div> <div><div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2 min-w-0 flex-1"><h1 class="text-base font-semibold truncate text-charcoal-50">630 Volleyball Coverage</h1> <!></div> <button type="button" class="w-10 h-10 flex items-center justify-center rounded-lg transition-colors text-charcoal-300 bg-charcoal-900 hover:bg-charcoal-800 min-h-[44px]" aria-label="Collapse header"><span class="text-lg">▲</span></button></div> <!></div></div></header>');function Wu(l,o){let t=we(o,"eventName",8,null),n=we(o,"matchCount",8,0),i=we(o,"conflictCount",8,0),d=we(o,"collapsed",8,!0),u=we(o,"onToggle",8);var p=Uu();let f;var S=r(p),_=r(S);let m;var T=r(_),E=s(r(T),2);{var b=q=>{var z=Fu(),U=r(z),G=s(U);{var Y=ae=>{var W=Au(),me=r(W);a(W),A(()=>w(me,`• ${i()??""}`)),h(ae,W)};$(G,ae=>{i()>0&&ae(Y)})}a(z),A(()=>w(U,`${n()??""} `)),h(q,z)};$(E,q=>{n()>0&&q(b)})}a(T);var x=s(T,2);x.__click=function(...q){var z;(z=u())==null||z.apply(this,q)};var y=r(x),O=r(y,!0);a(y),a(x),a(_);var k=s(_,2);let D;var I=r(k),de=r(I),he=s(r(de),2);{var K=q=>{var z=ju(),U=r(z),G=s(U);{var Y=ae=>{var W=Ru(),me=r(W);a(W),A(()=>w(me,`• ${i()??""} conflicts`)),h(ae,W)};$(G,ae=>{i()>0&&ae(Y)})}a(z),A(()=>w(U,`${n()??""} matches `)),h(q,z)};$(he,q=>{n()>0&&q(K)})}a(de);var se=s(de,2);se.__click=function(...q){var z;(z=u())==null||z.apply(this,q)},a(I);var le=s(I,2);{var ce=q=>{var z=Lu(),U=r(z,!0);a(z),A(()=>w(U,t())),h(q,z)};$(le,q=>{t()&&q(ce)})}a(k),a(S),a(p),A(()=>{f=Me(p,1,"sticky top-0 z-40 border-b border-charcoal-700 bg-charcoal-950 transition-all duration-300 svelte-54pqel",null,f,{collapsed:d()}),m=Me(_,1,"flex items-center justify-between gap-2",null,m,{hidden:!d()}),Ct(x,"aria-label",d()?"Expand header":"Collapse header"),w(O,d()?"▼":"▲"),D=Me(k,1,"flex flex-col gap-2",null,D,{hidden:d()})}),h(l,p)}Yt(["click"]);var Bu=g('<div class="absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-gold-500 rounded-b-full"></div>'),Hu=g('<span class="absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 bg-gold-500 text-charcoal-950 text-[10px] font-bold rounded-full"> </span>'),Yu=g('<button type="button" role="tab"><!> <div class="flex items-center justify-center relative"><span class="text-xl"> </span> <!></div> <span class="text-[10px] font-medium mt-0.5"> </span></button>'),Ju=g('<nav class="fixed bottom-0 left-0 right-0 z-50 bg-charcoal-900 border-t border-charcoal-700 svelte-2rf3uy" style="padding-bottom: env(safe-area-inset-bottom);" role="tablist" aria-label="Main navigation"><div class="flex items-center justify-around h-16"></div></nav>');function Vu(l,o){Et(o,!1);const t=()=>Qt(Pa,"$filters",u),n=()=>Qt(hr,"$isMedia",u),i=()=>Qt(Wo,"$isCoach",u),d=()=>Qt(Uo,"$selectedCount",u),[u,p]=Ea(),f=P(),S=P(),_=P(),m=P();let T=we(o,"activeTab",8,"matches"),E=we(o,"onTabChange",8),b=P(0);function x(){let k=0;return t().wave!=="all"&&k++,t().division&&k++,t().teams.length>0&&k++,(t().timeRange.start||t().timeRange.end)&&k++,t().priority&&t().priority!=="all"&&k++,t().coverageStatus&&t().coverageStatus!=="all"&&k++,t().conflictsOnly&&k++,t().myTeamsOnly&&k++,k}ne(()=>{},()=>{v(b,x())}),ne(()=>n(),()=>{v(f,n())}),ne(()=>i(),()=>{v(S,i())}),ne(()=>d(),()=>{v(_,d())}),ne(()=>(e(f),e(_),e(b),e(S)),()=>{v(m,e(f)?[{id:"matches",label:"Matches",icon:"📋"},{id:"plan",label:"Plan",icon:"📝",badge:e(_)>0?e(_):void 0},{id:"filters",label:"Filters",icon:"🔍",badge:e(b)>0?e(b):void 0},{id:"more",label:"More",icon:"⚙️"}]:e(S)?[{id:"matches",label:"Schedule",icon:"📅"},{id:"more",label:"More",icon:"⚙️"}]:[{id:"matches",label:"Matches",icon:"📋"},{id:"filters",label:"Filters",icon:"🔍",badge:e(b)>0?e(b):void 0},{id:"more",label:"More",icon:"⚙️"}])}),Ut(),Ot();var y=Ju(),O=r(y);at(O,5,()=>e(m),rt,(k,D)=>{var I=Yu();I.__click=()=>E()(e(D).id);let de;var he=r(I);{var K=Y=>{var ae=Bu();h(Y,ae)};$(he,Y=>{M(T()),e(D),c(()=>T()===e(D).id)&&Y(K)})}var se=s(he,2),le=r(se),ce=r(le,!0);a(le);var q=s(le,2);{var z=Y=>{var ae=Hu(),W=r(ae,!0);a(ae),A(()=>w(W,(e(D),c(()=>e(D).badge>99?"99+":e(D).badge)))),h(Y,ae)};$(q,Y=>{e(D),c(()=>e(D).badge&&e(D).badge>0)&&Y(z)})}a(se);var U=s(se,2),G=r(U,!0);a(U),a(I),A(()=>{Ct(I,"aria-selected",(M(T()),e(D),c(()=>T()===e(D).id))),Ct(I,"aria-label",(e(D),c(()=>e(D).label))),de=Me(I,1,"flex flex-col items-center justify-center flex-1 h-full min-h-[44px] relative transition-colors svelte-2rf3uy",null,de,{"text-gold-500":T()===e(D).id,"text-charcoal-400":T()!==e(D).id}),w(ce,(e(D),c(()=>e(D).icon))),w(G,(e(D),c(()=>e(D).label)))}),h(k,I)}),a(O),a(y),h(l,y),Pt(),p()}Yt(["click"]);var zu=g('<button type="button">⭐ Must Cover</button> <button type="button">⚠️ Conflicts</button>',1),Gu=g('<button type="button" class="group px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center gap-1.5 bg-gold-500/20 text-gold-400 border border-gold-500/50 hover:bg-gold-500/30"><span> </span> <span class="text-gold-500 group-hover:text-gold-300">×</span></button>'),qu=g('<div class="flex items-center gap-2 flex-shrink-0"></div>'),Xu=g('<div class="sticky top-0 z-30 bg-charcoal-950 border-b border-charcoal-700 py-2 px-3"><div class="flex items-center gap-2 overflow-x-auto scrollbar-hide svelte-szaik9"><div class="flex items-center gap-2 flex-shrink-0"><button type="button">AM</button> <button type="button">PM</button> <!></div> <!> <button type="button" class="ml-auto px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center gap-1.5 flex-shrink-0 bg-charcoal-800 text-charcoal-300 border border-charcoal-700 hover:bg-charcoal-700 hover:text-charcoal-200">🔍 More</button></div></div>');function Qu(l,o){Et(o,!1);const t=()=>Qt(Pa,"$filters",i),n=()=>Qt(Ra,"$userRole",i),[i,d]=Ea(),u=P(),p=P();let f=we(o,"onOpenFullFilters",8);function S(){const K=[];if(t().wave!=="all"&&K.push({key:"wave",label:"Wave",value:t().wave==="morning"?"Morning":"Afternoon"}),t().division&&K.push({key:"division",label:"Division",value:t().division}),t().teams.length>0&&t().teams.forEach(se=>{K.push({key:"team",label:"Team",value:se})}),t().timeRange.start||t().timeRange.end){const se=[t().timeRange.start||"00:00",t().timeRange.end||"23:59"].join(" - ");K.push({key:"timeRange",label:"Time",value:se})}return t().priority&&t().priority!=="all"&&K.push({key:"priority",label:"Priority",value:t().priority==="must-cover"?"Must Cover":t().priority==="priority"?"Priority":"Optional"}),t().coverageStatus&&t().coverageStatus!=="all"&&K.push({key:"coverageStatus",label:"Status",value:t().coverageStatus==="uncovered"?"Uncovered":t().coverageStatus==="planned"?"Planned":"Covered"}),t().conflictsOnly&&K.push({key:"conflictsOnly",label:"Conflicts",value:"Only"}),K}function _(K,se){if(K==="wave")gt("wave","all");else if(K==="division")gt("division",null);else if(K==="team")if(se){const le=t().teams.filter(ce=>ce!==se);gt("teams",le)}else gt("teams",[]);else K==="timeRange"?gt("timeRange",{start:null,end:null}):K==="priority"?gt("priority",null):K==="coverageStatus"?gt("coverageStatus","all"):K==="conflictsOnly"&&gt("conflictsOnly",!1)}ne(()=>{},()=>{v(u,S())}),ne(()=>n(),()=>{v(p,n()==="media")}),Ut(),Ot();var m=Xu(),T=r(m),E=r(T),b=r(E);b.__click=()=>gt("wave",t().wave==="morning"?"all":"morning");let x;var y=s(b,2);y.__click=()=>gt("wave",t().wave==="afternoon"?"all":"afternoon");let O;var k=s(y,2);{var D=K=>{var se=zu(),le=lt(se);le.__click=()=>gt("priority",t().priority==="must-cover"?null:"must-cover");let ce;var q=s(le,2);q.__click=()=>gt("conflictsOnly",!t().conflictsOnly);let z;A(()=>{ce=Me(le,1,"px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center gap-1",null,ce,{"bg-gold-500":t().priority==="must-cover","text-charcoal-950":t().priority==="must-cover","bg-charcoal-800":t().priority!=="must-cover","text-charcoal-300":t().priority!=="must-cover","hover:bg-charcoal-700":t().priority!=="must-cover"}),z=Me(q,1,"px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center gap-1",null,z,{"bg-warning-500":t().conflictsOnly,"text-charcoal-950":t().conflictsOnly,"bg-charcoal-800":!t().conflictsOnly,"text-charcoal-300":!t().conflictsOnly,"hover:bg-charcoal-700":!t().conflictsOnly})}),h(K,se)};$(k,K=>{e(p)&&K(D)})}a(E);var I=s(E,2);{var de=K=>{var se=qu();at(se,5,()=>e(u),rt,(le,ce)=>{var q=Gu();q.__click=()=>_(e(ce).key,e(ce).key==="team"?e(ce).value:void 0);var z=r(q),U=r(z);a(z),_a(2),a(q),A(()=>w(U,`${e(ce),c(()=>e(ce).label)??""}: ${e(ce),c(()=>e(ce).value)??""}`)),h(le,q)}),a(se),h(K,se)};$(I,K=>{e(u),c(()=>e(u).length>0)&&K(de)})}var he=s(I,2);he.__click=function(...K){var se;(se=f())==null||se.apply(this,K)},a(T),a(m),A(()=>{x=Me(b,1,"px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center",null,x,{"bg-gold-500":t().wave==="morning","text-charcoal-950":t().wave==="morning","bg-charcoal-800":t().wave!=="morning","text-charcoal-300":t().wave!=="morning","hover:bg-charcoal-700":t().wave!=="morning"}),O=Me(y,1,"px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-h-[32px] flex items-center",null,O,{"bg-gold-500":t().wave==="afternoon","text-charcoal-950":t().wave==="afternoon","bg-charcoal-800":t().wave!=="afternoon","text-charcoal-300":t().wave!=="afternoon","hover:bg-charcoal-700":t().wave!=="afternoon"})}),h(l,m),Pt(),d()}Yt(["click"]);var Ku=g('<span class="ml-1 text-warning-500"> </span>'),Zu=g('<span class="text-xs whitespace-nowrap text-charcoal-300"> <!></span>'),e0=g('<span class="ml-2 text-warning-500"> </span>'),t0=g('<span class="text-xs whitespace-nowrap hidden sm:inline text-charcoal-300"> <!></span>'),a0=g('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),r0=g('<span class="hidden sm:inline"> </span>'),o0=g('<div class="flex items-center gap-2 text-xs text-charcoal-300"><!> <!></div>'),n0=g('<span class="ml-2 text-warning-500"> </span>'),s0=g('<span class="text-xs sm:hidden text-charcoal-300"> <!></span>'),l0=g('<div class="flex items-center gap-1 rounded-lg p-1 bg-charcoal-700"><button>List</button> <button>Timeline</button></div>'),c0=g("<button> </button>"),i0=g('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 min-h-[44px] sm:min-h-0" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors bg-charcoal-700 text-charcoal-200 hover:text-charcoal-50 min-h-[44px] sm:min-h-0" title="Export CSV">CSV</button>',1),d0=g('<div class="border-b border-charcoal-700 bg-charcoal-800/30"><div class="container mx-auto px-3 sm:px-4 py-3 sm:py-4"><!></div></div>'),v0=g('<div class="text-center py-12"><div class="inline-block animate-pulse text-charcoal-300">Loading matches...</div></div>'),u0=g('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),h0=g('<div class="text-center py-12 text-charcoal-300"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),f0=g('<button type="button" class="w-full px-4 py-3 text-left rounded-lg bg-charcoal-800 text-charcoal-50 hover:bg-charcoal-700 transition-colors min-h-[44px]"><div class="font-medium">Export JSON</div> <div class="text-xs text-charcoal-400 mt-0.5">Download matches as JSON</div></button> <button type="button" class="w-full px-4 py-3 text-left rounded-lg bg-charcoal-800 text-charcoal-50 hover:bg-charcoal-700 transition-colors min-h-[44px]"><div class="font-medium">Export CSV</div> <div class="text-xs text-charcoal-400 mt-0.5">Download matches as CSV</div></button>',1),m0=g('<div class="pt-2 border-t border-charcoal-700"><label for="view-mode-selector-menu" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">View Mode</label> <div class="flex gap-2" role="group" aria-labelledby="view-mode-selector-menu"><button type="button" id="view-mode-list">List</button> <button type="button" id="view-mode-timeline">Timeline</button></div></div>'),x0=g('<div class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity" role="dialog" aria-modal="true" aria-label="More options" tabindex="-1"><div class="fixed bottom-0 left-0 right-0 max-h-[60vh] bg-charcoal-950 rounded-t-lg border-t border-charcoal-900 overflow-y-auto" style="padding-bottom: env(safe-area-inset-bottom);" role="dialog" tabindex="-1"><div class="sticky top-0 bg-charcoal-950 border-b border-charcoal-900 px-4 py-3 flex items-center justify-between z-10"><h2 class="text-lg font-semibold text-charcoal-50">More</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg text-charcoal-300 hover:text-charcoal-50 hover:bg-charcoal-900 transition-colors min-h-[44px]" aria-label="Close menu">×</button></div> <div class="p-4 space-y-2"><button type="button" class="w-full px-4 py-3 text-left rounded-lg bg-charcoal-800 text-charcoal-50 hover:bg-charcoal-700 transition-colors min-h-[44px]"><div class="font-medium">Config</div> <div class="text-xs text-charcoal-400 mt-0.5">Change event parameters</div></button> <!> <div class="pt-2 border-t border-charcoal-700"><label for="role-selector-menu" class="block text-xs font-medium text-charcoal-300 uppercase tracking-wider mb-2">Role</label> <select id="role-selector-menu" class="w-full px-3 py-2 rounded-lg text-sm min-h-[44px] focus:border-gold-500 focus:outline-none bg-charcoal-700 text-charcoal-200 border border-charcoal-600"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!></div></div></div>'),g0=g(`<div class="min-h-screen bg-charcoal-950 pb-20"><!> <header data-header=""><style>/* Mobile: Lighter glassmorphism */
			@media (max-width: 639px) {
				header.glassmorphism {
					backdrop-filter: blur(10px);
					background-color: rgba(37, 37, 41, 0.85);
					border-bottom-color: rgba(58, 58, 63, 0.4);
				}
			}
			/* Desktop: Stronger glassmorphism */
			@media (min-width: 640px) {
				header.glassmorphism {
					backdrop-filter: blur(20px);
					background-color: rgba(37, 37, 41, 0.8);
					border-bottom-color: rgba(58, 58, 63, 0.5);
					box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
				}
			}</style> <div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex items-center justify-between gap-2 sm:hidden"><div class="flex items-center gap-2 min-w-0 flex-1"><h1 class="text-base font-semibold truncate text-charcoal-50">630 Volleyball</h1> <!></div> <button class="w-10 h-10 flex items-center justify-center rounded-lg transition-colors text-charcoal-300 bg-charcoal-900"> </button></div> <div><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate text-charcoal-50">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label for="role-selector-header" class="text-xs hidden sm:inline text-charcoal-300">Role:</label> <select id="role-selector-header" class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0 bg-charcoal-700 text-charcoal-200 border border-charcoal-600" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <style>header.collapsed {
			max-height: 56px;
			overflow: hidden;
		}
		
		@media (max-width: 767px) {
			header.collapsed {
				max-height: 56px;
			}
			header:not(.collapsed) {
				max-height: 500px; /* Allow expansion */
			}
		}</style> <div class="flex flex-col lg:flex-row"><div class="hidden lg:block"><!></div> <main class="flex-1 w-full lg:container lg:mx-auto lg:px-6 lg:py-6"><div class="lg:hidden"><!></div> <div class="px-4 py-4 pb-24 lg:px-0 lg:py-0"><!> <!> <!> <!> <!></div></main></div> <!> <!> <!></div>`);function C0(l,o){Et(o,!1);const t=()=>Qt(Uo,"$selectedCount",p),n=()=>Qt(hr,"$isMedia",p),i=()=>Qt(Nr,"$isSpectator",p),d=()=>Qt(Wo,"$isCoach",p),u=()=>Qt(Ra,"$userRole",p),[p,f]=Ea(),S=P(),_=P(),m=P(),T=P(),E=P(),b=P(),x=P(),y=P();let O=P("PTAwMDAwNDEzMTQ90"),k=P("2025-11-01"),D=P(300),I=P([]),de=P(!1),he=P(null),K=P("list"),se=P(!1),le=P(24426),ce=P(!1),q=P(null),z=P(!0),U=0,G=P(!1),Y=P("matches"),ae=P(!1),W=P(!1);function me(ge){e(Y)===ge?(ge==="filters"?v(ae,!1):ge==="plan"?v(ce,!1):ge==="more"&&v(W,!1),v(Y,"matches")):(v(Y,ge),ge==="filters"?(v(ae,!0),v(ce,!1),v(W,!1)):ge==="plan"?(v(ce,!0),v(ae,!1),v(W,!1)):ge==="more"?(v(W,!0),v(ae,!1),v(ce,!1)):(v(ae,!1),v(W,!1),v(ce,!1)))}function Te(){v(ae,!1),v(Y,"matches")}function Ie(){v(ce,!1),v(Y,"matches")}function Q(){v(W,!1),v(Y,"matches")}function $e(){if(typeof window>"u")return;const ge=window.scrollY;window.innerWidth<768&&ge>U&&ge>100&&v(z,!0),U=ge}Ca(()=>(typeof window<"u"&&window.addEventListener("scroll",$e,{passive:!0}),()=>{typeof window<"u"&&window.removeEventListener("scroll",$e)})),Ca(()=>{ee(e(O),e(k),e(D))});async function ee(ge,Se,Ae){var Be;v(de,!0),v(he,null),v(O,ge),v(k,Se),v(D,Ae);try{const Z=await wn(ge),re=(Be=Z.Clubs)==null?void 0:Be.find(Fe=>Fe.Name==="630 Volleyball");re&&v(le,re.ClubId),v(q,{name:Z.Name||Z.EventName||Z.FullName||Z.Title||"Event",startDate:Z.StartDate||Z.StartDateTime||Z.Start||Z.StartTime,endDate:Z.EndDate||Z.EndDateTime||Z.End||Z.EndTime});const X=await yn(ge,Se,Ae),Oe=$n(X.CourtSchedules);v(I,Oe)}catch(Z){console.error("Error loading schedule:",Z),v(he,Z instanceof Error?Z.message:"Failed to load schedule"),v(I,[])}finally{v(de,!1)}}function te(){const ge=JSON.stringify(e(I),null,2),Se=new Blob([ge],{type:"application/json"}),Ae=URL.createObjectURL(Se),Be=document.createElement("a");Be.href=Ae,Be.download=`630-volleyball-matches-${e(k)}.json`,Be.click(),URL.revokeObjectURL(Ae)}function Ce(){const ge=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],Se=e(I).map(X=>[X.MatchId.toString(),X.Division.Name,X.CompleteShortName,X.FirstTeamText,X.SecondTeamText,X.WorkTeamText,X.CourtName,new Date(X.ScheduledStartDateTime).toISOString(),new Date(X.ScheduledEndDateTime).toISOString(),((X.ScheduledEndDateTime-X.ScheduledStartDateTime)/6e4).toString(),X.InvolvedTeam]),Ae=[ge.join(","),...Se.map(X=>X.map(Oe=>`"${Oe}"`).join(","))].join(`
`),Be=new Blob([Ae],{type:"text/csv"}),Z=URL.createObjectURL(Be),re=document.createElement("a");re.href=Z,re.download=`630-volleyball-matches-${e(k)}.csv`,re.click(),URL.revokeObjectURL(Z)}ne(()=>e(I),()=>{v(S,Qa(e(I)))}),ne(()=>e(I),()=>{v(_,fr(e(I)))}),ne(()=>(e(I),ht),()=>{if(e(I).length>0){const ge=new Map;e(I).forEach(Se=>{const Be=(Se.InvolvedTeam==="first"?Se.FirstTeamText:Se.SecondTeamText).match(/(\d+-\d+)/),Z=Be?Be[1]:"";if(!Z)return;const re=ge.get(Z)||{total:0,inPlan:0};re.total++;let X=!1;Rt.subscribe(Oe=>{X=Oe.has(Se.MatchId)})(),X&&re.inPlan++,ge.set(Z,re)}),ge.forEach((Se,Ae)=>{ht.updateFromPlan(Ae,Se.inPlan,Se.total)})}}),ne(()=>e(I),()=>{v(m,(()=>{const ge=new Map;return e(I).forEach((Se,Ae)=>{e(I).slice(Ae+1).forEach(Be=>{Se.ScheduledStartDateTime<Be.ScheduledEndDateTime&&Se.ScheduledEndDateTime>Be.ScheduledStartDateTime&&(ge.has(Se.MatchId)||ge.set(Se.MatchId,[]),ge.get(Se.MatchId).push(Be.MatchId))})}),e(I).filter(Se=>ge.has(Se.MatchId)).length})())}),ne(()=>t(),()=>{v(T,t())}),ne(()=>n(),()=>{v(E,n())}),ne(()=>i(),()=>{v(b,i())}),ne(()=>d(),()=>{v(x,d())}),ne(()=>u(),()=>{v(y,u())}),ne(()=>(e(I),e(T),ht),()=>{if(e(I).length>0&&e(T)!==void 0){const ge=new Map,Se=va(Rt);e(I).forEach(Ae=>{const Z=(Ae.InvolvedTeam==="first"?Ae.FirstTeamText:Ae.SecondTeamText).match(/(\d+-\d+)/),re=Z?Z[1]:"";if(!re)return;const X=ge.get(re)||{total:0,inPlan:0};X.total++,Se.has(Ae.MatchId)&&X.inPlan++,ge.set(re,X)}),ge.forEach((Ae,Be)=>{ht.updateFromPlan(Be,Ae.inPlan,Ae.total)})}}),Ut(),Ot();var B=g0(),oe=r(B);{let ge=ye(()=>(e(q),c(()=>{var Se;return((Se=e(q))==null?void 0:Se.name)||null})));Wu(oe,{get eventName(){return e(ge)},get matchCount(){return e(I),c(()=>e(I).length)},get conflictCount(){return e(m)},get collapsed(){return e(z)},onToggle:()=>v(z,!e(z))})}var fe=s(oe,2);let V;var pe=s(r(fe),2),ve=r(pe),Pe=r(ve),j=s(r(Pe),2);{var ue=ge=>{var Se=Zu(),Ae=r(Se),Be=s(Ae);{var Z=re=>{var X=Ku(),Oe=r(X);a(X),A(()=>w(Oe,`• ${e(m)??""}`)),h(re,X)};$(Be,re=>{e(m)>0&&re(Z)})}a(Se),A(()=>w(Ae,`${e(I),c(()=>e(I).length)??""} `)),h(ge,Se)};$(j,ge=>{e(I),c(()=>e(I).length>0)&&ge(ue)})}a(Pe);var _e=s(Pe,2);_e.__click=()=>v(z,!e(z));var De=r(_e,!0);a(_e),a(ve);var J=s(ve,2);let C;var R=r(J),L=r(R),N=s(r(L),2);{var F=ge=>{var Se=t0(),Ae=r(Se),Be=s(Ae);{var Z=re=>{var X=e0(),Oe=r(X);a(X),A(()=>w(Oe,`• ${e(m)??""} conflicts`)),h(re,X)};$(Be,re=>{e(m)>0&&re(Z)})}a(Se),A(()=>w(Ae,`${e(I),c(()=>e(I).length)??""} matches `)),h(ge,Se)};$(N,ge=>{e(I),c(()=>e(I).length>0)&&ge(F)})}a(L);var H=s(L,2);{var ie=ge=>{var Se=o0(),Ae=r(Se);{var Be=X=>{var Oe=a0(),Fe=r(Oe,!0);a(Oe),A(()=>w(Fe,(e(q),c(()=>e(q).name)))),h(X,Oe)};$(Ae,X=>{e(q),c(()=>e(q).name)&&X(Be)})}var Z=s(Ae,2);{var re=X=>{var Oe=r0(),Fe=r(Oe,!0);a(Oe),A(Re=>w(Fe,Re),[()=>(e(q),M(Xt),c(()=>(()=>{try{const Re=e(q).startDate?new Date(e(q).startDate).getTime():null,Ge=e(q).endDate?new Date(e(q).endDate).getTime():null;return Re&&Ge&&Math.abs(Re-Ge)>864e5?`${Xt(Re)} - ${Xt(Ge)}`:Re?Xt(Re):Ge?Xt(Ge):null}catch{return null}})()))]),h(X,Oe)};$(Z,X=>{e(q),c(()=>(e(q).startDate||e(q).endDate)&&(()=>{try{const Oe=e(q).startDate?new Date(e(q).startDate).getTime():null,Fe=e(q).endDate?new Date(e(q).endDate).getTime():null;return Oe&&Fe&&Math.abs(Oe-Fe)>864e5}catch{return!1}})())&&X(re)})}a(Se),h(ge,Se)};$(H,ge=>{e(q),c(()=>e(q)&&(e(q).name||e(q).startDate))&&ge(ie)})}var be=s(H,2);{var Ue=ge=>{var Se=s0(),Ae=r(Se),Be=s(Ae);{var Z=re=>{var X=n0(),Oe=r(X);a(X),A(()=>w(Oe,`• ${e(m)??""} conflicts`)),h(re,X)};$(Be,re=>{e(m)>0&&re(Z)})}a(Se),A(()=>w(Ae,`${e(I),c(()=>e(I).length)??""} matches `)),h(ge,Se)};$(be,ge=>{e(I),c(()=>e(I).length>0)&&ge(Ue)})}a(R);var We=s(R,2),ze=r(We),xe=s(r(ze),2);xe.__change=ge=>Ra.setRole(ge.target.value);var ke=r(xe);ke.value=ke.__value="media";var Le=s(ke);Le.value=Le.__value="spectator";var qe=s(Le);qe.value=qe.__value="coach",a(xe);var ft;fa(xe),a(ze);var Ze=s(ze,2);{var Xe=ge=>{var Se=i0(),Ae=lt(Se);{var Be=Fe=>{var Re=l0(),Ge=r(Re);Ge.__click=()=>v(K,"list");let pt;var nt=s(Ge,2);nt.__click=()=>v(K,"timeline");let _t;a(Re),A(()=>{pt=Me(Ge,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,pt,{"bg-gold-500":e(K)==="list","text-charcoal-950":e(K)==="list","text-charcoal-300":e(K)!=="list","hover:text-charcoal-50":e(K)!=="list"}),_t=Me(nt,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,_t,{"bg-gold-500":e(K)==="timeline","text-charcoal-950":e(K)==="timeline","text-charcoal-300":e(K)!=="timeline","hover:text-charcoal-50":e(K)!=="timeline"})}),h(Fe,Re)};$(Ae,Fe=>{e(x)||Fe(Be)})}var Z=s(Ae,2);{var re=Fe=>{var Re=c0();Re.__click=()=>v(ce,!e(ce));let Ge;var pt=r(Re);a(Re),A(()=>{Ge=Me(Re,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 border",null,Ge,{"bg-gold-500":e(ce),"text-charcoal-950":e(ce),"text-gold-500":!e(ce)}),Kt(Re,e(ce)?"":"background-color: rgba(234, 179, 8, 0.1); border-color: rgba(234, 179, 8, 0.2);"),w(pt,`Plan (${e(T)??""})`)}),h(Fe,Re)};$(Z,Fe=>{e(E)&&e(T)>0&&Fe(re)})}var X=s(Z,2);X.__click=te;var Oe=s(X,2);Oe.__click=Ce,h(ge,Se)};$(Ze,ge=>{e(I),c(()=>e(I).length>0)&&ge(Xe)})}var st=s(Ze,2);st.__click=()=>v(se,!e(se));let St;var ct=r(st,!0);a(st),a(We),a(J),a(pe),a(fe);var mt=s(fe,2);{var Ee=ge=>{var Se=d0(),Ae=r(Se),Be=r(Ae);Ls(Be,{get eventId(){return e(O)},get date(){return e(k)},get timeWindow(){return e(D)},onLoad:ee,get loading(){return e(de)}}),a(Ae),a(Se),h(ge,Se)};$(mt,ge=>{e(se)&&ge(Ee)})}var tt=s(mt,4),it=r(tt),vt=r(it);Nu(vt,{get matches(){return e(I)},get collapsed(){return e(G)},onToggle:()=>v(G,!e(G))}),a(it);var dt=s(it,2),Qe=r(dt),ut=r(Qe);Qu(ut,{onOpenFullFilters:()=>{v(ae,!0),v(Y,"filters")}}),a(Qe);var jt=s(Qe,2),Wt=r(jt);{var ea=ge=>{var Se=v0();h(ge,Se)};$(Wt,ge=>{e(de)&&ge(ea)})}var zt=s(Wt,2);{var ta=ge=>{var Se=u0(),Ae=s(r(Se),2),Be=r(Ae,!0);a(Ae),a(Se),A(()=>w(Be,e(he))),h(ge,Se)};$(zt,ge=>{e(he)&&ge(ta)})}var $t=s(zt,2);{var Tt=ge=>{var Se=h0();h(ge,Se)};$($t,ge=>{e(de),e(I),e(he),c(()=>!e(de)&&e(I).length===0&&!e(he))&&ge(Tt)})}var bt=s($t,2);{var aa=ge=>{var Se=Dt(),Ae=lt(Se);{var Be=re=>{_u(re,{get matches(){return e(I)},get eventId(){return e(O)},get clubId(){return e(le)}})},Z=re=>{var X=Dt(),Oe=lt(X);{var Fe=Ge=>{Ri(Ge,{get matches(){return e(I)},get eventId(){return e(O)},get clubId(){return e(le)}})},Re=Ge=>{$d(Ge,{get matches(){return e(I)},get eventId(){return e(O)}})};$(Oe,Ge=>{e(K)==="list"?Ge(Fe):Ge(Re,!1)},!0)}h(re,X)};$(Ae,re=>{e(x)?re(Be):re(Z,!1)})}h(ge,Se)};$(bt,ge=>{e(I),c(()=>e(I).length>0)&&ge(aa)})}var Jt=s(bt,2);{var Je=ge=>{Yv(ge,{get matches(){return e(I)},onClose:Ie})};$(Jt,ge=>{e(ce)&&ge(Je)})}a(jt),a(dt),a(tt);var He=s(tt,2);Vu(He,{get activeTab(){return e(Y)},onTabChange:me});var Ke=s(He,2);zo(Ke,{get matches(){return e(I)},get divisions(){return e(S)},get teams(){return e(_)},get open(){return e(ae)},onClose:Te});var wt=s(Ke,2);{var Nt=ge=>{var Se=x0();Se.__click=Q,Se.__keydown=Ne=>Ne.key==="Escape"&&Q();var Ae=r(Se);Ae.__click=Ne=>Ne.stopPropagation(),Ae.__keydown=Ne=>Ne.stopPropagation();var Be=r(Ae),Z=s(r(Be),2);Z.__click=Q,a(Be);var re=s(Be,2),X=r(re);X.__click=()=>{v(se,!e(se)),Q()};var Oe=s(X,2);{var Fe=Ne=>{var Vt=f0(),Gt=lt(Vt);Gt.__click=()=>{te(),Q()};var yt=s(Gt,2);yt.__click=()=>{Ce(),Q()},h(Ne,Vt)};$(Oe,Ne=>{e(I),c(()=>e(I).length>0)&&Ne(Fe)})}var Re=s(Oe,2),Ge=s(r(Re),2);Ge.__change=Ne=>{Ra.setRole(Ne.target.value)};var pt=r(Ge);pt.value=pt.__value="media";var nt=s(pt);nt.value=nt.__value="spectator";var _t=s(nt);_t.value=_t.__value="coach",a(Ge);var Ye;fa(Ge),a(Re);var oa=s(Re,2);{var Mt=Ne=>{var Vt=m0(),Gt=s(r(Vt),2),yt=r(Gt);yt.__click=()=>{v(K,"list")};let ma;var $a=s(yt,2);$a.__click=()=>{v(K,"timeline")};let ya;a(Gt),a(Vt),A(()=>{ma=Me(yt,1,"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px]",null,ma,{"bg-gold-500":e(K)==="list","text-charcoal-950":e(K)==="list","text-charcoal-300":e(K)!=="list","hover:text-charcoal-50":e(K)!=="list","bg-charcoal-700":e(K)!=="list"}),Ct(yt,"aria-pressed",e(K)==="list"),ya=Me($a,1,"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px]",null,ya,{"bg-gold-500":e(K)==="timeline","text-charcoal-950":e(K)==="timeline","text-charcoal-300":e(K)!=="timeline","hover:text-charcoal-50":e(K)!=="timeline","bg-charcoal-700":e(K)!=="timeline"}),Ct($a,"aria-pressed",e(K)==="timeline")}),h(Ne,Vt)};$(oa,Ne=>{e(x)||Ne(Mt)})}a(re),a(Ae),a(Se),A(()=>{Ye!==(Ye=e(y))&&(Ge.value=(Ge.__value=e(y))??"",ua(Ge,e(y)))}),h(ge,Se)};$(wt,ge=>{e(W)&&ge(Nt)})}a(B),A(()=>{V=Me(fe,1,"hidden md:block border-b sticky top-0 z-10 transition-all duration-300 border-charcoal-700 glass-medium",null,V,{collapsed:e(z),glassmorphism:!e(z)}),Ct(_e,"aria-label",e(z)?"Expand header":"Collapse header"),w(De,e(z)?"▼":"▲"),C=Me(J,1,"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",null,C,{hidden:e(z)}),ft!==(ft=e(y))&&(xe.value=(xe.__value=e(y))??"",ua(xe,e(y))),St=Me(st,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,St,{"bg-gold-500":e(se),"text-charcoal-950":e(se),"bg-charcoal-700":!e(se),"text-charcoal-200":!e(se)}),w(ct,e(se)?"Hide":"Config")}),h(l,B),Pt(),f()}Yt(["click","change","keydown"]);export{C0 as component,M0 as universal};
