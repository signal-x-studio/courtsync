var V=Object.defineProperty;var w=e=>{throw TypeError(e)};var W=(e,s,t)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var k=(e,s,t)=>W(e,typeof s!="symbol"?s+"":s,t),B=(e,s,t)=>s.has(e)||w("Cannot "+t);var r=(e,s,t)=>(B(e,s,"read from private field"),t?t.call(e):s.get(e)),v=(e,s,t)=>s.has(e)?w("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t),U=(e,s,t,a)=>(B(e,s,"write to private field"),a?a.call(e,t):s.set(e,t),t);import{K as Y,L as X,M as p,N as j,m as x,O as F,o as O,y as J,P as ee,Q as se,n as te,I as ae,R as re,S as ie,U as ne,V as fe,x as ue,w as C,W as ce,X as de,b as G,Y as he,Z,A as $,_ as le,g as R,a0 as oe,a1 as _e,a2 as z,a3 as ve,a4 as be,a5 as Se,a6 as ge,G as Pe,a7 as Ae,a8 as Ee,D as ye,a9 as Ie,aa as Re,ab as Te,ac as me,f as pe,ad as Oe,ae as De}from"./DbUpsjvX.js";import{s as Me,g as Ne}from"./BHMDx88I.js";var l,o,h,A,E,T;class Le{constructor(s,t=!0){k(this,"anchor");v(this,l,new Map);v(this,o,new Map);v(this,h,new Map);v(this,A,!0);v(this,E,()=>{var s=Y;if(r(this,l).has(s)){var t=r(this,l).get(s),a=r(this,o).get(t);if(a)X(a);else{var n=r(this,h).get(t);n&&(r(this,o).set(t,n.effect),r(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,u]of r(this,l)){if(r(this,l).delete(i),i===s)break;const f=r(this,h).get(u);f&&(p(f.effect),r(this,h).delete(u))}for(const[i,u]of r(this,o)){if(i===t)continue;const f=()=>{if(Array.from(r(this,l).values()).includes(i)){var _=document.createDocumentFragment();ee(u,_),_.append(x()),r(this,h).set(i,{effect:u,fragment:_})}else p(u);r(this,o).delete(i)};r(this,A)||!a?j(u,f,!1):f()}}});v(this,T,s=>{r(this,l).delete(s);const t=Array.from(r(this,l).values());for(const[a,n]of r(this,h))t.includes(a)||(p(n.effect),r(this,h).delete(a))});this.anchor=s,U(this,A,t)}ensure(s,t){var a=Y,n=se();if(t&&!r(this,o).has(s)&&!r(this,h).has(s))if(n){var i=document.createDocumentFragment(),u=x();i.append(u),r(this,h).set(s,{effect:F(()=>t(u)),fragment:i})}else r(this,o).set(s,F(()=>t(this.anchor)));if(r(this,l).set(a,s),n){for(const[f,c]of r(this,o))f===s?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[f,c]of r(this,h))f===s?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.oncommit(r(this,E)),a.ondiscard(r(this,T))}else O&&(this.anchor=J),r(this,E).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,A=new WeakMap,E=new WeakMap,T=new WeakMap;function Ye(e,s,t=!1){O&&ae();var a=new Le(e),n=t?re:0;function i(u,f){if(O){const _=ie(e)===ne;if(u===_){var c=fe();ue(c),a.anchor=c,C(!1),a.ensure(u,f),C(!0);return}}a.ensure(u,f)}te(()=>{var u=!1;s((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function q(e,s){return e===s||(e==null?void 0:e[Z])===s}function xe(e={},s,t,a){return ce(()=>{var n,i;return de(()=>{n=i,i=(a==null?void 0:a())||[],G(()=>{e!==t(...i)&&(s(e,...i),n&&q(t(...n),e)&&s(null,...n))})}),()=>{he(()=>{i&&q(t(...i),e)&&s(null,...i)})}}),e}let I=!1,D=Symbol();function Fe(e,s,t){const a=t[s]??(t[s]={store:null,source:le(void 0),unsubscribe:$});if(a.store!==e&&!(D in t))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=$;else{var n=!0;a.unsubscribe=Me(e,i=>{n?a.source.v=i:z(a.source,i)}),n=!1}return e&&D in t?Ne(e):R(a.source)}function Ce(){const e={};function s(){oe(()=>{for(var t in e)e[t].unsubscribe();_e(e,D,{enumerable:!1,value:!0})})}return[e,s]}function we(e){var s=I;try{return I=!1,[e(),I]}finally{I=s}}function $e(e,s,t,a){var N;var n=!ye||(t&Ie)!==0,i=(t&Re)!==0,u=(t&De)!==0,f=a,c=!0,_=()=>(c&&(c=!1,f=u?G(a):a),f),S;if(i){var H=Z in e||me in e;S=((N=ve(e,s))==null?void 0:N.set)??(H&&s in e?d=>e[s]=d:void 0)}var g,M=!1;i?[g,M]=we(()=>e[s]):g=e[s],g===void 0&&a!==void 0&&(g=_(),S&&(n&&be(),S(g)));var b;if(n?b=()=>{var d=e[s];return d===void 0?_():(c=!0,d)}:b=()=>{var d=e[s];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&(t&Se)===0)return b;if(S){var K=e.$$legacy;return(function(d,y){return arguments.length>0?((!n||!y||K||M)&&S(y?b():d),d):b()})}var m=!1,P=((t&Oe)!==0?pe:Ee)(()=>(m=!1,b()));i&&R(P);var Q=Pe;return(function(d,y){if(arguments.length>0){const L=y?R(P):n&&i?ge(d):d;return z(P,L),m=!0,f!==void 0&&(f=L),d}return Te&&m||(Q.f&Ae)!==0?P.v:R(P)})}export{Le as B,Ce as a,xe as b,Ye as i,$e as p,Fe as s};
