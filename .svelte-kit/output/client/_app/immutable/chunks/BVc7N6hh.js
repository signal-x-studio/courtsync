var Q=Object.defineProperty;var B=e=>{throw TypeError(e)};var V=(e,s,t)=>s in e?Q(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var k=(e,s,t)=>V(e,typeof s!="symbol"?s+"":s,t),w=(e,s,t)=>s.has(e)||B("Cannot "+t);var a=(e,s,t)=>(w(e,s,"read from private field"),t?t.call(e):s.get(e)),v=(e,s,t)=>s.has(e)?B("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t),U=(e,s,t,r)=>(w(e,s,"write to private field"),r?r.call(e,t):s.set(e,t),t);import{E as Y,F as W,G as O,H as X,B as x,I as F,y as m,z as j,J as ee,K as se,L as te,A as re,M as ae,N as ie,O as ne,P as fe,D as ue,Q as $,R as ce,S as de,b as z,U as he,V as G,W as le,X as oe,n as C,Y as _e,Z as H,g as R,_ as ve,$ as be,a0 as Se,f as ge,a1 as Ee,a2 as Pe,a3 as Ae,x as ye,a4 as Ie,a5 as Re,o as Te,a6 as pe,a7 as Oe,a8 as me,a9 as De}from"./DrfFkH7i.js";import{s as Me,g as Ne}from"./BhAud1kW.js";var l,o,h,P,A,T;class Le{constructor(s,t=!0){k(this,"anchor");v(this,l,new Map);v(this,o,new Map);v(this,h,new Map);v(this,P,!0);v(this,A,()=>{var s=Y;if(a(this,l).has(s)){var t=a(this,l).get(s),r=a(this,o).get(t);if(r)W(r);else{var n=a(this,h).get(t);n&&(a(this,o).set(t,n.effect),a(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[i,u]of a(this,l)){if(a(this,l).delete(i),i===s)break;const f=a(this,h).get(u);f&&(O(f.effect),a(this,h).delete(u))}for(const[i,u]of a(this,o)){if(i===t)continue;const f=()=>{if(Array.from(a(this,l).values()).includes(i)){var _=document.createDocumentFragment();ee(u,_),_.append(x()),a(this,h).set(i,{effect:u,fragment:_})}else O(u);a(this,o).delete(i)};a(this,P)||!r?X(u,f,!1):f()}}});v(this,T,s=>{a(this,l).delete(s);const t=Array.from(a(this,l).values());for(const[r,n]of a(this,h))t.includes(r)||(O(n.effect),a(this,h).delete(r))});this.anchor=s,U(this,P,t)}ensure(s,t){var r=Y,n=se();if(t&&!a(this,o).has(s)&&!a(this,h).has(s))if(n){var i=document.createDocumentFragment(),u=x();i.append(u),a(this,h).set(s,{effect:F(()=>t(u)),fragment:i})}else a(this,o).set(s,F(()=>t(this.anchor)));if(a(this,l).set(r,s),n){for(const[f,c]of a(this,o))f===s?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[f,c]of a(this,h))f===s?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(a(this,A)),r.ondiscard(a(this,T))}else m&&(this.anchor=j),a(this,A).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,P=new WeakMap,A=new WeakMap,T=new WeakMap;function Ye(e,s,t=!1){m&&re();var r=new Le(e),n=t?ae:0;function i(u,f){if(m){const _=ie(e)===ne;if(u===_){var c=fe();ue(c),r.anchor=c,$(!1),r.ensure(u,f),$(!0);return}}r.ensure(u,f)}te(()=>{var u=!1;s((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function q(e,s){return e===s||(e==null?void 0:e[G])===s}function xe(e={},s,t,r){return ce(()=>{var n,i;return de(()=>{n=i,i=(r==null?void 0:r())||[],z(()=>{e!==t(...i)&&(s(e,...i),n&&q(t(...n),e)&&s(null,...n))})}),()=>{he(()=>{i&&q(t(...i),e)&&s(null,...i)})}}),e}let I=!1,D=Symbol();function Fe(e,s,t){const r=t[s]??(t[s]={store:null,source:_e(void 0),unsubscribe:C});if(r.store!==e&&!(D in t))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=C;else{var n=!0;r.unsubscribe=Me(e,i=>{n?r.source.v=i:H(r.source,i)}),n=!1}return e&&D in t?Ne(e):R(r.source)}function $e(){const e={};function s(){le(()=>{for(var t in e)e[t].unsubscribe();oe(e,D,{enumerable:!1,value:!0})})}return[e,s]}function Be(e){var s=I;try{return I=!1,[e(),I]}finally{I=s}}function Ce(e,s,t,r){var N;var n=!Te||(t&pe)!==0,i=(t&Re)!==0,u=(t&me)!==0,f=r,c=!0,_=()=>(c&&(c=!1,f=u?z(r):r),f),S;if(i){var Z=G in e||De in e;S=((N=ve(e,s))==null?void 0:N.set)??(Z&&s in e?d=>e[s]=d:void 0)}var g,M=!1;i?[g,M]=Be(()=>e[s]):g=e[s],g===void 0&&r!==void 0&&(g=_(),S&&(n&&be(),S(g)));var b;if(n?b=()=>{var d=e[s];return d===void 0?_():(c=!0,d)}:b=()=>{var d=e[s];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&(t&Se)===0)return b;if(S){var J=e.$$legacy;return(function(d,y){return arguments.length>0?((!n||!y||J||M)&&S(y?b():d),d):b()})}var p=!1,E=((t&Oe)!==0?ge:Ee)(()=>(p=!1,b()));i&&R(E);var K=ye;return(function(d,y){if(arguments.length>0){const L=y?R(E):n&&i?Pe(d):d;return H(E,L),p=!0,f!==void 0&&(f=L),d}return Ae&&p||(K.f&Ie)!==0?E.v:R(E)})}export{Le as B,$e as a,xe as b,Ye as i,Ce as p,Fe as s};
