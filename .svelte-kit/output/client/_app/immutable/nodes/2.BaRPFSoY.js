import{f as $,a as S,c as Pt,d as Oa}from"../chunks/BGoQ7gJS.js";import"../chunks/Db87pd3s.js";import{d as lr,w as Dt,o as oa,a as fn,g as jt}from"../chunks/BaKoRTVr.js";import{G as Wr,x as gt,a2 as vn,v as Na,C as mn,B as hn,g as e,R as te,D as gn,H as xn,F as fa,I as Yr,y as ar,ac as pn,az as bn,w as aa,A as _n,m as Xt,ax as Fa,aG as Aa,M as Y,a8 as va,aj as ma,n as Ra,q as yn,aH as Dr,aI as Lr,o as Wa,aJ as $r,aK as Sn,at as wn,aL as Tn,aw as Mn,aM as Dn,U as $n,aN as Ya,ab as La,aO as kn,J as Cn,aP as Pn,aQ as In,aR as En,aS as On,aT as Nn,aU as Fn,aV as An,aW as Rn,aE as Wn,b as i,a9 as Yn,aX as Ln,p as dr,aY as se,N as T,e as M,aZ as ur,k as u,s as v,l as d,t as K,j as fr,i as Xe,ak as jn}from"../chunks/Pko6iT02.js";import{s as j,e as Hn,d as kr}from"../chunks/DOfG5Qiu.js";import{p as ut,i as A,s as Ct,a as sa}from"../chunks/BqARAWy1.js";import{i as vr}from"../chunks/YAZl1wJw.js";const Bn=!0;function yt(t,r){return r}function Un(t,r,n){for(var a=t.items,o=[],s=r.length,c=0;c<s;c++)Tn(r[c].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var f=n.parentNode;Mn(f),f.append(n),a.clear(),Nt(t,r[0].prev,r[s-1].next)}Dn(o,()=>{for(var x=0;x<s;x++){var h=r[x];l||(a.delete(h.k),Nt(t,h.prev,h.next)),Wa(h.e,!l)}})}function St(t,r,n,a,o,s=null){var c=t,l={flags:r,items:new Map,first:null},f=(r&Ya)!==0;if(f){var x=t;c=gt?Wr(vn(x)):x.appendChild(Na())}gt&&mn();var h=null,D=!1,I=new Map,y=te(()=>{var W=n();return Aa(W)?W:W==null?[]:Fa(W)}),m,g;function _(){Jn(g,m,l,I,c,o,r,a,n),s!==null&&(m.length===0?h?Ra(h):h=aa(()=>s(c)):h!==null&&yn(h,()=>{h=null}))}hn(()=>{g??(g=$n),m=e(y);var W=m.length;if(D&&W===0)return;D=W===0;let b=!1;if(gt){var E=gn(c)===xn;E!==(W===0)&&(c=fa(),Wr(c),Yr(!1),b=!0)}if(gt){for(var J=null,oe,C=0;C<W;C++){if(ar.nodeType===pn&&ar.data===bn){c=ar,b=!0,Yr(!1);break}var re=m[C],ce=a(re,C);oe=na(ar,l,J,null,re,ce,C,o,r,n),l.items.set(ce,oe),J=oe}W>0&&Wr(fa())}if(gt)W===0&&s&&(h=aa(()=>s(c)));else if(_n()){var ie=new Set,Ye=Xt;for(C=0;C<W;C+=1){re=m[C],ce=a(re,C);var Ie=l.items.get(ce)??I.get(ce);Ie?(r&($r|Dr))!==0&&ja(Ie,re,C,r):(oe=na(null,l,null,null,re,ce,C,o,r,n,!0),I.set(ce,oe)),ie.add(ce)}for(const[De,Qe]of l.items)ie.has(De)||Ye.skipped_effects.add(Qe.e);Ye.oncommit(_)}else _();b&&Yr(!0),e(y)}),gt&&(c=ar)}function Jn(t,r,n,a,o,s,c,l,f){var G,ae,le,p;var x=(c&kn)!==0,h=(c&($r|Dr))!==0,D=r.length,I=n.items,y=n.first,m=y,g,_=null,W,b=[],E=[],J,oe,C,re;if(x)for(re=0;re<D;re+=1)J=r[re],oe=l(J,re),C=I.get(oe),C!==void 0&&((G=C.a)==null||G.measure(),(W??(W=new Set)).add(C));for(re=0;re<D;re+=1){if(J=r[re],oe=l(J,re),C=I.get(oe),C===void 0){var ce=a.get(oe);if(ce!==void 0){a.delete(oe),I.set(oe,ce);var ie=_?_.next:m;Nt(n,_,ce),Nt(n,ce,ie),jr(ce,ie,o),_=ce}else{var Ye=m?m.e.nodes_start:o;_=na(Ye,n,_,_===null?n.first:_.next,J,oe,re,s,c,f)}I.set(oe,_),b=[],E=[],m=_.next;continue}if(h&&ja(C,J,re,c),(C.e.f&Lr)!==0&&(Ra(C.e),x&&((ae=C.a)==null||ae.unfix(),(W??(W=new Set)).delete(C))),C!==m){if(g!==void 0&&g.has(C)){if(b.length<E.length){var Ie=E[0],De;_=Ie.prev;var Qe=b[0],ft=b[b.length-1];for(De=0;De<b.length;De+=1)jr(b[De],Ie,o);for(De=0;De<E.length;De+=1)g.delete(E[De]);Nt(n,Qe.prev,ft.next),Nt(n,_,Qe),Nt(n,ft,Ie),m=Ie,_=ft,re-=1,b=[],E=[]}else g.delete(C),jr(C,m,o),Nt(n,C.prev,C.next),Nt(n,C,_===null?n.first:_.next),Nt(n,_,C),_=C;continue}for(b=[],E=[];m!==null&&m.k!==oe;)(m.e.f&Lr)===0&&(g??(g=new Set)).add(m),E.push(m),m=m.next;if(m===null)continue;C=m}b.push(C),_=C,m=C.next}if(m!==null||g!==void 0){for(var vt=g===void 0?[]:Fa(g);m!==null;)(m.e.f&Lr)===0&&vt.push(m),m=m.next;var pt=vt.length;if(pt>0){var $t=(c&Ya)!==0&&D===0?o:null;if(x){for(re=0;re<pt;re+=1)(le=vt[re].a)==null||le.measure();for(re=0;re<pt;re+=1)(p=vt[re].a)==null||p.fix()}Un(n,vt,$t)}}x&&La(()=>{var k;if(W!==void 0)for(C of W)(k=C.a)==null||k.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var O of a.values())Wa(O.e);a.clear()}function ja(t,r,n,a){(a&$r)!==0&&ma(t.v,r),(a&Dr)!==0?ma(t.i,n):t.i=n}function na(t,r,n,a,o,s,c,l,f,x,h){var D=(f&$r)!==0,I=(f&Sn)===0,y=D?I?Y(o,!1,!1):va(o):o,m=(f&Dr)===0?c:va(c),g={i:m,v:y,k:s,a:null,e:null,prev:n,next:a};try{if(t===null){var _=document.createDocumentFragment();_.append(t=Na())}return g.e=aa(()=>l(t,y,m,x),gt),g.e.prev=n&&n.e,g.e.next=a&&a.e,n===null?h||(r.first=g):(n.next=g,n.e.next=g.e),a!==null&&(a.prev=g,a.e.prev=g.e),g}finally{}}function jr(t,r,n){for(var a=t.next?t.next.e.nodes_start:n,o=r?r.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==a;){var c=wn(s);o.before(s),s=c}}function Nt(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}const ha=[...` 	
\r\fÂ \v\uFEFF`];function qn(t,r,n){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),n){for(var o in n)if(n[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,c=0;(c=a.indexOf(o,c))>=0;){var l=c+s;(c===0||ha.includes(a[c-1]))&&(l===a.length||ha.includes(a[l]))?a=(c===0?"":a.substring(0,c))+a.substring(l+1):c=l}}return a===""?null:a}function Gn(t,r){return t==null?null:String(t)}function me(t,r,n,a,o,s){var c=t.__className;if(gt||c!==n||c===void 0){var l=qn(n,a,s);(!gt||l!==t.getAttribute("class"))&&(l==null?t.removeAttribute("class"):r?t.className=l:t.setAttribute("class",l)),t.__className=n}else if(s&&o!==s)for(var f in s){var x=!!s[f];(o==null||x!==!!o[f])&&t.classList.toggle(f,x)}return s}function Ht(t,r,n,a){var o=t.__style;if(gt||o!==r){var s=Gn(r);(!gt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return a}function Qt(t,r,n=!1){if(t.multiple){if(r==null)return;if(!Aa(r))return Pn();for(var a of t.options)a.selected=r.includes(ga(a));return}for(a of t.options){var o=ga(a);if(In(o,r)){a.selected=!0;return}}(!n||r!==void 0)&&(t.selectedIndex=-1)}function sr(t){var r=new MutationObserver(()=>{Qt(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Cn(()=>{r.disconnect()})}function ga(t){return"__value"in t?t.__value:t.value}const Vn=Symbol("is custom element"),zn=Symbol("is html");function Hr(t){if(gt){var r=!1,n=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;Rt(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;Rt(t,"checked",null),t.checked=o}}};t.__on_r=n,La(n),En()}}function Rt(t,r,n,a){var o=Xn(t);gt&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=n)&&(r==="loading"&&(t[On]=n),n==null?t.removeAttribute(r):typeof n!="string"&&Qn(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Xn(t){return t.__attributes??(t.__attributes={[Vn]:t.nodeName.includes("-"),[zn]:t.namespaceURI===Nn})}var xa=new Map;function Qn(t){var r=t.getAttribute("is")||t.nodeName,n=xa.get(r);if(n)return n;xa.set(r,n=[]);for(var a,o=t,s=Element.prototype;s!==o;){a=An(o);for(var c in a)a[c].set&&n.push(c);o=Fn(o)}return n}function Br(t,r,n=r){var a=new WeakSet;Rn(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Ur(t)?Jr(s):s,n(s),Xt!==null&&a.add(Xt),await Wn(),s!==(s=r())){var c=t.selectionStart,l=t.selectionEnd,f=t.value.length;if(t.value=s??"",l!==null){var x=t.value.length;c===l&&l===f&&x>f?(t.selectionStart=x,t.selectionEnd=x):(t.selectionStart=c,t.selectionEnd=Math.min(l,x))}}}),(gt&&t.defaultValue!==t.value||i(r)==null&&t.value)&&(n(Ur(t)?Jr(t.value):t.value),Xt!==null&&a.add(Xt)),Yn(()=>{var o=r();if(t===document.activeElement){var s=Ln??Xt;if(a.has(s))return}Ur(t)&&o===Jr(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Ur(t){var r=t.type;return r==="number"||r==="range"}function Jr(t){return t===""?null:+t}const Kn=Bn,Zn=!1,eo=(async()=>({})),Ic=Object.freeze(Object.defineProperty({__proto__:null,load:eo,ssr:Zn},Symbol.toStringTag,{value:"Module"})),mr="https://results.advancedeventsystems.com/api",to="https://results.advancedeventsystems.com/odata",ro=async(t,r,n)=>{const a=`${mr}/event/${t}/courts/${r}/${n}`,o=await fetch(a);if(!o.ok)throw new Error(`Failed to fetch court schedule: ${o.statusText}`);return o.json()},ao=async t=>{const r=`${mr}/event/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch event info: ${n.statusText}`);return n.json()},no=async(t,r)=>{const n=`${to}/${t}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch team assignments: ${a.statusText}`);return a.json()},qr=async(t,r,n,a)=>{const o=`${mr}/event/${t}/division/${r}/team/${n}/schedule/${a}`,s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch team schedule: ${s.statusText}`);return s.json()},oo=async(t,r)=>{const n=`${mr}/event/${t}/division/${r}/plays`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch division plays: ${a.statusText}`);return a.json()},so=async(t,r)=>{const n=`${mr}/event/${t}/poolsheet/${r}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch pool sheet: ${a.statusText}`);return a.json()},yr="630 Volleyball",Sr="630",io=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(n=>n&&(n.includes(yr)||n.includes(Sr))),co=t=>t.FirstTeamText&&(t.FirstTeamText.includes(yr)||t.FirstTeamText.includes(Sr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(yr)||t.SecondTeamText.includes(Sr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(yr)||t.WorkTeamText.includes(Sr))?"work":null,lo=t=>{const r=[];return t.forEach(n=>{n.CourtMatches.forEach(a=>{if(io(a)){const o=co(a);o&&o!=="work"&&r.push({...a,CourtName:n.Name,CourtId:n.CourtId,InvolvedTeam:o})}})}),r.sort((n,a)=>n.ScheduledStartDateTime-a.ScheduledStartDateTime)},Ha=t=>{const r=new Map;for(let n=0;n<t.length;n++){const a=t[n],o=[];for(let s=0;s<t.length;s++){if(n===s)continue;const c=t[s],l=a.ScheduledStartDateTime<c.ScheduledEndDateTime&&a.ScheduledEndDateTime>c.ScheduledStartDateTime,f=a.CourtId!==c.CourtId;l&&f&&o.push(c.MatchId)}o.length>0&&r.set(a.MatchId,o)}return r},Ba=6048e5,uo=864e5,pa=Symbol.for("constructDateFrom");function Bt(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&pa in t?t[pa](r):t instanceof Date?new t.constructor(r):new Date(r)}function It(t,r){return Bt(r||t,t)}let fo={};function Cr(){return fo}function ir(t,r){var l,f,x,h;const n=Cr(),a=(r==null?void 0:r.weekStartsOn)??((f=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((h=(x=n.locale)==null?void 0:x.options)==null?void 0:h.weekStartsOn)??0,o=It(t,r==null?void 0:r.in),s=o.getDay(),c=(s<a?7:0)+s-a;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Tr(t,r){return ir(t,{...r,weekStartsOn:1})}function Ua(t,r){const n=It(t,r==null?void 0:r.in),a=n.getFullYear(),o=Bt(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const s=Tr(o),c=Bt(n,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const l=Tr(c);return n.getTime()>=s.getTime()?a+1:n.getTime()>=l.getTime()?a:a-1}function ba(t){const r=It(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function vo(t,...r){const n=Bt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function _a(t,r){const n=It(t,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function mo(t,r,n){const[a,o]=vo(n==null?void 0:n.in,t,r),s=_a(a),c=_a(o),l=+s-ba(s),f=+c-ba(c);return Math.round((l-f)/uo)}function ho(t,r){const n=Ua(t,r),a=Bt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Tr(a)}function go(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xo(t){return!(!go(t)&&typeof t!="number"||isNaN(+It(t)))}function po(t,r){const n=It(t,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_o=(t,r,n)=>{let a;const o=bo[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Gr(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},So={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},To={date:Gr({formats:yo,defaultWidth:"full"}),time:Gr({formats:So,defaultWidth:"full"}),dateTime:Gr({formats:wo,defaultWidth:"full"})},Mo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Do=(t,r,n,a)=>Mo[t];function nr(t){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):c;o=t.formattingValues[l]||t.formattingValues[c]}else{const c=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[l]||t.values[c]}const s=t.argumentCallback?t.argumentCallback(r):r;return o[s]}}const $o={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ko={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Co={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Po={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Io={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oo=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},No={ordinalNumber:Oo,era:nr({values:$o,defaultWidth:"wide"}),quarter:nr({values:ko,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:Co,defaultWidth:"wide"}),day:nr({values:Po,defaultWidth:"wide"}),dayPeriod:nr({values:Io,defaultWidth:"wide",formattingValues:Eo,defaultFormattingWidth:"wide"})};function or(t){return(r,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;const c=s[0],l=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(l)?Ao(l,D=>D.test(c)):Fo(l,D=>D.test(c));let x;x=t.valueCallback?t.valueCallback(f):f,x=n.valueCallback?n.valueCallback(x):x;const h=r.slice(c.length);return{value:x,rest:h}}}function Fo(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function Ao(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Ro(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const o=a[0],s=r.match(t.parsePattern);if(!s)return null;let c=t.valueCallback?t.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const l=r.slice(o.length);return{value:c,rest:l}}}const Wo=/^(\d+)(th|st|nd|rd)?/i,Yo=/\d+/i,Lo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jo={any:[/^b/i,/^(a|c)/i]},Ho={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bo={any:[/1/i,/2/i,/3/i,/4/i]},Uo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Go={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xo={ordinalNumber:Ro({matchPattern:Wo,parsePattern:Yo,valueCallback:t=>parseInt(t,10)}),era:or({matchPatterns:Lo,defaultMatchWidth:"wide",parsePatterns:jo,defaultParseWidth:"any"}),quarter:or({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:or({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:Jo,defaultParseWidth:"any"}),day:or({matchPatterns:qo,defaultMatchWidth:"wide",parsePatterns:Go,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:Vo,defaultMatchWidth:"any",parsePatterns:zo,defaultParseWidth:"any"})},Qo={code:"en-US",formatDistance:_o,formatLong:To,formatRelative:Do,localize:No,match:Xo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ko(t,r){const n=It(t,r==null?void 0:r.in);return mo(n,po(n))+1}function Zo(t,r){const n=It(t,r==null?void 0:r.in),a=+Tr(n)-+ho(n);return Math.round(a/Ba)+1}function Ja(t,r){var h,D,I,y;const n=It(t,r==null?void 0:r.in),a=n.getFullYear(),o=Cr(),s=(r==null?void 0:r.firstWeekContainsDate)??((D=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(I=o.locale)==null?void 0:I.options)==null?void 0:y.firstWeekContainsDate)??1,c=Bt((r==null?void 0:r.in)||t,0);c.setFullYear(a+1,0,s),c.setHours(0,0,0,0);const l=ir(c,r),f=Bt((r==null?void 0:r.in)||t,0);f.setFullYear(a,0,s),f.setHours(0,0,0,0);const x=ir(f,r);return+n>=+l?a+1:+n>=+x?a:a-1}function es(t,r){var l,f,x,h;const n=Cr(),a=(r==null?void 0:r.firstWeekContainsDate)??((f=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(x=n.locale)==null?void 0:x.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ja(t,r),s=Bt((r==null?void 0:r.in)||t,0);return s.setFullYear(o,0,a),s.setHours(0,0,0,0),ir(s,r)}function ts(t,r){const n=It(t,r==null?void 0:r.in),a=+ir(n,r)-+es(n,r);return Math.round(a/Ba)+1}function we(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const Wt={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return we(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):we(n+1,2)},d(t,r){return we(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return we(t.getHours()%12||12,r.length)},H(t,r){return we(t.getHours(),r.length)},m(t,r){return we(t.getMinutes(),r.length)},s(t,r){return we(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return we(o,r.length)}},zt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ya={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Wt.y(t,r)},Y:function(t,r,n,a){const o=Ja(t,a),s=o>0?o:1-o;if(r==="YY"){const c=s%100;return we(c,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):we(s,r.length)},R:function(t,r){const n=Ua(t);return we(n,r.length)},u:function(t,r){const n=t.getFullYear();return we(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return we(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return we(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return Wt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return we(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const o=ts(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):we(o,r.length)},I:function(t,r,n){const a=Zo(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):we(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wt.d(t,r)},D:function(t,r,n){const a=Ko(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):we(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return we(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return we(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return we(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let o;switch(a===12?o=zt.noon:a===0?o=zt.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let o;switch(a>=17?o=zt.evening:a>=12?o=zt.afternoon:a>=4?o=zt.morning:o=zt.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Wt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wt.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):we(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):we(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wt.s(t,r)},S:function(t,r){return Wt.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return wa(a);case"XXXX":case"XX":return Gt(a);case"XXXXX":case"XXX":default:return Gt(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return wa(a);case"xxxx":case"xx":return Gt(a);case"xxxxx":case"xxx":default:return Gt(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Sa(a,":");case"OOOO":default:return"GMT"+Gt(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Sa(a,":");case"zzzz":default:return"GMT"+Gt(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return we(a,r.length)},T:function(t,r,n){return we(+t,r.length)}};function Sa(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),s=a%60;return s===0?n+String(o):n+String(o)+r+we(s,2)}function wa(t,r){return t%60===0?(t>0?"-":"+")+we(Math.abs(t)/60,2):Gt(t,r)}function Gt(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=we(Math.trunc(a/60),2),s=we(a%60,2);return n+o+r+s}const Ta=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},qa=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},rs=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Ta(t,r);let s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Ta(a,r)).replace("{{time}}",qa(o,r))},as={p:qa,P:rs},ns=/^D+$/,os=/^Y+$/,ss=["D","DD","YY","YYYY"];function is(t){return ns.test(t)}function cs(t){return os.test(t)}function ls(t,r,n){const a=ds(t,r,n);if(console.warn(a),ss.includes(t))throw new RangeError(a)}function ds(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const us=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vs=/^'([^]*?)'?$/,ms=/''/g,hs=/[a-zA-Z]/;function Ga(t,r,n){var h,D,I,y;const a=Cr(),o=a.locale??Qo,s=a.firstWeekContainsDate??((D=(h=a.locale)==null?void 0:h.options)==null?void 0:D.firstWeekContainsDate)??1,c=a.weekStartsOn??((y=(I=a.locale)==null?void 0:I.options)==null?void 0:y.weekStartsOn)??0,l=It(t,n==null?void 0:n.in);if(!xo(l))throw new RangeError("Invalid time value");let f=r.match(fs).map(m=>{const g=m[0];if(g==="p"||g==="P"){const _=as[g];return _(m,o.formatLong)}return m}).join("").match(us).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:gs(m)};if(ya[g])return{isToken:!0,value:m};if(g.match(hs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(f=o.localize.preprocessor(l,f));const x={firstWeekContainsDate:s,weekStartsOn:c,locale:o};return f.map(m=>{if(!m.isToken)return m.value;const g=m.value;(cs(g)||is(g))&&ls(g,r,String(t));const _=ya[g[0]];return _(l,g,o.localize,x)}).join("")}function gs(t){const r=t.match(vs);return r?r[1].replace(ms,"'"):t}const We=t=>Ga(new Date(t),"h:mm a"),Yt=t=>Ga(new Date(t),"MMM d, yyyy"),Vr="coveragePlan";function xs(){const{subscribe:t,set:r,update:n}=Dt(new Set);try{const o=localStorage.getItem(Vr);if(o){const s=JSON.parse(o);r(new Set(s.selectedMatches))}}catch(o){console.error("Failed to load coverage plan:",o)}const a=o=>{try{const s={selectedMatches:Array.from(o),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(Vr,JSON.stringify(s))}catch(s){console.error("Failed to save coverage plan:",s)}};return{subscribe:t,toggleMatch:o=>{n(s=>{const c=new Set(s);return c.has(o)?c.delete(o):c.add(o),a(c),c})},selectMatch:o=>{n(s=>{const c=new Set(s);return c.add(o),a(c),c})},deselectMatch:o=>{n(s=>{const c=new Set(s);return c.delete(o),a(c),c})},clearPlan:()=>{r(new Set),localStorage.removeItem(Vr)}}}const xt=xs();lr(xt,t=>t);const ps=lr(xt,t=>t.size),zr="teamCoverageStatus";function bs(){const{subscribe:t,set:r,update:n}=Dt({});try{const o=localStorage.getItem(zr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load coverage status:",o)}const a=o=>{if(Object.keys(o).length!==0)try{localStorage.setItem(zr,JSON.stringify(o))}catch(s){console.error("Failed to save coverage status:",s)}};return{subscribe:t,setTeamStatus:(o,s)=>{n(c=>{const l={...c};return s==="not-covered"?delete l[o]:l[o]=s,a(l),l})},getTeamStatus:o=>{let s="not-covered";return t(c=>{s=c[o]||"not-covered"})(),s},clearAllStatus:()=>{r({}),localStorage.removeItem(zr)},updateFromPlan:(o,s,c)=>{c!==0&&n(l=>{let f;if(s===0?f="not-covered":s===c?f="covered":f="partially-covered",(l[o]||"not-covered")===f)return l;const h={...l};return f==="not-covered"?delete h[o]:h[o]=f,a(h),h})},importStatuses:o=>{r(o),a(o)}}}const dt=bs(),Ma="userRole";function _s(){const{subscribe:t,set:r}=Dt("media");try{const a=localStorage.getItem(Ma);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const n=a=>{try{localStorage.setItem(Ma,a)}catch(o){console.error("Failed to save user role:",o)}};return{subscribe:t,setRole:a=>{r(a),n(a)}}}const cr=_s(),ia=lr(cr,t=>t==="media"),ca=lr(cr,t=>t==="spectator"),ys=lr(cr,t=>t==="coach");var Ss=$('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function ws(t,r){dr(r,!1);let n=ut(r,"eventId",8),a=ut(r,"date",8),o=ut(r,"timeWindow",8),s=ut(r,"onLoad",8),c=ut(r,"loading",8,!1),l=Y(n()),f=Y(a()),x=Y(o());async function h(C){C.preventDefault(),await s()(e(l),e(f),e(x))}se(()=>(M(n()),e(l),M(a()),e(f),M(o()),e(x)),()=>{n()!==e(l)&&T(l,n()),a()!==e(f)&&T(f,a()),o()!==e(x)&&T(x,o())}),ur(),vr();var D=Ss(),I=u(D),y=u(I),m=v(u(y),2);Hr(m),d(y);var g=v(y,2),_=v(u(g),2);Hr(_),d(g);var W=v(g,2),b=v(u(W),2);Hr(b),d(W);var E=v(W,2),J=u(E),oe=u(J,!0);d(J),d(E),d(I),d(D),K(()=>{m.disabled=c(),_.disabled=c(),b.disabled=c(),J.disabled=c(),Ht(J,`background-color: ${c()?"#ca8a04":"#eab308"}; color: #18181b;`),j(oe,c()?"Loading...":"Load")}),Br(m,()=>e(l),C=>T(l,C)),Br(_,()=>e(f),C=>T(f,C)),Br(b,()=>e(x),C=>T(x,C)),Hn("submit",D,h),S(t,D),fr()}const Va=(t,r,n,a={})=>{const{excludeSelected:o=!0,preferNoConflicts:s=!0,preferNearSelected:c=!0,maxResults:l=10}=a;return(o?t.filter(h=>!r.has(h.MatchId)):t).map(h=>{const D=[];let I=0;const y=n.has(h.MatchId);if(!y&&s?(I+=50,D.push("No conflicts")):y&&(I-=20,D.push("Has conflicts")),c&&r.size>0){const g=h.ScheduledStartDateTime,_=h.ScheduledEndDateTime,W=t.filter(E=>r.has(E.MatchId));let b=1/0;W.forEach(E=>{const J=E.ScheduledStartDateTime,oe=E.ScheduledEndDateTime,C=Math.abs(g-oe),re=Math.abs(J-_),ce=Math.min(C,re);ce<b&&(b=ce)}),b<7200*1e3?(I+=20,D.push("Near selected matches")):b>14400*1e3&&(I-=10,D.push("Far from selected matches"))}c&&r.size>0&&t.filter(W=>r.has(W.MatchId)).filter(W=>W.CourtName===h.CourtName).length>0&&(I+=15,D.push("Same court as selected matches"));const m=new Date(h.ScheduledStartDateTime).getHours();return m>=8&&m<12&&(I+=5,D.push("Morning match")),{match:h,score:I,reasons:D}}).sort((h,D)=>D.score-h.score).slice(0,l).filter(h=>h.score>0)},Ts=(t,r,n,a,o,s={})=>{const{excludeSelected:c=!0,preferUncovered:l=!0,preferNoConflicts:f=!0,preferNearSelected:x=!0,maxResults:h=10}=s,D=[];return t.forEach(I=>{if(c&&r.has(I.MatchId))return;const y=o(I);if(!y)return;const m=a.get(y)||"not-covered",g=n.has(I.MatchId);let _=0;const W=[];if(l&&m==="not-covered"&&(_+=10,W.push("Uncovered team")),f&&!g&&(_+=5,W.push("No conflicts")),x&&r.size>0){const b=I.ScheduledStartDateTime;let E=!1;t.forEach(J=>{if(r.has(J.MatchId)){const C=Math.abs(b-J.ScheduledStartDateTime)/6e4;C<=30&&C>0&&(E=!0)}}),E&&(_+=3,W.push("Near selected match"))}_>0&&W.length>0&&D.push({match:I,teamId:y,reason:W.join(", "),score:_})}),D.sort((I,y)=>y.score-I.score).slice(0,h)},Ms=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),n=decodeURIComponent(escape(atob(r))),a=JSON.parse(n);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},Ds=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},wr={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},Xr="matchFilters";function $s(){const{subscribe:t,set:r,update:n}=Dt(wr);try{const o=localStorage.getItem(Xr);if(o){const s=JSON.parse(o);r({...wr,...s})}}catch(o){console.error("Failed to load filters:",o)}const a=o=>{try{localStorage.setItem(Xr,JSON.stringify(o))}catch(s){console.error("Failed to save filters:",s)}};return{subscribe:t,updateFilter:(o,s)=>{n(c=>{const l={...c,[o]:s};return a(l),l})},resetFilters:()=>{r(wr),localStorage.removeItem(Xr)},setTimeRangePreset:o=>{n(s=>{let c;return o==="morning"?c={...s,timeRange:{start:"00:00",end:"14:29"}}:o==="afternoon"?c={...s,timeRange:{start:"14:30",end:"23:59"}}:c={...s,timeRange:{start:null,end:null}},a(c),c})},getTeamIdentifier:o=>{const c=(o.InvolvedTeam==="first"?o.FirstTeamText:o.SecondTeamText).match(/(\d+-\d+)/);return c?c[1]:""}}}const hr=$s();function Ue(t){const n=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return n?n[1]:""}function Mr(t){const r=new Set(t.map(n=>n.Division.CodeAlias));return Array.from(r).sort()}function za(t){const r=new Set;return t.forEach(n=>{const a=Ue(n);a&&r.add(a)}),Array.from(r).sort()}function Xa(t){let r=wr;return hr.subscribe(n=>{r=n})(),t.filter(n=>{if(r.division&&n.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),c=o.getMinutes(),l=s*60+c,f=870;if(r.wave==="morning"&&l>=f||r.wave==="afternoon"&&l<f)return!1}if(r.teams.length>0){const a=Ue(n);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),c=o.getMinutes(),l=s*60+c;if(r.timeRange.start){const[f,x]=r.timeRange.start.split(":").map(Number),h=f*60+x;if(l<h)return!1}if(r.timeRange.end){const[f,x]=r.timeRange.end.split(":").map(Number),h=f*60+x;if(l>h)return!1}}return!0})}function Mt(t,r){hr.updateFilter(t,r)}function Qr(){hr.resetFilters()}const Kr="matchPriorities";function ks(){const{subscribe:t,set:r,update:n}=Dt({});try{const o=localStorage.getItem(Kr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load priorities:",o)}const a=o=>{try{localStorage.setItem(Kr,JSON.stringify(o))}catch(s){console.error("Failed to save priorities:",s)}};return{subscribe:t,setPriority:(o,s)=>{n(c=>{const l={...c};return s===null?delete l[o]:l[o]=s,a(l),l})},getPriority:o=>{let s=null;return t(c=>{s=c[o]||null})(),s},clearAllPriorities:()=>{r({}),localStorage.removeItem(Kr)}}}const Lt=ks(),Da="followedTeams",$a="teamColors";function Cs(){const{subscribe:t,set:r,update:n}=Dt([]),{subscribe:a,set:o,update:s}=Dt(new Map);{try{const f=localStorage.getItem(Da);f&&r(JSON.parse(f))}catch(f){console.error("Failed to load followed teams:",f)}try{const f=localStorage.getItem($a);if(f){const x=JSON.parse(f);o(new Map(Object.entries(x)))}}catch(f){console.error("Failed to load team colors:",f)}}const c=f=>{try{localStorage.setItem(Da,JSON.stringify(f))}catch(x){console.error("Failed to save followed teams:",x)}},l=f=>{try{const x={};f.forEach((h,D)=>{x[D]=h}),localStorage.setItem($a,JSON.stringify(x))}catch(x){console.error("Failed to save team colors:",x)}};return{subscribe:t,followTeam:(f,x)=>{n(h=>{if(h.some(I=>I.teamId===f))return h;const D=[...h,{teamId:f,teamName:x,followedAt:Date.now()}];return c(D),D})},unfollowTeam:f=>{n(x=>{const h=x.filter(D=>D.teamId!==f);return c(h),h}),s(x=>{const h=new Map(x);return h.delete(f),l(h),h})},isFollowing:f=>{let x=!1;return t(h=>{x=h.some(D=>D.teamId===f)})(),x},setTeamColor:(f,x)=>{s(h=>{const D=new Map(h);return D.set(f,x),l(D),D})},getTeamColor:f=>{let x=null;return a(h=>{x=h.get(f)||null})(),x},reorderTeams:(f,x)=>{n(h=>{const D=h.findIndex(m=>m.teamId===f);if(D===-1)return h;const I=[...h],y=I[D];return x==="top"?(I.splice(D,1),I.unshift(y)):x==="up"&&D>0?[I[D-1],I[D]]=[I[D],I[D-1]]:x==="down"&&D<I.length-1&&([I[D],I[D+1]]=[I[D+1],I[D]]),c(I),I})}}}const pr=Cs(),ka="notificationPreferences",br={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Ps(){const{subscribe:t,set:r,update:n}=Dt(br),{subscribe:a,set:o}=Dt("default");{try{const l=localStorage.getItem(ka);if(l){const f=JSON.parse(l);r({...br,...f})}}catch(l){console.error("Failed to load notification preferences:",l)}"Notification"in window&&o(Notification.permission)}const s=l=>{try{localStorage.setItem(ka,JSON.stringify(l))}catch(f){console.error("Failed to save notification preferences:",f)}},c=(l,f,x=!1)=>{let h="default";a(D=>{h=D})(),x&&h==="granted"&&"Notification"in window?new Notification(l,{body:f,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${l}: ${f}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let l="default";if(a(f=>{l=f})(),l==="default"){const f=await Notification.requestPermission();return o(f),f==="granted"}return l==="granted"}return!1},checkUpcomingMatches:(l,f)=>{let x=br;if(t(I=>{x=I})(),!x.upcomingMatchReminder)return;const h=Date.now(),D=x.reminderMinutes*60*1e3;l.forEach(I=>{const y=I.ScheduledStartDateTime,m=y-h,g=I.FirstTeamText||I.SecondTeamText;if(f.includes(g)&&m>0&&m<=D){const _=`reminder-${I.MatchId}`,W=localStorage.getItem(_);if(!W||Date.now()-parseInt(W)>D){const b=Math.floor(m/6e4);c(`Match starting in ${b} minute${b!==1?"s":""}`,`${I.FirstTeamText} vs ${I.SecondTeamText}
${new Date(y).toLocaleTimeString()} - ${I.CourtName}`,x.browserNotifications),localStorage.setItem(_,Date.now().toString())}}})},notifyScoreUpdate:(l,f)=>{let x=br;if(t(g=>{x=g})(),!x.scoreUpdateNotification)return;const h=f.sets.find(g=>g.completedAt===0)||f.sets[f.sets.length-1],D=f.sets.filter(g=>g.completedAt>0),I=D.filter(g=>g.team1Score>g.team2Score).length,y=D.filter(g=>g.team2Score>g.team1Score).length;let m=`Score: ${h.team1Score}-${h.team2Score}`;D.length>0&&(m=`Sets: ${I}-${y} | ${m}`),c(`${l.FirstTeamText} vs ${l.SecondTeamText}`,m,x.browserNotifications)},updatePreferences:l=>{n(f=>{const x={...f,...l};return s(x),x})}}}const Zr=Ps(),Is="courtsync-score-updates";let _r=null;const Es=()=>{if(!_r)try{_r=new BroadcastChannel(Is)}catch(t){console.error("BroadcastChannel not supported:",t),_r={postMessage:()=>{},close:()=>{},onmessage:null}}return _r},Os=(t,r,n)=>{const a=Es(),o={type:n?"score-update":"score-delete",eventId:t,matchId:r,score:n||void 0,timestamp:Date.now()};try{a.postMessage(o)}catch(s){console.error("Failed to broadcast score update:",s)}},Ca="scoreHistory",Ns=(t,r,n)=>{try{const a=localStorage.getItem(Ca),o=a?JSON.parse(a):{};o[t.toString()]||(o[t.toString()]=[]);const s={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:n};o[t.toString()].push(s),o[t.toString()].length>100&&(o[t.toString()]=o[t.toString()].slice(-100)),localStorage.setItem(Ca,JSON.stringify(o))}catch(a){console.error("Failed to save score history:",a)}},Pa="claimHistory",Ia=1e3;function ea(t){try{const r=localStorage.getItem(Pa),n=r?JSON.parse(r):[];n.unshift(t),n.length>Ia&&n.splice(Ia),localStorage.setItem(Pa,JSON.stringify(n))}catch(r){console.error("Failed to save claim history:",r)}}const Ea="matchClaims",ta="matchScores",Fs=1800*1e3;function Qa({eventId:t,userId:r="anonymous"}){const{subscribe:n,set:a,update:o}=Dt(new Map),{subscribe:s,set:c,update:l}=Dt(new Map);{try{const y=localStorage.getItem(Ea);if(y){const m=JSON.parse(y),g=new Map;Object.values(m).forEach(_=>{_.eventId===t&&_.expiresAt>Date.now()&&g.set(_.matchId,_)}),a(g)}}catch(y){console.error("Failed to load claims:",y)}try{const y=localStorage.getItem(ta);if(y){const m=JSON.parse(y),g=new Map;Object.values(m).forEach(_=>{_.eventId===t&&g.set(_.matchId,_)}),c(g)}}catch(y){console.error("Failed to load scores:",y)}}const f=y=>{try{const m={};y.forEach(g=>{m[g.matchId.toString()]=g}),localStorage.setItem(Ea,JSON.stringify(m))}catch(m){console.error("Failed to save claims:",m)}},x=y=>{try{const m={};y.forEach(g=>{m[g.matchId.toString()]=g}),localStorage.setItem(ta,JSON.stringify(m))}catch(m){console.error("Failed to save scores:",m)}};let h=null;return{claims:{subscribe:n},scores:{subscribe:s},claimMatch:(y,m)=>{const g=Date.now(),_=m+Fs,W={matchId:y,claimedBy:r,claimedAt:g,expiresAt:_,eventId:t};o(b=>{const E=new Map(b);return E.set(y,W),f(E),E}),ea({matchId:y,eventId:t,action:"claimed",userId:r,timestamp:g})},releaseClaim:y=>{o(m=>{const g=m.get(y),_=new Map(m);return _.delete(y),f(_),g&&Kn&&ea({matchId:y,eventId:t,action:"released",userId:g.claimedBy,timestamp:Date.now()}),_})},transferClaim:(y,m)=>{let g=!1;if(n(W=>{const b=W.get(y);g=(b==null?void 0:b.claimedBy)===r&&b.expiresAt>Date.now()})(),!g)return!1;const _=Date.now();return o(W=>{const b=W.get(y);if(!b)return W;const E={...b,claimedBy:m,claimedAt:_},J=new Map(W);return J.set(y,E),f(J),ea({matchId:y,eventId:t,action:"transferred",userId:r,timestamp:_,transferredTo:m}),J}),!0},isClaimed:y=>{let m=!1;return n(g=>{const _=g.get(y);m=_?_.expiresAt>Date.now():!1})(),m},getClaimStatus:y=>{let m="available";return n(g=>{const _=g.get(y);!_||_.expiresAt<Date.now()?m="available":_.claimedBy===r?m="claimed":m="locked"})(),m},getClaimer:y=>{let m=null;return n(g=>{const _=g.get(y);m=_&&_.expiresAt>Date.now()?_.claimedBy:null})(),m},isClaimOwner:y=>{let m=!1;return n(g=>{const _=g.get(y);m=(_==null?void 0:_.claimedBy)===r&&_.expiresAt>Date.now()})(),m},updateScore:(y,m,g)=>{const _={matchId:y,eventId:t,sets:m,status:g,lastUpdated:Date.now(),lastUpdatedBy:r};l(W=>{const b=new Map(W);return b.set(y,_),x(b),b}),Os(t,y,_),Ns(y,_,r)},getScore:y=>{let m=null;return s(g=>{m=g.get(y)||null})(),m},clearEventData:()=>{o(y=>{const m=new Map(y);return m.forEach((g,_)=>{g.eventId===t&&m.delete(_)}),f(m),m}),l(y=>{const m=new Map(y);return m.forEach((g,_)=>{g.eventId===t&&m.delete(_)}),x(m),m})},startPolling:()=>{h||(h=setInterval(()=>{try{const y=localStorage.getItem(ta);if(!y)return;const m=JSON.parse(y),g=new Map;let _=!1;s(W=>{Object.values(m).forEach(b=>{if(b.eventId===t){g.set(b.matchId,b);const E=W.get(b.matchId);(!E||b.lastUpdated&&b.lastUpdated>E.lastUpdated)&&(_=!0)}}),_&&l(b=>{const E=new Map(b);return g.forEach((J,oe)=>{const C=b.get(oe);(!C||J.lastUpdated&&J.lastUpdated>C.lastUpdated)&&E.set(oe,J)}),E})})()}catch(y){console.error("Failed to poll scores:",y)}},3e3))},stopPolling:()=>{h&&(clearInterval(h),h=null)}}}const ra="matchNotes";function As(t){const{subscribe:r,set:n,update:a}=Dt(new Map);try{const s=localStorage.getItem(ra);if(s){const c=JSON.parse(s),l=new Map;Object.values(c).forEach(f=>{f.eventId===t&&l.set(f.matchId,f)}),n(l)}}catch(s){console.error("Failed to load match notes:",s)}const o=s=>{try{const c=localStorage.getItem(ra),l=c?JSON.parse(c):{};s.forEach(f=>{l[`${t}-${f.matchId}`]=f}),Object.keys(l).forEach(f=>{if(f.startsWith(`${t}-`)){const x=parseInt(f.split("-").pop()||"0");s.has(x)||delete l[f]}}),localStorage.setItem(ra,JSON.stringify(l))}catch(c){console.error("Failed to save match notes:",c)}};return{subscribe:r,setNote:(s,c)=>{const l=Date.now();a(f=>{const x=new Map(f),h=x.get(s);return c.trim()?x.set(s,{matchId:s,eventId:t,note:c.trim(),createdAt:(h==null?void 0:h.createdAt)||l,updatedAt:l}):x.delete(s),o(x),x})},getNote:s=>{let c="";return r(l=>{var f;c=((f=l.get(s))==null?void 0:f.note)||""})(),c},deleteNote:s=>{a(c=>{const l=new Map(c);return l.delete(s),o(l),l})},hasNote:s=>{let c=!1;return r(l=>{const f=l.get(s);c=f!==void 0&&f.note.trim().length>0})(),c}}}function Rs(t){return As(t)}var Ws=$('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),Ys=$('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Ls=$("<button>Statistics</button>"),js=$('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Hs=$('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Bs=$('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),Us=$('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),Js=$('<span class="text-[#808593] mx-1">vs</span> ',1),qs=$('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),Gs=$('<span class="mx-1">vs</span> ',1),Vs=$('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),zs=$('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Xs=$('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Qs=$('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),Ks=$('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),Zs=$('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),ei=$("<option> </option>"),ti=$('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),ri=$('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),ai=$('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),ni=$('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),oi=$('<span class="text-[#808593] mx-1">vs</span> ',1),si=$('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),ii=$('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),ci=$('<div class="space-y-4"><!> <!></div>'),li=$('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),di=$("<!> <!>",1),ui=$('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),fi=$('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),vi=$('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function mi(t,r){dr(r,!1);const n=Y(),a=Y(),o=Y(),s=Y(),c=Y();let l=ut(r,"match",8),f=ut(r,"eventId",8),x=ut(r,"clubId",8),h=ut(r,"onClose",8),D=ut(r,"matches",24,()=>[]),I=Y(null),y=Y([]),m=Y([]),g=Y([]),_=Y([]),W=Y(null),b=Y(null),E=Y("schedule"),J=Y(!0),oe=Y(null);function C(){return l().InvolvedTeam==="first"?l().FirstTeamText:l().InvolvedTeam==="second"?l().SecondTeamText:""}const re=Ue(l()),ce=C();oa(async()=>{T(J,!0),T(oe,null);try{const k=(await no(f(),x())).value||[],q=C();if(!q){T(oe,"Could not extract team name from match"),T(J,!1);return}const ne=k.find(Oe=>{if(Oe.TeamText===q||Oe.TeamName===q)return!0;const Je=q.match(/(\d+-\d+)/);if(Je){const Pe=Je[1];return Oe.TeamName.includes(Pe)||Oe.TeamText.includes(Pe)}return!1});if(!ne){T(oe,`Team not found: ${q}`),T(J,!1);return}const he=ne.TeamId,ye=ne.TeamDivision.DivisionId;T(I,{TeamId:he,DivisionId:ye,TeamName:ne.TeamName,TeamText:ne.TeamText});const[Ae,et,wt]=await Promise.all([qr(f(),ye,he,"current").catch(()=>[]),qr(f(),ye,he,"work").catch(()=>[]),qr(f(),ye,he,"future").catch(()=>[])]),mt=(Oe,Je=!1)=>Array.isArray(Oe)?Oe.flatMap(Pe=>{var ht,Le;return Je?Pe.Match?[{...Pe.Match,Court:Pe.Match.Court||null,Division:{...Pe.Play,PlayId:(ht=Pe.Play)==null?void 0:ht.PlayId},FirstTeamText:((Le=Pe.Play)==null?void 0:Le.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!Pe.Matches||!Array.isArray(Pe.Matches)?[]:Pe.Matches.map(Ke=>{var tt;return{...Ke,Court:Ke.Court||null,Division:{...Pe.Play,PlayId:(tt=Pe.Play)==null?void 0:tt.PlayId}}})}):[];T(y,mt(Ae,!1)),T(m,mt(et,!0)),T(g,mt(wt,!1));const Ce=await oo(f(),ye).catch(()=>null);Ce!=null&&Ce.Plays&&T(_,Ce.Plays)}catch(p){T(oe,p instanceof Error?p.message:"Failed to load team data")}finally{T(J,!1)}});function ie(p,k=!1){var Ae,et;const q=typeof p.ScheduledStartDateTime=="string"?new Date(p.ScheduledStartDateTime).getTime():p.ScheduledStartDateTime,ne=((Ae=p.FirstTeamText)==null?void 0:Ae.includes("630"))||((et=p.SecondTeamText)==null?void 0:et.includes("630")),he=Yt(q),ye=We(q);return{matchDate:he,startTimeDisplay:ye,isPlaying:ne,isWork:k,scheduleMatch:p}}se(()=>e(E),()=>{e(E)==="poolsheet"&&T(b,null)}),se(()=>(e(y),e(m),e(g)),()=>{T(n,[...e(y).map(k=>({...k,type:"current"})),...e(m).map(k=>({...k,type:"work"})),...e(g).map(k=>({...k,type:"future"}))].filter((k,q,ne)=>ne.findIndex(he=>he.MatchId===k.MatchId)===q).sort((k,q)=>{const ne=typeof k.ScheduledStartDateTime=="string"?new Date(k.ScheduledStartDateTime).getTime():k.ScheduledStartDateTime||0,he=typeof q.ScheduledStartDateTime=="string"?new Date(q.ScheduledStartDateTime).getTime():q.ScheduledStartDateTime||0;return ne-he}))}),se(()=>e(n),()=>{T(a,(()=>{const p=new Set;return e(n).forEach(k=>{if(k.Division&&k.Division.PlayId){const q=Math.abs(k.Division.PlayId);p.add(q)}}),Array.from(p)})())}),se(()=>(e(_),e(a)),()=>{T(o,e(_).filter(p=>{const k=Math.abs(p.PlayId);return e(a).includes(k)}))}),se(()=>(e(o),e(W)),()=>{e(o).length>0&&!e(W)&&T(W,e(o)[0].PlayId)}),se(()=>(e(W),e(E),M(f())),()=>{e(W)&&e(E)==="poolsheet"&&so(f(),e(W)).then(p=>{T(b,p)}).catch(p=>{console.error("Failed to fetch pool sheet:",p),T(b,null)})}),se(()=>(e(n),Yt),()=>{T(s,(()=>{const p={};return e(n).forEach(k=>{const q=typeof k.ScheduledStartDateTime=="string"?new Date(k.ScheduledStartDateTime).getTime():k.ScheduledStartDateTime||0,ne=Yt(q);p[ne]||(p[ne]=[]),p[ne].push(k)}),p})())}),se(()=>e(s),()=>{T(c,Object.keys(e(s)).sort((p,k)=>{const q=new Date(p).getTime(),ne=new Date(k).getTime();return q-ne}))}),ur(),vr();var Ye=vi(),Ie=u(Ye),De=u(Ie),Qe=u(De),ft=u(Qe);d(Qe);var vt=v(Qe,2);vt.__click=function(...p){var k;(k=h())==null||k.apply(this,p)},d(De);var pt=v(De,2);{var $t=p=>{var k=Ws();S(p,k)};A(pt,p=>{e(J)&&p($t)})}var O=v(pt,2);{var G=p=>{var k=Ys(),q=u(k,!0);d(k),K(()=>j(q,e(oe))),S(p,k)};A(O,p=>{e(oe)&&p(G)})}var ae=v(O,2);{var le=p=>{var k=fi(),q=u(k),ne=u(q);ne.__click=()=>T(E,"schedule");var he=v(ne,2);he.__click=()=>T(E,"poolsheet");var ye=v(he,2);{var Ae=Ce=>{var Oe=Ls();Oe.__click=()=>T(E,"stats"),K(()=>me(Oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),S(Ce,Oe)};A(ye,Ce=>{M(D()),i(()=>D().length>0&&re)&&Ce(Ae)})}d(q);var et=v(q,2);{var wt=Ce=>{var Oe=js();S(Ce,Oe)},mt=Ce=>{var Oe=Pt(),Je=Xe(Oe);{var Pe=Le=>{var Ke=Ks(),tt=v(u(Ke),2),Et=u(tt);{var Ft=qe=>{var st=Hs();S(qe,st)},it=qe=>{var st=Pt(),ue=Xe(st);St(ue,1,()=>e(c),yt,(Me,Ge)=>{const je=te(()=>(e(s),e(Ge),i(()=>e(s)[e(Ge)])));var Te=Qs(),ge=u(Te),w=u(ge),N=u(w,!0);d(w);var U=v(w,2),V=u(U);d(U),d(ge);var B=v(ge,2);St(B,1,()=>e(je),yt,(z,L)=>{const P=te(()=>(e(L),i(()=>ie(e(L),e(L).type==="work"))));var Z=Xs(),F=u(Z),R=v(F,2),X=u(R,!0);d(R);var de=v(R,2),ee=u(de,!0);d(de);var Q=v(de,2);{var fe=_e=>{var Fe=Bs(),xe=u(Fe,!0);d(Fe),K(()=>j(xe,(M(e(P)),i(()=>e(P).scheduleMatch.Court.Name)))),S(_e,Fe)};A(Q,_e=>{M(e(P)),i(()=>e(P).scheduleMatch.Court)&&_e(fe)})}var be=v(Q,2),Re=u(be),He=u(Re);{var ct=_e=>{var Fe=Us(),xe=v(Xe(Fe),2),Ve=u(xe,!0);d(xe),K(()=>j(Ve,(M(e(P)),i(()=>{var Ze,ze;return((Ze=e(P).scheduleMatch.Division)==null?void 0:Ze.CompleteShortName)||((ze=e(P).scheduleMatch.Division)==null?void 0:ze.FullName)||e(P).scheduleMatch.FirstTeamText})))),S(_e,Fe)},Ne=_e=>{var Fe=Pt(),xe=Xe(Fe);{var Ve=ze=>{var $e=qs(),ve=v(Xe($e),2),rt=u(ve),ke=v(rt);{var bt=at=>{var lt=Js(),_t=v(Xe(lt));K(()=>j(_t,` ${M(e(P)),i(()=>e(P).scheduleMatch.SecondTeamText)??""}`)),S(at,lt)};A(ke,at=>{M(e(P)),i(()=>e(P).scheduleMatch.SecondTeamText)&&at(bt)})}d(ve),K(()=>j(rt,`${M(e(P)),i(()=>e(P).scheduleMatch.FirstTeamText)??""} `)),S(ze,$e)},Ze=ze=>{var $e=Vs(),ve=v(Xe($e),2),rt=u(ve),ke=v(rt);{var bt=at=>{var lt=Gs(),_t=v(Xe(lt));K(()=>j(_t,` ${M(e(P)),i(()=>e(P).scheduleMatch.SecondTeamText)??""}`)),S(at,lt)};A(ke,at=>{M(e(P)),i(()=>e(P).scheduleMatch.SecondTeamText)&&at(bt)})}d(ve),K(()=>j(rt,`${M(e(P)),i(()=>e(P).scheduleMatch.FirstTeamText)??""} `)),S(ze,$e)};A(xe,ze=>{M(e(P)),i(()=>e(P).isPlaying)?ze(Ve):ze(Ze,!1)},!0)}S(_e,Fe)};A(He,_e=>{M(e(P)),i(()=>e(P).isWork)?_e(ct):_e(Ne,!1)})}d(Re),d(be);var Ee=v(be,2);{var H=_e=>{var Fe=zs(),xe=u(Fe),Ve=u(xe,!0);d(xe),d(Fe),K(()=>{Ht(xe,`background-color: ${M(e(P)),i(()=>e(P).scheduleMatch.Division.ColorHex)??""}20; color: ${M(e(P)),i(()=>e(P).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${M(e(P)),i(()=>e(P).scheduleMatch.Division.ColorHex)??""}40;`),j(Ve,(M(e(P)),i(()=>e(P).scheduleMatch.Division.CodeAlias)))}),S(_e,Fe)};A(Ee,_e=>{M(e(P)),i(()=>e(P).scheduleMatch.Division)&&_e(H)})}d(Z),K(()=>{me(Z,1,`flex items-center gap-3 px-3 py-2 rounded border ${M(e(P)),i(()=>e(P).isWork?"border-[#525463] bg-[#454654]/30":e(P).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),me(F,1,`flex-shrink-0 w-1 h-full rounded-full ${M(e(P)),i(()=>e(P).isWork?"bg-[#808593]":e(P).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),j(X,(M(e(P)),i(()=>e(P).matchDate))),j(ee,(M(e(P)),i(()=>e(P).startTimeDisplay)))}),S(z,Z)}),d(Te),K(()=>{j(N,e(Ge)),j(V,`(${M(e(je)),i(()=>e(je).length)??""} match${M(e(je)),i(()=>e(je).length!==1?"es":"")??""})`)}),S(Me,Te)}),S(qe,st)};A(Et,qe=>{e(c),i(()=>e(c).length===0)?qe(Ft):qe(it,!1)})}d(tt),d(Ke),S(Le,Ke)},ht=Le=>{var Ke=ui(),tt=v(u(Ke),2);{var Et=it=>{var qe=Zs();S(it,qe)},Ft=it=>{var qe=di(),st=Xe(qe);{var ue=Te=>{var ge=ti(),w=v(u(ge),2);w.__change=U=>T(W,Number(U.target.value)),St(w,5,()=>e(o),yt,(U,V)=>{var B=ei(),z=u(B,!0);d(B);var L={};K(()=>{j(z,(e(V),i(()=>e(V).CompleteFullName||e(V).FullName||`Pool ${e(V).PlayId}`))),L!==(L=(e(V),i(()=>e(V).PlayId)))&&(B.value=(B.__value=(e(V),i(()=>e(V).PlayId)))??"")}),S(U,B)}),d(w);var N;sr(w),d(ge),K(()=>{N!==(N=e(W)||"")&&(w.value=(w.__value=e(W)||"")??"",Qt(w,e(W)||""))}),S(Te,ge)};A(st,Te=>{e(o),i(()=>e(o).length>1)&&Te(ue)})}var Me=v(st,2);{var Ge=Te=>{var ge=ci(),w=u(ge);{var N=B=>{var z=ai(),L=u(z),P=u(L),Z=u(P);d(P),d(L);var F=v(L,2),R=u(F),X=v(u(R));St(X,5,()=>(e(b),i(()=>e(b).Pool.Teams)),yt,(de,ee)=>{const Q=te(()=>(e(ee),i(()=>{var $e;return($e=e(ee).TeamText)==null?void 0:$e.includes("630")})));var fe=ri(),be=u(fe),Re=u(be,!0);d(be);var He=v(be),ct=u(He),Ne=u(ct,!0);d(ct),d(He);var Ee=v(He),H=u(Ee,!0);d(Ee);var _e=v(Ee),Fe=u(_e,!0);d(_e);var xe=v(_e),Ve=u(xe);d(xe);var Ze=v(xe),ze=u(Ze,!0);d(Ze),d(fe),K(()=>{me(fe,1,`border-b border-[#454654] ${e(Q)?"bg-[#eab308]/10":""}`),j(Re,(e(ee),i(()=>e(ee).FinishRank||e(ee).OverallRank||"-"))),me(ct,1,e(Q)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),j(Ne,(e(ee),i(()=>e(ee).TeamText))),j(H,(e(ee),i(()=>e(ee).MatchesWon??"-"))),j(Fe,(e(ee),i(()=>e(ee).MatchesLost??"-"))),j(Ve,`${e(ee),i(()=>e(ee).SetsWon??"-")??""}-${e(ee),i(()=>e(ee).SetsLost??"-")??""}`),j(ze,(e(ee),i(()=>e(ee).PointRatio&&e(ee).PointRatio!=="NaN"?e(ee).PointRatio:"-")))}),S(de,fe)}),d(X),d(R),d(F),d(z),K(()=>j(Z,`${e(b),i(()=>e(b).Pool.CompleteFullName||e(b).Pool.FullName)??""} - Standings`)),S(B,z)};A(w,B=>{e(b),i(()=>e(b).Pool&&e(b).Pool.Teams&&e(b).Pool.Teams.length>0)&&B(N)})}var U=v(w,2);{var V=B=>{var z=ii(),L=v(u(z),2);St(L,5,()=>(e(b),i(()=>e(b).Pool.Matches)),yt,(P,Z)=>{const F=te(()=>(e(Z),i(()=>typeof e(Z).ScheduledStartDateTime=="string"?new Date(e(Z).ScheduledStartDateTime).getTime():e(Z).ScheduledStartDateTime))),R=te(()=>(e(Z),i(()=>{var Ne,Ee;return((Ne=e(Z).FirstTeamText)==null?void 0:Ne.includes("630"))||((Ee=e(Z).SecondTeamText)==null?void 0:Ee.includes("630"))})));var X=si(),de=u(X),ee=u(de,!0);d(de);var Q=v(de,2);{var fe=Ne=>{var Ee=ni(),H=u(Ee,!0);d(Ee),K(()=>j(H,(e(Z),i(()=>e(Z).Court.Name)))),S(Ne,Ee)};A(Q,Ne=>{e(Z),i(()=>e(Z).Court)&&Ne(fe)})}var be=v(Q,2),Re=u(be),He=v(Re);{var ct=Ne=>{var Ee=oi(),H=v(Xe(Ee));K(()=>j(H,` ${e(Z),i(()=>e(Z).SecondTeamText)??""}`)),S(Ne,Ee)};A(He,Ne=>{e(Z),i(()=>e(Z).SecondTeamText)&&Ne(ct)})}d(be),d(X),K(Ne=>{me(X,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(R)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),j(ee,Ne),j(Re,`${e(Z),i(()=>e(Z).FirstTeamText)??""} `)},[()=>(M(We),M(e(F)),i(()=>We(e(F))))]),S(P,X)}),d(L),d(z),S(B,z)};A(U,B=>{e(b),i(()=>e(b).Pool&&e(b).Pool.Matches&&e(b).Pool.Matches.length>0)&&B(V)})}d(ge),S(Te,ge)},je=Te=>{var ge=Pt(),w=Xe(ge);{var N=U=>{var V=li();S(U,V)};A(w,U=>{e(W)&&U(N)},!0)}S(Te,ge)};A(Me,Te=>{e(W)&&e(b)?Te(Ge):Te(je,!1)})}S(it,qe)};A(tt,it=>{e(o),i(()=>e(o).length===0)?it(Et):it(Ft,!1)})}d(Ke),S(Le,Ke)};A(Je,Le=>{e(E)==="schedule"?Le(Pe):Le(ht,!1)},!0)}S(Ce,Oe)};A(et,Ce=>{e(E)==="stats"&&re?Ce(wt):Ce(mt,!1)})}d(k),K(()=>{me(ne,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),me(he,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),S(p,k)};A(ae,p=>{!e(J)&&e(I)&&p(le)})}d(Ie),d(Ye),K(()=>j(ft,`${e(I),i(()=>{var p;return((p=e(I))==null?void 0:p.TeamText)||ce})??""} - Full Schedule`)),S(t,Ye),fr()}kr(["click","change"]);var hi=$('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),gi=$('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),xi=$("<button> </button>"),pi=$('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),bi=$('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),_i=$('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),yi=$('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),Si=$('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),wi=$("<span> </span>"),Ti=Oa('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Mi=$("<button><!></button>"),Di=$('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),$i=$('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),ki=$('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Ci=$('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function Pi(t,r){dr(r,!1);const n=()=>Ct(ca,"$isSpectator",s),a=()=>Ct(hr,"$filters",s),o=()=>Ct(ia,"$isMedia",s),[s,c]=sa(),l=Y(),f=Y(),x=Y(),h=Y(),D=Y(),I=Y(),y=Y(),m=Y(),g=Y(),_=Y(),W=Y(),b=Y();let E=ut(r,"matches",8),J=ut(r,"eventId",8),oe=ut(r,"clubId",8),C=Y("team"),re=Y(null),ce=Y(!1),ie=Y(!1),Ye=Y(null),Ie=Y(new Set),De=Y();Rs(J());function Qe(O){return O.InvolvedTeam==="first"?O.SecondTeamText:O.InvolvedTeam==="second"?O.FirstTeamText:`${O.FirstTeamText} vs ${O.SecondTeamText}`}oa(()=>{if(Ds()){const O=Ms();O&&O.scores.length>0&&JSON.stringify({eventId:O.eventId,scores:O.scores},null,2)}if(e(De).startPolling(),n()){let O=[];if(pr.subscribe(G=>{O=G.map(ae=>ae.teamId)})(),O.length>0){const G=setInterval(()=>{Zr.checkUpcomingMatches(E(),O)},6e4);return()=>clearInterval(G)}}}),fn(()=>{e(De).stopPolling()}),se(()=>(n(),M(J())),()=>{const O=n();T(De,Qa({eventId:J(),userId:O?"spectator":"anonymous"}))}),se(()=>M(E()),()=>{T(l,Ha(E()))}),se(()=>(a(),M(E()),We),()=>{T(f,(()=>{if(a().wave!=="all"){const O=a().wave==="morning"?"08:00":"14:30",G=a().wave==="morning"?"14:30":"23:59";return Mr(E()).filter(ae=>E().some(le=>{const p=We(le.ScheduledStartDateTime),k=p.split(" ")[1]||p;return k>=O&&k<G&&le.Division.Name===ae}))}return Mr(E())})())}),se(()=>M(E()),()=>{T(x,za(E()))}),se(()=>(M(E()),dt),()=>{T(h,(()=>{const O=new Map;return E().forEach(G=>{const ae=Ue(G);ae&&O.set(ae,dt.getTeamStatus(ae))}),O})())}),se(()=>(M(E()),e(l),e(h),Ue),()=>{T(D,(()=>{const O=jt(xt);return Ts(E(),O,e(l),e(h),Ue,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),se(()=>(M(E()),a(),n(),pr),()=>{T(I,(()=>{let O=Xa(E());if(a().priority&&a().priority!=="all"&&(O=O.filter(G=>Lt.getPriority(G.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(O=O.filter(G=>{const ae=Ue(G);if(!ae)return!0;const le=dt.getTeamStatus(ae);return a().coverageStatus==="uncovered"?le==="not-covered":a().coverageStatus==="covered"?le==="covered"||le==="partially-covered":a().coverageStatus==="planned"?le==="planned":!0})),n()){let G=[];pr.subscribe(ae=>{G=ae.map(le=>le.teamId)})(),G.length>0&&(O=O.filter(ae=>{const le=Ue(ae);return le&&G.includes(le)}))}return O})())}),se(()=>(M(E()),e(l)),()=>{T(y,(()=>{const O=jt(xt);return Va(E(),O,e(l),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(y),()=>{T(m,new Set(e(y).map(O=>O.match.MatchId)))}),se(()=>(M(E()),dt),()=>{T(g,(()=>{const O=new Map;E().forEach(q=>{const ne=Ue(q);if(ne){const he=dt.getTeamStatus(ne);O.set(ne,he)}});const G=O.size,ae=Array.from(O.values()).filter(q=>q==="covered").length,le=Array.from(O.values()).filter(q=>q==="partially-covered").length,p=Array.from(O.values()).filter(q=>q==="planned").length,k=Array.from(O.values()).filter(q=>q==="not-covered").length;return{totalTeams:G,coveredTeams:ae,partiallyCoveredTeams:le,plannedTeams:p,uncoveredTeams:k,coveragePercentage:G>0?(ae+le)/G*100:0}})())}),se(()=>(e(I),e(C),Ue),()=>{T(_,(()=>{let O=[...e(I)];return e(C)==="priority"?O.sort((G,ae)=>{const le=Lt.getPriority(G.MatchId),p=Lt.getPriority(ae.MatchId),k={"must-cover":3,priority:2,optional:1,null:0},q=k[le||"null"],ne=k[p||"null"];return q!==ne?ne-q:G.ScheduledStartDateTime-ae.ScheduledStartDateTime}):e(C)==="team"?O.sort((G,ae)=>{const le=Ue(G),p=Ue(ae);return le.localeCompare(p)}):e(C)==="court"?O.sort((G,ae)=>G.CourtName.localeCompare(ae.CourtName)):O.sort((G,ae)=>G.ScheduledStartDateTime-ae.ScheduledStartDateTime),O})())}),se(()=>(e(_),We),()=>{T(W,(()=>{const O={};return e(_).forEach(G=>{const ae=We(G.ScheduledStartDateTime);O[ae]||(O[ae]=[]),O[ae].push(G)}),O})())}),se(()=>e(W),()=>{T(b,Object.keys(e(W)).sort((O,G)=>{const ae=new Date(`2000-01-01 ${O}`).getTime(),le=new Date(`2000-01-01 ${G}`).getTime();return ae-le}))}),se(()=>(n(),M(E()),e(De),e(Ie),e(Ye)),()=>{if(n()&&E().length>0){const O=new Set;E().forEach(G=>{e(De).isClaimOwner(G.MatchId)&&(O.add(G.MatchId),!e(Ie).has(G.MatchId)&&(!e(Ye)||e(Ye).MatchId!==G.MatchId)&&setTimeout(()=>{T(Ye,G)},200))}),T(Ie,O)}}),se(()=>(n(),M(E()),e(De),Zr),()=>{if(n()&&E().length>0){let O=[];pr.subscribe(G=>{O=G.map(ae=>ae.teamId)})(),E().forEach(G=>{const ae=Ue(G);if(ae&&O.includes(ae)){const le=e(De).getScore(G.MatchId);le&&le.status==="in-progress"&&Zr.notifyScoreUpdate(G,le)}})}}),ur(),vr();var ft=Pt(),vt=Xe(ft);{var pt=O=>{var G=hi(),ae=u(G,!0);d(G),K(()=>j(ae,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(O,G)},$t=O=>{var G=Ci(),ae=u(G);{var le=ue=>{var Me=gi();S(ue,Me)};A(ae,ue=>{n()&&ue(le)})}var p=v(ae,2);{var k=ue=>{var Me=pi(),Ge=u(Me),je=u(Ge),Te=u(je),ge=u(Te);d(Te),jn(),d(je);var w=v(je,2),N=u(w),U=u(N);d(N);var V=v(N,4),B=u(V);d(V);var z=v(V,4),L=u(z);d(z);var P=v(z,4),Z=u(P);d(P),d(w),d(Ge);var F=v(Ge,2),R=u(F);R.__click=()=>T(ce,!e(ce));var X=u(R,!0);d(R);var de=v(R,2);{var ee=Q=>{var fe=xi();fe.__click=()=>T(ie,!e(ie));var be=u(fe);d(fe),K(()=>{me(fe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ie)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Rt(fe,"title",`${e(D),i(()=>e(D).length)??""} coverage suggestions`),j(be,`ð¡ Suggestions (${e(D),i(()=>e(D).length)??""})`)}),S(Q,fe)};A(de,Q=>{e(D),i(()=>e(D).length>0)&&Q(ee)})}d(F),d(Me),K(Q=>{j(ge,`${Q??""}%`),j(U,`â ${e(g),i(()=>e(g).coveredTeams)??""}`),j(B,`â ${e(g),i(()=>e(g).partiallyCoveredTeams)??""}`),j(L,`ð ${e(g),i(()=>e(g).plannedTeams)??""}`),j(Z,`â ${e(g),i(()=>e(g).uncoveredTeams)??""}`),me(R,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ce)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),j(X,e(ce)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(g),i(()=>e(g).coveragePercentage.toFixed(0)))]),S(ue,Me)};A(p,ue=>{o(),e(g),i(()=>o()&&e(g).totalTeams>0)&&ue(k)})}var q=v(p,2);{var ne=ue=>{var Me=_i(),Ge=u(Me),je=v(u(Ge),2);je.__click=()=>T(ie,!1),d(Ge);var Te=v(Ge,2);St(Te,5,()=>(e(D),i(()=>e(D).slice(0,5))),yt,(ge,w)=>{var N=bi(),U=u(N),V=u(U),B=u(V);d(V);var z=v(V,2),L=u(z,!0);d(z),d(U);var P=v(U,2);P.__click=Z=>{Z.stopPropagation(),xt.selectMatch(e(w).match.MatchId)},d(N),K(Z=>{j(B,`${Z??""} - ${e(w),i(()=>e(w).match.CourtName)??""} - Team ${e(w),i(()=>e(w).teamId)??""}`),j(L,(e(w),i(()=>e(w).reason)))},[()=>(M(We),e(w),i(()=>We(e(w).match.ScheduledStartDateTime)))]),S(ge,N)}),d(Te),d(Me),S(ue,Me)};A(q,ue=>{o(),e(ie),e(D),i(()=>o()&&e(ie)&&e(D).length>0)&&ue(ne)})}var he=v(q,2);{var ye=ue=>{var Me=yi();S(ue,Me)};A(he,ue=>{o()&&ue(ye)})}var Ae=v(he,2),et=u(Ae),wt=v(u(et),2),mt=u(wt);mt.__click=()=>T(C,"team");var Ce=v(mt,2);Ce.__click=()=>T(C,"court");var Oe=v(Ce,2);Oe.__click=()=>T(C,"time"),d(wt),d(et);var Je=v(et,2),Pe=v(u(Je),2),ht=u(Pe);ht.__click=()=>Mt("wave","all");var Le=v(ht,2);Le.__click=()=>Mt("wave","morning");var Ke=v(Le,2);Ke.__click=()=>Mt("wave","afternoon"),d(Pe),d(Je),d(Ae);var tt=v(Ae,2),Et=u(tt);{var Ft=ue=>{var Me=Si();S(ue,Me)},it=ue=>{var Me=Pt(),Ge=Xe(Me);St(Ge,1,()=>e(b),yt,(je,Te)=>{const ge=te(()=>(e(W),e(Te),i(()=>e(W)[e(Te)]))),w=te(()=>(M(e(ge)),e(l),i(()=>e(ge).filter(ee=>e(l).has(ee.MatchId)).length))),N=te(()=>e(w)>0),U=te(()=>(M(e(w)),M(e(ge)),i(()=>e(w)===e(ge).length)));var V=$i(),B=u(V),z=u(B),L=u(z),P=u(L,!0);d(L);var Z=v(L,2),F=u(Z);d(Z),d(z);var R=v(z,2);{var X=ee=>{var Q=wi(),fe=u(Q);d(Q),K(()=>{me(Q,1,`text-xs font-medium ${e(U)?"text-[#808593]":"text-red-400"}`),j(fe,`${e(w)??""} conflict${e(w)!==1?"s":""}`)}),S(ee,Q)};A(R,ee=>{e(N)&&ee(X)})}d(B);var de=v(B,2);St(de,1,()=>e(ge),yt,(ee,Q)=>{const fe=te(()=>(e(l),e(Q),i(()=>e(l).has(e(Q).MatchId)))),be=te(()=>(M(Ue),e(Q),i(()=>Ue(e(Q))))),Re=te(()=>(e(Q),i(()=>Qe(e(Q))))),He=te(()=>(e(re),e(Q),i(()=>e(re)===e(Q).MatchId))),ct=te(()=>(M(Lt),e(Q),i(()=>Lt.getPriority(e(Q).MatchId)))),Ne=te(()=>(e(m),e(Q),i(()=>e(m).has(e(Q).MatchId)))),Ee=te(()=>(M(e(be)),M(dt),i(()=>e(be)?dt.getTeamStatus(e(be)):"not-covered"))),H=te(()=>e(Ee)==="covered"||e(Ee)==="partially-covered"),_e=te(()=>e(Ee)==="planned"),Fe=te(()=>e(Ee)==="not-covered"),xe=te(()=>e(ce)&&e(H)),Ve=te(()=>(M(jt),M(xt),i(()=>jt(xt)))),Ze=te(()=>(M(e(Ve)),e(Q),i(()=>e(Ve).has(e(Q).MatchId)))),ze=te(()=>e(fe)&&!e(U));var $e=Di(),ve=u($e);ve.__click=()=>T(re,e(He)?null:e(Q).MatchId);var rt=u(ve);{var ke=nt=>{var At=Mi();At.__click=Jt=>{Jt.stopPropagation(),xt.toggleMatch(e(Q).MatchId)};var Or=u(At);{var gr=Jt=>{var xr=Ti();S(Jt,xr)};A(Or,Jt=>{e(Ze)&&Jt(gr)})}d(At),K(()=>{me(At,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(Ze)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),Rt(At,"aria-label",e(Ze)?"Remove from plan":"Add to plan")}),S(nt,At)};A(rt,nt=>{o()&&nt(ke)})}var bt=v(rt,2),at=u(bt),lt=u(at,!0);d(at);var _t=v(at,2),Kt=u(_t);d(_t),d(bt);var Ut=v(bt,2),Pr=u(Ut);d(Ut),d(ve);var Ir=v(ve,2);{var Er=nt=>{mi(nt,{get match(){return e(Q)},get eventId(){return J()},get clubId(){return oe()},onClose:()=>T(re,null),get matches(){return E()}})};A(Ir,nt=>{e(He)&&nt(Er)})}d($e),K(nt=>{me(ve,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(ze)?"border border-red-800/50 bg-red-950/10":e(ct)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(ct)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(Fe)&&!e(Ze)?"border border-[#eab308] bg-[#eab308]/5":e(_e)?"border border-[#eab308]/50 bg-[#eab308]/10":e(H)?"border border-green-500/30 bg-green-950/5":e(Ne)&&!e(Ze)?"border border-green-500/50 bg-green-950/10":e(Ze)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(xe)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),j(lt,nt),j(Kt,`${e(Q),i(()=>e(Q).CourtName)??""} â¢ ${M(e(be)),e(Q),i(()=>e(be)||e(Q).Division.CodeAlias)??""} vs ${e(Re)??""}`),me(Pr,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(He)?"rotate-180":""}`)},[()=>(M(We),e(Q),i(()=>We(e(Q).ScheduledStartDateTime)))]),S(ee,$e)}),d(V),K(()=>{j(P,e(Te)),j(F,`${M(e(ge)),i(()=>e(ge).length)??""} match${M(e(ge)),i(()=>e(ge).length!==1?"es":"")??""}`)}),S(je,V)}),S(ue,Me)};A(Et,ue=>{e(b),i(()=>e(b).length===0)?ue(Ft):ue(it,!1)})}d(tt);var qe=v(tt,2);{var st=ue=>{var Me=ki();S(ue,Me)};A(qe,ue=>{e(Ye)&&ue(st)})}d(G),K(()=>{me(mt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(C)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),me(Ce,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(C)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),me(Oe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(C)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),me(ht,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(Ke,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),S(O,G)};A(vt,O=>{e(I),i(()=>e(I).length===0)?O(pt):O($t,!1)})}S(t,ft),fr(),c()}kr(["click"]);var Ii=$('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Ei=$("<option> </option>"),Oi=$('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Ni=$("<option> </option>"),Fi=$('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),Ai=$('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),Ri=$('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),Wi=$('<span class="ml-2"> </span>'),Yi=$('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),Li=$("<div> </div>"),ji=$('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),Hi=$('<div class="absolute top-0 left-0 text-[10px]"> </div>'),Bi=$('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),Ui=$('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Ji=$('<div class="text-[8px] text-[#9fa2ab]"> </div>'),qi=$('<div class="text-[8px] text-green-400">â</div>'),Gi=$('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),Vi=Oa('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),zi=$('<div class="absolute left-full top-0 ml-2 z-50">PrioritySelector - To be migrated</div>'),Xi=$('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Qi=$('<div class="absolute left-full top-0 ml-2 z-50">CoverageStatusSelector - To be migrated</div>'),Ki=$('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Zi=$('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),ec=$('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),tc=$('<div class="text-[#9fa2ab] mt-4 p-4 border border-[#454654] rounded-lg">ConflictDetailsPanel - To be migrated</div>'),rc=$('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),ac=$('<div class="fixed inset-0 z-40"></div>'),nc=$('<div class="fixed inset-0 z-40"></div>'),oc=$('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function sc(t,r){dr(r,!1);const n=()=>Ct(ca,"$isSpectator",s),a=()=>Ct(hr,"$filters",s),o=()=>Ct(ia,"$isMedia",s),[s,c]=sa(),l=Y(),f=Y(),x=Y(),h=Y(),D=Y(),I=Y(),y=Y(),m=Y(),g=Y(),_=Y(),W=Y(),b=Y(),E=Y();let J=ut(r,"matches",8),oe=ut(r,"eventId",8),C=Y(null),re=Y(null),ce=Y(null),ie=Y(null),Ye=null,Ie=Y();function De(p){return p.InvolvedTeam==="first"?p.SecondTeamText:p.InvolvedTeam==="second"?p.FirstTeamText:`${p.FirstTeamText} vs ${p.SecondTeamText}`}function Qe(p){return e(g)===0?0:(p-e(y))/e(g)*100}function ft(p,k){return e(g)===0?0:(k-p)/e(g)*100}function vt(p){const k=[],q=[...p].sort((ne,he)=>ne.ScheduledStartDateTime-he.ScheduledStartDateTime);for(let ne=0;ne<q.length-1;ne++){const he=q[ne],ye=q[ne+1],Ae=Math.floor((ye.ScheduledStartDateTime-he.ScheduledEndDateTime)/6e4);Ae>0&&k.push({before:he,after:ye,gapMinutes:Ae})}return k}function pt(p){e(l).has(p.MatchId)?T(C,p):o()?xt.toggleMatch(p.MatchId):T(C,p)}function $t(p,k){k.stopPropagation(),T(re,e(re)===p?null:p)}se(()=>(n(),M(oe())),()=>{const p=n();T(Ie,Qa({eventId:oe(),userId:p?"spectator":"anonymous"}))}),se(()=>M(J()),()=>{T(l,Ha(J()))}),se(()=>(a(),M(J()),We),()=>{T(f,(()=>{if(a().wave!=="all"){const p=a().wave==="morning"?"08:00":"14:30",k=a().wave==="morning"?"14:30":"23:59";return Mr(J()).filter(q=>J().some(ne=>{const he=We(ne.ScheduledStartDateTime),ye=he.split(" ")[1]||he;return ye>=p&&ye<k&&ne.Division.CodeAlias===q}))}return Mr(J())})())}),se(()=>M(J()),()=>{T(x,za(J()))}),se(()=>(M(J()),a(),dt),()=>{T(h,(()=>{let p=Xa(J());return a().priority&&a().priority!=="all"&&(p=p.filter(k=>Lt.getPriority(k.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(p=p.filter(k=>{const q=Ue(k);if(!q)return!0;const ne=dt.getTeamStatus(q);return a().coverageStatus==="uncovered"?ne==="not-covered":a().coverageStatus==="covered"?ne==="covered"||ne==="partially-covered":a().coverageStatus==="planned"?ne==="planned":!0})),p})())}),se(()=>(M(J()),e(l)),()=>{T(D,(()=>{const p=jt(xt);return Va(J(),p,e(l),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(D),()=>{T(I,new Set(e(D).map(p=>p.match.MatchId)))}),se(()=>e(h),()=>{T(y,e(h).length>0?Math.min(...e(h).map(p=>p.ScheduledStartDateTime)):0)}),se(()=>e(h),()=>{T(m,e(h).length>0?Math.max(...e(h).map(p=>p.ScheduledEndDateTime)):0)}),se(()=>(e(m),e(y)),()=>{T(g,e(m)-e(y))}),se(()=>e(h),()=>{T(_,(()=>{const p={};return e(h).forEach(k=>{p[k.CourtName]||(p[k.CourtName]=[]),p[k.CourtName].push(k)}),p})())}),se(()=>e(_),()=>{T(W,Object.keys(e(_)).sort())}),se(()=>(e(re),e(h),Ue),()=>{T(b,(()=>{if(!e(re))return new Set;const p=new Set;return e(h).forEach(k=>{Ue(k)===e(re)&&p.add(k.MatchId)}),p})())}),se(()=>(e(C),e(l),e(h)),()=>{T(E,(()=>{if(!e(C))return[];const p=e(l).get(e(C).MatchId);return p?p.map(k=>e(h).find(q=>q.MatchId===k)).filter(Boolean):[]})())}),ur(),vr();var O=Pt(),G=Xe(O);{var ae=p=>{var k=Ii(),q=u(k,!0);d(k),K(()=>j(q,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(p,k)},le=p=>{var k=oc(),q=u(k),ne=u(q),he=v(u(ne),2),ye=u(he);ye.__click=()=>Mt("wave","all");var Ae=v(ye,2);Ae.__click=()=>Mt("wave","morning");var et=v(Ae,2);et.__click=()=>Mt("wave","afternoon"),d(he),d(ne);var wt=v(ne,2);{var mt=F=>{var R=Oi(),X=v(u(R),2);X.__change=be=>Mt("division",be.target.value||null);var de=u(X),ee=u(de);d(de),de.value=de.__value="";var Q=v(de);St(Q,1,()=>e(f),yt,(be,Re)=>{var He=Ei(),ct=u(He,!0);d(He);var Ne={};K(()=>{j(ct,e(Re)),Ne!==(Ne=e(Re))&&(He.value=(He.__value=e(Re))??"")}),S(be,He)}),d(X);var fe;sr(X),d(R),K(()=>{j(ee,`All Divisions${a(),i(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),fe!==(fe=(a(),i(()=>a().division||"")))&&(X.value=(X.__value=(a(),i(()=>a().division||"")))??"",Qt(X,(a(),i(()=>a().division||""))))}),S(F,R)};A(wt,F=>{e(f),i(()=>e(f).length>1)&&F(mt)})}var Ce=v(wt,2);{var Oe=F=>{var R=Fi(),X=v(u(R),2);X.__change=ee=>{const Q=Array.from(ee.target.selectedOptions,fe=>fe.value);Mt("teams",Q)},St(X,5,()=>e(x),yt,(ee,Q)=>{var fe=Ni(),be=u(fe,!0);d(fe);var Re={};K(()=>{j(be,e(Q)),Re!==(Re=e(Q))&&(fe.value=(fe.__value=e(Q))??"")}),S(ee,fe)}),d(X);var de;sr(X),d(R),K(ee=>{Rt(X,"size",ee),de!==(de=(a(),i(()=>a().teams)))&&(X.value=(X.__value=(a(),i(()=>a().teams)))??"",Qt(X,(a(),i(()=>a().teams))))},[()=>(e(x),i(()=>Math.min(e(x).length,4)))]),S(F,R)};A(Ce,F=>{e(x),i(()=>e(x).length>0)&&F(Oe)})}var Je=v(Ce,2),Pe=v(u(Je),2),ht=u(Pe);ht.__click=()=>Mt("timeRange",{start:null,end:null});var Le=v(ht,2);Le.__click=()=>Mt("timeRange",{start:"08:00",end:"14:30"});var Ke=v(Le,2);Ke.__click=()=>Mt("timeRange",{start:"14:30",end:"23:59"}),d(Pe),d(Je);var tt=v(Je,2);{var Et=F=>{var R=Ai(),X=v(u(R),2);X.__change=Re=>Mt("priority",Re.target.value==="all"?"all":Re.target.value);var de=u(X);de.value=de.__value="all";var ee=v(de);ee.value=ee.__value="must-cover";var Q=v(ee);Q.value=Q.__value="priority";var fe=v(Q);fe.value=fe.__value="optional",d(X);var be;sr(X),d(R),K(()=>{be!==(be=(a(),i(()=>a().priority||"all")))&&(X.value=(X.__value=(a(),i(()=>a().priority||"all")))??"",Qt(X,(a(),i(()=>a().priority||"all"))))}),S(F,R)};A(tt,F=>{o()&&F(Et)})}var Ft=v(tt,2);{var it=F=>{var R=Ri();R.__click=function(...X){Qr==null||Qr.apply(this,X)},S(F,R)};A(Ft,F=>{a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&F(it)})}d(q);var qe=v(q,2),st=u(qe),ue=u(st),Me=v(ue);{var Ge=F=>{var R=Wi(),X=u(R);d(R),K(()=>j(X,`(${e(h),i(()=>e(h).length)??""} of ${M(J()),i(()=>J().length)??""})`)),S(F,R)};A(Me,F=>{e(h),M(J()),i(()=>e(h).length!==J().length)&&F(Ge)})}d(st);var je=v(st,2);{var Te=F=>{var R=Yi(),X=v(u(R),2),de=u(X);d(X);var ee=v(X,2);ee.__click=()=>T(re,null),d(R),K(()=>j(de,`Team ${e(re)??""}`)),S(F,R)};A(je,F=>{e(re)&&F(Te)})}d(qe);var ge=v(qe,2),w=u(ge);St(w,5,()=>e(W),yt,(F,R)=>{const X=te(()=>(e(_),e(R),i(()=>e(_)[e(R)])));var de=ec(),ee=u(de),Q=u(ee),fe=u(Q,!0);d(Q);var be=v(Q,2),Re=u(be);d(be),d(ee);var He=v(ee,2),ct=u(He);St(ct,1,()=>(M(e(X)),i(()=>vt(e(X)))),yt,(Ee,H)=>{const _e=te(()=>(e(H),i(()=>Qe(e(H).before.ScheduledEndDateTime)))),Fe=te(()=>(e(H),i(()=>Qe(e(H).after.ScheduledStartDateTime)))),xe=te(()=>e(Fe)-e(_e)),Ve=te(()=>(e(H),i(()=>e(H).gapMinutes>=30))),Ze=te(()=>(e(H),i(()=>e(H).gapMinutes>=15&&e(H).gapMinutes<30)));var ze=Pt(),$e=Xe(ze);{var ve=rt=>{var ke=ji(),bt=u(ke);{var at=lt=>{var _t=Li(),Kt=u(_t);d(_t),K(()=>{me(_t,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(Ve)?"bg-green-500/20 text-green-400":e(Ze)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),j(Kt,`${e(H),i(()=>e(H).gapMinutes)??""}m`)}),S(lt,_t)};A(bt,lt=>{e(xe)>3&&lt(at)})}d(ke),K(()=>{Ht(ke,`left: ${e(_e)??""}%; width: ${e(xe)??""}%; z-index: 0;`),Rt(ke,"title",`${e(H),i(()=>e(H).gapMinutes)??""} min gap between matches`)}),S(rt,ke)};A($e,rt=>{e(xe)>=1&&rt(ve)})}S(Ee,ze)});var Ne=v(ct,2);St(Ne,1,()=>e(X),yt,(Ee,H)=>{const _e=te(()=>(e(l),e(H),i(()=>e(l).has(e(H).MatchId)))),Fe=te(()=>(e(C),e(H),i(()=>{var pe;return((pe=e(C))==null?void 0:pe.MatchId)===e(H).MatchId}))),xe=te(()=>(M(Ue),e(H),i(()=>Ue(e(H))))),Ve=te(()=>(e(re),e(b),e(H),i(()=>e(re)!==null&&e(b).has(e(H).MatchId)))),Ze=te(()=>e(re)!==null&&!e(Ve)),ze=te(()=>(M(jt),M(xt),i(()=>jt(xt)))),$e=te(()=>(M(e(ze)),e(H),i(()=>e(ze).has(e(H).MatchId)))),ve=te(()=>(M(Lt),e(H),i(()=>Lt.getPriority(e(H).MatchId)))),rt=te(()=>(e(I),e(H),i(()=>e(I).has(e(H).MatchId)))),ke=te(()=>(M(e(xe)),M(dt),i(()=>e(xe)?dt.getTeamStatus(e(xe)):"not-covered"))),bt=te(()=>e(ke)==="covered"||e(ke)==="partially-covered"),at=te(()=>e(ke)==="planned"),lt=te(()=>e(ke)==="not-covered"),_t=te(()=>(e(H),i(()=>Qe(e(H).ScheduledStartDateTime)))),Kt=te(()=>(e(H),i(()=>Math.max(ft(e(H).ScheduledStartDateTime,e(H).ScheduledEndDateTime),2)))),Ut=te(()=>(e(H),i(()=>De(e(H))))),Pr=te(()=>(M(e(ve)),M(e(lt)),M(e($e)),M(e(at)),M(e(Ve)),M(e(_e)),M(e(bt)),M(e(rt)),e(H),i(()=>e(ve)==="must-cover"?"#eab308":e(ve)==="priority"?"#f59e0b":e(lt)&&!e($e)||e(at)||e(Ve)||e($e)&&!e(_e)?"#eab308":e(bt)||e(rt)&&!e($e)?"#10b981":e(_e)?"#dc2626":e(H).Division.ColorHex))),Ir=te(()=>e(ve)==="must-cover"?"#facc15":e(ve)==="priority"?"#fbbf24":e(lt)&&!e($e)||e(at)?"#facc15":e(Fe)?"#eab308":e(Ve)||e($e)?"#facc15":e(_e)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Er=te(()=>e(Fe)?30:e(Ve)?20:e(ve)==="must-cover"?18:e($e)?15:e(_e)?10:1);var nt=Zi();nt.__click=pe=>{pe.target instanceof HTMLElement&&pe.target.closest(".priority-button")||pt(e(H))};var At=u(nt);{var Or=pe=>{var Se=Hi(),Be=u(Se);d(Se),K(()=>j(Be,`${e(ve)==="must-cover"&&"â­"}
											${e(ve)==="priority"&&"ð¸"}
											${e(ve)==="optional"&&"â"}`)),S(pe,Se)};A(At,pe=>{o()&&e(ve)&&pe(Or)})}var gr=v(At,2);{var Jt=pe=>{var Se=Bi();S(pe,Se)};A(gr,pe=>{o()&&e(rt)&&!e($e)&&pe(Jt)})}var xr=v(gr,2);{var Ka=pe=>{var Se=Ui();S(pe,Se)};A(xr,pe=>{o()&&e($e)&&pe(Ka)})}var Zt=v(xr,2);Zt.__click=pe=>e(xe)&&$t(e(xe),pe);var Za=u(Zt,!0);d(Zt);var Nr=v(Zt,2),en=u(Nr);d(Nr);var Fr=v(Nr,2),tn=u(Fr,!0);d(Fr);var la=v(Fr,2);{var rn=pe=>{const Se=te(()=>(e(Ie),e(H),i(()=>e(Ie).getScore(e(H).MatchId))));var Be=Pt(),Vt=Xe(Be);{var er=qt=>{const Tt=te(()=>(M(e(Se)),i(()=>e(Se).sets.find(ot=>ot.completedAt===0)||e(Se).sets[e(Se).sets.length-1]))),Ot=te(()=>(M(e(Se)),i(()=>e(Se).sets.filter(ot=>ot.completedAt>0)))),kt=te(()=>(M(e(Ot)),i(()=>e(Ot).filter(ot=>ot.team1Score>ot.team2Score).length))),tr=te(()=>(M(e(Ot)),i(()=>e(Ot).filter(ot=>ot.team2Score>ot.team1Score).length)));var Ar=Gi(),ua=u(Ar);{var sn=ot=>{var rr=Ji(),un=u(rr);d(rr),K(()=>j(un,`(${e(kt)??""}-${e(tr)??""})`)),S(ot,rr)};A(ua,ot=>{M(e(Ot)),i(()=>e(Ot).length>0)&&ot(sn)})}var Rr=v(ua,2),cn=u(Rr);d(Rr);var ln=v(Rr,2);{var dn=ot=>{var rr=qi();S(ot,rr)};A(ln,ot=>{M(e(Se)),i(()=>e(Se).status==="in-progress")&&ot(dn)})}d(Ar),K(()=>j(cn,`${M(e(Tt)),i(()=>e(Tt).team1Score)??""}-${M(e(Tt)),i(()=>e(Tt).team2Score)??""}`)),S(qt,Ar)};A(Vt,qt=>{M(e(Se)),i(()=>e(Se)&&e(Se).status!=="not-started")&&qt(er)})}S(pe,Be)};A(la,pe=>{e(Ie)&&pe(rn)})}var da=v(la,2);{var an=pe=>{var Se=Xi(),Be=u(Se);Be.__click=kt=>{kt.stopPropagation(),T(ce,e(ce)===e(H).MatchId?null:e(H).MatchId)};var Vt=u(Be),er=v(Vt);{var qt=kt=>{var tr=Vi();S(kt,tr)};A(er,kt=>{e(ve)||kt(qt)})}d(Be);var Tt=v(Be,2);{var Ot=kt=>{var tr=zi();S(kt,tr)};A(Tt,kt=>{e(ce),e(H),i(()=>e(ce)===e(H).MatchId)&&kt(Ot)})}d(Se),K(()=>{me(Be,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ve)==="must-cover"?"text-[#facc15]":e(ve)==="priority"?"text-[#fbbf24]":e(ve)==="optional"?"text-white/60":"text-white/40"}`),Rt(Be,"title",e(ve)?`Priority: ${e(ve)}`:"Set priority"),j(Vt,`${e(ve)==="must-cover"&&"â­"}
												${e(ve)==="priority"&&"ð¸"}
												${e(ve)==="optional"&&"â"} `)}),S(pe,Se)};A(da,pe=>{o()&&pe(an)})}var nn=v(da,2);{var on=pe=>{var Se=Ki(),Be=u(Se);Be.__click=Tt=>{Tt.stopPropagation(),T(ie,e(ie)===e(xe)?null:e(xe))};var Vt=u(Be);d(Be);var er=v(Be,2);{var qt=Tt=>{var Ot=Qi();S(Tt,Ot)};A(er,Tt=>{e(ie)===e(xe)&&Tt(qt)})}d(Se),K(()=>{me(Be,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ke)==="covered"?"text-green-400":e(ke)==="partially-covered"?"text-[#fbbf24]":e(ke)==="planned"?"text-[#facc15]":"text-white/40"}`),Rt(Be,"title",`Coverage: ${e(ke)??""}`),j(Vt,`${e(ke)==="covered"&&"â"}
												${e(ke)==="partially-covered"&&"â"}
												${e(ke)==="planned"&&"ð"}
												${e(ke)==="not-covered"&&"â"}`)}),S(pe,Se)};A(nn,pe=>{o()&&e(xe)&&pe(on)})}d(nt),K((pe,Se,Be)=>{me(nt,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(Fe)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(Ve)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(Ze)?"opacity-30":""} ${e($e)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(bt)?"opacity-60":""}`),Ht(nt,`left: ${e(_t)??""}%; width: ${e(Kt)??""}%; background-color: ${e(Pr)??""}; border-color: ${e(Ir)??""}; min-width: 100px; z-index: ${e(Er)??""};`),Rt(nt,"title",`${e(H),i(()=>e(H).CompleteShortName)??""}: ${e(H),i(()=>e(H).FirstTeamText)??""} vs ${e(H),i(()=>e(H).SecondTeamText)??""} - ${pe??""}${e(_e)?" (Click to see conflicts)":" (Click to add to plan)"}${e(ve)?` [Priority: ${e(ve)}]`:""}${e(rt)&&!e($e)?" [Easy opportunity]":""}${e(ke)!=="not-covered"?` [Coverage: ${e(ke)}]`:""}`),me(Zt,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(xe)?"cursor-pointer hover:underline":""}`),j(Za,(M(e(xe)),e(H),i(()=>e(xe)||e(H).Division.CodeAlias))),j(en,`vs ${Se??""}`),j(tn,Be)},[()=>(M(We),e(H),i(()=>We(e(H).ScheduledStartDateTime))),()=>(M(e(Ut)),i(()=>e(Ut).length>20?e(Ut).substring(0,17)+"...":e(Ut))),()=>(M(We),e(H),i(()=>We(e(H).ScheduledStartDateTime)))]),S(Ee,nt)}),d(He),d(de),K(()=>{j(fe,e(R)),j(Re,`${M(e(X)),i(()=>e(X).length)??""} match${M(e(X)),i(()=>e(X).length!==1?"es":"")??""}`)}),S(F,de)}),d(w),d(ge);var N=v(ge,2);{var U=F=>{var R=tc();S(F,R)};A(N,F=>{e(C)&&F(U)})}var V=v(N,2);{var B=F=>{var R=rc();S(F,R)};A(V,F=>{e(Ie),i(()=>Ye&&e(Ie)&&e(Ie).isClaimOwner(Ye.MatchId))&&F(B)})}var z=v(V,2);{var L=F=>{var R=ac();R.__click=()=>T(ce,null),S(F,R)};A(z,F=>{e(ce)!==null&&F(L)})}var P=v(z,2);{var Z=F=>{var R=nc();R.__click=()=>T(ie,null),S(F,R)};A(P,F=>{e(ie)!==null&&F(Z)})}d(k),K((F,R)=>{me(ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(Ae,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(et,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(ht,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(Le,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),me(Ke,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),j(ue,`Timeline: ${F??""} - ${R??""} `)},[()=>(M(We),e(y),i(()=>We(e(y)))),()=>(M(We),e(m),i(()=>We(e(m))))]),S(p,k)};A(G,p=>{e(h),i(()=>e(h).length===0)?p(ae):p(le,!1)})}S(t,O),fr(),c()}kr(["click","change"]);var ic=$('<span class="ml-2" style="color: #ef4444;"> </span>'),cc=$('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),lc=$('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),dc=$('<span class="hidden sm:inline"> </span>'),uc=$('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),fc=$('<span class="ml-2" style="color: #ef4444;"> </span>'),vc=$('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),mc=$('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),hc=$("<button> </button>"),gc=$('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),xc=$('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),pc=$('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),bc=$('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),_c=$('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),yc=$('<div class="text-[#9fa2ab]">CoachView component - To be migrated</div>'),Sc=$('<div class="text-[#9fa2ab]">CoveragePlanPanel component - To be migrated</div>'),wc=$('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!> <!></main></div>');function Ec(t,r){dr(r,!1);const n=()=>Ct(ps,"$selectedCount",l),a=()=>Ct(ia,"$isMedia",l),o=()=>Ct(ca,"$isSpectator",l),s=()=>Ct(ys,"$isCoach",l),c=()=>Ct(cr,"$userRole",l),[l,f]=sa(),x=Y(),h=Y(),D=Y(),I=Y(),y=Y(),m=Y();let g=Y("PTAwMDAwNDEzMTQ90"),_=Y("2025-11-01"),W=Y(300),b=Y([]),E=Y(!1),J=Y(null),oe=Y("list"),C=Y(!1),re=Y(24426),ce=Y(!1),ie=Y(null);oa(()=>{Ye(e(g),e(_),e(W))});async function Ye(w,N,U){var V;T(E,!0),T(J,null),T(g,w),T(_,N),T(W,U);try{const B=await ao(w),z=(V=B.Clubs)==null?void 0:V.find(Z=>Z.Name==="630 Volleyball");z&&T(re,z.ClubId),T(ie,{name:B.Name||B.EventName||B.FullName||B.Title||"Event",startDate:B.StartDate||B.StartDateTime||B.Start||B.StartTime,endDate:B.EndDate||B.EndDateTime||B.End||B.EndTime});const L=await ro(w,N,U),P=lo(L.CourtSchedules);T(b,P)}catch(B){console.error("Error loading schedule:",B),T(J,B instanceof Error?B.message:"Failed to load schedule"),T(b,[])}finally{T(E,!1)}}function Ie(){const w=JSON.stringify(e(b),null,2),N=new Blob([w],{type:"application/json"}),U=URL.createObjectURL(N),V=document.createElement("a");V.href=U,V.download=`630-volleyball-matches-${e(_)}.json`,V.click(),URL.revokeObjectURL(U)}function De(){const w=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],N=e(b).map(L=>[L.MatchId.toString(),L.Division.Name,L.CompleteShortName,L.FirstTeamText,L.SecondTeamText,L.WorkTeamText,L.CourtName,new Date(L.ScheduledStartDateTime).toISOString(),new Date(L.ScheduledEndDateTime).toISOString(),((L.ScheduledEndDateTime-L.ScheduledStartDateTime)/6e4).toString(),L.InvolvedTeam]),U=[w.join(","),...N.map(L=>L.map(P=>`"${P}"`).join(","))].join(`
`),V=new Blob([U],{type:"text/csv"}),B=URL.createObjectURL(V),z=document.createElement("a");z.href=B,z.download=`630-volleyball-matches-${e(_)}.csv`,z.click(),URL.revokeObjectURL(B)}se(()=>(e(b),dt),()=>{if(e(b).length>0){const w=new Map;e(b).forEach(N=>{const V=(N.InvolvedTeam==="first"?N.FirstTeamText:N.SecondTeamText).match(/(\d+-\d+)/),B=V?V[1]:"";if(!B)return;const z=w.get(B)||{total:0,inPlan:0};z.total++;let L=!1;xt.subscribe(P=>{L=P.has(N.MatchId)})(),L&&z.inPlan++,w.set(B,z)}),w.forEach((N,U)=>{dt.updateFromPlan(U,N.inPlan,N.total)})}}),se(()=>e(b),()=>{T(x,(()=>{const w=new Map;return e(b).forEach((N,U)=>{e(b).slice(U+1).forEach(V=>{N.ScheduledStartDateTime<V.ScheduledEndDateTime&&N.ScheduledEndDateTime>V.ScheduledStartDateTime&&(w.has(N.MatchId)||w.set(N.MatchId,[]),w.get(N.MatchId).push(V.MatchId))})}),e(b).filter(N=>w.has(N.MatchId)).length})())}),se(()=>n(),()=>{T(h,n())}),se(()=>a(),()=>{T(D,a())}),se(()=>o(),()=>{T(I,o())}),se(()=>s(),()=>{T(y,s())}),se(()=>c(),()=>{T(m,c())}),se(()=>(e(b),e(h),dt),()=>{if(e(b).length>0&&e(h)!==void 0){const w=new Map,N=jt(xt);e(b).forEach(U=>{const B=(U.InvolvedTeam==="first"?U.FirstTeamText:U.SecondTeamText).match(/(\d+-\d+)/),z=B?B[1]:"";if(!z)return;const L=w.get(z)||{total:0,inPlan:0};L.total++,N.has(U.MatchId)&&L.inPlan++,w.set(z,L)}),w.forEach((U,V)=>{dt.updateFromPlan(V,U.inPlan,U.total)})}}),ur(),vr();var Qe=wc(),ft=u(Qe),vt=u(ft),pt=u(vt),$t=u(pt),O=u($t),G=v(u(O),2);{var ae=w=>{var N=cc(),U=u(N),V=v(U);{var B=z=>{var L=ic(),P=u(L);d(L),K(()=>j(P,`â¢ ${e(x)??""} conflicts`)),S(z,L)};A(V,z=>{e(x)>0&&z(B)})}d(N),K(()=>j(U,`${e(b),i(()=>e(b).length)??""} matches `)),S(w,N)};A(G,w=>{e(b),i(()=>e(b).length>0)&&w(ae)})}d(O);var le=v(O,2);{var p=w=>{var N=uc(),U=u(N);{var V=L=>{var P=lc(),Z=u(P,!0);d(P),K(()=>j(Z,(e(ie),i(()=>e(ie).name)))),S(L,P)};A(U,L=>{e(ie),i(()=>e(ie).name)&&L(V)})}var B=v(U,2);{var z=L=>{var P=dc(),Z=u(P,!0);d(P),K(F=>j(Z,F),[()=>(e(ie),M(Yt),i(()=>(()=>{try{const F=e(ie).startDate?new Date(e(ie).startDate).getTime():null,R=e(ie).endDate?new Date(e(ie).endDate).getTime():null;return F&&R&&Math.abs(F-R)>864e5?`${Yt(F)} - ${Yt(R)}`:F?Yt(F):R?Yt(R):null}catch{return null}})()))]),S(L,P)};A(B,L=>{e(ie),i(()=>(e(ie).startDate||e(ie).endDate)&&(()=>{try{const P=e(ie).startDate?new Date(e(ie).startDate).getTime():null,Z=e(ie).endDate?new Date(e(ie).endDate).getTime():null;return P&&Z&&Math.abs(P-Z)>864e5}catch{return!1}})())&&L(z)})}d(N),S(w,N)};A(le,w=>{e(ie),i(()=>e(ie)&&(e(ie).name||e(ie).startDate))&&w(p)})}var k=v(le,2);{var q=w=>{var N=vc(),U=u(N),V=v(U);{var B=z=>{var L=fc(),P=u(L);d(L),K(()=>j(P,`â¢ ${e(x)??""} conflicts`)),S(z,L)};A(V,z=>{e(x)>0&&z(B)})}d(N),K(()=>j(U,`${e(b),i(()=>e(b).length)??""} matches `)),S(w,N)};A(k,w=>{e(b),i(()=>e(b).length>0)&&w(q)})}d($t);var ne=v($t,2),he=u(ne),ye=v(u(he),2);ye.__change=w=>cr.setRole(w.target.value);var Ae=u(ye);Ae.value=Ae.__value="media";var et=v(Ae);et.value=et.__value="spectator";var wt=v(et);wt.value=wt.__value="coach",d(ye);var mt;sr(ye),d(he);var Ce=v(he,2);{var Oe=w=>{var N=gc(),U=Xe(N);{var V=Z=>{var F=mc(),R=u(F);R.__click=()=>T(oe,"list");let X;var de=v(R,2);de.__click=()=>T(oe,"timeline");let ee;d(F),K(()=>{X=me(R,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,X,{"bg-gold-500":e(oe)==="list","text-charcoal-950":e(oe)==="list","text-charcoal-300":e(oe)!=="list","hover:text-charcoal-50":e(oe)!=="list"}),Ht(R,e(oe)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),ee=me(de,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,ee,{"bg-gold-500":e(oe)==="timeline","text-charcoal-950":e(oe)==="timeline","text-charcoal-300":e(oe)!=="timeline","hover:text-charcoal-50":e(oe)!=="timeline"}),Ht(de,e(oe)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),S(Z,F)};A(U,Z=>{e(y)||Z(V)})}var B=v(U,2);{var z=Z=>{var F=hc();F.__click=()=>T(ce,!e(ce));let R;var X=u(F);d(F),K(()=>{R=me(F,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,R,{"text-charcoal-950":e(ce)}),Ht(F,e(ce)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),j(X,`Plan (${e(h)??""})`)}),S(Z,F)};A(B,Z=>{e(D)&&e(h)>0&&Z(z)})}var L=v(B,2);L.__click=Ie;var P=v(L,2);P.__click=De,S(w,N)};A(Ce,w=>{e(b),i(()=>e(b).length>0)&&w(Oe)})}var Je=v(Ce,2);Je.__click=()=>T(C,!e(C));let Pe;var ht=u(Je,!0);d(Je),d(ne),d(pt),d(vt),d(ft);var Le=v(ft,2);{var Ke=w=>{var N=xc(),U=u(N),V=u(U);ws(V,{get eventId(){return e(g)},get date(){return e(_)},get timeWindow(){return e(W)},onLoad:Ye,get loading(){return e(E)}}),d(U),d(N),S(w,N)};A(Le,w=>{e(C)&&w(Ke)})}var tt=v(Le,2),Et=u(tt);{var Ft=w=>{var N=pc();S(w,N)};A(Et,w=>{e(E)&&w(Ft)})}var it=v(Et,2);{var qe=w=>{var N=bc(),U=v(u(N),2),V=u(U,!0);d(U),d(N),K(()=>j(V,e(J))),S(w,N)};A(it,w=>{e(J)&&w(qe)})}var st=v(it,2);{var ue=w=>{var N=_c();S(w,N)};A(st,w=>{e(E),e(b),e(J),i(()=>!e(E)&&e(b).length===0&&!e(J))&&w(ue)})}var Me=v(st,2);{var Ge=w=>{var N=Pt(),U=Xe(N);{var V=z=>{var L=yc();S(z,L)},B=z=>{var L=Pt(),P=Xe(L);{var Z=R=>{Pi(R,{get matches(){return e(b)},get eventId(){return e(g)},get clubId(){return e(re)}})},F=R=>{sc(R,{get matches(){return e(b)},get eventId(){return e(g)}})};A(P,R=>{e(oe)==="list"?R(Z):R(F,!1)},!0)}S(z,L)};A(U,z=>{e(y)?z(V):z(B,!1)})}S(w,N)};A(Me,w=>{e(b),i(()=>e(b).length>0)&&w(Ge)})}var je=v(Me,2);A(je,w=>{});var Te=v(je,2);{var ge=w=>{var N=Sc();S(w,N)};A(Te,w=>{e(ce)&&w(ge)})}d(tt),d(Qe),K(()=>{mt!==(mt=e(m))&&(ye.value=(ye.__value=e(m))??"",Qt(ye,e(m))),Pe=me(Je,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,Pe,{"text-charcoal-950":e(C)}),Ht(Je,e(C)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),j(ht,e(C)?"Hide":"Config")}),S(t,Qe),fr(),f()}kr(["change","click"]);export{Ec as component,Ic as universal};
