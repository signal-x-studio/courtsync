import{f as S,a as b,c as $t,d as ya,t as wn}from"../chunks/BVP2IYXq.js";import"../chunks/CplIWc7m.js";import{d as Er,w as Yt,o as Sa,a as Tn,g as zt}from"../chunks/CPr2jWSk.js";import{D as Qr,y as At,q as Mn,B as Xa,A as Cn,L as Dn,g as e,a1 as J,N as $n,O as kn,P as ka,Q as Kr,z as Mr,ad as In,aA as En,I as ha,K as Pn,E as gr,ay as Qa,aG as Ka,Y as W,ab as Ia,ak as Ea,F as Za,H as Nn,aH as Vr,aI as Zr,G as en,aJ as Gr,aK as On,au as An,aL as Fn,ax as Rn,aM as Wn,x as Ln,U as tn,aN as rn,aO as jn,W as Un,aP as Yn,aQ as Bn,aR as Hn,aS as Vn,aT as Gn,aU as Jn,aV as qn,aW as zn,aE as Xn,b as c,S as Qn,aX as Kn,p as Bt,aY as le,Z as y,e as _,aZ as Zt,k as i,s as d,l as o,t as B,j as Ht,i as dt,al as Ur,a_ as Zn,a$ as ea,b0 as ta}from"../chunks/CAX-FWec.js";import{s as T,e as $r,d as er}from"../chunks/mRf8aGA8.js";import{p as Ge,i as P,s as qt,a as wa,b as eo}from"../chunks/5yCCTwAM.js";import{i as Vt}from"../chunks/9cGwFRh_.js";const to=!0;function mt(t,r){return r}function ro(t,r,a){for(var n=t.items,s=[],l=r.length,v=0;v<l;v++)Fn(r[v].e,s,!0);var u=l>0&&s.length===0&&a!==null;if(u){var p=a.parentNode;Rn(p),p.append(a),n.clear(),Kt(t,r[0].prev,r[l-1].next)}Wn(s,()=>{for(var g=0;g<l;g++){var h=r[g];u||(n.delete(h.k),Kt(t,h.prev,h.next)),en(h.e,!u)}})}function xt(t,r,a,n,s,l=null){var v=t,u={flags:r,items:new Map,first:null},p=(r&rn)!==0;if(p){var g=t;v=At?Qr(Mn(g)):g.appendChild(Xa())}At&&Cn();var h=null,M=!1,k=new Map,D=J(()=>{var O=a();return Ka(O)?O:O==null?[]:Qa(O)}),f,x;function w(){ao(x,f,u,k,v,s,r,n,a),l!==null&&(f.length===0?h?Za(h):h=ha(()=>l(v)):h!==null&&Nn(h,()=>{h=null}))}Dn(()=>{x??(x=Ln),f=e(D);var O=f.length;if(M&&O===0)return;M=O===0;let C=!1;if(At){var A=$n(v)===kn;A!==(O===0)&&(v=ka(),Qr(v),Kr(!1),C=!0)}if(At){for(var G=null,de,j=0;j<O;j++){if(Mr.nodeType===In&&Mr.data===En){v=Mr,C=!0,Kr(!1);break}var ve=f[j],fe=n(ve,j);de=ga(Mr,u,G,null,ve,fe,j,s,r,a),u.items.set(fe,de),G=de}O>0&&Qr(ka())}if(At)O===0&&l&&(h=ha(()=>l(v)));else if(Pn()){var z=new Set,Ee=gr;for(j=0;j<O;j+=1){ve=f[j],fe=n(ve,j);var we=u.items.get(fe)??k.get(fe);we?(r&(Gr|Vr))!==0&&an(we,ve,j,r):(de=ga(null,u,null,null,ve,fe,j,s,r,a,!0),k.set(fe,de)),z.add(fe)}for(const[Le,je]of u.items)z.has(Le)||Ee.skipped_effects.add(je.e);Ee.oncommit(w)}else w();C&&Kr(!0),e(D)}),At&&(v=Mr)}function ao(t,r,a,n,s,l,v,u,p){var ke,F,$,m;var g=(v&jn)!==0,h=(v&(Gr|Vr))!==0,M=r.length,k=a.items,D=a.first,f=D,x,w=null,O,C=[],A=[],G,de,j,ve;if(g)for(ve=0;ve<M;ve+=1)G=r[ve],de=u(G,ve),j=k.get(de),j!==void 0&&((ke=j.a)==null||ke.measure(),(O??(O=new Set)).add(j));for(ve=0;ve<M;ve+=1){if(G=r[ve],de=u(G,ve),j=k.get(de),j===void 0){var fe=n.get(de);if(fe!==void 0){n.delete(de),k.set(de,fe);var z=w?w.next:f;Kt(a,w,fe),Kt(a,fe,z),ra(fe,z,s),w=fe}else{var Ee=f?f.e.nodes_start:s;w=ga(Ee,a,w,w===null?a.first:w.next,G,de,ve,l,v,p)}k.set(de,w),C=[],A=[],f=w.next;continue}if(h&&an(j,G,ve,v),(j.e.f&Zr)!==0&&(Za(j.e),g&&((F=j.a)==null||F.unfix(),(O??(O=new Set)).delete(j))),j!==f){if(x!==void 0&&x.has(j)){if(C.length<A.length){var we=A[0],Le;w=we.prev;var je=C[0],Pe=C[C.length-1];for(Le=0;Le<C.length;Le+=1)ra(C[Le],we,s);for(Le=0;Le<A.length;Le+=1)x.delete(A[Le]);Kt(a,je.prev,Pe.next),Kt(a,w,je),Kt(a,Pe,we),f=we,w=Pe,ve-=1,C=[],A=[]}else x.delete(j),ra(j,f,s),Kt(a,j.prev,j.next),Kt(a,j,w===null?a.first:w.next),Kt(a,w,j),w=j;continue}for(C=[],A=[];f!==null&&f.k!==de;)(f.e.f&Zr)===0&&(x??(x=new Set)).add(f),A.push(f),f=f.next;if(f===null)continue;j=f}C.push(j),w=j,f=j.next}if(f!==null||x!==void 0){for(var rt=x===void 0?[]:Qa(x);f!==null;)(f.e.f&Zr)===0&&rt.push(f),f=f.next;var bt=rt.length;if(bt>0){var xe=(v&rn)!==0&&M===0?s:null;if(g){for(ve=0;ve<bt;ve+=1)($=rt[ve].a)==null||$.measure();for(ve=0;ve<bt;ve+=1)(m=rt[ve].a)==null||m.fix()}ro(a,rt,xe)}}g&&tn(()=>{var E;if(O!==void 0)for(j of O)(E=j.a)==null||E.apply()}),t.first=a.first&&a.first.e,t.last=w&&w.e;for(var Ue of n.values())en(Ue.e);n.clear()}function an(t,r,a,n){(n&Gr)!==0&&Ea(t.v,r),(n&Vr)!==0?Ea(t.i,a):t.i=a}function ga(t,r,a,n,s,l,v,u,p,g,h){var M=(p&Gr)!==0,k=(p&On)===0,D=M?k?W(s,!1,!1):Ia(s):s,f=(p&Vr)===0?v:Ia(v),x={i:f,v:D,k:l,a:null,e:null,prev:a,next:n};try{if(t===null){var w=document.createDocumentFragment();w.append(t=Xa())}return x.e=ha(()=>u(t,D,f,g),At),x.e.prev=a&&a.e,x.e.next=n&&n.e,a===null?h||(r.first=x):(a.next=x,a.e.next=x.e),n!==null&&(n.prev=x,n.e.prev=x.e),x}finally{}}function ra(t,r,a){for(var n=t.next?t.next.e.nodes_start:a,s=r?r.e.nodes_start:a,l=t.e.nodes_start;l!==null&&l!==n;){var v=An(l);s.before(l),l=v}}function Kt(t,r,a){r===null?t.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}const Pa=[...` 	
\r\fÂ \v\uFEFF`];function no(t,r,a){var n=t==null?"":""+t;if(r&&(n=n?n+" "+r:r),a){for(var s in a)if(a[s])n=n?n+" "+s:s;else if(n.length)for(var l=s.length,v=0;(v=n.indexOf(s,v))>=0;){var u=v+l;(v===0||Pa.includes(n[v-1]))&&(u===n.length||Pa.includes(n[u]))?n=(v===0?"":n.substring(0,v))+n.substring(u+1):v=u}}return n===""?null:n}function oo(t,r){return t==null?null:String(t)}function Se(t,r,a,n,s,l){var v=t.__className;if(At||v!==a||v===void 0){var u=no(a,n,l);(!At||u!==t.getAttribute("class"))&&(u==null?t.removeAttribute("class"):r?t.className=u:t.setAttribute("class",u)),t.__className=a}else if(l&&s!==l)for(var p in l){var g=!!l[p];(s==null||g!==!!s[p])&&t.classList.toggle(p,g)}return l}function nr(t,r,a,n){var s=t.__style;if(At||s!==r){var l=oo(r);(!At||l!==t.getAttribute("style"))&&(l==null?t.removeAttribute("style"):t.style.cssText=l),t.__style=r}return n}function ur(t,r,a=!1){if(t.multiple){if(r==null)return;if(!Ka(r))return Yn();for(var n of t.options)n.selected=r.includes(Na(n));return}for(n of t.options){var s=Na(n);if(Bn(s,r)){n.selected=!0;return}}(!a||r!==void 0)&&(t.selectedIndex=-1)}function _r(t){var r=new MutationObserver(()=>{ur(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Un(()=>{r.disconnect()})}function Na(t){return"__value"in t?t.__value:t.value}const so=Symbol("is custom element"),io=Symbol("is html");function aa(t){if(At){var r=!1,a=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var n=t.value;Dt(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var s=t.checked;Dt(t,"checked",null),t.checked=s}}};t.__on_r=a,tn(a),Hn()}}function Dt(t,r,a,n){var s=co(t);At&&(s[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(t[Vn]=a),a==null?t.removeAttribute(r):typeof a!="string"&&lo(t).includes(r)?t[r]=a:t.setAttribute(r,a))}function co(t){return t.__attributes??(t.__attributes={[so]:t.nodeName.includes("-"),[io]:t.namespaceURI===Gn})}var Oa=new Map;function lo(t){var r=t.getAttribute("is")||t.nodeName,a=Oa.get(r);if(a)return a;Oa.set(r,a=[]);for(var n,s=t,l=Element.prototype;l!==s;){n=qn(s);for(var v in n)n[v].set&&a.push(v);s=Jn(s)}return a}function yr(t,r,a=r){var n=new WeakSet;zn(t,"input",async s=>{var l=s?t.defaultValue:t.value;if(l=na(t)?oa(l):l,a(l),gr!==null&&n.add(gr),await Xn(),l!==(l=r())){var v=t.selectionStart,u=t.selectionEnd,p=t.value.length;if(t.value=l??"",u!==null){var g=t.value.length;v===u&&u===p&&g>p?(t.selectionStart=g,t.selectionEnd=g):(t.selectionStart=v,t.selectionEnd=Math.min(u,g))}}}),(At&&t.defaultValue!==t.value||c(r)==null&&t.value)&&(a(na(t)?oa(t.value):t.value),gr!==null&&n.add(gr)),Qn(()=>{var s=r();if(t===document.activeElement){var l=Kn??gr;if(n.has(l))return}na(t)&&s===oa(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function na(t){var r=t.type;return r==="number"||r==="range"}function oa(t){return t===""?null:+t}const vo=to,uo=!1,fo=(async()=>({})),nd=Object.freeze(Object.defineProperty({__proto__:null,load:fo,ssr:uo},Symbol.toStringTag,{value:"Module"})),Pr="https://results.advancedeventsystems.com/api",mo="https://results.advancedeventsystems.com/odata",xo=async(t,r,a)=>{const n=`${Pr}/event/${t}/courts/${r}/${a}`,s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch court schedule: ${s.statusText}`);return s.json()},bo=async t=>{const r=`${Pr}/event/${t}`,a=await fetch(r);if(!a.ok)throw new Error(`Failed to fetch event info: ${a.statusText}`);return a.json()},po=async(t,r)=>{const a=`${mo}/${t}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,n=await fetch(a);if(!n.ok)throw new Error(`Failed to fetch team assignments: ${n.statusText}`);return n.json()},sa=async(t,r,a,n)=>{const s=`${Pr}/event/${t}/division/${r}/team/${a}/schedule/${n}`,l=await fetch(s);if(!l.ok)throw new Error(`Failed to fetch team schedule: ${l.statusText}`);return l.json()},ho=async(t,r)=>{const a=`${Pr}/event/${t}/division/${r}/plays`,n=await fetch(a);if(!n.ok)throw new Error(`Failed to fetch division plays: ${n.statusText}`);return n.json()},go=async(t,r)=>{const a=`${Pr}/event/${t}/poolsheet/${r}`,n=await fetch(a);if(!n.ok)throw new Error(`Failed to fetch pool sheet: ${n.statusText}`);return n.json()},Wr="630 Volleyball",Lr="630",_o=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(a=>a&&(a.includes(Wr)||a.includes(Lr))),yo=t=>t.FirstTeamText&&(t.FirstTeamText.includes(Wr)||t.FirstTeamText.includes(Lr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(Wr)||t.SecondTeamText.includes(Lr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(Wr)||t.WorkTeamText.includes(Lr))?"work":null,So=t=>{const r=[];return t.forEach(a=>{a.CourtMatches.forEach(n=>{if(_o(n)){const s=yo(n);s&&s!=="work"&&r.push({...n,CourtName:a.Name,CourtId:a.CourtId,InvolvedTeam:s})}})}),r.sort((a,n)=>a.ScheduledStartDateTime-n.ScheduledStartDateTime)},Yr=t=>{const r=new Map;for(let a=0;a<t.length;a++){const n=t[a],s=[];for(let l=0;l<t.length;l++){if(a===l)continue;const v=t[l],u=n.ScheduledStartDateTime<v.ScheduledEndDateTime&&n.ScheduledEndDateTime>v.ScheduledStartDateTime,p=n.CourtId!==v.CourtId;u&&p&&s.push(v.MatchId)}s.length>0&&r.set(n.MatchId,s)}return r},nn=6048e5,wo=864e5,Aa=Symbol.for("constructDateFrom");function cr(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&Aa in t?t[Aa](r):t instanceof Date?new t.constructor(r):new Date(r)}function Xt(t,r){return cr(r||t,t)}let To={};function Jr(){return To}function kr(t,r){var u,p,g,h;const a=Jr(),n=(r==null?void 0:r.weekStartsOn)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((h=(g=a.locale)==null?void 0:g.options)==null?void 0:h.weekStartsOn)??0,s=Xt(t,r==null?void 0:r.in),l=s.getDay(),v=(l<n?7:0)+l-n;return s.setDate(s.getDate()-v),s.setHours(0,0,0,0),s}function Br(t,r){return kr(t,{...r,weekStartsOn:1})}function on(t,r){const a=Xt(t,r==null?void 0:r.in),n=a.getFullYear(),s=cr(a,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const l=Br(s),v=cr(a,0);v.setFullYear(n,0,4),v.setHours(0,0,0,0);const u=Br(v);return a.getTime()>=l.getTime()?n+1:a.getTime()>=u.getTime()?n:n-1}function Fa(t){const r=Xt(t),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),+t-+a}function Mo(t,...r){const a=cr.bind(null,r.find(n=>typeof n=="object"));return r.map(a)}function Ra(t,r){const a=Xt(t,r==null?void 0:r.in);return a.setHours(0,0,0,0),a}function Co(t,r,a){const[n,s]=Mo(a==null?void 0:a.in,t,r),l=Ra(n),v=Ra(s),u=+l-Fa(l),p=+v-Fa(v);return Math.round((u-p)/wo)}function Do(t,r){const a=on(t,r),n=cr(t,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),Br(n)}function $o(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ko(t){return!(!$o(t)&&typeof t!="number"||isNaN(+Xt(t)))}function Io(t,r){const a=Xt(t,r==null?void 0:r.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const Eo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Po=(t,r,a)=>{let n;const s=Eo[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function ia(t){return(r={})=>{const a=r.width?String(r.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const No={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Oo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ao={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fo={date:ia({formats:No,defaultWidth:"full"}),time:ia({formats:Oo,defaultWidth:"full"}),dateTime:ia({formats:Ao,defaultWidth:"full"})},Ro={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wo=(t,r,a,n)=>Ro[t];function Cr(t){return(r,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const v=t.defaultFormattingWidth||t.defaultWidth,u=a!=null&&a.width?String(a.width):v;s=t.formattingValues[u]||t.formattingValues[v]}else{const v=t.defaultWidth,u=a!=null&&a.width?String(a.width):t.defaultWidth;s=t.values[u]||t.values[v]}const l=t.argumentCallback?t.argumentCallback(r):r;return s[l]}}const Lo={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jo={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uo={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ho={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vo=(t,r)=>{const a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Go={ordinalNumber:Vo,era:Cr({values:Lo,defaultWidth:"wide"}),quarter:Cr({values:jo,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cr({values:Uo,defaultWidth:"wide"}),day:Cr({values:Yo,defaultWidth:"wide"}),dayPeriod:Cr({values:Bo,defaultWidth:"wide",formattingValues:Ho,defaultFormattingWidth:"wide"})};function Dr(t){return(r,a={})=>{const n=a.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],l=r.match(s);if(!l)return null;const v=l[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(u)?qo(u,M=>M.test(v)):Jo(u,M=>M.test(v));let g;g=t.valueCallback?t.valueCallback(p):p,g=a.valueCallback?a.valueCallback(g):g;const h=r.slice(v.length);return{value:g,rest:h}}}function Jo(t,r){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r(t[a]))return a}function qo(t,r){for(let a=0;a<t.length;a++)if(r(t[a]))return a}function zo(t){return(r,a={})=>{const n=r.match(t.matchPattern);if(!n)return null;const s=n[0],l=r.match(t.parsePattern);if(!l)return null;let v=t.valueCallback?t.valueCallback(l[0]):l[0];v=a.valueCallback?a.valueCallback(v):v;const u=r.slice(s.length);return{value:v,rest:u}}}const Xo=/^(\d+)(th|st|nd|rd)?/i,Qo=/\d+/i,Ko={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zo={any:[/^b/i,/^(a|c)/i]},es={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ts={any:[/1/i,/2/i,/3/i,/4/i]},rs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},as={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},os={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ss={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},is={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cs={ordinalNumber:zo({matchPattern:Xo,parsePattern:Qo,valueCallback:t=>parseInt(t,10)}),era:Dr({matchPatterns:Ko,defaultMatchWidth:"wide",parsePatterns:Zo,defaultParseWidth:"any"}),quarter:Dr({matchPatterns:es,defaultMatchWidth:"wide",parsePatterns:ts,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dr({matchPatterns:rs,defaultMatchWidth:"wide",parsePatterns:as,defaultParseWidth:"any"}),day:Dr({matchPatterns:ns,defaultMatchWidth:"wide",parsePatterns:os,defaultParseWidth:"any"}),dayPeriod:Dr({matchPatterns:ss,defaultMatchWidth:"any",parsePatterns:is,defaultParseWidth:"any"})},ls={code:"en-US",formatDistance:Po,formatLong:Fo,formatRelative:Wo,localize:Go,match:cs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ds(t,r){const a=Xt(t,r==null?void 0:r.in);return Co(a,Io(a))+1}function vs(t,r){const a=Xt(t,r==null?void 0:r.in),n=+Br(a)-+Do(a);return Math.round(n/nn)+1}function sn(t,r){var h,M,k,D;const a=Xt(t,r==null?void 0:r.in),n=a.getFullYear(),s=Jr(),l=(r==null?void 0:r.firstWeekContainsDate)??((M=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:M.firstWeekContainsDate)??s.firstWeekContainsDate??((D=(k=s.locale)==null?void 0:k.options)==null?void 0:D.firstWeekContainsDate)??1,v=cr((r==null?void 0:r.in)||t,0);v.setFullYear(n+1,0,l),v.setHours(0,0,0,0);const u=kr(v,r),p=cr((r==null?void 0:r.in)||t,0);p.setFullYear(n,0,l),p.setHours(0,0,0,0);const g=kr(p,r);return+a>=+u?n+1:+a>=+g?n:n-1}function us(t,r){var u,p,g,h;const a=Jr(),n=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(g=a.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??1,s=sn(t,r),l=cr((r==null?void 0:r.in)||t,0);return l.setFullYear(s,0,n),l.setHours(0,0,0,0),kr(l,r)}function fs(t,r){const a=Xt(t,r==null?void 0:r.in),n=+kr(a,r)-+us(a,r);return Math.round(n/nn)+1}function lt(t,r){const a=t<0?"-":"",n=Math.abs(t).toString().padStart(r,"0");return a+n}const ir={y(t,r){const a=t.getFullYear(),n=a>0?a:1-a;return lt(r==="yy"?n%100:n,r.length)},M(t,r){const a=t.getMonth();return r==="M"?String(a+1):lt(a+1,2)},d(t,r){return lt(t.getDate(),r.length)},a(t,r){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,r){return lt(t.getHours()%12||12,r.length)},H(t,r){return lt(t.getHours(),r.length)},m(t,r){return lt(t.getMinutes(),r.length)},s(t,r){return lt(t.getSeconds(),r.length)},S(t,r){const a=r.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,a-3));return lt(s,r.length)}},pr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wa={G:function(t,r,a){const n=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return a.ordinalNumber(s,{unit:"year"})}return ir.y(t,r)},Y:function(t,r,a,n){const s=sn(t,n),l=s>0?s:1-s;if(r==="YY"){const v=l%100;return lt(v,2)}return r==="Yo"?a.ordinalNumber(l,{unit:"year"}):lt(l,r.length)},R:function(t,r){const a=on(t);return lt(a,r.length)},u:function(t,r){const a=t.getFullYear();return lt(a,r.length)},Q:function(t,r,a){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return lt(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,a){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return lt(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,a){const n=t.getMonth();switch(r){case"M":case"MM":return ir.M(t,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,a){const n=t.getMonth();switch(r){case"L":return String(n+1);case"LL":return lt(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,a,n){const s=fs(t,n);return r==="wo"?a.ordinalNumber(s,{unit:"week"}):lt(s,r.length)},I:function(t,r,a){const n=vs(t);return r==="Io"?a.ordinalNumber(n,{unit:"week"}):lt(n,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):ir.d(t,r)},D:function(t,r,a){const n=ds(t);return r==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):lt(n,r.length)},E:function(t,r,a){const n=t.getDay();switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,a,n){const s=t.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return lt(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,a,n){const s=t.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return lt(l,r.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,a){const n=t.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return lt(s,r.length);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,a){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,a){const n=t.getHours();let s;switch(n===12?s=pr.noon:n===0?s=pr.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,a){const n=t.getHours();let s;switch(n>=17?s=pr.evening:n>=12?s=pr.afternoon:n>=4?s=pr.morning:s=pr.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){let n=t.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return ir.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):ir.H(t,r)},K:function(t,r,a){const n=t.getHours()%12;return r==="Ko"?a.ordinalNumber(n,{unit:"hour"}):lt(n,r.length)},k:function(t,r,a){let n=t.getHours();return n===0&&(n=24),r==="ko"?a.ordinalNumber(n,{unit:"hour"}):lt(n,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):ir.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):ir.s(t,r)},S:function(t,r){return ir.S(t,r)},X:function(t,r,a){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return ja(n);case"XXXX":case"XX":return vr(n);case"XXXXX":case"XXX":default:return vr(n,":")}},x:function(t,r,a){const n=t.getTimezoneOffset();switch(r){case"x":return ja(n);case"xxxx":case"xx":return vr(n);case"xxxxx":case"xxx":default:return vr(n,":")}},O:function(t,r,a){const n=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+La(n,":");case"OOOO":default:return"GMT"+vr(n,":")}},z:function(t,r,a){const n=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+La(n,":");case"zzzz":default:return"GMT"+vr(n,":")}},t:function(t,r,a){const n=Math.trunc(+t/1e3);return lt(n,r.length)},T:function(t,r,a){return lt(+t,r.length)}};function La(t,r=""){const a=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),l=n%60;return l===0?a+String(s):a+String(s)+r+lt(l,2)}function ja(t,r){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):vr(t,r)}function vr(t,r=""){const a=t>0?"-":"+",n=Math.abs(t),s=lt(Math.trunc(n/60),2),l=lt(n%60,2);return a+s+r+l}const Ua=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},cn=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ms=(t,r)=>{const a=t.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return Ua(t,r);let l;switch(n){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",Ua(n,r)).replace("{{time}}",cn(s,r))},xs={p:cn,P:ms},bs=/^D+$/,ps=/^Y+$/,hs=["D","DD","YY","YYYY"];function gs(t){return bs.test(t)}function _s(t){return ps.test(t)}function ys(t,r,a){const n=Ss(t,r,a);if(console.warn(n),hs.includes(t))throw new RangeError(n)}function Ss(t,r,a){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ws=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ts=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ms=/^'([^]*?)'?$/,Cs=/''/g,Ds=/[a-zA-Z]/;function ln(t,r,a){var h,M,k,D;const n=Jr(),s=n.locale??ls,l=n.firstWeekContainsDate??((M=(h=n.locale)==null?void 0:h.options)==null?void 0:M.firstWeekContainsDate)??1,v=n.weekStartsOn??((D=(k=n.locale)==null?void 0:k.options)==null?void 0:D.weekStartsOn)??0,u=Xt(t,a==null?void 0:a.in);if(!ko(u))throw new RangeError("Invalid time value");let p=r.match(Ts).map(f=>{const x=f[0];if(x==="p"||x==="P"){const w=xs[x];return w(f,s.formatLong)}return f}).join("").match(ws).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const x=f[0];if(x==="'")return{isToken:!1,value:$s(f)};if(Wa[x])return{isToken:!0,value:f};if(x.match(Ds))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(p=s.localize.preprocessor(u,p));const g={firstWeekContainsDate:l,weekStartsOn:v,locale:s};return p.map(f=>{if(!f.isToken)return f.value;const x=f.value;(_s(x)||gs(x))&&ys(x,r,String(t));const w=Wa[x[0]];return w(u,x,s.localize,g)}).join("")}function $s(t){const r=t.match(Ms);return r?r[1].replace(Cs,"'"):t}const Oe=t=>ln(new Date(t),"h:mm a"),Tt=t=>ln(new Date(t),"MMM d, yyyy"),ca="coveragePlan";function ks(){const{subscribe:t,set:r,update:a}=Yt(new Set);try{const s=localStorage.getItem(ca);if(s){const l=JSON.parse(s);r(new Set(l.selectedMatches))}}catch(s){console.error("Failed to load coverage plan:",s)}const n=s=>{try{const l={selectedMatches:Array.from(s),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(ca,JSON.stringify(l))}catch(l){console.error("Failed to save coverage plan:",l)}};return{subscribe:t,toggleMatch:s=>{a(l=>{const v=new Set(l);return v.has(s)?v.delete(s):v.add(s),n(v),v})},selectMatch:s=>{a(l=>{const v=new Set(l);return v.add(s),n(v),v})},deselectMatch:s=>{a(l=>{const v=new Set(l);return v.delete(s),n(v),v})},clearPlan:()=>{r(new Set),localStorage.removeItem(ca)}}}const _t=ks();Er(_t,t=>t);const Is=Er(_t,t=>t.size),la="teamCoverageStatus";function Es(){const{subscribe:t,set:r,update:a}=Yt({});try{const s=localStorage.getItem(la);if(s){const l=JSON.parse(s);r(l)}}catch(s){console.error("Failed to load coverage status:",s)}const n=s=>{if(Object.keys(s).length!==0)try{localStorage.setItem(la,JSON.stringify(s))}catch(l){console.error("Failed to save coverage status:",l)}};return{subscribe:t,setTeamStatus:(s,l)=>{a(v=>{const u={...v};return l==="not-covered"?delete u[s]:u[s]=l,n(u),u})},getTeamStatus:s=>{let l="not-covered";return t(v=>{l=v[s]||"not-covered"})(),l},clearAllStatus:()=>{r({}),localStorage.removeItem(la)},updateFromPlan:(s,l,v)=>{v!==0&&a(u=>{let p;if(l===0?p="not-covered":l===v?p="covered":p="partially-covered",(u[s]||"not-covered")===p)return u;const h={...u};return p==="not-covered"?delete h[s]:h[s]=p,n(h),h})},importStatuses:s=>{r(s),n(s)}}}const Ze=Es(),Ya="userRole";function Ps(){const{subscribe:t,set:r}=Yt("media");try{const n=localStorage.getItem(Ya);n&&["media","spectator","coach"].includes(n)&&r(n)}catch(n){console.error("Failed to load user role:",n)}const a=n=>{try{localStorage.setItem(Ya,n)}catch(s){console.error("Failed to save user role:",s)}};return{subscribe:t,setRole:n=>{r(n),a(n)}}}const Ir=Ps(),Ta=Er(Ir,t=>t==="media"),Ma=Er(Ir,t=>t==="spectator"),Ns=Er(Ir,t=>t==="coach");var Os=S('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function As(t,r){Bt(r,!1);let a=Ge(r,"eventId",8),n=Ge(r,"date",8),s=Ge(r,"timeWindow",8),l=Ge(r,"onLoad",8),v=Ge(r,"loading",8,!1),u=W(a()),p=W(n()),g=W(s());async function h(j){j.preventDefault(),await l()(e(u),e(p),e(g))}le(()=>(_(a()),e(u),_(n()),e(p),_(s()),e(g)),()=>{a()!==e(u)&&y(u,a()),n()!==e(p)&&y(p,n()),s()!==e(g)&&y(g,s())}),Zt(),Vt();var M=Os(),k=i(M),D=i(k),f=d(i(D),2);aa(f),o(D);var x=d(D,2),w=d(i(x),2);aa(w),o(x);var O=d(x,2),C=d(i(O),2);aa(C),o(O);var A=d(O,2),G=i(A),de=i(G,!0);o(G),o(A),o(k),o(M),B(()=>{f.disabled=v(),w.disabled=v(),C.disabled=v(),G.disabled=v(),nr(G,`background-color: ${v()?"#ca8a04":"#eab308"}; color: #18181b;`),T(de,v()?"Loading...":"Load")}),yr(f,()=>e(u),j=>y(u,j)),yr(w,()=>e(p),j=>y(p,j)),yr(C,()=>e(g),j=>y(g,j)),$r("submit",M,h),b(t,M),Ht()}const dn=(t,r,a,n={})=>{const{excludeSelected:s=!0,preferNoConflicts:l=!0,preferNearSelected:v=!0,maxResults:u=10}=n;return(s?t.filter(h=>!r.has(h.MatchId)):t).map(h=>{const M=[];let k=0;const D=a.has(h.MatchId);if(!D&&l?(k+=50,M.push("No conflicts")):D&&(k-=20,M.push("Has conflicts")),v&&r.size>0){const x=h.ScheduledStartDateTime,w=h.ScheduledEndDateTime,O=t.filter(A=>r.has(A.MatchId));let C=1/0;O.forEach(A=>{const G=A.ScheduledStartDateTime,de=A.ScheduledEndDateTime,j=Math.abs(x-de),ve=Math.abs(G-w),fe=Math.min(j,ve);fe<C&&(C=fe)}),C<7200*1e3?(k+=20,M.push("Near selected matches")):C>14400*1e3&&(k-=10,M.push("Far from selected matches"))}v&&r.size>0&&t.filter(O=>r.has(O.MatchId)).filter(O=>O.CourtName===h.CourtName).length>0&&(k+=15,M.push("Same court as selected matches"));const f=new Date(h.ScheduledStartDateTime).getHours();return f>=8&&f<12&&(k+=5,M.push("Morning match")),{match:h,score:k,reasons:M}}).sort((h,M)=>M.score-h.score).slice(0,u).filter(h=>h.score>0)},_a=(t,r,a,n,s,l={})=>{const{excludeSelected:v=!0,preferUncovered:u=!0,preferNoConflicts:p=!0,preferNearSelected:g=!0,maxResults:h=10}=l,M=[];return t.forEach(k=>{if(v&&r.has(k.MatchId))return;const D=s(k);if(!D)return;const f=n.get(D)||"not-covered",x=a.has(k.MatchId);let w=0;const O=[];if(u&&f==="not-covered"&&(w+=10,O.push("Uncovered team")),p&&!x&&(w+=5,O.push("No conflicts")),g&&r.size>0){const C=k.ScheduledStartDateTime;let A=!1;t.forEach(G=>{if(r.has(G.MatchId)){const j=Math.abs(C-G.ScheduledStartDateTime)/6e4;j<=30&&j>0&&(A=!0)}}),A&&(w+=3,O.push("Near selected match"))}w>0&&O.length>0&&M.push({match:k,teamId:D,reason:O.join(", "),score:w})}),M.sort((k,D)=>D.score-k.score).slice(0,h)},Fs=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),a=decodeURIComponent(escape(atob(r))),n=JSON.parse(a);return!n.scores||!Array.isArray(n.scores)?null:{eventId:n.eventId||"",scores:n.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},Rs=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},jr={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},da="matchFilters";function Ws(){const{subscribe:t,set:r,update:a}=Yt(jr);try{const s=localStorage.getItem(da);if(s){const l=JSON.parse(s);r({...jr,...l})}}catch(s){console.error("Failed to load filters:",s)}const n=s=>{try{localStorage.setItem(da,JSON.stringify(s))}catch(l){console.error("Failed to save filters:",l)}};return{subscribe:t,updateFilter:(s,l)=>{a(v=>{const u={...v,[s]:l};return n(u),u})},resetFilters:()=>{r(jr),localStorage.removeItem(da)},setTimeRangePreset:s=>{a(l=>{let v;return s==="morning"?v={...l,timeRange:{start:"00:00",end:"14:29"}}:s==="afternoon"?v={...l,timeRange:{start:"14:30",end:"23:59"}}:v={...l,timeRange:{start:null,end:null}},n(v),v})},getTeamIdentifier:s=>{const v=(s.InvolvedTeam==="first"?s.FirstTeamText:s.SecondTeamText).match(/(\d+-\d+)/);return v?v[1]:""}}}const Nr=Ws();function Ne(t){const a=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return a?a[1]:""}function Hr(t){const r=new Set(t.map(a=>a.Division.CodeAlias));return Array.from(r).sort()}function Ca(t){const r=new Set;return t.forEach(a=>{const n=Ne(a);n&&r.add(n)}),Array.from(r).sort()}function vn(t){let r=jr;return Nr.subscribe(a=>{r=a})(),t.filter(a=>{if(r.division&&a.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const n=new Date(a.ScheduledStartDateTime).getTime(),s=new Date(n),l=s.getHours(),v=s.getMinutes(),u=l*60+v,p=870;if(r.wave==="morning"&&u>=p||r.wave==="afternoon"&&u<p)return!1}if(r.teams.length>0){const n=Ne(a);if(!n||!r.teams.includes(n))return!1}if(r.timeRange.start||r.timeRange.end){const n=new Date(a.ScheduledStartDateTime).getTime(),s=new Date(n),l=s.getHours(),v=s.getMinutes(),u=l*60+v;if(r.timeRange.start){const[p,g]=r.timeRange.start.split(":").map(Number),h=p*60+g;if(u<h)return!1}if(r.timeRange.end){const[p,g]=r.timeRange.end.split(":").map(Number),h=p*60+g;if(u>h)return!1}}return!0})}function jt(t,r){Nr.updateFilter(t,r)}function va(){Nr.resetFilters()}const ua="matchPriorities";function Ls(){const{subscribe:t,set:r,update:a}=Yt({});try{const s=localStorage.getItem(ua);if(s){const l=JSON.parse(s);r(l)}}catch(s){console.error("Failed to load priorities:",s)}const n=s=>{try{localStorage.setItem(ua,JSON.stringify(s))}catch(l){console.error("Failed to save priorities:",l)}};return{subscribe:t,setPriority:(s,l)=>{a(v=>{const u={...v};return l===null?delete u[s]:u[s]=l,n(u),u})},getPriority:s=>{let l=null;return t(v=>{l=v[s]||null})(),l},clearAllPriorities:()=>{r({}),localStorage.removeItem(ua)}}}const Ut=Ls(),Ba="followedTeams",Ha="teamColors";function js(){const{subscribe:t,set:r,update:a}=Yt([]),{subscribe:n,set:s,update:l}=Yt(new Map);{try{const p=localStorage.getItem(Ba);p&&r(JSON.parse(p))}catch(p){console.error("Failed to load followed teams:",p)}try{const p=localStorage.getItem(Ha);if(p){const g=JSON.parse(p);s(new Map(Object.entries(g)))}}catch(p){console.error("Failed to load team colors:",p)}}const v=p=>{try{localStorage.setItem(Ba,JSON.stringify(p))}catch(g){console.error("Failed to save followed teams:",g)}},u=p=>{try{const g={};p.forEach((h,M)=>{g[M]=h}),localStorage.setItem(Ha,JSON.stringify(g))}catch(g){console.error("Failed to save team colors:",g)}};return{subscribe:t,followTeam:(p,g)=>{a(h=>{if(h.some(k=>k.teamId===p))return h;const M=[...h,{teamId:p,teamName:g,followedAt:Date.now()}];return v(M),M})},unfollowTeam:p=>{a(g=>{const h=g.filter(M=>M.teamId!==p);return v(h),h}),l(g=>{const h=new Map(g);return h.delete(p),u(h),h})},isFollowing:p=>{let g=!1;return t(h=>{g=h.some(M=>M.teamId===p)})(),g},setTeamColor:(p,g)=>{l(h=>{const M=new Map(h);return M.set(p,g),u(M),M})},getTeamColor:p=>{let g=null;return n(h=>{g=h.get(p)||null})(),g},reorderTeams:(p,g)=>{a(h=>{const M=h.findIndex(f=>f.teamId===p);if(M===-1)return h;const k=[...h],D=k[M];return g==="top"?(k.splice(M,1),k.unshift(D)):g==="up"&&M>0?[k[M-1],k[M]]=[k[M],k[M-1]]:g==="down"&&M<k.length-1&&([k[M],k[M+1]]=[k[M+1],k[M]]),v(k),k})}}}const Ar=js(),Va="notificationPreferences",Fr={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Us(){const{subscribe:t,set:r,update:a}=Yt(Fr),{subscribe:n,set:s}=Yt("default");{try{const u=localStorage.getItem(Va);if(u){const p=JSON.parse(u);r({...Fr,...p})}}catch(u){console.error("Failed to load notification preferences:",u)}"Notification"in window&&s(Notification.permission)}const l=u=>{try{localStorage.setItem(Va,JSON.stringify(u))}catch(p){console.error("Failed to save notification preferences:",p)}},v=(u,p,g=!1)=>{let h="default";n(M=>{h=M})(),g&&h==="granted"&&"Notification"in window?new Notification(u,{body:p,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${u}: ${p}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:n},requestPermission:async()=>{if("Notification"in window){let u="default";if(n(p=>{u=p})(),u==="default"){const p=await Notification.requestPermission();return s(p),p==="granted"}return u==="granted"}return!1},checkUpcomingMatches:(u,p)=>{let g=Fr;if(t(k=>{g=k})(),!g.upcomingMatchReminder)return;const h=Date.now(),M=g.reminderMinutes*60*1e3;u.forEach(k=>{const D=k.ScheduledStartDateTime,f=D-h,x=k.FirstTeamText||k.SecondTeamText;if(p.includes(x)&&f>0&&f<=M){const w=`reminder-${k.MatchId}`,O=localStorage.getItem(w);if(!O||Date.now()-parseInt(O)>M){const C=Math.floor(f/6e4);v(`Match starting in ${C} minute${C!==1?"s":""}`,`${k.FirstTeamText} vs ${k.SecondTeamText}
${new Date(D).toLocaleTimeString()} - ${k.CourtName}`,g.browserNotifications),localStorage.setItem(w,Date.now().toString())}}})},notifyScoreUpdate:(u,p)=>{let g=Fr;if(t(x=>{g=x})(),!g.scoreUpdateNotification)return;const h=p.sets.find(x=>x.completedAt===0)||p.sets[p.sets.length-1],M=p.sets.filter(x=>x.completedAt>0),k=M.filter(x=>x.team1Score>x.team2Score).length,D=M.filter(x=>x.team2Score>x.team1Score).length;let f=`Score: ${h.team1Score}-${h.team2Score}`;M.length>0&&(f=`Sets: ${k}-${D} | ${f}`),v(`${u.FirstTeamText} vs ${u.SecondTeamText}`,f,g.browserNotifications)},updatePreferences:u=>{a(p=>{const g={...p,...u};return l(g),g})}}}const fa=Us(),Ys="courtsync-score-updates";let Rr=null;const Bs=()=>{if(!Rr)try{Rr=new BroadcastChannel(Ys)}catch(t){console.error("BroadcastChannel not supported:",t),Rr={postMessage:()=>{},close:()=>{},onmessage:null}}return Rr},Hs=(t,r,a)=>{const n=Bs(),s={type:a?"score-update":"score-delete",eventId:t,matchId:r,score:a||void 0,timestamp:Date.now()};try{n.postMessage(s)}catch(l){console.error("Failed to broadcast score update:",l)}},Ga="scoreHistory",Vs=(t,r,a)=>{try{const n=localStorage.getItem(Ga),s=n?JSON.parse(n):{};s[t.toString()]||(s[t.toString()]=[]);const l={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:a};s[t.toString()].push(l),s[t.toString()].length>100&&(s[t.toString()]=s[t.toString()].slice(-100)),localStorage.setItem(Ga,JSON.stringify(s))}catch(n){console.error("Failed to save score history:",n)}},Ja="claimHistory",qa=1e3;function ma(t){try{const r=localStorage.getItem(Ja),a=r?JSON.parse(r):[];a.unshift(t),a.length>qa&&a.splice(qa),localStorage.setItem(Ja,JSON.stringify(a))}catch(r){console.error("Failed to save claim history:",r)}}const za="matchClaims",xa="matchScores",Gs=1800*1e3;function un({eventId:t,userId:r="anonymous"}){const{subscribe:a,set:n,update:s}=Yt(new Map),{subscribe:l,set:v,update:u}=Yt(new Map);{try{const D=localStorage.getItem(za);if(D){const f=JSON.parse(D),x=new Map;Object.values(f).forEach(w=>{w.eventId===t&&w.expiresAt>Date.now()&&x.set(w.matchId,w)}),n(x)}}catch(D){console.error("Failed to load claims:",D)}try{const D=localStorage.getItem(xa);if(D){const f=JSON.parse(D),x=new Map;Object.values(f).forEach(w=>{w.eventId===t&&x.set(w.matchId,w)}),v(x)}}catch(D){console.error("Failed to load scores:",D)}}const p=D=>{try{const f={};D.forEach(x=>{f[x.matchId.toString()]=x}),localStorage.setItem(za,JSON.stringify(f))}catch(f){console.error("Failed to save claims:",f)}},g=D=>{try{const f={};D.forEach(x=>{f[x.matchId.toString()]=x}),localStorage.setItem(xa,JSON.stringify(f))}catch(f){console.error("Failed to save scores:",f)}};let h=null;return{claims:{subscribe:a},scores:{subscribe:l},claimMatch:(D,f)=>{const x=Date.now(),w=f+Gs,O={matchId:D,claimedBy:r,claimedAt:x,expiresAt:w,eventId:t};s(C=>{const A=new Map(C);return A.set(D,O),p(A),A}),ma({matchId:D,eventId:t,action:"claimed",userId:r,timestamp:x})},releaseClaim:D=>{s(f=>{const x=f.get(D),w=new Map(f);return w.delete(D),p(w),x&&vo&&ma({matchId:D,eventId:t,action:"released",userId:x.claimedBy,timestamp:Date.now()}),w})},transferClaim:(D,f)=>{let x=!1;if(a(O=>{const C=O.get(D);x=(C==null?void 0:C.claimedBy)===r&&C.expiresAt>Date.now()})(),!x)return!1;const w=Date.now();return s(O=>{const C=O.get(D);if(!C)return O;const A={...C,claimedBy:f,claimedAt:w},G=new Map(O);return G.set(D,A),p(G),ma({matchId:D,eventId:t,action:"transferred",userId:r,timestamp:w,transferredTo:f}),G}),!0},isClaimed:D=>{let f=!1;return a(x=>{const w=x.get(D);f=w?w.expiresAt>Date.now():!1})(),f},getClaimStatus:D=>{let f="available";return a(x=>{const w=x.get(D);!w||w.expiresAt<Date.now()?f="available":w.claimedBy===r?f="claimed":f="locked"})(),f},getClaimer:D=>{let f=null;return a(x=>{const w=x.get(D);f=w&&w.expiresAt>Date.now()?w.claimedBy:null})(),f},isClaimOwner:D=>{let f=!1;return a(x=>{const w=x.get(D);f=(w==null?void 0:w.claimedBy)===r&&w.expiresAt>Date.now()})(),f},updateScore:(D,f,x)=>{const w={matchId:D,eventId:t,sets:f,status:x,lastUpdated:Date.now(),lastUpdatedBy:r};u(O=>{const C=new Map(O);return C.set(D,w),g(C),C}),Hs(t,D,w),Vs(D,w,r)},getScore:D=>{let f=null;return l(x=>{f=x.get(D)||null})(),f},clearEventData:()=>{s(D=>{const f=new Map(D);return f.forEach((x,w)=>{x.eventId===t&&f.delete(w)}),p(f),f}),u(D=>{const f=new Map(D);return f.forEach((x,w)=>{x.eventId===t&&f.delete(w)}),g(f),f})},startPolling:()=>{h||(h=setInterval(()=>{try{const D=localStorage.getItem(xa);if(!D)return;const f=JSON.parse(D),x=new Map;let w=!1;l(O=>{Object.values(f).forEach(C=>{if(C.eventId===t){x.set(C.matchId,C);const A=O.get(C.matchId);(!A||C.lastUpdated&&C.lastUpdated>A.lastUpdated)&&(w=!0)}}),w&&u(C=>{const A=new Map(C);return x.forEach((G,de)=>{const j=C.get(de);(!j||G.lastUpdated&&G.lastUpdated>j.lastUpdated)&&A.set(de,G)}),A})})()}catch(D){console.error("Failed to poll scores:",D)}},3e3))},stopPolling:()=>{h&&(clearInterval(h),h=null)}}}const ba="matchNotes";function Js(t){const{subscribe:r,set:a,update:n}=Yt(new Map);try{const l=localStorage.getItem(ba);if(l){const v=JSON.parse(l),u=new Map;Object.values(v).forEach(p=>{p.eventId===t&&u.set(p.matchId,p)}),a(u)}}catch(l){console.error("Failed to load match notes:",l)}const s=l=>{try{const v=localStorage.getItem(ba),u=v?JSON.parse(v):{};l.forEach(p=>{u[`${t}-${p.matchId}`]=p}),Object.keys(u).forEach(p=>{if(p.startsWith(`${t}-`)){const g=parseInt(p.split("-").pop()||"0");l.has(g)||delete u[p]}}),localStorage.setItem(ba,JSON.stringify(u))}catch(v){console.error("Failed to save match notes:",v)}};return{subscribe:r,setNote:(l,v)=>{const u=Date.now();n(p=>{const g=new Map(p),h=g.get(l);return v.trim()?g.set(l,{matchId:l,eventId:t,note:v.trim(),createdAt:(h==null?void 0:h.createdAt)||u,updatedAt:u}):g.delete(l),s(g),g})},getNote:l=>{let v="";return r(u=>{var p;v=((p=u.get(l))==null?void 0:p.note)||""})(),v},deleteNote:l=>{n(v=>{const u=new Map(v);return u.delete(l),s(u),u})},hasNote:l=>{let v=!1;return r(u=>{const p=u.get(l);v=p!==void 0&&p.note.trim().length>0})(),v}}}function fn(t){return Js(t)}var qs=S('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),zs=S('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Xs=S("<button>Statistics</button>"),Qs=S('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Ks=S('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Zs=S('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),ei=S('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),ti=S('<span class="text-[#808593] mx-1">vs</span> ',1),ri=S('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),ai=S('<span class="mx-1">vs</span> ',1),ni=S('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),oi=S('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),si=S('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),ii=S('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),ci=S('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),li=S('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),di=S("<option> </option>"),vi=S('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),ui=S('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),fi=S('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),mi=S('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),xi=S('<span class="text-[#808593] mx-1">vs</span> ',1),bi=S('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),pi=S('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),hi=S('<div class="space-y-4"><!> <!></div>'),gi=S('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),_i=S("<!> <!>",1),yi=S('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),Si=S('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),wi=S('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function mn(t,r){Bt(r,!1);const a=W(),n=W(),s=W(),l=W(),v=W();let u=Ge(r,"match",8),p=Ge(r,"eventId",8),g=Ge(r,"clubId",8),h=Ge(r,"onClose",8),M=Ge(r,"matches",24,()=>[]),k=W(null),D=W([]),f=W([]),x=W([]),w=W([]),O=W(null),C=W(null),A=W("schedule"),G=W(!0),de=W(null);function j(){return u().InvolvedTeam==="first"?u().FirstTeamText:u().InvolvedTeam==="second"?u().SecondTeamText:""}const ve=Ne(u()),fe=j();Sa(async()=>{y(G,!0),y(de,null);try{const E=(await po(p(),g())).value||[],se=j();if(!se){y(de,"Could not extract team name from match"),y(G,!1);return}const ne=E.find(Ae=>{if(Ae.TeamText===se||Ae.TeamName===se)return!0;const at=se.match(/(\d+-\d+)/);if(at){const I=at[1];return Ae.TeamName.includes(I)||Ae.TeamText.includes(I)}return!1});if(!ne){y(de,`Team not found: ${se}`),y(G,!1);return}const ue=ne.TeamId,Ce=ne.TeamDivision.DivisionId;y(k,{TeamId:ue,DivisionId:Ce,TeamName:ne.TeamName,TeamText:ne.TeamText});const[Ye,et,pt]=await Promise.all([sa(p(),Ce,ue,"current").catch(()=>[]),sa(p(),Ce,ue,"work").catch(()=>[]),sa(p(),Ce,ue,"future").catch(()=>[])]),ut=(Ae,at=!1)=>Array.isArray(Ae)?Ae.flatMap(I=>{var Z,U;return at?I.Match?[{...I.Match,Court:I.Match.Court||null,Division:{...I.Play,PlayId:(Z=I.Play)==null?void 0:Z.PlayId},FirstTeamText:((U=I.Play)==null?void 0:U.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!I.Matches||!Array.isArray(I.Matches)?[]:I.Matches.map(X=>{var me;return{...X,Court:X.Court||null,Division:{...I.Play,PlayId:(me=I.Play)==null?void 0:me.PlayId}}})}):[];y(D,ut(Ye,!1)),y(f,ut(et,!0)),y(x,ut(pt,!1));const Qe=await ho(p(),Ce).catch(()=>null);Qe!=null&&Qe.Plays&&y(w,Qe.Plays)}catch(m){y(de,m instanceof Error?m.message:"Failed to load team data")}finally{y(G,!1)}});function z(m,E=!1){var Ye,et;const se=typeof m.ScheduledStartDateTime=="string"?new Date(m.ScheduledStartDateTime).getTime():m.ScheduledStartDateTime,ne=((Ye=m.FirstTeamText)==null?void 0:Ye.includes("630"))||((et=m.SecondTeamText)==null?void 0:et.includes("630")),ue=Tt(se),Ce=Oe(se);return{matchDate:ue,startTimeDisplay:Ce,isPlaying:ne,isWork:E,scheduleMatch:m}}le(()=>e(A),()=>{e(A)==="poolsheet"&&y(C,null)}),le(()=>(e(D),e(f),e(x)),()=>{y(a,[...e(D).map(E=>({...E,type:"current"})),...e(f).map(E=>({...E,type:"work"})),...e(x).map(E=>({...E,type:"future"}))].filter((E,se,ne)=>ne.findIndex(ue=>ue.MatchId===E.MatchId)===se).sort((E,se)=>{const ne=typeof E.ScheduledStartDateTime=="string"?new Date(E.ScheduledStartDateTime).getTime():E.ScheduledStartDateTime||0,ue=typeof se.ScheduledStartDateTime=="string"?new Date(se.ScheduledStartDateTime).getTime():se.ScheduledStartDateTime||0;return ne-ue}))}),le(()=>e(a),()=>{y(n,(()=>{const m=new Set;return e(a).forEach(E=>{if(E.Division&&E.Division.PlayId){const se=Math.abs(E.Division.PlayId);m.add(se)}}),Array.from(m)})())}),le(()=>(e(w),e(n)),()=>{y(s,e(w).filter(m=>{const E=Math.abs(m.PlayId);return e(n).includes(E)}))}),le(()=>(e(s),e(O)),()=>{e(s).length>0&&!e(O)&&y(O,e(s)[0].PlayId)}),le(()=>(e(O),e(A),_(p())),()=>{e(O)&&e(A)==="poolsheet"&&go(p(),e(O)).then(m=>{y(C,m)}).catch(m=>{console.error("Failed to fetch pool sheet:",m),y(C,null)})}),le(()=>(e(a),Tt),()=>{y(l,(()=>{const m={};return e(a).forEach(E=>{const se=typeof E.ScheduledStartDateTime=="string"?new Date(E.ScheduledStartDateTime).getTime():E.ScheduledStartDateTime||0,ne=Tt(se);m[ne]||(m[ne]=[]),m[ne].push(E)}),m})())}),le(()=>e(l),()=>{y(v,Object.keys(e(l)).sort((m,E)=>{const se=new Date(m).getTime(),ne=new Date(E).getTime();return se-ne}))}),Zt(),Vt();var Ee=wi(),we=i(Ee),Le=i(we),je=i(Le),Pe=i(je);o(je);var rt=d(je,2);rt.__click=function(...m){var E;(E=h())==null||E.apply(this,m)},o(Le);var bt=d(Le,2);{var xe=m=>{var E=qs();b(m,E)};P(bt,m=>{e(G)&&m(xe)})}var Ue=d(bt,2);{var ke=m=>{var E=zs(),se=i(E,!0);o(E),B(()=>T(se,e(de))),b(m,E)};P(Ue,m=>{e(de)&&m(ke)})}var F=d(Ue,2);{var $=m=>{var E=Si(),se=i(E),ne=i(se);ne.__click=()=>y(A,"schedule");var ue=d(ne,2);ue.__click=()=>y(A,"poolsheet");var Ce=d(ue,2);{var Ye=Qe=>{var Ae=Xs();Ae.__click=()=>y(A,"stats"),B(()=>Se(Ae,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(A)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),b(Qe,Ae)};P(Ce,Qe=>{_(M()),c(()=>M().length>0&&ve)&&Qe(Ye)})}o(se);var et=d(se,2);{var pt=Qe=>{var Ae=Qs();b(Qe,Ae)},ut=Qe=>{var Ae=$t(),at=dt(Ae);{var I=U=>{var X=ci(),me=d(i(X),2),pe=i(me);{var _e=he=>{var De=Ks();b(he,De)},re=he=>{var De=$t(),Je=dt(De);xt(Je,1,()=>e(v),mt,(Re,ce)=>{const be=J(()=>(e(l),e(ce),c(()=>e(l)[e(ce)])));var ge=ii(),N=i(ge),L=i(N),ee=i(L,!0);o(L);var ae=d(L,2),te=i(ae);o(ae),o(N);var ie=d(N,2);xt(ie,1,()=>e(be),mt,(H,ye)=>{const R=J(()=>(e(ye),c(()=>z(e(ye),e(ye).type==="work"))));var Q=si(),Y=i(Q),V=d(Y,2),K=i(V,!0);o(V);var Te=d(V,2),Me=i(Te,!0);o(Te);var qe=d(Te,2);{var Fe=$e=>{var nt=Zs(),We=i(nt,!0);o(nt),B(()=>T(We,(_(e(R)),c(()=>e(R).scheduleMatch.Court.Name)))),b($e,nt)};P(qe,$e=>{_(e(R)),c(()=>e(R).scheduleMatch.Court)&&$e(Fe)})}var oe=d(qe,2),Xe=i(oe),Ve=i(Xe);{var ot=$e=>{var nt=ei(),We=d(dt(nt),2),ht=i(We,!0);o(We),B(()=>T(ht,(_(e(R)),c(()=>{var kt,ft;return((kt=e(R).scheduleMatch.Division)==null?void 0:kt.CompleteShortName)||((ft=e(R).scheduleMatch.Division)==null?void 0:ft.FullName)||e(R).scheduleMatch.FirstTeamText})))),b($e,nt)},Ie=$e=>{var nt=$t(),We=dt(nt);{var ht=ft=>{var Ke=ri(),He=d(dt(Ke),2),gt=i(He),ze=d(gt);{var vt=st=>{var it=ti(),Ct=d(dt(it));B(()=>T(Ct,` ${_(e(R)),c(()=>e(R).scheduleMatch.SecondTeamText)??""}`)),b(st,it)};P(ze,st=>{_(e(R)),c(()=>e(R).scheduleMatch.SecondTeamText)&&st(vt)})}o(He),B(()=>T(gt,`${_(e(R)),c(()=>e(R).scheduleMatch.FirstTeamText)??""} `)),b(ft,Ke)},kt=ft=>{var Ke=ni(),He=d(dt(Ke),2),gt=i(He),ze=d(gt);{var vt=st=>{var it=ai(),Ct=d(dt(it));B(()=>T(Ct,` ${_(e(R)),c(()=>e(R).scheduleMatch.SecondTeamText)??""}`)),b(st,it)};P(ze,st=>{_(e(R)),c(()=>e(R).scheduleMatch.SecondTeamText)&&st(vt)})}o(He),B(()=>T(gt,`${_(e(R)),c(()=>e(R).scheduleMatch.FirstTeamText)??""} `)),b(ft,Ke)};P(We,ft=>{_(e(R)),c(()=>e(R).isPlaying)?ft(ht):ft(kt,!1)},!0)}b($e,nt)};P(Ve,$e=>{_(e(R)),c(()=>e(R).isWork)?$e(ot):$e(Ie,!1)})}o(Xe),o(oe);var Be=d(oe,2);{var q=$e=>{var nt=oi(),We=i(nt),ht=i(We,!0);o(We),o(nt),B(()=>{nr(We,`background-color: ${_(e(R)),c(()=>e(R).scheduleMatch.Division.ColorHex)??""}20; color: ${_(e(R)),c(()=>e(R).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${_(e(R)),c(()=>e(R).scheduleMatch.Division.ColorHex)??""}40;`),T(ht,(_(e(R)),c(()=>e(R).scheduleMatch.Division.CodeAlias)))}),b($e,nt)};P(Be,$e=>{_(e(R)),c(()=>e(R).scheduleMatch.Division)&&$e(q)})}o(Q),B(()=>{Se(Q,1,`flex items-center gap-3 px-3 py-2 rounded border ${_(e(R)),c(()=>e(R).isWork?"border-[#525463] bg-[#454654]/30":e(R).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),Se(Y,1,`flex-shrink-0 w-1 h-full rounded-full ${_(e(R)),c(()=>e(R).isWork?"bg-[#808593]":e(R).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),T(K,(_(e(R)),c(()=>e(R).matchDate))),T(Me,(_(e(R)),c(()=>e(R).startTimeDisplay)))}),b(H,Q)}),o(ge),B(()=>{T(ee,e(ce)),T(te,`(${_(e(be)),c(()=>e(be).length)??""} match${_(e(be)),c(()=>e(be).length!==1?"es":"")??""})`)}),b(Re,ge)}),b(he,De)};P(pe,he=>{e(v),c(()=>e(v).length===0)?he(_e):he(re,!1)})}o(me),o(X),b(U,X)},Z=U=>{var X=yi(),me=d(i(X),2);{var pe=re=>{var he=li();b(re,he)},_e=re=>{var he=_i(),De=dt(he);{var Je=ge=>{var N=vi(),L=d(i(N),2);L.__change=ae=>y(O,Number(ae.target.value)),xt(L,5,()=>e(s),mt,(ae,te)=>{var ie=di(),H=i(ie,!0);o(ie);var ye={};B(()=>{T(H,(e(te),c(()=>e(te).CompleteFullName||e(te).FullName||`Pool ${e(te).PlayId}`))),ye!==(ye=(e(te),c(()=>e(te).PlayId)))&&(ie.value=(ie.__value=(e(te),c(()=>e(te).PlayId)))??"")}),b(ae,ie)}),o(L);var ee;_r(L),o(N),B(()=>{ee!==(ee=e(O)||"")&&(L.value=(L.__value=e(O)||"")??"",ur(L,e(O)||""))}),b(ge,N)};P(De,ge=>{e(s),c(()=>e(s).length>1)&&ge(Je)})}var Re=d(De,2);{var ce=ge=>{var N=hi(),L=i(N);{var ee=ie=>{var H=fi(),ye=i(H),R=i(ye),Q=i(R);o(R),o(ye);var Y=d(ye,2),V=i(Y),K=d(i(V));xt(K,5,()=>(e(C),c(()=>e(C).Pool.Teams)),mt,(Te,Me)=>{const qe=J(()=>(e(Me),c(()=>{var Ke;return(Ke=e(Me).TeamText)==null?void 0:Ke.includes("630")})));var Fe=ui(),oe=i(Fe),Xe=i(oe,!0);o(oe);var Ve=d(oe),ot=i(Ve),Ie=i(ot,!0);o(ot),o(Ve);var Be=d(Ve),q=i(Be,!0);o(Be);var $e=d(Be),nt=i($e,!0);o($e);var We=d($e),ht=i(We);o(We);var kt=d(We),ft=i(kt,!0);o(kt),o(Fe),B(()=>{Se(Fe,1,`border-b border-[#454654] ${e(qe)?"bg-[#eab308]/10":""}`),T(Xe,(e(Me),c(()=>e(Me).FinishRank||e(Me).OverallRank||"-"))),Se(ot,1,e(qe)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),T(Ie,(e(Me),c(()=>e(Me).TeamText))),T(q,(e(Me),c(()=>e(Me).MatchesWon??"-"))),T(nt,(e(Me),c(()=>e(Me).MatchesLost??"-"))),T(ht,`${e(Me),c(()=>e(Me).SetsWon??"-")??""}-${e(Me),c(()=>e(Me).SetsLost??"-")??""}`),T(ft,(e(Me),c(()=>e(Me).PointRatio&&e(Me).PointRatio!=="NaN"?e(Me).PointRatio:"-")))}),b(Te,Fe)}),o(K),o(V),o(Y),o(H),B(()=>T(Q,`${e(C),c(()=>e(C).Pool.CompleteFullName||e(C).Pool.FullName)??""} - Standings`)),b(ie,H)};P(L,ie=>{e(C),c(()=>e(C).Pool&&e(C).Pool.Teams&&e(C).Pool.Teams.length>0)&&ie(ee)})}var ae=d(L,2);{var te=ie=>{var H=pi(),ye=d(i(H),2);xt(ye,5,()=>(e(C),c(()=>e(C).Pool.Matches)),mt,(R,Q)=>{const Y=J(()=>(e(Q),c(()=>typeof e(Q).ScheduledStartDateTime=="string"?new Date(e(Q).ScheduledStartDateTime).getTime():e(Q).ScheduledStartDateTime))),V=J(()=>(e(Q),c(()=>{var Ie,Be;return((Ie=e(Q).FirstTeamText)==null?void 0:Ie.includes("630"))||((Be=e(Q).SecondTeamText)==null?void 0:Be.includes("630"))})));var K=bi(),Te=i(K),Me=i(Te,!0);o(Te);var qe=d(Te,2);{var Fe=Ie=>{var Be=mi(),q=i(Be,!0);o(Be),B(()=>T(q,(e(Q),c(()=>e(Q).Court.Name)))),b(Ie,Be)};P(qe,Ie=>{e(Q),c(()=>e(Q).Court)&&Ie(Fe)})}var oe=d(qe,2),Xe=i(oe),Ve=d(Xe);{var ot=Ie=>{var Be=xi(),q=d(dt(Be));B(()=>T(q,` ${e(Q),c(()=>e(Q).SecondTeamText)??""}`)),b(Ie,Be)};P(Ve,Ie=>{e(Q),c(()=>e(Q).SecondTeamText)&&Ie(ot)})}o(oe),o(K),B(Ie=>{Se(K,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(V)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),T(Me,Ie),T(Xe,`${e(Q),c(()=>e(Q).FirstTeamText)??""} `)},[()=>(_(Oe),_(e(Y)),c(()=>Oe(e(Y))))]),b(R,K)}),o(ye),o(H),b(ie,H)};P(ae,ie=>{e(C),c(()=>e(C).Pool&&e(C).Pool.Matches&&e(C).Pool.Matches.length>0)&&ie(te)})}o(N),b(ge,N)},be=ge=>{var N=$t(),L=dt(N);{var ee=ae=>{var te=gi();b(ae,te)};P(L,ae=>{e(O)&&ae(ee)},!0)}b(ge,N)};P(Re,ge=>{e(O)&&e(C)?ge(ce):ge(be,!1)})}b(re,he)};P(me,re=>{e(s),c(()=>e(s).length===0)?re(pe):re(_e,!1)})}o(X),b(U,X)};P(at,U=>{e(A)==="schedule"?U(I):U(Z,!1)},!0)}b(Qe,Ae)};P(et,Qe=>{e(A)==="stats"&&ve?Qe(pt):Qe(ut,!1)})}o(E),B(()=>{Se(ne,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(A)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(ue,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(A)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(m,E)};P(F,m=>{!e(G)&&e(k)&&m($)})}o(we),o(Ee),B(()=>T(Pe,`${e(k),c(()=>{var m;return((m=e(k))==null?void 0:m.TeamText)||fe})??""} - Full Schedule`)),b(t,Ee),Ht()}er(["click","change"]);var Ti=S("<button><span> </span> <span> </span></button>"),Mi=S('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function xn(t,r){Bt(r,!1);let a=Ge(r,"matchId",8),n=Ge(r,"currentPriority",8),s=Ge(r,"onPriorityChange",8),l=Ge(r,"onClose",8,void 0),v=W(null);const u=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function p(M){s()(a(),M),l()&&l()()}Vt();var g=Mi(),h=d(i(g),2);xt(h,5,()=>u,mt,(M,k)=>{const D=J(()=>(_(n()),e(k),c(()=>n()===e(k).value))),f=J(()=>(e(v),e(k),c(()=>e(v)===e(k).value)));var x=Ti();x.__click=()=>p(e(k).value);var w=i(x),O=i(w,!0);o(w);var C=d(w,2),A=i(C,!0);o(C),o(x),B(()=>{Se(x,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e(D)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),T(O,(e(k),c(()=>e(k).icon))),T(A,(e(k),c(()=>e(k).label)))}),$r("mouseenter",x,()=>y(v,e(k).value)),$r("mouseleave",x,()=>y(v,null)),b(M,x)}),o(h),o(g),b(t,g),Ht()}er(["click"]);var Ci=S("<button><span> </span> <span> </span></button>"),Di=S('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function Da(t,r){Bt(r,!1);let a=Ge(r,"teamId",8),n=Ge(r,"currentStatus",8),s=Ge(r,"onStatusChange",8),l=Ge(r,"onClose",8,void 0),v=W(null);const u=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function p(D){s()(a(),D),l()&&l()()}Vt();var g=Di(),h=d(i(g),2),M=i(h);o(h);var k=d(h,2);xt(k,5,()=>u,mt,(D,f)=>{const x=J(()=>(_(n()),e(f),c(()=>n()===e(f).value))),w=J(()=>(e(v),e(f),c(()=>e(v)===e(f).value)));var O=Ci();O.__click=()=>p(e(f).value);var C=i(O),A=i(C,!0);o(C);var G=d(C,2),de=i(G,!0);o(G),o(O),B(()=>{Se(O,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${_(e(x)),e(f),_(e(w)),c(()=>e(x)?e(f).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(f).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(w)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),T(A,(e(f),c(()=>e(f).icon))),T(de,(e(f),c(()=>e(f).label)))}),$r("mouseenter",O,()=>y(v,e(f).value)),$r("mouseleave",O,()=>y(v,null)),b(D,O)}),o(k),o(g),B(()=>T(M,`Team ${a()??""}`)),b(t,g),Ht()}er(["click"]);var $i=S('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),ki=S('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),Ii=S("<button> </button>"),Ei=S('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),Pi=S('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),Ni=S('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),Oi=S('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),Ai=S('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),Fi=S("<span> </span>"),Ri=ya('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Wi=S("<button><!></button>"),Li=ya('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),ji=S('<div class="absolute left-0 top-8 z-50"><!></div>'),Ui=S('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Yi=S('<div class="absolute left-0 top-8 z-50"><!></div>'),Bi=S('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Hi=S('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <!> <!> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Vi=S('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Gi=S('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Ji=S('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function qi(t,r){Bt(r,!1);const a=()=>qt(Ma,"$isSpectator",l),n=()=>qt(Nr,"$filters",l),s=()=>qt(Ta,"$isMedia",l),[l,v]=wa(),u=W(),p=W(),g=W(),h=W(),M=W(),k=W(),D=W(),f=W(),x=W(),w=W(),O=W(),C=W();let A=Ge(r,"matches",8),G=Ge(r,"eventId",8),de=Ge(r,"clubId",8),j=W("team"),ve=W(null),fe=W(null),z=W(null),Ee=W(!1),we=W(!1),Le=W(null),je=W(new Set),Pe=W();fn(G());function rt(F){return F.InvolvedTeam==="first"?F.SecondTeamText:F.InvolvedTeam==="second"?F.FirstTeamText:`${F.FirstTeamText} vs ${F.SecondTeamText}`}Sa(()=>{if(Rs()){const F=Fs();F&&F.scores.length>0&&JSON.stringify({eventId:F.eventId,scores:F.scores},null,2)}if(e(Pe).startPolling(),a()){let F=[];if(Ar.subscribe($=>{F=$.map(m=>m.teamId)})(),F.length>0){const $=setInterval(()=>{fa.checkUpcomingMatches(A(),F)},6e4);return()=>clearInterval($)}}}),Tn(()=>{e(Pe).stopPolling()}),le(()=>(a(),_(G())),()=>{const F=a();y(Pe,un({eventId:G(),userId:F?"spectator":"anonymous"}))}),le(()=>_(A()),()=>{y(u,Yr(A()))}),le(()=>(n(),_(A()),Oe),()=>{y(p,(()=>{if(n().wave!=="all"){const F=n().wave==="morning"?"08:00":"14:30",$=n().wave==="morning"?"14:30":"23:59";return Hr(A()).filter(m=>A().some(E=>{const se=Oe(E.ScheduledStartDateTime),ne=se.split(" ")[1]||se;return ne>=F&&ne<$&&E.Division.Name===m}))}return Hr(A())})())}),le(()=>_(A()),()=>{y(g,Ca(A()))}),le(()=>(_(A()),Ze),()=>{y(h,(()=>{const F=new Map;return A().forEach($=>{const m=Ne($);m&&F.set(m,Ze.getTeamStatus(m))}),F})())}),le(()=>(_(A()),e(u),e(h),Ne),()=>{y(M,(()=>{const F=zt(_t);return _a(A(),F,e(u),e(h),Ne,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),le(()=>(_(A()),n(),a(),Ar),()=>{y(k,(()=>{let F=vn(A());if(n().priority&&n().priority!=="all"&&(F=F.filter($=>Ut.getPriority($.MatchId)===n().priority)),n().coverageStatus&&n().coverageStatus!=="all"&&(F=F.filter($=>{const m=Ne($);if(!m)return!0;const E=Ze.getTeamStatus(m);return n().coverageStatus==="uncovered"?E==="not-covered":n().coverageStatus==="covered"?E==="covered"||E==="partially-covered":n().coverageStatus==="planned"?E==="planned":!0})),a()){let $=[];Ar.subscribe(m=>{$=m.map(E=>E.teamId)})(),$.length>0&&(F=F.filter(m=>{const E=Ne(m);return E&&$.includes(E)}))}return F})())}),le(()=>(_(A()),e(u)),()=>{y(D,(()=>{const F=zt(_t);return dn(A(),F,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),le(()=>e(D),()=>{y(f,new Set(e(D).map(F=>F.match.MatchId)))}),le(()=>(_(A()),Ze),()=>{y(x,(()=>{const F=new Map;A().forEach(ue=>{const Ce=Ne(ue);if(Ce){const Ye=Ze.getTeamStatus(Ce);F.set(Ce,Ye)}});const $=F.size,m=Array.from(F.values()).filter(ue=>ue==="covered").length,E=Array.from(F.values()).filter(ue=>ue==="partially-covered").length,se=Array.from(F.values()).filter(ue=>ue==="planned").length,ne=Array.from(F.values()).filter(ue=>ue==="not-covered").length;return{totalTeams:$,coveredTeams:m,partiallyCoveredTeams:E,plannedTeams:se,uncoveredTeams:ne,coveragePercentage:$>0?(m+E)/$*100:0}})())}),le(()=>(e(k),e(j),Ne),()=>{y(w,(()=>{let F=[...e(k)];return e(j)==="priority"?F.sort(($,m)=>{const E=Ut.getPriority($.MatchId),se=Ut.getPriority(m.MatchId),ne={"must-cover":3,priority:2,optional:1,null:0},ue=ne[E||"null"],Ce=ne[se||"null"];return ue!==Ce?Ce-ue:$.ScheduledStartDateTime-m.ScheduledStartDateTime}):e(j)==="team"?F.sort(($,m)=>{const E=Ne($),se=Ne(m);return E.localeCompare(se)}):e(j)==="court"?F.sort(($,m)=>$.CourtName.localeCompare(m.CourtName)):F.sort(($,m)=>$.ScheduledStartDateTime-m.ScheduledStartDateTime),F})())}),le(()=>(e(w),Oe),()=>{y(O,(()=>{const F={};return e(w).forEach($=>{const m=Oe($.ScheduledStartDateTime);F[m]||(F[m]=[]),F[m].push($)}),F})())}),le(()=>e(O),()=>{y(C,Object.keys(e(O)).sort((F,$)=>{const m=new Date(`2000-01-01 ${F}`).getTime(),E=new Date(`2000-01-01 ${$}`).getTime();return m-E}))}),le(()=>(a(),_(A()),e(Pe),e(je),e(Le)),()=>{if(a()&&A().length>0){const F=new Set;A().forEach($=>{e(Pe).isClaimOwner($.MatchId)&&(F.add($.MatchId),!e(je).has($.MatchId)&&(!e(Le)||e(Le).MatchId!==$.MatchId)&&setTimeout(()=>{y(Le,$)},200))}),y(je,F)}}),le(()=>(a(),_(A()),e(Pe),fa),()=>{if(a()&&A().length>0){let F=[];Ar.subscribe($=>{F=$.map(m=>m.teamId)})(),A().forEach($=>{const m=Ne($);if(m&&F.includes(m)){const E=e(Pe).getScore($.MatchId);E&&E.status==="in-progress"&&fa.notifyScoreUpdate($,E)}})}}),Zt(),Vt();var bt=$t(),xe=dt(bt);{var Ue=F=>{var $=$i(),m=i($,!0);o($),B(()=>T(m,(n(),c(()=>n().division||n().wave!=="all"||n().teams.length>0||n().timeRange.start||n().timeRange.end?"No matches found for selected filters":"No matches found")))),b(F,$)},ke=F=>{var $=Ji(),m=i($);{var E=ce=>{var be=ki();b(ce,be)};P(m,ce=>{a()&&ce(E)})}var se=d(m,2);{var ne=ce=>{var be=Ei(),ge=i(be),N=i(ge),L=i(N),ee=i(L);o(L),Ur(),o(N);var ae=d(N,2),te=i(ae),ie=i(te);o(te);var H=d(te,4),ye=i(H);o(H);var R=d(H,4),Q=i(R);o(R);var Y=d(R,4),V=i(Y);o(Y),o(ae),o(ge);var K=d(ge,2),Te=i(K);Te.__click=()=>y(Ee,!e(Ee));var Me=i(Te,!0);o(Te);var qe=d(Te,2);{var Fe=oe=>{var Xe=Ii();Xe.__click=()=>y(we,!e(we));var Ve=i(Xe);o(Xe),B(()=>{Se(Xe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(we)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Dt(Xe,"title",`${e(M),c(()=>e(M).length)??""} coverage suggestions`),T(Ve,`ð¡ Suggestions (${e(M),c(()=>e(M).length)??""})`)}),b(oe,Xe)};P(qe,oe=>{e(M),c(()=>e(M).length>0)&&oe(Fe)})}o(K),o(be),B(oe=>{T(ee,`${oe??""}%`),T(ie,`â ${e(x),c(()=>e(x).coveredTeams)??""}`),T(ye,`â ${e(x),c(()=>e(x).partiallyCoveredTeams)??""}`),T(Q,`ð ${e(x),c(()=>e(x).plannedTeams)??""}`),T(V,`â ${e(x),c(()=>e(x).uncoveredTeams)??""}`),Se(Te,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Ee)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),T(Me,e(Ee)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(x),c(()=>e(x).coveragePercentage.toFixed(0)))]),b(ce,be)};P(se,ce=>{s(),e(x),c(()=>s()&&e(x).totalTeams>0)&&ce(ne)})}var ue=d(se,2);{var Ce=ce=>{var be=Ni(),ge=i(be),N=d(i(ge),2);N.__click=()=>y(we,!1),o(ge);var L=d(ge,2);xt(L,5,()=>(e(M),c(()=>e(M).slice(0,5))),mt,(ee,ae)=>{var te=Pi(),ie=i(te),H=i(ie),ye=i(H);o(H);var R=d(H,2),Q=i(R,!0);o(R),o(ie);var Y=d(ie,2);Y.__click=V=>{V.stopPropagation(),_t.selectMatch(e(ae).match.MatchId)},o(te),B(V=>{T(ye,`${V??""} - ${e(ae),c(()=>e(ae).match.CourtName)??""} - Team ${e(ae),c(()=>e(ae).teamId)??""}`),T(Q,(e(ae),c(()=>e(ae).reason)))},[()=>(_(Oe),e(ae),c(()=>Oe(e(ae).match.ScheduledStartDateTime)))]),b(ee,te)}),o(L),o(be),b(ce,be)};P(ue,ce=>{s(),e(we),e(M),c(()=>s()&&e(we)&&e(M).length>0)&&ce(Ce)})}var Ye=d(ue,2);{var et=ce=>{var be=Oi();b(ce,be)};P(Ye,ce=>{s()&&ce(et)})}var pt=d(Ye,2),ut=i(pt),Qe=d(i(ut),2),Ae=i(Qe);Ae.__click=()=>y(j,"team");var at=d(Ae,2);at.__click=()=>y(j,"court");var I=d(at,2);I.__click=()=>y(j,"time"),o(Qe),o(ut);var Z=d(ut,2),U=d(i(Z),2),X=i(U);X.__click=()=>jt("wave","all");var me=d(X,2);me.__click=()=>jt("wave","morning");var pe=d(me,2);pe.__click=()=>jt("wave","afternoon"),o(U),o(Z),o(pt);var _e=d(pt,2),re=i(_e);{var he=ce=>{var be=Ai();b(ce,be)},De=ce=>{var be=$t(),ge=dt(be);xt(ge,1,()=>e(C),mt,(N,L)=>{const ee=J(()=>(e(O),e(L),c(()=>e(O)[e(L)]))),ae=J(()=>(_(e(ee)),e(u),c(()=>e(ee).filter(Fe=>e(u).has(Fe.MatchId)).length))),te=J(()=>e(ae)>0),ie=J(()=>(_(e(ae)),_(e(ee)),c(()=>e(ae)===e(ee).length)));var H=Vi(),ye=i(H),R=i(ye),Q=i(R),Y=i(Q,!0);o(Q);var V=d(Q,2),K=i(V);o(V),o(R);var Te=d(R,2);{var Me=Fe=>{var oe=Fi(),Xe=i(oe);o(oe),B(()=>{Se(oe,1,`text-xs font-medium ${e(ie)?"text-[#808593]":"text-red-400"}`),T(Xe,`${e(ae)??""} conflict${e(ae)!==1?"s":""}`)}),b(Fe,oe)};P(Te,Fe=>{e(te)&&Fe(Me)})}o(ye);var qe=d(ye,2);xt(qe,1,()=>e(ee),mt,(Fe,oe)=>{const Xe=J(()=>(e(u),e(oe),c(()=>e(u).has(e(oe).MatchId)))),Ve=J(()=>(_(Ne),e(oe),c(()=>Ne(e(oe))))),ot=J(()=>(e(oe),c(()=>rt(e(oe))))),Ie=J(()=>(e(ve),e(oe),c(()=>e(ve)===e(oe).MatchId))),Be=J(()=>(_(Ut),e(oe),c(()=>Ut.getPriority(e(oe).MatchId)))),q=J(()=>(e(f),e(oe),c(()=>e(f).has(e(oe).MatchId)))),$e=J(()=>(_(e(Ve)),_(Ze),c(()=>e(Ve)?Ze.getTeamStatus(e(Ve)):"not-covered"))),nt=J(()=>e($e)==="covered"||e($e)==="partially-covered"),We=J(()=>e($e)==="planned"),ht=J(()=>e($e)==="not-covered"),kt=J(()=>e(Ee)&&e(nt)),ft=J(()=>(_(zt),_(_t),c(()=>zt(_t)))),Ke=J(()=>(_(e(ft)),e(oe),c(()=>e(ft).has(e(oe).MatchId)))),He=J(()=>e(Xe)&&!e(ie));var gt=Hi(),ze=i(gt);ze.__click=()=>y(ve,e(Ie)?null:e(oe).MatchId);var vt=i(ze);{var st=Mt=>{var St=Wi();St.__click=Jt=>{Jt.stopPropagation(),_t.toggleMatch(e(oe).MatchId)};var Et=i(St);{var Qt=Jt=>{var rr=Ri();b(Jt,rr)};P(Et,Jt=>{e(Ke)&&Jt(Qt)})}o(St),B(()=>{Se(St,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(Ke)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),Dt(St,"aria-label",e(Ke)?"Remove from plan":"Add to plan")}),b(Mt,St)};P(vt,Mt=>{s()&&Mt(st)})}var it=d(vt,2),Ct=i(it),tr=i(Ct,!0);o(Ct);var Gt=d(Ct,2),It=i(Gt);o(Gt),o(it);var yt=d(it,2);{var Nt=Mt=>{var St=Ui(),Et=i(St);Et.__click=Ft=>{Ft.stopPropagation(),y(fe,e(fe)===e(oe).MatchId?null:e(oe).MatchId)};var Qt=i(Et),Jt=d(Qt);{var rr=Ft=>{var sr=Li();b(Ft,sr)};P(Jt,Ft=>{e(Be)||Ft(rr)})}o(Et);var ar=d(Et,2);{var or=Ft=>{var sr=ji(),zr=i(sr);xn(zr,{get matchId(){return e(oe),c(()=>e(oe).MatchId)},get currentPriority(){return e(Be)},get onPriorityChange(){return _(Ut),c(()=>Ut.setPriority)},onClose:()=>y(fe,null)}),o(sr),b(Ft,sr)};P(ar,Ft=>{e(fe),e(oe),c(()=>e(fe)===e(oe).MatchId)&&Ft(or)})}o(St),B(()=>{Se(Et,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(Be)==="must-cover"?"text-[#eab308]":e(Be)==="priority"?"text-[#f59e0b]":e(Be)==="optional"?"text-[#9fa2ab]":"text-[#808593]"}`),Dt(Et,"title",e(Be)?`Priority: ${e(Be)}`:"Set priority"),T(Qt,`${e(Be)==="must-cover"&&"â­"}
												${e(Be)==="priority"&&"ð¸"}
												${e(Be)==="optional"&&"â"} `)}),b(Mt,St)};P(yt,Mt=>{s()&&Mt(Nt)})}var Ot=d(yt,2);{var fr=Mt=>{var St=Bi(),Et=i(St);Et.__click=ar=>{ar.stopPropagation(),y(z,e(z)===e(Ve)?null:e(Ve))};var Qt=i(Et);o(Et);var Jt=d(Et,2);{var rr=ar=>{var or=Yi(),Ft=i(or);Da(Ft,{get teamId(){return e(Ve)},get currentStatus(){return e($e)},get onStatusChange(){return _(Ze),c(()=>Ze.setTeamStatus)},onClose:()=>y(z,null)}),o(or),b(ar,or)};P(Jt,ar=>{e(z)===e(Ve)&&ar(rr)})}o(St),B(()=>{Se(Et,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e($e)==="covered"?"text-green-500":e($e)==="partially-covered"?"text-[#f59e0b]":e($e)==="planned"?"text-[#eab308]":"text-[#808593]"}`),Dt(Et,"title",`Coverage: ${e($e)??""}`),T(Qt,`${e($e)==="covered"&&"â"}
												${e($e)==="partially-covered"&&"â"}
												${e($e)==="planned"&&"ð"}
												${e($e)==="not-covered"&&"â"}`)}),b(Mt,St)};P(Ot,Mt=>{s()&&e(Ve)&&Mt(fr)})}var mr=d(Ot,2),xr=i(mr);o(mr),o(ze);var qr=d(ze,2);{var Or=Mt=>{mn(Mt,{get match(){return e(oe)},get eventId(){return G()},get clubId(){return de()},onClose:()=>y(ve,null),get matches(){return A()}})};P(qr,Mt=>{e(Ie)&&Mt(Or)})}o(gt),B(Mt=>{Se(ze,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(He)?"border border-red-800/50 bg-red-950/10":e(Be)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(Be)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(ht)&&!e(Ke)?"border border-[#eab308] bg-[#eab308]/5":e(We)?"border border-[#eab308]/50 bg-[#eab308]/10":e(nt)?"border border-green-500/30 bg-green-950/5":e(q)&&!e(Ke)?"border border-green-500/50 bg-green-950/10":e(Ke)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(kt)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),T(tr,Mt),T(It,`${e(oe),c(()=>e(oe).CourtName)??""} â¢ ${_(e(Ve)),e(oe),c(()=>e(Ve)||e(oe).Division.CodeAlias)??""} vs ${e(ot)??""}`),Se(xr,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(Ie)?"rotate-180":""}`)},[()=>(_(Oe),e(oe),c(()=>Oe(e(oe).ScheduledStartDateTime)))]),b(Fe,gt)}),o(H),B(()=>{T(Y,e(L)),T(K,`${_(e(ee)),c(()=>e(ee).length)??""} match${_(e(ee)),c(()=>e(ee).length!==1?"es":"")??""}`)}),b(N,H)}),b(ce,be)};P(re,ce=>{e(C),c(()=>e(C).length===0)?ce(he):ce(De,!1)})}o(_e);var Je=d(_e,2);{var Re=ce=>{var be=Gi();b(ce,be)};P(Je,ce=>{e(Le)&&ce(Re)})}o($),B(()=>{Se(Ae,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(j)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(at,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(j)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(I,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(j)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(X,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(me,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(pe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),b(F,$)};P(xe,F=>{e(k),c(()=>e(k).length===0)?F(Ue):F(ke,!1)})}b(t,bt),Ht(),v()}er(["click"]);var zi=S('<div class="text-xs text-[#808593] py-4 text-center">No conflicts found</div>'),Xi=S('<span class="text-[#9fa2ab]">â¢</span> <span class="text-[#808593]"> </span>',1),Qi=S('<div class="px-3 py-2.5 rounded border border-[#525463] bg-[#454654]/30"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#f8f8f9]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs flex-wrap"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span> <!></div></div>'),Ki=S('<div class="space-y-2"></div>'),Zi=S(`<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2">Conflict Details</h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="mb-4 pb-4 border-b border-[#454654]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Selected Match</div> <div class="px-3 py-2 rounded border border-[#eab308]/50 bg-[#eab308]/5"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#facc15]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span></div></div></div> <div><div class="flex items-center justify-between mb-2"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider"> </div> <span class="text-xs text-red-400 font-medium">Cannot cover simultaneously</span></div> <!></div> <div class="mt-4 pt-4 border-t border-[#454654]"><p class="text-xs text-[#808593]">These matches overlap in time and are on different courts. You'll need to choose which match to cover.</p></div></div></div>`);function ec(t,r){Bt(r,!1);const a=W();let n=Ge(r,"match",8),s=Ge(r,"conflictingMatches",8),l=Ge(r,"onClose",8);function v(ke){return ke.InvolvedTeam==="first"?ke.SecondTeamText:ke.InvolvedTeam==="second"?ke.FirstTeamText:`${ke.FirstTeamText} vs ${ke.SecondTeamText}`}function u(ke,F){return ke!==F?5:0}const p=Ne(n()),g=v(n());le(()=>_(s()),()=>{y(a,[...s()].sort((ke,F)=>ke.ScheduledStartDateTime-F.ScheduledStartDateTime))}),Zt(),Vt();var h=Zi(),M=i(h),k=i(M),D=d(i(k),2);D.__click=function(...ke){var F;(F=l())==null||F.apply(this,ke)},o(k);var f=d(k,2),x=d(i(f),2),w=i(x),O=i(w),C=i(O,!0);o(O);var A=d(O,4),G=i(A,!0);o(A),o(w);var de=d(w,2),j=i(de),ve=i(j,!0);o(j);var fe=d(j,2),z=i(fe,!0);o(fe);var Ee=d(fe,4),we=i(Ee,!0);o(Ee),o(de),o(x),o(f);var Le=d(f,2),je=i(Le),Pe=i(je),rt=i(Pe);o(Pe),Ur(2),o(je);var bt=d(je,2);{var xe=ke=>{var F=zi();b(ke,F)},Ue=ke=>{var F=Ki();xt(F,5,()=>e(a),mt,($,m)=>{const E=J(()=>(_(Ne),e(m),c(()=>Ne(e(m))))),se=J(()=>(e(m),c(()=>v(e(m))))),ne=J(()=>(_(n()),e(m),c(()=>u(n().CourtName,e(m).CourtName))));var ue=Qi(),Ce=i(ue),Ye=i(Ce),et=i(Ye,!0);o(Ye);var pt=d(Ye,4),ut=i(pt,!0);o(pt),o(Ce);var Qe=d(Ce,2),Ae=i(Qe),at=i(Ae,!0);o(Ae);var I=d(Ae,2),Z=i(I,!0);o(I);var U=d(I,4),X=i(U,!0);o(U);var me=d(U,2);{var pe=_e=>{var re=Xi(),he=d(dt(re),2),De=i(he);o(he),B(()=>T(De,`~${e(ne)??""} min travel from ${_(n()),c(()=>n().CourtName)??""}`)),b(_e,re)};P(me,_e=>{e(ne)>0&&_e(pe)})}o(Qe),o(ue),B(_e=>{T(et,(_(e(E)),e(m),c(()=>e(E)||e(m).Division.CodeAlias))),T(ut,e(se)),T(at,(e(m),c(()=>e(m).CourtName))),T(Z,_e),T(X,(e(m),c(()=>e(m).Division.CodeAlias)))},[()=>(_(Oe),e(m),c(()=>Oe(e(m).ScheduledStartDateTime)))]),b($,ue)}),o(F),b(ke,F)};P(bt,ke=>{e(a),c(()=>e(a).length===0)?ke(xe):ke(Ue,!1)})}o(Le),Ur(2),o(M),o(h),B(ke=>{T(C,(_(n()),c(()=>p||n().Division.CodeAlias))),T(G,g),T(ve,(_(n()),c(()=>n().CourtName))),T(z,ke),T(we,(_(n()),c(()=>n().Division.CodeAlias))),T(rt,`Conflicting Matches (${_(s()),c(()=>s().length)??""})`)},[()=>(_(Oe),_(n()),c(()=>Oe(n().ScheduledStartDateTime)))]),b(t,h),Ht()}er(["click"]);var tc=S('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),rc=S("<option> </option>"),ac=S('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),nc=S("<option> </option>"),oc=S('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),sc=S('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),ic=S('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),cc=S('<span class="ml-2"> </span>'),lc=S('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),dc=S("<div> </div>"),vc=S('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),uc=S('<div class="absolute top-0 left-0 text-[10px]"> </div>'),fc=S('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),mc=S('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),xc=S('<div class="text-[8px] text-[#9fa2ab]"> </div>'),bc=S('<div class="text-[8px] text-green-400">â</div>'),pc=S('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),hc=ya('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),gc=S('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),_c=S('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),yc=S('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),Sc=S('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),wc=S('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),Tc=S('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),Mc=S('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Cc=S('<div class="fixed inset-0 z-40"></div>'),Dc=S('<div class="fixed inset-0 z-40"></div>'),$c=S('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function kc(t,r){Bt(r,!1);const a=()=>qt(Ma,"$isSpectator",l),n=()=>qt(Nr,"$filters",l),s=()=>qt(Ta,"$isMedia",l),[l,v]=wa(),u=W(),p=W(),g=W(),h=W(),M=W(),k=W(),D=W(),f=W(),x=W(),w=W(),O=W(),C=W(),A=W();let G=Ge(r,"matches",8),de=Ge(r,"eventId",8),j=W(null),ve=W(null),fe=W(null),z=W(null),Ee=null,we=W();function Le(m){return m.InvolvedTeam==="first"?m.SecondTeamText:m.InvolvedTeam==="second"?m.FirstTeamText:`${m.FirstTeamText} vs ${m.SecondTeamText}`}function je(m){return e(x)===0?0:(m-e(D))/e(x)*100}function Pe(m,E){return e(x)===0?0:(E-m)/e(x)*100}function rt(m){const E=[],se=[...m].sort((ne,ue)=>ne.ScheduledStartDateTime-ue.ScheduledStartDateTime);for(let ne=0;ne<se.length-1;ne++){const ue=se[ne],Ce=se[ne+1],Ye=Math.floor((Ce.ScheduledStartDateTime-ue.ScheduledEndDateTime)/6e4);Ye>0&&E.push({before:ue,after:Ce,gapMinutes:Ye})}return E}function bt(m){e(u).has(m.MatchId)?y(j,m):s()?_t.toggleMatch(m.MatchId):y(j,m)}function xe(m,E){E.stopPropagation(),y(ve,e(ve)===m?null:m)}le(()=>(a(),_(de())),()=>{const m=a();y(we,un({eventId:de(),userId:m?"spectator":"anonymous"}))}),le(()=>_(G()),()=>{y(u,Yr(G()))}),le(()=>(n(),_(G()),Oe),()=>{y(p,(()=>{if(n().wave!=="all"){const m=n().wave==="morning"?"08:00":"14:30",E=n().wave==="morning"?"14:30":"23:59";return Hr(G()).filter(se=>G().some(ne=>{const ue=Oe(ne.ScheduledStartDateTime),Ce=ue.split(" ")[1]||ue;return Ce>=m&&Ce<E&&ne.Division.CodeAlias===se}))}return Hr(G())})())}),le(()=>_(G()),()=>{y(g,Ca(G()))}),le(()=>(_(G()),n(),Ze),()=>{y(h,(()=>{let m=vn(G());return n().priority&&n().priority!=="all"&&(m=m.filter(E=>Ut.getPriority(E.MatchId)===n().priority)),n().coverageStatus&&n().coverageStatus!=="all"&&(m=m.filter(E=>{const se=Ne(E);if(!se)return!0;const ne=Ze.getTeamStatus(se);return n().coverageStatus==="uncovered"?ne==="not-covered":n().coverageStatus==="covered"?ne==="covered"||ne==="partially-covered":n().coverageStatus==="planned"?ne==="planned":!0})),m})())}),le(()=>(_(G()),e(u)),()=>{y(M,(()=>{const m=zt(_t);return dn(G(),m,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),le(()=>e(M),()=>{y(k,new Set(e(M).map(m=>m.match.MatchId)))}),le(()=>e(h),()=>{y(D,e(h).length>0?Math.min(...e(h).map(m=>m.ScheduledStartDateTime)):0)}),le(()=>e(h),()=>{y(f,e(h).length>0?Math.max(...e(h).map(m=>m.ScheduledEndDateTime)):0)}),le(()=>(e(f),e(D)),()=>{y(x,e(f)-e(D))}),le(()=>e(h),()=>{y(w,(()=>{const m={};return e(h).forEach(E=>{m[E.CourtName]||(m[E.CourtName]=[]),m[E.CourtName].push(E)}),m})())}),le(()=>e(w),()=>{y(O,Object.keys(e(w)).sort())}),le(()=>(e(ve),e(h),Ne),()=>{y(C,(()=>{if(!e(ve))return new Set;const m=new Set;return e(h).forEach(E=>{Ne(E)===e(ve)&&m.add(E.MatchId)}),m})())}),le(()=>(e(j),e(u),e(h)),()=>{y(A,(()=>{if(!e(j))return[];const m=e(u).get(e(j).MatchId);return m?m.map(E=>e(h).find(se=>se.MatchId===E)).filter(Boolean):[]})())}),Zt(),Vt();var Ue=$t(),ke=dt(Ue);{var F=m=>{var E=tc(),se=i(E,!0);o(E),B(()=>T(se,(n(),c(()=>n().division||n().wave!=="all"||n().teams.length>0||n().timeRange.start||n().timeRange.end?"No matches found for selected filters":"No matches found")))),b(m,E)},$=m=>{var E=$c(),se=i(E),ne=i(se),ue=d(i(ne),2),Ce=i(ue);Ce.__click=()=>jt("wave","all");var Ye=d(Ce,2);Ye.__click=()=>jt("wave","morning");var et=d(Ye,2);et.__click=()=>jt("wave","afternoon"),o(ue),o(ne);var pt=d(ne,2);{var ut=Y=>{var V=ac(),K=d(i(V),2);K.__change=oe=>jt("division",oe.target.value||null);var Te=i(K),Me=i(Te);o(Te),Te.value=Te.__value="";var qe=d(Te);xt(qe,1,()=>e(p),mt,(oe,Xe)=>{var Ve=rc(),ot=i(Ve,!0);o(Ve);var Ie={};B(()=>{T(ot,e(Xe)),Ie!==(Ie=e(Xe))&&(Ve.value=(Ve.__value=e(Xe))??"")}),b(oe,Ve)}),o(K);var Fe;_r(K),o(V),B(()=>{T(Me,`All Divisions${n(),c(()=>n().wave!=="all"?` (${n().wave})`:"")??""}`),Fe!==(Fe=(n(),c(()=>n().division||"")))&&(K.value=(K.__value=(n(),c(()=>n().division||"")))??"",ur(K,(n(),c(()=>n().division||""))))}),b(Y,V)};P(pt,Y=>{e(p),c(()=>e(p).length>1)&&Y(ut)})}var Qe=d(pt,2);{var Ae=Y=>{var V=oc(),K=d(i(V),2);K.__change=Me=>{const qe=Array.from(Me.target.selectedOptions,Fe=>Fe.value);jt("teams",qe)},xt(K,5,()=>e(g),mt,(Me,qe)=>{var Fe=nc(),oe=i(Fe,!0);o(Fe);var Xe={};B(()=>{T(oe,e(qe)),Xe!==(Xe=e(qe))&&(Fe.value=(Fe.__value=e(qe))??"")}),b(Me,Fe)}),o(K);var Te;_r(K),o(V),B(Me=>{Dt(K,"size",Me),Te!==(Te=(n(),c(()=>n().teams)))&&(K.value=(K.__value=(n(),c(()=>n().teams)))??"",ur(K,(n(),c(()=>n().teams))))},[()=>(e(g),c(()=>Math.min(e(g).length,4)))]),b(Y,V)};P(Qe,Y=>{e(g),c(()=>e(g).length>0)&&Y(Ae)})}var at=d(Qe,2),I=d(i(at),2),Z=i(I);Z.__click=()=>jt("timeRange",{start:null,end:null});var U=d(Z,2);U.__click=()=>jt("timeRange",{start:"08:00",end:"14:30"});var X=d(U,2);X.__click=()=>jt("timeRange",{start:"14:30",end:"23:59"}),o(I),o(at);var me=d(at,2);{var pe=Y=>{var V=sc(),K=d(i(V),2);K.__change=Xe=>jt("priority",Xe.target.value==="all"?"all":Xe.target.value);var Te=i(K);Te.value=Te.__value="all";var Me=d(Te);Me.value=Me.__value="must-cover";var qe=d(Me);qe.value=qe.__value="priority";var Fe=d(qe);Fe.value=Fe.__value="optional",o(K);var oe;_r(K),o(V),B(()=>{oe!==(oe=(n(),c(()=>n().priority||"all")))&&(K.value=(K.__value=(n(),c(()=>n().priority||"all")))??"",ur(K,(n(),c(()=>n().priority||"all"))))}),b(Y,V)};P(me,Y=>{s()&&Y(pe)})}var _e=d(me,2);{var re=Y=>{var V=ic();V.__click=function(...K){va==null||va.apply(this,K)},b(Y,V)};P(_e,Y=>{n(),c(()=>n().division||n().wave!=="all"||n().teams.length>0||n().timeRange.start||n().timeRange.end||n().priority&&n().priority!=="all"||n().coverageStatus&&n().coverageStatus!=="all")&&Y(re)})}o(se);var he=d(se,2),De=i(he),Je=i(De),Re=d(Je);{var ce=Y=>{var V=cc(),K=i(V);o(V),B(()=>T(K,`(${e(h),c(()=>e(h).length)??""} of ${_(G()),c(()=>G().length)??""})`)),b(Y,V)};P(Re,Y=>{e(h),_(G()),c(()=>e(h).length!==G().length)&&Y(ce)})}o(De);var be=d(De,2);{var ge=Y=>{var V=lc(),K=d(i(V),2),Te=i(K);o(K);var Me=d(K,2);Me.__click=()=>y(ve,null),o(V),B(()=>T(Te,`Team ${e(ve)??""}`)),b(Y,V)};P(be,Y=>{e(ve)&&Y(ge)})}o(he);var N=d(he,2),L=i(N);xt(L,5,()=>e(O),mt,(Y,V)=>{const K=J(()=>(e(w),e(V),c(()=>e(w)[e(V)])));var Te=Tc(),Me=i(Te),qe=i(Me),Fe=i(qe,!0);o(qe);var oe=d(qe,2),Xe=i(oe);o(oe),o(Me);var Ve=d(Me,2),ot=i(Ve);xt(ot,1,()=>(_(e(K)),c(()=>rt(e(K)))),mt,(Be,q)=>{const $e=J(()=>(e(q),c(()=>je(e(q).before.ScheduledEndDateTime)))),nt=J(()=>(e(q),c(()=>je(e(q).after.ScheduledStartDateTime)))),We=J(()=>e(nt)-e($e)),ht=J(()=>(e(q),c(()=>e(q).gapMinutes>=30))),kt=J(()=>(e(q),c(()=>e(q).gapMinutes>=15&&e(q).gapMinutes<30)));var ft=$t(),Ke=dt(ft);{var He=gt=>{var ze=vc(),vt=i(ze);{var st=it=>{var Ct=dc(),tr=i(Ct);o(Ct),B(()=>{Se(Ct,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(ht)?"bg-green-500/20 text-green-400":e(kt)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),T(tr,`${e(q),c(()=>e(q).gapMinutes)??""}m`)}),b(it,Ct)};P(vt,it=>{e(We)>3&&it(st)})}o(ze),B(()=>{nr(ze,`left: ${e($e)??""}%; width: ${e(We)??""}%; z-index: 0;`),Dt(ze,"title",`${e(q),c(()=>e(q).gapMinutes)??""} min gap between matches`)}),b(gt,ze)};P(Ke,gt=>{e(We)>=1&&gt(He)})}b(Be,ft)});var Ie=d(ot,2);xt(Ie,1,()=>e(K),mt,(Be,q)=>{const $e=J(()=>(e(u),e(q),c(()=>e(u).has(e(q).MatchId)))),nt=J(()=>(e(j),e(q),c(()=>{var tt;return((tt=e(j))==null?void 0:tt.MatchId)===e(q).MatchId}))),We=J(()=>(_(Ne),e(q),c(()=>Ne(e(q))))),ht=J(()=>(e(ve),e(C),e(q),c(()=>e(ve)!==null&&e(C).has(e(q).MatchId)))),kt=J(()=>e(ve)!==null&&!e(ht)),ft=J(()=>(_(zt),_(_t),c(()=>zt(_t)))),Ke=J(()=>(_(e(ft)),e(q),c(()=>e(ft).has(e(q).MatchId)))),He=J(()=>(_(Ut),e(q),c(()=>Ut.getPriority(e(q).MatchId)))),gt=J(()=>(e(k),e(q),c(()=>e(k).has(e(q).MatchId)))),ze=J(()=>(_(e(We)),_(Ze),c(()=>e(We)?Ze.getTeamStatus(e(We)):"not-covered"))),vt=J(()=>e(ze)==="covered"||e(ze)==="partially-covered"),st=J(()=>e(ze)==="planned"),it=J(()=>e(ze)==="not-covered"),Ct=J(()=>(e(q),c(()=>je(e(q).ScheduledStartDateTime)))),tr=J(()=>(e(q),c(()=>Math.max(Pe(e(q).ScheduledStartDateTime,e(q).ScheduledEndDateTime),2)))),Gt=J(()=>(e(q),c(()=>Le(e(q))))),It=J(()=>(_(e(He)),_(e(it)),_(e(Ke)),_(e(st)),_(e(ht)),_(e($e)),_(e(vt)),_(e(gt)),e(q),c(()=>e(He)==="must-cover"?"#eab308":e(He)==="priority"?"#f59e0b":e(it)&&!e(Ke)||e(st)||e(ht)||e(Ke)&&!e($e)?"#eab308":e(vt)||e(gt)&&!e(Ke)?"#10b981":e($e)?"#dc2626":e(q).Division.ColorHex))),yt=J(()=>e(He)==="must-cover"?"#facc15":e(He)==="priority"?"#fbbf24":e(it)&&!e(Ke)||e(st)?"#facc15":e(nt)?"#eab308":e(ht)||e(Ke)?"#facc15":e($e)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Nt=J(()=>e(nt)?30:e(ht)?20:e(He)==="must-cover"?18:e(Ke)?15:e($e)?10:1);var Ot=wc();Ot.__click=tt=>{tt.target instanceof HTMLElement&&tt.target.closest(".priority-button")||bt(e(q))};var fr=i(Ot);{var mr=tt=>{var ct=uc(),wt=i(ct);o(ct),B(()=>T(wt,`${e(He)==="must-cover"&&"â­"}
											${e(He)==="priority"&&"ð¸"}
											${e(He)==="optional"&&"â"}`)),b(tt,ct)};P(fr,tt=>{s()&&e(He)&&tt(mr)})}var xr=d(fr,2);{var qr=tt=>{var ct=fc();b(tt,ct)};P(xr,tt=>{s()&&e(gt)&&!e(Ke)&&tt(qr)})}var Or=d(xr,2);{var Mt=tt=>{var ct=mc();b(tt,ct)};P(Or,tt=>{s()&&e(Ke)&&tt(Mt)})}var St=d(Or,2);St.__click=tt=>e(We)&&xe(e(We),tt);var Et=i(St,!0);o(St);var Qt=d(St,2),Jt=i(Qt);o(Qt);var rr=d(Qt,2),ar=i(rr,!0);o(rr);var or=d(rr,2);{var Ft=tt=>{const ct=J(()=>(e(we),e(q),c(()=>e(we).getScore(e(q).MatchId))));var wt=$t(),br=dt(wt);{var Sr=lr=>{const Wt=J(()=>(_(e(ct)),c(()=>e(ct).sets.find(Pt=>Pt.completedAt===0)||e(ct).sets[e(ct).sets.length-1]))),Lt=J(()=>(_(e(ct)),c(()=>e(ct).sets.filter(Pt=>Pt.completedAt>0)))),Rt=J(()=>(_(e(Lt)),c(()=>e(Lt).filter(Pt=>Pt.team1Score>Pt.team2Score).length))),dr=J(()=>(_(e(Lt)),c(()=>e(Lt).filter(Pt=>Pt.team2Score>Pt.team1Score).length)));var wr=pc(),$a=i(wr);{var hn=Pt=>{var Tr=xc(),Sn=i(Tr);o(Tr),B(()=>T(Sn,`(${e(Rt)??""}-${e(dr)??""})`)),b(Pt,Tr)};P($a,Pt=>{_(e(Lt)),c(()=>e(Lt).length>0)&&Pt(hn)})}var Xr=d($a,2),gn=i(Xr);o(Xr);var _n=d(Xr,2);{var yn=Pt=>{var Tr=bc();b(Pt,Tr)};P(_n,Pt=>{_(e(ct)),c(()=>e(ct).status==="in-progress")&&Pt(yn)})}o(wr),B(()=>T(gn,`${_(e(Wt)),c(()=>e(Wt).team1Score)??""}-${_(e(Wt)),c(()=>e(Wt).team2Score)??""}`)),b(lr,wr)};P(br,lr=>{_(e(ct)),c(()=>e(ct)&&e(ct).status!=="not-started")&&lr(Sr)})}b(tt,wt)};P(or,tt=>{e(we)&&tt(Ft)})}var sr=d(or,2);{var zr=tt=>{var ct=_c(),wt=i(ct);wt.__click=Rt=>{Rt.stopPropagation(),y(fe,e(fe)===e(q).MatchId?null:e(q).MatchId)};var br=i(wt),Sr=d(br);{var lr=Rt=>{var dr=hc();b(Rt,dr)};P(Sr,Rt=>{e(He)||Rt(lr)})}o(wt);var Wt=d(wt,2);{var Lt=Rt=>{var dr=gc(),wr=i(dr);xn(wr,{get matchId(){return e(q),c(()=>e(q).MatchId)},get currentPriority(){return e(He)},get onPriorityChange(){return _(Ut),c(()=>Ut.setPriority)},onClose:()=>y(fe,null)}),o(dr),b(Rt,dr)};P(Wt,Rt=>{e(fe),e(q),c(()=>e(fe)===e(q).MatchId)&&Rt(Lt)})}o(ct),B(()=>{Se(wt,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(He)==="must-cover"?"text-[#facc15]":e(He)==="priority"?"text-[#fbbf24]":e(He)==="optional"?"text-white/60":"text-white/40"}`),Dt(wt,"title",e(He)?`Priority: ${e(He)}`:"Set priority"),T(br,`${e(He)==="must-cover"&&"â­"}
												${e(He)==="priority"&&"ð¸"}
												${e(He)==="optional"&&"â"} `)}),b(tt,ct)};P(sr,tt=>{s()&&tt(zr)})}var bn=d(sr,2);{var pn=tt=>{var ct=Sc(),wt=i(ct);wt.__click=Wt=>{Wt.stopPropagation(),y(z,e(z)===e(We)?null:e(We))};var br=i(wt);o(wt);var Sr=d(wt,2);{var lr=Wt=>{var Lt=yc(),Rt=i(Lt);Da(Rt,{get teamId(){return e(We)},get currentStatus(){return e(ze)},get onStatusChange(){return _(Ze),c(()=>Ze.setTeamStatus)},onClose:()=>y(z,null)}),o(Lt),b(Wt,Lt)};P(Sr,Wt=>{e(z)===e(We)&&Wt(lr)})}o(ct),B(()=>{Se(wt,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ze)==="covered"?"text-green-400":e(ze)==="partially-covered"?"text-[#fbbf24]":e(ze)==="planned"?"text-[#facc15]":"text-white/40"}`),Dt(wt,"title",`Coverage: ${e(ze)??""}`),T(br,`${e(ze)==="covered"&&"â"}
												${e(ze)==="partially-covered"&&"â"}
												${e(ze)==="planned"&&"ð"}
												${e(ze)==="not-covered"&&"â"}`)}),b(tt,ct)};P(bn,tt=>{s()&&e(We)&&tt(pn)})}o(Ot),B((tt,ct,wt)=>{Se(Ot,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(nt)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(ht)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(kt)?"opacity-30":""} ${e(Ke)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(vt)?"opacity-60":""}`),nr(Ot,`left: ${e(Ct)??""}%; width: ${e(tr)??""}%; background-color: ${e(It)??""}; border-color: ${e(yt)??""}; min-width: 100px; z-index: ${e(Nt)??""};`),Dt(Ot,"title",`${e(q),c(()=>e(q).CompleteShortName)??""}: ${e(q),c(()=>e(q).FirstTeamText)??""} vs ${e(q),c(()=>e(q).SecondTeamText)??""} - ${tt??""}${e($e)?" (Click to see conflicts)":" (Click to add to plan)"}${e(He)?` [Priority: ${e(He)}]`:""}${e(gt)&&!e(Ke)?" [Easy opportunity]":""}${e(ze)!=="not-covered"?` [Coverage: ${e(ze)}]`:""}`),Se(St,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(We)?"cursor-pointer hover:underline":""}`),T(Et,(_(e(We)),e(q),c(()=>e(We)||e(q).Division.CodeAlias))),T(Jt,`vs ${ct??""}`),T(ar,wt)},[()=>(_(Oe),e(q),c(()=>Oe(e(q).ScheduledStartDateTime))),()=>(_(e(Gt)),c(()=>e(Gt).length>20?e(Gt).substring(0,17)+"...":e(Gt))),()=>(_(Oe),e(q),c(()=>Oe(e(q).ScheduledStartDateTime)))]),b(Be,Ot)}),o(Ve),o(Te),B(()=>{T(Fe,e(V)),T(Xe,`${_(e(K)),c(()=>e(K).length)??""} match${_(e(K)),c(()=>e(K).length!==1?"es":"")??""}`)}),b(Y,Te)}),o(L),o(N);var ee=d(N,2);{var ae=Y=>{ec(Y,{get match(){return e(j)},get conflictingMatches(){return e(A)},onClose:()=>y(j,null)})};P(ee,Y=>{e(j)&&Y(ae)})}var te=d(ee,2);{var ie=Y=>{var V=Mc();b(Y,V)};P(te,Y=>{e(we),c(()=>Ee&&e(we)&&e(we).isClaimOwner(Ee.MatchId))&&Y(ie)})}var H=d(te,2);{var ye=Y=>{var V=Cc();V.__click=()=>y(fe,null),b(Y,V)};P(H,Y=>{e(fe)!==null&&Y(ye)})}var R=d(H,2);{var Q=Y=>{var V=Dc();V.__click=()=>y(z,null),b(Y,V)};P(R,Y=>{e(z)!==null&&Y(Q)})}o(E),B((Y,V)=>{Se(Ce,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(Ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(et,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(Z,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start===null&&n().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(U,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start==="08:00"&&n().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Se(X,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${n(),c(()=>n().timeRange.start==="14:30"&&n().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),T(Je,`Timeline: ${Y??""} - ${V??""} `)},[()=>(_(Oe),e(D),c(()=>Oe(e(D)))),()=>(_(Oe),e(f),c(()=>Oe(e(f))))]),b(m,E)};P(ke,m=>{e(h),c(()=>e(h).length===0)?m(F):m($,!1)})}b(t,Ue),Ht(),v()}er(["click","change"]);function hr(t){return t.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}function pa(t){const r=new Date(t),a=r.getUTCFullYear(),n=String(r.getUTCMonth()+1).padStart(2,"0"),s=String(r.getUTCDate()).padStart(2,"0"),l=String(r.getUTCHours()).padStart(2,"0"),v=String(r.getUTCMinutes()).padStart(2,"0"),u=String(r.getUTCSeconds()).padStart(2,"0");return`${a}${n}${s}T${l}${v}${u}Z`}function Ic(t,r){return`match-${t}-${r}@coursync.local`}function Ec(t,r,a,n){const s=Date.now();let l=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CourtSync//Coverage Plan//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",`X-WR-CALNAME:${hr(n)}`,`X-WR-CALDESC:${hr("Volleyball Match Coverage Plan")}`,"X-WR-TIMEZONE:UTC"].join(`\r
`)+`\r
`;return t.forEach(v=>{const u=r(v),p=a(v),g=u?`${u} vs ${p}`:`${v.FirstTeamText} vs ${v.SecondTeamText}`,h=[`Court: ${v.CourtName}`,`Division: ${v.Division.CodeAlias}`,`First Team: ${v.FirstTeamText}`,`Second Team: ${v.SecondTeamText}`].join("\\n"),M=hr(v.CourtName),k=hr(g),D=hr(h),f=v.ScheduledStartDateTime,x=v.ScheduledEndDateTime,O=f-5*60*1e3,C=pa(O),A=pa(x),G=pa(s),de=Ic(v.MatchId,f);l+=["BEGIN:VEVENT",`UID:${de}`,`DTSTAMP:${G}`,`DTSTART:${C}`,`DTEND:${A}`,`SUMMARY:${k}`,`DESCRIPTION:${D}`,`LOCATION:${M}`,"SEQUENCE:0","STATUS:CONFIRMED","TRANSP:OPAQUE"].join(`\r
`)+`\r
`,l+=["BEGIN:VALARM","TRIGGER:-PT15M","ACTION:DISPLAY",`DESCRIPTION:${hr(`Match starts in 15 minutes: ${g}`)}`,"END:VALARM"].join(`\r
`)+`\r
`,l+=`END:VEVENT\r
`}),l+=`END:VCALENDAR\r
`,l}var Pc=S('<span class="ml-2 text-red-400"> </span>'),Nc=S('<div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654] mx-4"><button>Plan</button> <button>Analytics</button> <button>Stats</button> <button>Team</button></div>'),Oc=S('<div class="text-center py-12 text-[#9fa2ab] text-sm"><p>No matches selected yet</p> <p class="text-xs text-[#808593] mt-2">Click matches in the timeline or list to add them to your coverage plan</p></div>'),Ac=S('<span class="ml-2 text-[#eab308]"> </span>'),Fc=S('<button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Previous conflict">â Prev</button> <button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Next conflict">Next â</button>',1),Rc=S('<div class="text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">ACTIVE</div>'),Wc=S('<div class="flex-shrink-0 text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">KEEP</div>'),Lc=S('<div class="text-[10px] text-[#808593] mt-0.5"> </div>'),jc=S('<button class="px-2 py-1 text-[10px] font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Remove</button>'),Uc=S('<div><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-[#facc15] font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span></div> <!></div> <!></div>'),Yc=S('<div><div class="flex items-center gap-2 mb-2"><div class="text-xs font-medium text-red-400"> </div> <!></div> <div class="space-y-2"></div></div>'),Bc=S('<div class="border border-red-800/50 rounded-lg bg-red-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-red-400">â ï¸ Conflicts Detected</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> <!></p></div> <div class="flex items-center gap-2"><!> <button class="px-3 py-1.5 text-xs font-medium rounded-lg bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Auto-Resolve</button></div></div> <div class="space-y-3"></div></div>'),Hc=S('<span class="text-[10px] px-1.5 py-0.5 rounded bg-[#eab308]/20 text-[#eab308] border border-[#eab308]/50">Uncovered</span>'),Vc=S('<div class="flex items-center gap-2 px-2 py-1.5 rounded bg-green-950/20 border border-green-500/30"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-green-400 font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span> <!></div> <div class="text-[10px] text-[#808593] mt-0.5"> </div></div> <button class="px-2 py-1 text-xs font-medium rounded transition-colors bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30">Add</button></div>'),Gc=S('<div class="border border-green-500/50 rounded-lg bg-green-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-green-400">ð¡ Coverage Opportunities</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> </p></div></div> <div class="space-y-2"></div></div>'),Jc=S('<div class="flex-shrink-0 text-[10px] font-semibold text-red-400 px-1.5 py-0.5 rounded bg-red-950/50">CONFLICT</div>'),qc=S("<div></div>"),zc=S('<div class="fixed inset-0 z-40"></div> <div class="absolute right-0 top-full mt-1 z-50"><!></div>',1),Xc=S('<div class="relative flex-shrink-0"><button title="Set coverage status"> </button> <!></div>'),Qc=S('<div><button aria-label="Remove from plan"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></button> <!> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <div class="flex-shrink-0 w-24 text-sm font-bold text-[#facc15]"> </div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><div class="text-sm font-bold text-[#f8f8f9]"> </div> <!></div> <div class="text-xs text-[#c0c2c8] truncate"> </div></div> <!> <div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div></div>'),Kc=S('<div class="space-y-2"><div class="flex items-center gap-2 pb-2 border-b border-[#454654]"><h4 class="text-sm font-semibold text-[#f8f8f9]"> </h4> <span class="text-xs text-[#808593]"> </span></div> <!></div>'),Zc=S('<div class="space-y-4"><!> <!> <div class="space-y-4"></div></div>'),el=S('<div class="text-center py-12 text-[#9fa2ab] text-sm">CoverageAnalytics - To be migrated</div>'),tl=S('<div class="text-center py-12 text-[#9fa2ab] text-sm">CoverageStats - To be migrated</div>'),rl=S('<div class="text-center py-12 text-[#9fa2ab] text-sm">TeamMemberSelector and TeamCoverageView - To be migrated</div>'),al=S('<div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 border-t border-[#454654] bg-[#454654]/50"><div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Planned</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Covered</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654]">Clear Plan</button></div> <div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]" title="Copy plan to clipboard">Copy</button> <div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654]"><button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as JSON">JSON</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as CSV">CSV</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Text">TXT</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Calendar (ICS)">ð ICS</button></div></div></div>'),nl=S('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="relative w-full max-w-3xl max-h-[90vh] border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-[#454654] bg-[#454654]/50"><div class="flex-1"><h3 class="text-base sm:text-lg font-semibold text-[#f8f8f9]">My Coverage Plan</h3> <div class="flex items-center gap-3 mt-1 flex-wrap"><p class="text-xs text-[#9fa2ab]"> <!> <!></p> <select class="px-2 py-1 text-xs rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>All Status</option><option>Uncovered</option><option>Planned</option><option>Covered</option></select></div></div> <!> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <!></div></div>');function ol(t,r){Bt(r,!1);const a=W(),n=W(),s=W(),l=W(),v=W(),u=W(),p=W();let g=Ge(r,"matches",8),h=Ge(r,"onClose",8),M=W("plan"),k=W("all"),D=W(null),f=W(0),x=W([]);function w(I){return(e(n).get(I)||[]).map(U=>e(a).find(X=>X.MatchId===U)).filter(Boolean)}function O(){e(l).length>0&&y(f,(e(f)+1)%e(l).length)}function C(){e(l).length>0&&y(f,(e(f)-1+e(l).length)%e(l).length)}function A(I){return I.InvolvedTeam==="first"?I.SecondTeamText:I.InvolvedTeam==="second"?I.FirstTeamText:`${I.FirstTeamText} vs ${I.SecondTeamText}`}function G(){var pe;const I={plan:{createdAt:new Date().toISOString(),totalMatches:e(a).length,totalCoverageTime:e(v),conflicts:e(l).length},matches:e(a).map(_e=>({MatchId:_e.MatchId,Date:Tt(_e.ScheduledStartDateTime),Time:Oe(_e.ScheduledStartDateTime),Court:_e.CourtName,Team:Ne(_e)||_e.Division.CodeAlias,Opponent:A(_e),Division:_e.Division.CodeAlias,FirstTeam:_e.FirstTeamText,SecondTeam:_e.SecondTeamText,StartTime:new Date(_e.ScheduledStartDateTime).toISOString(),EndTime:new Date(_e.ScheduledEndDateTime).toISOString()}))},Z=JSON.stringify(I,null,2),U=new Blob([Z],{type:"application/json"}),X=URL.createObjectURL(U),me=document.createElement("a");me.href=X,me.download=`coverage-plan-${Tt(((pe=e(a)[0])==null?void 0:pe.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.json`,me.click(),URL.revokeObjectURL(X)}function de(){var _e;const I=["Date","Time","Court","Team","Opponent","Division","First Team","Second Team","Start Time","End Time"],Z=e(a).map(re=>[Tt(re.ScheduledStartDateTime),Oe(re.ScheduledStartDateTime),re.CourtName,Ne(re)||re.Division.CodeAlias,A(re),re.Division.CodeAlias,re.FirstTeamText,re.SecondTeamText,new Date(re.ScheduledStartDateTime).toISOString(),new Date(re.ScheduledEndDateTime).toISOString()]),U=[I.join(","),...Z.map(re=>re.map(he=>`"${he}"`).join(","))].join(`
`),X=new Blob([U],{type:"text/csv"}),me=URL.createObjectURL(X),pe=document.createElement("a");pe.href=me,pe.download=`coverage-plan-${Tt(((_e=e(a)[0])==null?void 0:_e.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.csv`,pe.click(),URL.revokeObjectURL(me)}function j(){var me;let I=`COVERAGE PLAN
`;I+=`${"=".repeat(50)}

`,I+=`Total Matches: ${e(a).length}
`,I+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(l).length>0&&(I+=`Conflicts: ${e(l).length}
`),I+=`
`,e(p).forEach(pe=>{const _e=e(u)[pe];I+=`${pe}
`,I+=`${"-".repeat(50)}
`,_e.forEach(re=>{const he=Ne(re),De=A(re);I+=`${Oe(re.ScheduledStartDateTime)} | ${re.CourtName} | ${he||re.Division.CodeAlias} vs ${De}
`}),I+=`
`});const Z=new Blob([I],{type:"text/plain"}),U=URL.createObjectURL(Z),X=document.createElement("a");X.href=U,X.download=`coverage-plan-${Tt(((me=e(a)[0])==null?void 0:me.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.txt`,X.click(),URL.revokeObjectURL(U)}function ve(){var me;const I=Ec(e(a),Ne,A,"Coverage Plan"),Z=new Blob([I],{type:"text/calendar;charset=utf-8"}),U=URL.createObjectURL(Z),X=document.createElement("a");X.href=U,X.download=`coverage-plan-${Tt(((me=e(a)[0])==null?void 0:me.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.ics`,X.click(),URL.revokeObjectURL(U)}async function fe(){let I=`COVERAGE PLAN
`;I+=`${"=".repeat(50)}

`,I+=`Total Matches: ${e(a).length}
`,I+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(l).length>0&&(I+=`Conflicts: ${e(l).length}
`),I+=`
`,e(p).forEach(Z=>{const U=e(u)[Z];I+=`${Z}
`,I+=`${"-".repeat(50)}
`,U.forEach(X=>{const me=Ne(X),pe=A(X);I+=`${Oe(X.ScheduledStartDateTime)} | ${X.CourtName} | ${me||X.Division.CodeAlias} vs ${pe}
`}),I+=`
`});try{await navigator.clipboard.writeText(I),alert("Coverage plan copied to clipboard!")}catch(Z){console.error("Failed to copy to clipboard:",Z),alert("Failed to copy to clipboard. Please try exporting instead.")}}le(()=>(_(g()),Ze),()=>{if(g().length>0){const I=new Map,Z=zt(_t);g().forEach(U=>{const X=Ne(U);if(!X)return;const me=I.get(X)||{total:0,inPlan:0};me.total++,Z.has(U.MatchId)&&me.inPlan++,I.set(X,me)}),I.forEach((U,X)=>{Ze.updateFromPlan(X,U.inPlan,U.total)})}}),le(()=>(_(g()),e(k),Ze),()=>{y(a,(()=>{const I=zt(_t);let Z=g().filter(U=>I.has(U.MatchId)).sort((U,X)=>U.ScheduledStartDateTime-X.ScheduledStartDateTime);return e(k)!=="all"&&(Z=Z.filter(U=>{const X=Ne(U);return X?Ze.getTeamStatus(X)===e(k):!1})),Z})())}),le(()=>e(a),()=>{y(n,Yr(e(a)))}),le(()=>(_(g()),_a),()=>{y(s,(()=>{const I=Yr(g()),U=zt(_t),X=new Map;return g().forEach(me=>{const pe=Ne(me);pe&&X.set(pe,Ze.getTeamStatus(pe))}),_a(g(),U,I,X,Ne,{preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:5})})())}),le(()=>(e(n),e(a)),()=>{y(l,(()=>{if(e(n).size===0)return[];const I=[],Z=new Set;return e(a).forEach(U=>{if(Z.has(U.MatchId))return;const X=e(n).get(U.MatchId);if(!X||X.length===0)return;const me=[U,...X.map(pe=>e(a).find(_e=>_e.MatchId===pe)).filter(Boolean)];me.forEach(pe=>Z.add(pe.MatchId)),I.push({matches:me.sort((pe,_e)=>pe.ScheduledStartDateTime-_e.ScheduledStartDateTime),conflictCount:me.length})}),I})())}),le(()=>(e(l),e(f)),()=>{e(l).length>0&&e(f)>=e(l).length?y(f,0):e(l).length===0&&y(f,0)}),le(()=>(e(l),e(x),e(f)),()=>{e(l).length>0&&e(x)[e(f)]&&setTimeout(()=>{var I;(I=e(x)[e(f)])==null||I.scrollIntoView({behavior:"smooth",block:"center"})},100)}),le(()=>e(a),()=>{y(v,(()=>{if(e(a).length===0)return 0;const I=Math.min(...e(a).map(U=>U.ScheduledStartDateTime)),Z=Math.max(...e(a).map(U=>U.ScheduledEndDateTime));return Math.floor((Z-I)/6e4)})())}),le(()=>(e(a),Tt),()=>{y(u,(()=>{const I={};return e(a).forEach(Z=>{const U=Tt(Z.ScheduledStartDateTime);I[U]||(I[U]=[]),I[U].push(Z)}),I})())}),le(()=>e(u),()=>{y(p,Object.keys(e(u)).sort((I,Z)=>{const U=new Date(I).getTime(),X=new Date(Z).getTime();return U-X}))}),Zt(),Vt();var z=nl(),Ee=i(z),we=i(Ee),Le=i(we),je=d(i(Le),2),Pe=i(je),rt=i(Pe),bt=d(rt);{var xe=I=>{var Z=wn();B(U=>T(Z,`â¢ ${U??""}h ${e(v)%60}m coverage`),[()=>(e(v),c(()=>Math.floor(e(v)/60)))]),b(I,Z)};P(bt,I=>{e(v)>0&&I(xe)})}var Ue=d(bt,2);{var ke=I=>{var Z=Pc(),U=i(Z);o(Z),B(()=>T(U,`â¢ ${e(l),c(()=>e(l).length)??""} conflict${e(l),c(()=>e(l).length!==1?"s":"")??""}`)),b(I,Z)};P(Ue,I=>{e(l),c(()=>e(l).length>0)&&I(ke)})}o(Pe);var F=d(Pe,2);F.__change=I=>y(k,I.target.value);var $=i(F);$.value=$.__value="all";var m=d($);m.value=m.__value="not-covered";var E=d(m);E.value=E.__value="planned";var se=d(E);se.value=se.__value="covered",o(F);var ne;_r(F),o(je),o(Le);var ue=d(Le,2);{var Ce=I=>{var Z=Nc(),U=i(Z);U.__click=()=>y(M,"plan");var X=d(U,2);X.__click=()=>y(M,"analytics");var me=d(X,2);me.__click=()=>y(M,"stats");var pe=d(me,2);pe.__click=()=>y(M,"coordination"),o(Z),B(()=>{Se(U,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(M)==="plan"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(X,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(M)==="analytics"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(me,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(M)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(pe,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(M)==="coordination"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(I,Z)};P(ue,I=>{e(a),c(()=>e(a).length>0)&&I(Ce)})}var Ye=d(ue,2);Ye.__click=function(...I){var Z;(Z=h())==null||Z.apply(this,I)},o(we);var et=d(we,2),pt=i(et);{var ut=I=>{var Z=$t(),U=dt(Z);{var X=pe=>{var _e=Oc();b(pe,_e)},me=pe=>{var _e=Zc(),re=i(_e);{var he=ce=>{var be=Bc(),ge=i(be),N=i(ge),L=d(i(N),2),ee=i(L),ae=d(ee);{var te=Y=>{var V=Ac(),K=i(V);o(V),B(()=>T(K,`â¢ Conflict ${e(f)+1} of ${e(l),c(()=>e(l).length)??""}`)),b(Y,V)};P(ae,Y=>{e(l),c(()=>e(l).length>0)&&Y(te)})}o(L),o(N);var ie=d(N,2),H=i(ie);{var ye=Y=>{var V=Fc(),K=dt(V);K.__click=C;var Te=d(K,2);Te.__click=O,b(Y,V)};P(H,Y=>{e(l),c(()=>e(l).length>1)&&Y(ye)})}var R=d(H,2);R.__click=()=>{e(l).forEach(Y=>{Y.matches.slice(1).forEach(V=>{_t.deselectMatch(V.MatchId)})})},o(ie),o(ge);var Q=d(ge,2);xt(Q,5,()=>e(l),mt,(Y,V,K)=>{var Te=Yc(),Me=i(Te),qe=i(Me),Fe=i(qe);o(qe);var oe=d(qe,2);{var Xe=ot=>{var Ie=Rc();b(ot,Ie)};P(oe,ot=>{K===e(f)&&ot(Xe)})}o(Me);var Ve=d(Me,2);xt(Ve,5,()=>(e(V),c(()=>e(V).matches)),mt,(ot,Ie,Be)=>{const q=J(()=>(_(Ne),e(Ie),c(()=>Ne(e(Ie))))),$e=J(()=>(e(Ie),c(()=>w(e(Ie).MatchId)))),nt=J(()=>Be===0);var We=Uc(),ht=i(We);{var kt=yt=>{var Nt=Wc();b(yt,Nt)};P(ht,yt=>{e(nt)&&yt(kt)})}var ft=d(ht,2),Ke=i(ft),He=i(Ke),gt=i(He,!0);o(He);var ze=d(He,2),vt=i(ze,!0);o(ze);var st=d(ze,2),it=i(st,!0);o(st),o(Ke);var Ct=d(Ke,2);{var tr=yt=>{var Nt=Lc(),Ot=i(Nt);o(Nt),B(()=>T(Ot,`Conflicts with ${_(e($e)),c(()=>e($e).length)??""} other match${_(e($e)),c(()=>e($e).length!==1?"es":"")??""}`)),b(yt,Nt)};P(Ct,yt=>{_(e($e)),c(()=>e($e).length>0)&&yt(tr)})}o(ft);var Gt=d(ft,2);{var It=yt=>{var Nt=jc();Nt.__click=()=>_t.deselectMatch(e(Ie).MatchId),b(yt,Nt)};P(Gt,yt=>{e(nt)||yt(It)})}o(We),B(yt=>{Se(We,1,`flex items-center gap-2 px-2 py-1.5 rounded ${e(nt)?"bg-[#eab308]/10 border border-[#eab308]/30":"bg-[#454654]/50"}`),T(gt,yt),T(vt,(e(Ie),c(()=>e(Ie).CourtName))),T(it,(_(e(q)),e(Ie),c(()=>e(q)||e(Ie).Division.CodeAlias)))},[()=>(_(Oe),e(Ie),c(()=>Oe(e(Ie).ScheduledStartDateTime)))]),b(ot,We)}),o(Ve),o(Te),eo(Te,(ot,Ie)=>Zn(x,e(x)[Ie]=ot),ot=>{var Ie;return(Ie=e(x))==null?void 0:Ie[ot]},()=>[K]),B(()=>{Se(Te,1,`border rounded p-3 transition-all ${K===e(f)?"border-[#eab308] bg-[#eab308]/5":"border-red-800/30 bg-[#3b3c48]/50"}`),T(Fe,`Conflict Group ${K+1}: ${e(V),c(()=>e(V).conflictCount)??""} overlapping match${e(V),c(()=>e(V).conflictCount!==1?"es":"")??""}`)}),b(Y,Te)}),o(Q),o(be),B(()=>T(ee,`${e(l),c(()=>e(l).length)??""} conflict group${e(l),c(()=>e(l).length!==1?"s":"")??""} in your plan `)),b(ce,be)};P(re,ce=>{e(l),c(()=>e(l).length>0)&&ce(he)})}var De=d(re,2);{var Je=ce=>{var be=Gc(),ge=i(be),N=i(ge),L=d(i(N),2),ee=i(L);o(L),o(N),o(ge);var ae=d(ge,2);xt(ae,5,()=>e(s),mt,(te,ie)=>{const H=J(()=>(e(ie),c(()=>e(ie).match))),ye=J(()=>(_(Ne),_(e(H)),c(()=>Ne(e(H))))),R=J(()=>(_(e(ye)),_(Ze),c(()=>e(ye)?Ze.getTeamStatus(e(ye)):"not-covered")));var Q=Vc(),Y=i(Q),V=i(Y),K=i(V),Te=i(K,!0);o(K);var Me=d(K,2),qe=i(Me,!0);o(Me);var Fe=d(Me,2),oe=i(Fe,!0);o(Fe);var Xe=d(Fe,2);{var Ve=q=>{var $e=Hc();b(q,$e)};P(Xe,q=>{e(R)==="not-covered"&&q(Ve)})}o(V);var ot=d(V,2),Ie=i(ot,!0);o(ot),o(Y);var Be=d(Y,2);Be.__click=()=>_t.selectMatch(e(H).MatchId),o(Q),B(q=>{T(Te,q),T(qe,(_(e(H)),c(()=>e(H).CourtName))),T(oe,(_(e(ye)),_(e(H)),c(()=>e(ye)||e(H).Division.CodeAlias))),T(Ie,(e(ie),c(()=>e(ie).reason)))},[()=>(_(Oe),_(e(H)),c(()=>Oe(e(H).ScheduledStartDateTime)))]),b(te,Q)}),o(ae),o(be),B(()=>T(ee,`${e(s),c(()=>e(s).length)??""} suggestion${e(s),c(()=>e(s).length!==1?"s":"")??""} (prioritizing uncovered teams)`)),b(ce,be)};P(De,ce=>{e(s),c(()=>e(s).length>0)&&ce(Je)})}var Re=d(De,2);xt(Re,5,()=>e(p),mt,(ce,be)=>{const ge=J(()=>(e(u),e(be),c(()=>e(u)[e(be)])));var N=Kc(),L=i(N),ee=i(L),ae=i(ee,!0);o(ee);var te=d(ee,2),ie=i(te);o(te),o(L);var H=d(L,2);xt(H,1,()=>e(ge),mt,(ye,R)=>{const Q=J(()=>(_(Ne),e(R),c(()=>Ne(e(R))))),Y=J(()=>(e(R),c(()=>A(e(R))))),V=J(()=>(e(n),e(R),c(()=>e(n).has(e(R).MatchId))));var K=Qc(),Te=i(K);Te.__click=()=>_t.toggleMatch(e(R).MatchId);var Me=i(Te);o(Te);var qe=d(Te,2);{var Fe=vt=>{var st=Jc();b(vt,st)};P(qe,vt=>{e(V)&&vt(Fe)})}var oe=d(qe,2),Xe=i(oe,!0);o(oe);var Ve=d(oe,2),ot=i(Ve,!0);o(Ve);var Ie=d(Ve,2),Be=i(Ie),q=i(Be),$e=i(q,!0);o(q);var nt=d(q,2);{var We=vt=>{const st=J(()=>(_(Ze),_(e(Q)),c(()=>Ze.getTeamStatus(e(Q)))));var it=qc();B(()=>{Se(it,1,`w-2 h-2 rounded ${e(st)==="covered"?"bg-green-500":e(st)==="partially-covered"?"bg-[#f59e0b]":e(st)==="planned"?"bg-[#eab308]":"bg-[#808593]"}`),Dt(it,"title",`Status: ${e(st)??""}`)}),b(vt,it)};P(nt,vt=>{e(Q)&&vt(We)})}o(Be);var ht=d(Be,2),kt=i(ht);o(ht),o(Ie);var ft=d(Ie,2);{var Ke=vt=>{var st=Xc(),it=i(st);it.__click=It=>{It.stopPropagation(),y(D,e(D)===e(Q)?null:e(Q))};var Ct=i(it,!0);o(it);var tr=d(it,2);{var Gt=It=>{var yt=zc(),Nt=dt(yt);Nt.__click=()=>y(D,null);var Ot=d(Nt,2),fr=i(Ot);{let mr=J(()=>(_(Ze),_(e(Q)),c(()=>Ze.getTeamStatus(e(Q)))));Da(fr,{get teamId(){return e(Q)},get currentStatus(){return e(mr)},onStatusChange:xr=>{Ze.setTeamStatus(e(Q),xr),y(D,null)},onClose:()=>y(D,null)})}o(Ot),b(It,yt)};P(tr,It=>{e(D)===e(Q)&&It(Gt)})}o(st),B(It=>{Se(it,1,`px-2 py-1 text-xs rounded transition-colors ${e(D)===e(Q)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]"}`),T(Ct,It)},[()=>(_(Ze),_(e(Q)),c(()=>(()=>{const It=Ze.getTeamStatus(e(Q));return It==="covered"?"â":It==="partially-covered"?"â":It==="planned"?"ð":"â"})()))]),b(vt,st)};P(ft,vt=>{e(Q)&&vt(Ke)})}var He=d(ft,2),gt=i(He),ze=i(gt,!0);o(gt),o(He),o(K),B(vt=>{Se(K,1,`flex items-center gap-3 px-3 py-2.5 rounded border ${e(V)?"border-red-800/50 bg-red-950/10":"border-[#eab308]/50 bg-[#eab308]/5"}`),Se(Te,1,`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center hover:opacity-80 transition-colors ${e(V)?"border-red-800/50 bg-red-950/20":"border-[#eab308] bg-[#eab308]/20"}`),Se(Me,0,`w-3 h-3 ${e(V)?"text-red-400":"text-[#facc15]"}`),T(Xe,vt),T(ot,(e(R),c(()=>e(R).CourtName))),T($e,(_(e(Q)),e(R),c(()=>e(Q)||e(R).Division.CodeAlias))),T(kt,`vs ${e(Y)??""}`),nr(gt,`background-color: ${e(R),c(()=>e(R).Division.ColorHex)??""}20; color: ${e(R),c(()=>e(R).Division.ColorHex)??""}; border: 1px solid ${e(R),c(()=>e(R).Division.ColorHex)??""}40;`),T(ze,(e(R),c(()=>e(R).Division.CodeAlias)))},[()=>(_(Oe),e(R),c(()=>Oe(e(R).ScheduledStartDateTime)))]),b(ye,K)}),o(N),B(()=>{T(ae,e(be)),T(ie,`(${_(e(ge)),c(()=>e(ge).length)??""} match${_(e(ge)),c(()=>e(ge).length!==1?"es":"")??""})`)}),b(ce,N)}),o(Re),o(_e),b(pe,_e)};P(U,pe=>{e(a),c(()=>e(a).length===0)?pe(X):pe(me,!1)})}b(I,Z)},Qe=I=>{var Z=$t(),U=dt(Z);{var X=pe=>{var _e=el();b(pe,_e)},me=pe=>{var _e=$t(),re=dt(_e);{var he=Je=>{var Re=tl();b(Je,Re)},De=Je=>{var Re=rl();b(Je,Re)};P(re,Je=>{e(M)==="stats"?Je(he):Je(De,!1)},!0)}b(pe,_e)};P(U,pe=>{e(M)==="analytics"?pe(X):pe(me,!1)},!0)}b(I,Z)};P(pt,I=>{e(M)==="plan"?I(ut):I(Qe,!1)})}o(et);var Ae=d(et,2);{var at=I=>{var Z=al(),U=i(Z),X=i(U);X.__click=()=>{e(a).forEach(be=>{const ge=Ne(be);ge&&Ze.setTeamStatus(ge,"planned")}),alert("All matches marked as Planned")};var me=d(X,2);me.__click=()=>{e(a).forEach(be=>{const ge=Ne(be);ge&&Ze.setTeamStatus(ge,"covered")}),alert("All matches marked as Covered")};var pe=d(me,2);pe.__click=()=>_t.clearPlan(),o(U);var _e=d(U,2),re=i(_e);re.__click=fe;var he=d(re,2),De=i(he);De.__click=G;var Je=d(De,2);Je.__click=de;var Re=d(Je,2);Re.__click=j;var ce=d(Re,2);ce.__click=ve,o(he),o(_e),o(Z),b(I,Z)};P(Ae,I=>{e(a),e(M),c(()=>e(a).length>0&&e(M)==="plan")&&I(at)})}o(Ee),o(z),B(()=>{T(rt,`${e(a),c(()=>e(a).length)??""} match${e(a),c(()=>e(a).length!==1?"es":"")??""} selected `),ne!==(ne=e(k))&&(F.value=(F.__value=e(k))??"",ur(F,e(k)))}),b(t,z),Ht()}er(["change","click"]);var sl=S('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),il=S('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),cl=S('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),ll=S('<div class="px-4 py-3 rounded-lg border-2 border-[#eab308] bg-[#eab308]/10 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),dl=S('<div><h3 class="text-sm font-semibold text-[#facc15] mb-3 uppercase tracking-wider">Live Now</h3> <div class="space-y-2"></div></div>'),vl=S('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),ul=S('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),fl=S('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),ml=S('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48] hover:border-[#525463] transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),xl=S('<div><h3 class="text-sm font-semibold text-[#f8f8f9] mb-3 uppercase tracking-wider">Upcoming Matches</h3> <div class="space-y-2"></div></div>'),bl=S('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),pl=S('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),hl=S('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),gl=S('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]/50 opacity-75 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-xs font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-sm font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),_l=S('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-3 uppercase tracking-wider">Match History</h3> <div class="space-y-2"></div></div>'),yl=S('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Sl=S('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]"> </h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!> <!> <!> <!></div>');function wl(t,r){Bt(r,!1);const a=W(),n=W(),s=W(),l=W();let v=Ge(r,"matches",8),u=Ge(r,"teamId",8),p=Ge(r,"teamName",8),g=Ge(r,"eventId",8,"");const h=fn(g());let M=W(null),k=W("");const D=Date.now();function f(xe){return xe.InvolvedTeam==="first"?xe.SecondTeamText:xe.InvolvedTeam==="second"?xe.FirstTeamText:`${xe.FirstTeamText} vs ${xe.SecondTeamText}`}function x(xe){y(M,xe),y(k,h.getNote(xe))}function w(xe){h.setNote(xe,e(k)),y(M,null),y(k,"")}function O(){y(M,null),y(k,"")}function C(xe){h.deleteNote(xe),y(M,null)}le(()=>(_(v()),_(u())),()=>{y(a,v().filter(xe=>Ne(xe)===u()).sort((xe,Ue)=>xe.ScheduledStartDateTime-Ue.ScheduledStartDateTime))}),le(()=>e(a),()=>{y(n,e(a).filter(xe=>xe.ScheduledEndDateTime<D))}),le(()=>e(a),()=>{y(s,e(a).filter(xe=>xe.ScheduledStartDateTime<=D&&xe.ScheduledEndDateTime>=D))}),le(()=>e(a),()=>{y(l,e(a).filter(xe=>xe.ScheduledStartDateTime>D))}),Zt(),Vt();var A=Sl(),G=i(A),de=i(G),j=i(de,!0);o(de);var ve=d(de,2),fe=i(ve);o(ve),o(G);var z=d(G,2);{var Ee=xe=>{var Ue=dl(),ke=d(i(Ue),2);xt(ke,5,()=>e(s),mt,(F,$)=>{const m=J(()=>(e($),c(()=>h.hasNote(e($).MatchId)))),E=J(()=>(e(M),e($),c(()=>e(M)===e($).MatchId))),se=J(()=>(e($),c(()=>h.getNote(e($).MatchId))));var ne=ll(),ue=i(ne),Ce=i(ue),Ye=i(Ce),et=i(Ye),pt=i(et,!0);o(et);var ut=d(et,2),Qe=i(ut,!0);o(ut),o(Ye);var Ae=d(Ye,2),at=i(Ae);o(Ae);var I=d(Ae,2),Z=i(I,!0);o(I),o(Ce);var U=d(Ce,2);U.__click=()=>e(E)?O():x(e($).MatchId);var X=i(U,!0);o(U),o(ue);var me=d(ue,2);{var pe=re=>{var he=il(),De=i(he);ea(De),Dt(De,"rows",3),ta(De);var Je=d(De,2),Re=i(Je);Re.__click=()=>w(e($).MatchId);var ce=d(Re,2);{var be=N=>{var L=sl();L.__click=()=>C(e($).MatchId),b(N,L)};P(ce,N=>{e(m)&&N(be)})}var ge=d(ce,2);ge.__click=O,o(Je),o(he),yr(De,()=>e(k),N=>y(k,N)),b(re,he)},_e=re=>{var he=$t(),De=dt(he);{var Je=Re=>{var ce=cl(),be=d(i(ce),2),ge=i(be,!0);o(be),o(ce),B(()=>T(ge,e(se))),b(Re,ce)};P(De,Re=>{e(m)&&Re(Je)},!0)}b(re,he)};P(me,re=>{e(E)?re(pe):re(_e,!1)})}o(ne),B((re,he)=>{T(pt,re),T(Qe,(e($),c(()=>e($).CourtName))),T(at,`vs ${he??""}`),T(Z,(e($),c(()=>e($).Division.CodeAlias))),Se(U,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(m)||e(E)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Dt(U,"title",e(m)?"Edit note":"Add note"),T(X,e(m)?"ð":"ð")},[()=>(_(Oe),e($),c(()=>Oe(e($).ScheduledStartDateTime))),()=>(e($),c(()=>f(e($))))]),b(F,ne)}),o(ke),o(Ue),b(xe,Ue)};P(z,xe=>{e(s),c(()=>e(s).length>0)&&xe(Ee)})}var we=d(z,2);{var Le=xe=>{var Ue=xl(),ke=d(i(Ue),2);xt(ke,5,()=>e(l),mt,(F,$)=>{const m=J(()=>(e($),c(()=>h.hasNote(e($).MatchId)))),E=J(()=>(e(M),e($),c(()=>e(M)===e($).MatchId))),se=J(()=>(e($),c(()=>h.getNote(e($).MatchId))));var ne=ml(),ue=i(ne),Ce=i(ue),Ye=i(Ce),et=i(Ye),pt=i(et,!0);o(et);var ut=d(et,2),Qe=i(ut,!0);o(ut),o(Ye);var Ae=d(Ye,2),at=i(Ae);o(Ae);var I=d(Ae,2),Z=i(I,!0);o(I),o(Ce);var U=d(Ce,2);U.__click=()=>e(E)?O():x(e($).MatchId);var X=i(U,!0);o(U),o(ue);var me=d(ue,2);{var pe=re=>{var he=ul(),De=i(he);ea(De),Dt(De,"rows",3),ta(De);var Je=d(De,2),Re=i(Je);Re.__click=()=>w(e($).MatchId);var ce=d(Re,2);{var be=N=>{var L=vl();L.__click=()=>C(e($).MatchId),b(N,L)};P(ce,N=>{e(m)&&N(be)})}var ge=d(ce,2);ge.__click=O,o(Je),o(he),yr(De,()=>e(k),N=>y(k,N)),b(re,he)},_e=re=>{var he=$t(),De=dt(he);{var Je=Re=>{var ce=fl(),be=d(i(ce),2),ge=i(be,!0);o(be),o(ce),B(()=>T(ge,e(se))),b(Re,ce)};P(De,Re=>{e(m)&&Re(Je)},!0)}b(re,he)};P(me,re=>{e(E)?re(pe):re(_e,!1)})}o(ne),B((re,he)=>{T(pt,re),T(Qe,(e($),c(()=>e($).CourtName))),T(at,`vs ${he??""}`),T(Z,(e($),c(()=>e($).Division.CodeAlias))),Se(U,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(m)||e(E)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Dt(U,"title",e(m)?"Edit note":"Add note"),T(X,e(m)?"ð":"ð")},[()=>(_(Oe),e($),c(()=>Oe(e($).ScheduledStartDateTime))),()=>(e($),c(()=>f(e($))))]),b(F,ne)}),o(ke),o(Ue),b(xe,Ue)};P(we,xe=>{e(l),c(()=>e(l).length>0)&&xe(Le)})}var je=d(we,2);{var Pe=xe=>{var Ue=_l(),ke=d(i(Ue),2);xt(ke,5,()=>e(n),mt,(F,$)=>{const m=J(()=>(e($),c(()=>h.hasNote(e($).MatchId)))),E=J(()=>(e(M),e($),c(()=>e(M)===e($).MatchId))),se=J(()=>(e($),c(()=>h.getNote(e($).MatchId))));var ne=gl(),ue=i(ne),Ce=i(ue),Ye=i(Ce),et=i(Ye),pt=i(et);o(et);var ut=d(et,2),Qe=i(ut,!0);o(ut),o(Ye);var Ae=d(Ye,2),at=i(Ae);o(Ae);var I=d(Ae,2),Z=i(I,!0);o(I),o(Ce);var U=d(Ce,2);U.__click=()=>e(E)?O():x(e($).MatchId);var X=i(U,!0);o(U),o(ue);var me=d(ue,2);{var pe=re=>{var he=pl(),De=i(he);ea(De),Dt(De,"rows",3),ta(De);var Je=d(De,2),Re=i(Je);Re.__click=()=>w(e($).MatchId);var ce=d(Re,2);{var be=N=>{var L=bl();L.__click=()=>C(e($).MatchId),b(N,L)};P(ce,N=>{e(m)&&N(be)})}var ge=d(ce,2);ge.__click=O,o(Je),o(he),yr(De,()=>e(k),N=>y(k,N)),b(re,he)},_e=re=>{var he=$t(),De=dt(he);{var Je=Re=>{var ce=hl(),be=d(i(ce),2),ge=i(be,!0);o(be),o(ce),B(()=>T(ge,e(se))),b(Re,ce)};P(De,Re=>{e(m)&&Re(Je)},!0)}b(re,he)};P(me,re=>{e(E)?re(pe):re(_e,!1)})}o(ne),B((re,he,De)=>{T(pt,`${re??""} â¢ ${he??""}`),T(Qe,(e($),c(()=>e($).CourtName))),T(at,`vs ${De??""}`),T(Z,(e($),c(()=>e($).Division.CodeAlias))),Se(U,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(m)||e(E)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),Dt(U,"title",e(m)?"Edit note":"Add note"),T(X,e(m)?"ð":"ð")},[()=>(_(Tt),e($),c(()=>Tt(e($).ScheduledStartDateTime))),()=>(_(Oe),e($),c(()=>Oe(e($).ScheduledStartDateTime))),()=>(e($),c(()=>f(e($))))]),b(F,ne)}),o(ke),o(Ue),b(xe,Ue)};P(je,xe=>{e(n),c(()=>e(n).length>0)&&xe(Pe)})}var rt=d(je,2);{var bt=xe=>{var Ue=yl(),ke=i(Ue);o(Ue),B(()=>T(ke,`No matches found for ${p()??""}`)),b(xe,Ue)};P(rt,xe=>{e(a),c(()=>e(a).length===0)&&xe(bt)})}o(A),B(()=>{T(j,p()),T(fe,`${e(a),c(()=>e(a).length)??""} total match${e(a),c(()=>e(a).length!==1?"es":"")??""}`)}),b(t,A),Ht()}er(["click"]);var Tl=S('<div class="px-4 py-3 rounded-lg border border-[#525463] bg-[#454654]/30"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#9fa2ab]"> </div></div> <div class="text-sm text-[#c0c2c8]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div>'),Ml=S('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-2 uppercase tracking-wider"> </h3> <div class="space-y-2"></div></div>'),Cl=S('<div class="space-y-4"></div>'),Dl=S('<div class="text-center py-12 text-[#9fa2ab] text-sm"> <div class="text-xs text-[#808593] mt-2">Work assignments will appear here when assigned by tournament officials.</div></div>'),$l=S('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]">Work Assignments</h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!></div>');function kl(t,r){Bt(r,!1);const a=W(),n=W(),s=W();let l=Ge(r,"matches",8),v=Ge(r,"teamId",8),u=Ge(r,"teamName",8);le(()=>(_(l()),_(v())),()=>{y(a,l().filter(x=>(Ne(x)===v(),!1)).sort((x,w)=>x.ScheduledStartDateTime-w.ScheduledStartDateTime))}),le(()=>(e(a),Tt),()=>{y(n,(()=>{const x={};return e(a).forEach(w=>{const O=Tt(w.ScheduledStartDateTime);x[O]||(x[O]=[]),x[O].push(w)}),x})())}),le(()=>e(n),()=>{y(s,Object.keys(e(n)).sort())}),Zt(),Vt();var p=$l(),g=i(p),h=d(i(g),2),M=i(h);o(h),o(g);var k=d(g,2);{var D=x=>{var w=Cl();xt(w,5,()=>e(s),mt,(O,C)=>{var A=Ml(),G=i(A),de=i(G,!0);o(G);var j=d(G,2);xt(j,5,()=>(e(n),e(C),c(()=>e(n)[e(C)])),mt,(ve,fe)=>{var z=Tl(),Ee=i(z),we=i(Ee),Le=i(we,!0);o(we);var je=d(we,2),Pe=i(je,!0);o(je),o(Ee);var rt=d(Ee,2),bt=i(rt);o(rt);var xe=d(rt,2),Ue=i(xe);o(xe),o(z),B(ke=>{T(Le,ke),T(Pe,(e(fe),c(()=>e(fe).CourtName))),T(bt,`${e(fe),c(()=>e(fe).FirstTeamText)??""} vs ${e(fe),c(()=>e(fe).SecondTeamText)??""}`),T(Ue,`${e(fe),c(()=>e(fe).Division.CodeAlias)??""} â¢ Work Assignment`)},[()=>(_(Oe),e(fe),c(()=>Oe(e(fe).ScheduledStartDateTime)))]),b(ve,z)}),o(j),o(A),B(()=>T(de,e(C))),b(O,A)}),o(w),b(x,w)},f=x=>{var w=Dl(),O=i(w);Ur(),o(w),B(()=>T(O,`No work assignments found for ${u()??""} `)),b(x,w)};P(k,x=>{e(a),c(()=>e(a).length>0)?x(D):x(f,!1)})}o(p),B(()=>T(M,`${u()??""} â¢ ${e(a),c(()=>e(a).length)??""} assignment${e(a),c(()=>e(a).length!==1?"s":"")??""}`)),b(t,p),Ht()}var Il=S('<span class="ml-2 text-[10px] opacity-75"> </span>'),El=S("<button> <!></button>"),Pl=S('<div class="border-b border-[#454654] pb-4"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Select Team:</span> <!></div></div>'),Nl=S('<div class="text-center py-12 text-[#9fa2ab] text-sm">Select a team to view matches and work assignments</div>'),Ol=S('<div class="space-y-4"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-xl font-bold text-[#f8f8f9]">Coach View</h1> <p class="text-sm text-[#9fa2ab] mt-1">View matches and work assignments by team</p></div> <div class="flex items-center gap-2 bg-[#454654] rounded-lg p-1"><button>Matches</button> <button>Work Assignments</button></div></div> <!> <!> <!></div>');function Al(t,r){Bt(r,!1);const a=W(),n=W(),s=W(),l=W();let v=Ge(r,"matches",8),u=Ge(r,"eventId",8),p=Ge(r,"clubId",8),g=W(null),h=W(null),M=W("matches");function k(z){var we;y(g,z);const Ee=(we=e(n)[z])==null?void 0:we[0];Ee&&y(h,Ee)}le(()=>_(v()),()=>{y(a,Ca(v()))}),le(()=>(_(v()),Ne),()=>{y(n,(()=>{const z={};return v().forEach(Ee=>{const we=Ne(Ee);we&&(z[we]||(z[we]=[]),z[we].push(Ee))}),z})())}),le(()=>(e(g),e(n)),()=>{y(s,e(g)?e(n)[e(g)]||[]:[])}),le(()=>(e(a),e(n)),()=>{y(l,[...e(a)].sort((z,Ee)=>{var je,Pe;const we=((je=e(n)[z])==null?void 0:je.length)||0;return(((Pe=e(n)[Ee])==null?void 0:Pe.length)||0)-we}))}),Zt(),Vt();var D=Ol(),f=i(D),x=d(i(f),2),w=i(x);w.__click=()=>y(M,"matches");var O=d(w,2);O.__click=()=>y(M,"work"),o(x),o(f);var C=d(f,2);{var A=z=>{var Ee=Pl(),we=i(Ee),Le=d(i(we),2);xt(Le,1,()=>e(l),mt,(je,Pe)=>{var rt=El();rt.__click=()=>k(e(Pe));var bt=i(rt),xe=d(bt);{var Ue=ke=>{var F=Il(),$=i(F);o(F),B(()=>T($,`(${e(n),e(Pe),c(()=>e(n)[e(Pe)].length)??""})`)),b(ke,F)};P(xe,ke=>{e(n),e(Pe),c(()=>e(n)[e(Pe)])&&ke(Ue)})}o(rt),B(()=>{Se(rt,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(g)===e(Pe)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),T(bt,`${e(Pe)??""} `)}),b(je,rt)}),o(we),o(Ee),b(z,Ee)};P(C,z=>{e(a),c(()=>e(a).length>0)&&z(A)})}var G=d(C,2);{var de=z=>{var Ee=$t(),we=dt(Ee);{var Le=Pe=>{wl(Pe,{get matches(){return v()},teamId,get teamName(){return e(g)},get eventId(){return u()}})},je=Pe=>{kl(Pe,{get matches(){return v()},teamId,get teamName(){return e(g)}})};P(we,Pe=>{e(M)==="matches"?Pe(Le):Pe(je,!1)})}b(z,Ee)},j=z=>{var Ee=Nl();b(z,Ee)};P(G,z=>{e(g)?z(de):z(j,!1)})}var ve=d(G,2);{var fe=z=>{mn(z,{get match(){return e(h)},get eventId(){return u()},get clubId(){return p()},onClose:()=>y(h,null),get matches(){return v()}})};P(ve,z=>{e(h)&&z(fe)})}o(D),B(()=>{Se(w,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(M)==="matches"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Se(O,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(M)==="work"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),b(t,D),Ht()}er(["click"]);var Fl=S('<span class="ml-2" style="color: #ef4444;"> </span>'),Rl=S('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),Wl=S('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),Ll=S('<span class="hidden sm:inline"> </span>'),jl=S('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),Ul=S('<span class="ml-2" style="color: #ef4444;"> </span>'),Yl=S('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),Bl=S('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),Hl=S("<button> </button>"),Vl=S('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),Gl=S('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Jl=S('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),ql=S('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),zl=S('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Xl=S('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!></main></div>');function od(t,r){Bt(r,!1);const a=()=>qt(Is,"$selectedCount",u),n=()=>qt(Ta,"$isMedia",u),s=()=>qt(Ma,"$isSpectator",u),l=()=>qt(Ns,"$isCoach",u),v=()=>qt(Ir,"$userRole",u),[u,p]=wa(),g=W(),h=W(),M=W(),k=W(),D=W(),f=W();let x=W("PTAwMDAwNDEzMTQ90"),w=W("2025-11-01"),O=W(300),C=W([]),A=W(!1),G=W(null),de=W("list"),j=W(!1),ve=W(24426),fe=W(!1),z=W(null);Sa(()=>{Ee(e(x),e(w),e(O))});async function Ee(N,L,ee){var ae;y(A,!0),y(G,null),y(x,N),y(w,L),y(O,ee);try{const te=await bo(N),ie=(ae=te.Clubs)==null?void 0:ae.find(R=>R.Name==="630 Volleyball");ie&&y(ve,ie.ClubId),y(z,{name:te.Name||te.EventName||te.FullName||te.Title||"Event",startDate:te.StartDate||te.StartDateTime||te.Start||te.StartTime,endDate:te.EndDate||te.EndDateTime||te.End||te.EndTime});const H=await xo(N,L,ee),ye=So(H.CourtSchedules);y(C,ye)}catch(te){console.error("Error loading schedule:",te),y(G,te instanceof Error?te.message:"Failed to load schedule"),y(C,[])}finally{y(A,!1)}}function we(){const N=JSON.stringify(e(C),null,2),L=new Blob([N],{type:"application/json"}),ee=URL.createObjectURL(L),ae=document.createElement("a");ae.href=ee,ae.download=`630-volleyball-matches-${e(w)}.json`,ae.click(),URL.revokeObjectURL(ee)}function Le(){const N=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],L=e(C).map(H=>[H.MatchId.toString(),H.Division.Name,H.CompleteShortName,H.FirstTeamText,H.SecondTeamText,H.WorkTeamText,H.CourtName,new Date(H.ScheduledStartDateTime).toISOString(),new Date(H.ScheduledEndDateTime).toISOString(),((H.ScheduledEndDateTime-H.ScheduledStartDateTime)/6e4).toString(),H.InvolvedTeam]),ee=[N.join(","),...L.map(H=>H.map(ye=>`"${ye}"`).join(","))].join(`
`),ae=new Blob([ee],{type:"text/csv"}),te=URL.createObjectURL(ae),ie=document.createElement("a");ie.href=te,ie.download=`630-volleyball-matches-${e(w)}.csv`,ie.click(),URL.revokeObjectURL(te)}le(()=>(e(C),Ze),()=>{if(e(C).length>0){const N=new Map;e(C).forEach(L=>{const ae=(L.InvolvedTeam==="first"?L.FirstTeamText:L.SecondTeamText).match(/(\d+-\d+)/),te=ae?ae[1]:"";if(!te)return;const ie=N.get(te)||{total:0,inPlan:0};ie.total++;let H=!1;_t.subscribe(ye=>{H=ye.has(L.MatchId)})(),H&&ie.inPlan++,N.set(te,ie)}),N.forEach((L,ee)=>{Ze.updateFromPlan(ee,L.inPlan,L.total)})}}),le(()=>e(C),()=>{y(g,(()=>{const N=new Map;return e(C).forEach((L,ee)=>{e(C).slice(ee+1).forEach(ae=>{L.ScheduledStartDateTime<ae.ScheduledEndDateTime&&L.ScheduledEndDateTime>ae.ScheduledStartDateTime&&(N.has(L.MatchId)||N.set(L.MatchId,[]),N.get(L.MatchId).push(ae.MatchId))})}),e(C).filter(L=>N.has(L.MatchId)).length})())}),le(()=>a(),()=>{y(h,a())}),le(()=>n(),()=>{y(M,n())}),le(()=>s(),()=>{y(k,s())}),le(()=>l(),()=>{y(D,l())}),le(()=>v(),()=>{y(f,v())}),le(()=>(e(C),e(h),Ze),()=>{if(e(C).length>0&&e(h)!==void 0){const N=new Map,L=zt(_t);e(C).forEach(ee=>{const te=(ee.InvolvedTeam==="first"?ee.FirstTeamText:ee.SecondTeamText).match(/(\d+-\d+)/),ie=te?te[1]:"";if(!ie)return;const H=N.get(ie)||{total:0,inPlan:0};H.total++,L.has(ee.MatchId)&&H.inPlan++,N.set(ie,H)}),N.forEach((ee,ae)=>{Ze.updateFromPlan(ae,ee.inPlan,ee.total)})}}),Zt(),Vt();var je=Xl(),Pe=i(je),rt=i(Pe),bt=i(rt),xe=i(bt),Ue=i(xe),ke=d(i(Ue),2);{var F=N=>{var L=Rl(),ee=i(L),ae=d(ee);{var te=ie=>{var H=Fl(),ye=i(H);o(H),B(()=>T(ye,`â¢ ${e(g)??""} conflicts`)),b(ie,H)};P(ae,ie=>{e(g)>0&&ie(te)})}o(L),B(()=>T(ee,`${e(C),c(()=>e(C).length)??""} matches `)),b(N,L)};P(ke,N=>{e(C),c(()=>e(C).length>0)&&N(F)})}o(Ue);var $=d(Ue,2);{var m=N=>{var L=jl(),ee=i(L);{var ae=H=>{var ye=Wl(),R=i(ye,!0);o(ye),B(()=>T(R,(e(z),c(()=>e(z).name)))),b(H,ye)};P(ee,H=>{e(z),c(()=>e(z).name)&&H(ae)})}var te=d(ee,2);{var ie=H=>{var ye=Ll(),R=i(ye,!0);o(ye),B(Q=>T(R,Q),[()=>(e(z),_(Tt),c(()=>(()=>{try{const Q=e(z).startDate?new Date(e(z).startDate).getTime():null,Y=e(z).endDate?new Date(e(z).endDate).getTime():null;return Q&&Y&&Math.abs(Q-Y)>864e5?`${Tt(Q)} - ${Tt(Y)}`:Q?Tt(Q):Y?Tt(Y):null}catch{return null}})()))]),b(H,ye)};P(te,H=>{e(z),c(()=>(e(z).startDate||e(z).endDate)&&(()=>{try{const ye=e(z).startDate?new Date(e(z).startDate).getTime():null,R=e(z).endDate?new Date(e(z).endDate).getTime():null;return ye&&R&&Math.abs(ye-R)>864e5}catch{return!1}})())&&H(ie)})}o(L),b(N,L)};P($,N=>{e(z),c(()=>e(z)&&(e(z).name||e(z).startDate))&&N(m)})}var E=d($,2);{var se=N=>{var L=Yl(),ee=i(L),ae=d(ee);{var te=ie=>{var H=Ul(),ye=i(H);o(H),B(()=>T(ye,`â¢ ${e(g)??""} conflicts`)),b(ie,H)};P(ae,ie=>{e(g)>0&&ie(te)})}o(L),B(()=>T(ee,`${e(C),c(()=>e(C).length)??""} matches `)),b(N,L)};P(E,N=>{e(C),c(()=>e(C).length>0)&&N(se)})}o(xe);var ne=d(xe,2),ue=i(ne),Ce=d(i(ue),2);Ce.__change=N=>Ir.setRole(N.target.value);var Ye=i(Ce);Ye.value=Ye.__value="media";var et=d(Ye);et.value=et.__value="spectator";var pt=d(et);pt.value=pt.__value="coach",o(Ce);var ut;_r(Ce),o(ue);var Qe=d(ue,2);{var Ae=N=>{var L=Vl(),ee=dt(L);{var ae=R=>{var Q=Bl(),Y=i(Q);Y.__click=()=>y(de,"list");let V;var K=d(Y,2);K.__click=()=>y(de,"timeline");let Te;o(Q),B(()=>{V=Se(Y,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,V,{"bg-gold-500":e(de)==="list","text-charcoal-950":e(de)==="list","text-charcoal-300":e(de)!=="list","hover:text-charcoal-50":e(de)!=="list"}),nr(Y,e(de)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),Te=Se(K,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Te,{"bg-gold-500":e(de)==="timeline","text-charcoal-950":e(de)==="timeline","text-charcoal-300":e(de)!=="timeline","hover:text-charcoal-50":e(de)!=="timeline"}),nr(K,e(de)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),b(R,Q)};P(ee,R=>{e(D)||R(ae)})}var te=d(ee,2);{var ie=R=>{var Q=Hl();Q.__click=()=>y(fe,!e(fe));let Y;var V=i(Q);o(Q),B(()=>{Y=Se(Q,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,Y,{"text-charcoal-950":e(fe)}),nr(Q,e(fe)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),T(V,`Plan (${e(h)??""})`)}),b(R,Q)};P(te,R=>{e(M)&&e(h)>0&&R(ie)})}var H=d(te,2);H.__click=we;var ye=d(H,2);ye.__click=Le,b(N,L)};P(Qe,N=>{e(C),c(()=>e(C).length>0)&&N(Ae)})}var at=d(Qe,2);at.__click=()=>y(j,!e(j));let I;var Z=i(at,!0);o(at),o(ne),o(bt),o(rt),o(Pe);var U=d(Pe,2);{var X=N=>{var L=Gl(),ee=i(L),ae=i(ee);As(ae,{get eventId(){return e(x)},get date(){return e(w)},get timeWindow(){return e(O)},onLoad:Ee,get loading(){return e(A)}}),o(ee),o(L),b(N,L)};P(U,N=>{e(j)&&N(X)})}var me=d(U,2),pe=i(me);{var _e=N=>{var L=Jl();b(N,L)};P(pe,N=>{e(A)&&N(_e)})}var re=d(pe,2);{var he=N=>{var L=ql(),ee=d(i(L),2),ae=i(ee,!0);o(ee),o(L),B(()=>T(ae,e(G))),b(N,L)};P(re,N=>{e(G)&&N(he)})}var De=d(re,2);{var Je=N=>{var L=zl();b(N,L)};P(De,N=>{e(A),e(C),e(G),c(()=>!e(A)&&e(C).length===0&&!e(G))&&N(Je)})}var Re=d(De,2);{var ce=N=>{var L=$t(),ee=dt(L);{var ae=ie=>{Al(ie,{get matches(){return e(C)},get eventId(){return e(x)},get clubId(){return e(ve)}})},te=ie=>{var H=$t(),ye=dt(H);{var R=Y=>{qi(Y,{get matches(){return e(C)},get eventId(){return e(x)},get clubId(){return e(ve)}})},Q=Y=>{kc(Y,{get matches(){return e(C)},get eventId(){return e(x)}})};P(ye,Y=>{e(de)==="list"?Y(R):Y(Q,!1)},!0)}b(ie,H)};P(ee,ie=>{e(D)?ie(ae):ie(te,!1)})}b(N,L)};P(Re,N=>{e(C),c(()=>e(C).length>0)&&N(ce)})}var be=d(Re,2);{var ge=N=>{ol(N,{get matches(){return e(C)},onClose:()=>y(fe,!1)})};P(be,N=>{e(fe)&&N(ge)})}o(me),o(je),B(()=>{ut!==(ut=e(f))&&(Ce.value=(Ce.__value=e(f))??"",ur(Ce,e(f))),I=Se(at,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,I,{"text-charcoal-950":e(j)}),nr(at,e(j)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),T(Z,e(j)?"Hide":"Config")}),b(t,je),Ht(),p()}er(["change","click"]);export{od as component,nd as universal};
