import{f as F,a as k,c as Wt,d as ka}from"../chunks/BGoQ7gJS.js";import"../chunks/Db87pd3s.js";import{d as cr,w as Xe,o as $a,a as un,g as Et}from"../chunks/BaKoRTVr.js";import{G as Ar,x as je,a2 as fn,v as Ia,C as vn,B as mn,g as e,R as z,D as hn,H as gn,F as la,I as Fr,y as tr,ac as pn,az as bn,w as Zr,A as xn,m as Vt,ax as Pa,aG as Na,M as W,a8 as da,aj as ua,n as Aa,q as _n,aH as _r,aI as Rr,o as Fa,aJ as yr,aK as yn,at as wn,aL as Sn,aw as Tn,aM as Mn,U as Dn,aN as Ra,ab as Wa,aO as Cn,J as En,aP as On,aQ as kn,aR as $n,aS as In,aT as Pn,aU as Nn,aV as An,aW as Fn,aE as Rn,b as v,a9 as Wn,aX as Yn,p as wr,aY as ae,N as O,e as E,aZ as Sr,k as g,s as b,l as h,t as re,j as Tr,i as Ot,ak as Ln}from"../chunks/Pko6iT02.js";import{s as Z,e as Hn,d as ta}from"../chunks/DOfG5Qiu.js";import{p as lt,s as rt,i as L,a as ra}from"../chunks/BqARAWy1.js";import{i as Mr}from"../chunks/YAZl1wJw.js";const jn=!0;function Mt(t,r){return r}function Bn(t,r,n){for(var a=t.items,o=[],s=r.length,i=0;i<s;i++)Sn(r[i].e,o,!0);var c=s>0&&o.length===0&&n!==null;if(c){var l=n.parentNode;Tn(l),l.append(n),a.clear(),ct(t,r[0].prev,r[s-1].next)}Mn(o,()=>{for(var m=0;m<s;m++){var u=r[m];c||(a.delete(u.k),ct(t,u.prev,u.next)),Fa(u.e,!c)}})}function Dt(t,r,n,a,o,s=null){var i=t,c={flags:r,items:new Map,first:null},l=(r&Ra)!==0;if(l){var m=t;i=je?Ar(fn(m)):m.appendChild(Ia())}je&&vn();var u=null,_=!1,w=new Map,x=z(()=>{var A=n();return Na(A)?A:A==null?[]:Pa(A)}),d,f;function p(){Un(f,d,c,w,i,o,r,a,n),s!==null&&(d.length===0?u?Aa(u):u=Zr(()=>s(i)):u!==null&&_n(u,()=>{u=null}))}mn(()=>{f??(f=Dn),d=e(x);var A=d.length;if(_&&A===0)return;_=A===0;let y=!1;if(je){var $=hn(i)===gn;$!==(A===0)&&(i=la(),Ar(i),Fr(!1),y=!0)}if(je){for(var H=null,U,M=0;M<A;M++){if(tr.nodeType===pn&&tr.data===bn){i=tr,y=!0,Fr(!1);break}var q=d[M],te=a(q,M);U=ea(tr,c,H,null,q,te,M,o,r,n),c.items.set(te,U),H=U}A>0&&Ar(la())}if(je)A===0&&s&&(u=Zr(()=>s(i)));else if(xn()){var ee=new Set,We=Vt;for(M=0;M<A;M+=1){q=d[M],te=a(q,M);var ge=c.items.get(te)??w.get(te);ge?(r&(yr|_r))!==0&&Ya(ge,q,M,r):(U=ea(null,c,null,null,q,te,M,o,r,n,!0),w.set(te,U)),ee.add(te)}for(const[$e,Ne]of c.items)ee.has($e)||We.skipped_effects.add(Ne.e);We.oncommit(p)}else p();y&&Fr(!0),e(x)}),je&&(i=tr)}function Un(t,r,n,a,o,s,i,c,l){var V,oe,Te,C;var m=(i&Cn)!==0,u=(i&(yr|_r))!==0,_=r.length,w=n.items,x=n.first,d=x,f,p=null,A,y=[],$=[],H,U,M,q;if(m)for(q=0;q<_;q+=1)H=r[q],U=c(H,q),M=w.get(U),M!==void 0&&((V=M.a)==null||V.measure(),(A??(A=new Set)).add(M));for(q=0;q<_;q+=1){if(H=r[q],U=c(H,q),M=w.get(U),M===void 0){var te=a.get(U);if(te!==void 0){a.delete(U),w.set(U,te);var ee=p?p.next:d;ct(n,p,te),ct(n,te,ee),Wr(te,ee,o),p=te}else{var We=d?d.e.nodes_start:o;p=ea(We,n,p,p===null?n.first:p.next,H,U,q,s,i,l)}w.set(U,p),y=[],$=[],d=p.next;continue}if(u&&Ya(M,H,q,i),(M.e.f&Rr)!==0&&(Aa(M.e),m&&((oe=M.a)==null||oe.unfix(),(A??(A=new Set)).delete(M))),M!==d){if(f!==void 0&&f.has(M)){if(y.length<$.length){var ge=$[0],$e;p=ge.prev;var Ne=y[0],ze=y[y.length-1];for($e=0;$e<y.length;$e+=1)Wr(y[$e],ge,o);for($e=0;$e<$.length;$e+=1)f.delete($[$e]);ct(n,Ne.prev,ze.next),ct(n,p,Ne),ct(n,ze,ge),d=ge,p=ze,q-=1,y=[],$=[]}else f.delete(M),Wr(M,d,o),ct(n,M.prev,M.next),ct(n,M,p===null?n.first:p.next),ct(n,p,M),p=M;continue}for(y=[],$=[];d!==null&&d.k!==U;)(d.e.f&Rr)===0&&(f??(f=new Set)).add(d),$.push(d),d=d.next;if(d===null)continue;M=d}y.push(M),p=M,d=M.next}if(d!==null||f!==void 0){for(var Je=f===void 0?[]:Pa(f);d!==null;)(d.e.f&Rr)===0&&Je.push(d),d=d.next;var nt=Je.length;if(nt>0){var S=(i&Ra)!==0&&_===0?o:null;if(m){for(q=0;q<nt;q+=1)(Te=Je[q].a)==null||Te.measure();for(q=0;q<nt;q+=1)(C=Je[q].a)==null||C.fix()}Bn(n,Je,S)}}m&&Wa(()=>{var G;if(A!==void 0)for(M of A)(G=M.a)==null||G.apply()}),t.first=n.first&&n.first.e,t.last=p&&p.e;for(var N of a.values())Fa(N.e);a.clear()}function Ya(t,r,n,a){(a&yr)!==0&&ua(t.v,r),(a&_r)!==0?ua(t.i,n):t.i=n}function ea(t,r,n,a,o,s,i,c,l,m,u){var _=(l&yr)!==0,w=(l&yn)===0,x=_?w?W(o,!1,!1):da(o):o,d=(l&_r)===0?i:da(i),f={i:d,v:x,k:s,a:null,e:null,prev:n,next:a};try{if(t===null){var p=document.createDocumentFragment();p.append(t=Ia())}return f.e=Zr(()=>c(t,x,d,m),je),f.e.prev=n&&n.e,f.e.next=a&&a.e,n===null?u||(r.first=f):(n.next=f,n.e.next=f.e),a!==null&&(a.prev=f,a.e.prev=f.e),f}finally{}}function Wr(t,r,n){for(var a=t.next?t.next.e.nodes_start:n,o=r?r.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==a;){var i=wn(s);o.before(s),s=i}}function ct(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}const fa=[...` 	
\r\fÂ \v\uFEFF`];function Jn(t,r,n){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),n){for(var o in n)if(n[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,i=0;(i=a.indexOf(o,i))>=0;){var c=i+s;(i===0||fa.includes(a[i-1]))&&(c===a.length||fa.includes(a[c]))?a=(i===0?"":a.substring(0,i))+a.substring(c+1):i=c}}return a===""?null:a}function qn(t,r){return t==null?null:String(t)}function fe(t,r,n,a,o,s){var i=t.__className;if(je||i!==n||i===void 0){var c=Jn(n,a,s);(!je||c!==t.getAttribute("class"))&&(c==null?t.removeAttribute("class"):r?t.className=c:t.setAttribute("class",c)),t.__className=n}else if(s&&o!==s)for(var l in s){var m=!!s[l];(o==null||m!==!!o[l])&&t.classList.toggle(l,m)}return s}function Rt(t,r,n,a){var o=t.__style;if(je||o!==r){var s=qn(r);(!je||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return a}function or(t,r,n=!1){if(t.multiple){if(r==null)return;if(!Na(r))return On();for(var a of t.options)a.selected=r.includes(va(a));return}for(a of t.options){var o=va(a);if(kn(o,r)){a.selected=!0;return}}(!n||r!==void 0)&&(t.selectedIndex=-1)}function mr(t){var r=new MutationObserver(()=>{or(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),En(()=>{r.disconnect()})}function va(t){return"__value"in t?t.__value:t.value}const Gn=Symbol("is custom element"),Vn=Symbol("is html");function Yr(t){if(je){var r=!1,n=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;bt(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;bt(t,"checked",null),t.checked=o}}};t.__on_r=n,Wa(n),$n()}}function bt(t,r,n,a){var o=Xn(t);je&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=n)&&(r==="loading"&&(t[In]=n),n==null?t.removeAttribute(r):typeof n!="string"&&zn(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Xn(t){return t.__attributes??(t.__attributes={[Gn]:t.nodeName.includes("-"),[Vn]:t.namespaceURI===Pn})}var ma=new Map;function zn(t){var r=t.getAttribute("is")||t.nodeName,n=ma.get(r);if(n)return n;ma.set(r,n=[]);for(var a,o=t,s=Element.prototype;s!==o;){a=An(o);for(var i in a)a[i].set&&n.push(i);o=Nn(o)}return n}function Lr(t,r,n=r){var a=new WeakSet;Fn(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Hr(t)?jr(s):s,n(s),Vt!==null&&a.add(Vt),await Rn(),s!==(s=r())){var i=t.selectionStart,c=t.selectionEnd,l=t.value.length;if(t.value=s??"",c!==null){var m=t.value.length;i===c&&c===l&&m>l?(t.selectionStart=m,t.selectionEnd=m):(t.selectionStart=i,t.selectionEnd=Math.min(c,m))}}}),(je&&t.defaultValue!==t.value||v(r)==null&&t.value)&&(n(Hr(t)?jr(t.value):t.value),Vt!==null&&a.add(Vt)),Wn(()=>{var o=r();if(t===document.activeElement){var s=Yn??Vt;if(a.has(s))return}Hr(t)&&o===jr(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Hr(t){var r=t.type;return r==="number"||r==="range"}function jr(t){return t===""?null:+t}const Qn=jn,Kn=!1,Zn=(async()=>({})),zi=Object.freeze(Object.defineProperty({__proto__:null,load:Zn,ssr:Kn},Symbol.toStringTag,{value:"Module"})),La="https://results.advancedeventsystems.com/api",eo=async(t,r,n)=>{const a=`${La}/event/${t}/courts/${r}/${n}`,o=await fetch(a);if(!o.ok)throw new Error(`Failed to fetch court schedule: ${o.statusText}`);return o.json()},to=async t=>{const r=`${La}/event/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch event info: ${n.statusText}`);return n.json()},hr="630 Volleyball",gr="630",ro=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(n=>n&&(n.includes(hr)||n.includes(gr))),ao=t=>t.FirstTeamText&&(t.FirstTeamText.includes(hr)||t.FirstTeamText.includes(gr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(hr)||t.SecondTeamText.includes(gr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(hr)||t.WorkTeamText.includes(gr))?"work":null,no=t=>{const r=[];return t.forEach(n=>{n.CourtMatches.forEach(a=>{if(ro(a)){const o=ao(a);o&&o!=="work"&&r.push({...a,CourtName:n.Name,CourtId:n.CourtId,InvolvedTeam:o})}})}),r.sort((n,a)=>n.ScheduledStartDateTime-a.ScheduledStartDateTime)},Ha=t=>{const r=new Map;for(let n=0;n<t.length;n++){const a=t[n],o=[];for(let s=0;s<t.length;s++){if(n===s)continue;const i=t[s],c=a.ScheduledStartDateTime<i.ScheduledEndDateTime&&a.ScheduledEndDateTime>i.ScheduledStartDateTime,l=a.CourtId!==i.CourtId;c&&l&&o.push(i.MatchId)}o.length>0&&r.set(a.MatchId,o)}return r},ja=6048e5,oo=864e5,ha=Symbol.for("constructDateFrom");function kt(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&ha in t?t[ha](r):t instanceof Date?new t.constructor(r):new Date(r)}function at(t,r){return kt(r||t,t)}let so={};function Dr(){return so}function sr(t,r){var c,l,m,u;const n=Dr(),a=(r==null?void 0:r.weekStartsOn)??((l=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(m=n.locale)==null?void 0:m.options)==null?void 0:u.weekStartsOn)??0,o=at(t,r==null?void 0:r.in),s=o.getDay(),i=(s<a?7:0)+s-a;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function br(t,r){return sr(t,{...r,weekStartsOn:1})}function Ba(t,r){const n=at(t,r==null?void 0:r.in),a=n.getFullYear(),o=kt(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const s=br(o),i=kt(n,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const c=br(i);return n.getTime()>=s.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function ga(t){const r=at(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function io(t,...r){const n=kt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function pa(t,r){const n=at(t,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function co(t,r,n){const[a,o]=io(n==null?void 0:n.in,t,r),s=pa(a),i=pa(o),c=+s-ga(s),l=+i-ga(i);return Math.round((c-l)/oo)}function lo(t,r){const n=Ba(t,r),a=kt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),br(a)}function uo(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fo(t){return!(!uo(t)&&typeof t!="number"||isNaN(+at(t)))}function vo(t,r){const n=at(t,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ho=(t,r,n)=>{let a;const o=mo[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Br(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const go={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},po={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xo={date:Br({formats:go,defaultWidth:"full"}),time:Br({formats:po,defaultWidth:"full"}),dateTime:Br({formats:bo,defaultWidth:"full"})},_o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yo=(t,r,n,a)=>_o[t];function rr(t){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):i;o=t.formattingValues[c]||t.formattingValues[i]}else{const i=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(r):r;return o[s]}}const wo={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},So={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},To={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Do={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Co={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Eo=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Oo={ordinalNumber:Eo,era:rr({values:wo,defaultWidth:"wide"}),quarter:rr({values:So,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rr({values:To,defaultWidth:"wide"}),day:rr({values:Mo,defaultWidth:"wide"}),dayPeriod:rr({values:Do,defaultWidth:"wide",formattingValues:Co,defaultFormattingWidth:"wide"})};function ar(t){return(r,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;const i=s[0],c=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(c)?$o(c,_=>_.test(i)):ko(c,_=>_.test(i));let m;m=t.valueCallback?t.valueCallback(l):l,m=n.valueCallback?n.valueCallback(m):m;const u=r.slice(i.length);return{value:m,rest:u}}}function ko(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function $o(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Io(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const o=a[0],s=r.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const c=r.slice(o.length);return{value:i,rest:c}}}const Po=/^(\d+)(th|st|nd|rd)?/i,No=/\d+/i,Ao={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fo={any:[/^b/i,/^(a|c)/i]},Ro={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wo={any:[/1/i,/2/i,/3/i,/4/i]},Yo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ho={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jo={ordinalNumber:Io({matchPattern:Po,parsePattern:No,valueCallback:t=>parseInt(t,10)}),era:ar({matchPatterns:Ao,defaultMatchWidth:"wide",parsePatterns:Fo,defaultParseWidth:"any"}),quarter:ar({matchPatterns:Ro,defaultMatchWidth:"wide",parsePatterns:Wo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ar({matchPatterns:Yo,defaultMatchWidth:"wide",parsePatterns:Lo,defaultParseWidth:"any"}),day:ar({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:jo,defaultParseWidth:"any"}),dayPeriod:ar({matchPatterns:Bo,defaultMatchWidth:"any",parsePatterns:Uo,defaultParseWidth:"any"})},qo={code:"en-US",formatDistance:ho,formatLong:xo,formatRelative:yo,localize:Oo,match:Jo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Go(t,r){const n=at(t,r==null?void 0:r.in);return co(n,vo(n))+1}function Vo(t,r){const n=at(t,r==null?void 0:r.in),a=+br(n)-+lo(n);return Math.round(a/ja)+1}function Ua(t,r){var u,_,w,x;const n=at(t,r==null?void 0:r.in),a=n.getFullYear(),o=Dr(),s=(r==null?void 0:r.firstWeekContainsDate)??((_=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:_.firstWeekContainsDate)??o.firstWeekContainsDate??((x=(w=o.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??1,i=kt((r==null?void 0:r.in)||t,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const c=sr(i,r),l=kt((r==null?void 0:r.in)||t,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);const m=sr(l,r);return+n>=+c?a+1:+n>=+m?a:a-1}function Xo(t,r){var c,l,m,u;const n=Dr(),a=(r==null?void 0:r.firstWeekContainsDate)??((l=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(m=n.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??1,o=Ua(t,r),s=kt((r==null?void 0:r.in)||t,0);return s.setFullYear(o,0,a),s.setHours(0,0,0,0),sr(s,r)}function zo(t,r){const n=at(t,r==null?void 0:r.in),a=+sr(n,r)-+Xo(n,r);return Math.round(a/ja)+1}function ue(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const Tt={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return ue(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):ue(n+1,2)},d(t,r){return ue(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return ue(t.getHours()%12||12,r.length)},H(t,r){return ue(t.getHours(),r.length)},m(t,r){return ue(t.getMinutes(),r.length)},s(t,r){return ue(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return ue(o,r.length)}},Gt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ba={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Tt.y(t,r)},Y:function(t,r,n,a){const o=Ua(t,a),s=o>0?o:1-o;if(r==="YY"){const i=s%100;return ue(i,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):ue(s,r.length)},R:function(t,r){const n=Ba(t);return ue(n,r.length)},u:function(t,r){const n=t.getFullYear();return ue(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ue(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ue(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return Tt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return ue(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const o=zo(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):ue(o,r.length)},I:function(t,r,n){const a=Vo(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ue(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tt.d(t,r)},D:function(t,r,n){const a=Go(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ue(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return ue(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return ue(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return ue(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let o;switch(a===12?o=Gt.noon:a===0?o=Gt.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let o;switch(a>=17?o=Gt.evening:a>=12?o=Gt.afternoon:a>=4?o=Gt.morning:o=Gt.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Tt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tt.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ue(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ue(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tt.s(t,r)},S:function(t,r){return Tt.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return _a(a);case"XXXX":case"XX":return Ft(a);case"XXXXX":case"XXX":default:return Ft(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return _a(a);case"xxxx":case"xx":return Ft(a);case"xxxxx":case"xxx":default:return Ft(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+xa(a,":");case"OOOO":default:return"GMT"+Ft(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+xa(a,":");case"zzzz":default:return"GMT"+Ft(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return ue(a,r.length)},T:function(t,r,n){return ue(+t,r.length)}};function xa(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),s=a%60;return s===0?n+String(o):n+String(o)+r+ue(s,2)}function _a(t,r){return t%60===0?(t>0?"-":"+")+ue(Math.abs(t)/60,2):Ft(t,r)}function Ft(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=ue(Math.trunc(a/60),2),s=ue(a%60,2);return n+o+r+s}const ya=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ja=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Qo=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return ya(t,r);let s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",ya(a,r)).replace("{{time}}",Ja(o,r))},Ko={p:Ja,P:Qo},Zo=/^D+$/,es=/^Y+$/,ts=["D","DD","YY","YYYY"];function rs(t){return Zo.test(t)}function as(t){return es.test(t)}function ns(t,r,n){const a=os(t,r,n);if(console.warn(a),ts.includes(t))throw new RangeError(a)}function os(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ss=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,is=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cs=/^'([^]*?)'?$/,ls=/''/g,ds=/[a-zA-Z]/;function qa(t,r,n){var u,_,w,x;const a=Dr(),o=a.locale??qo,s=a.firstWeekContainsDate??((_=(u=a.locale)==null?void 0:u.options)==null?void 0:_.firstWeekContainsDate)??1,i=a.weekStartsOn??((x=(w=a.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,c=at(t,n==null?void 0:n.in);if(!fo(c))throw new RangeError("Invalid time value");let l=r.match(is).map(d=>{const f=d[0];if(f==="p"||f==="P"){const p=Ko[f];return p(d,o.formatLong)}return d}).join("").match(ss).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:us(d)};if(ba[f])return{isToken:!0,value:d};if(f.match(ds))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});o.localize.preprocessor&&(l=o.localize.preprocessor(c,l));const m={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(as(f)||rs(f))&&ns(f,r,String(t));const p=ba[f[0]];return p(c,f,o.localize,m)}).join("")}function us(t){const r=t.match(cs);return r?r[1].replace(ls,"'"):t}const Ee=t=>qa(new Date(t),"h:mm a"),nr=t=>qa(new Date(t),"MMM d, yyyy"),Ur="coveragePlan";function fs(){const{subscribe:t,set:r,update:n}=Xe(new Set);try{const o=localStorage.getItem(Ur);if(o){const s=JSON.parse(o);r(new Set(s.selectedMatches))}}catch(o){console.error("Failed to load coverage plan:",o)}const a=o=>{try{const s={selectedMatches:Array.from(o),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(Ur,JSON.stringify(s))}catch(s){console.error("Failed to save coverage plan:",s)}};return{subscribe:t,toggleMatch:o=>{n(s=>{const i=new Set(s);return i.has(o)?i.delete(o):i.add(o),a(i),i})},selectMatch:o=>{n(s=>{const i=new Set(s);return i.add(o),a(i),i})},deselectMatch:o=>{n(s=>{const i=new Set(s);return i.delete(o),a(i),i})},clearPlan:()=>{r(new Set),localStorage.removeItem(Ur)}}}const Be=fs();cr(Be,t=>t);const vs=cr(Be,t=>t.size),Jr="teamCoverageStatus";function ms(){const{subscribe:t,set:r,update:n}=Xe({});try{const o=localStorage.getItem(Jr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load coverage status:",o)}const a=o=>{if(Object.keys(o).length!==0)try{localStorage.setItem(Jr,JSON.stringify(o))}catch(s){console.error("Failed to save coverage status:",s)}};return{subscribe:t,setTeamStatus:(o,s)=>{n(i=>{const c={...i};return s==="not-covered"?delete c[o]:c[o]=s,a(c),c})},getTeamStatus:o=>{let s="not-covered";return t(i=>{s=i[o]||"not-covered"})(),s},clearAllStatus:()=>{r({}),localStorage.removeItem(Jr)},updateFromPlan:(o,s,i)=>{i!==0&&n(c=>{let l;if(s===0?l="not-covered":s===i?l="covered":l="partially-covered",(c[o]||"not-covered")===l)return c;const u={...c};return l==="not-covered"?delete u[o]:u[o]=l,a(u),u})},importStatuses:o=>{r(o),a(o)}}}const Re=ms(),wa="userRole";function hs(){const{subscribe:t,set:r}=Xe("media");try{const a=localStorage.getItem(wa);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const n=a=>{try{localStorage.setItem(wa,a)}catch(o){console.error("Failed to save user role:",o)}};return{subscribe:t,setRole:a=>{r(a),n(a)}}}const ir=hs(),aa=cr(ir,t=>t==="media"),na=cr(ir,t=>t==="spectator"),gs=cr(ir,t=>t==="coach");var ps=F('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function bs(t,r){wr(r,!1);let n=lt(r,"eventId",8),a=lt(r,"date",8),o=lt(r,"timeWindow",8),s=lt(r,"onLoad",8),i=lt(r,"loading",8,!1),c=W(n()),l=W(a()),m=W(o());async function u(M){M.preventDefault(),await s()(e(c),e(l),e(m))}ae(()=>(E(n()),e(c),E(a()),e(l),E(o()),e(m)),()=>{n()!==e(c)&&O(c,n()),a()!==e(l)&&O(l,a()),o()!==e(m)&&O(m,o())}),Sr(),Mr();var _=ps(),w=g(_),x=g(w),d=b(g(x),2);Yr(d),h(x);var f=b(x,2),p=b(g(f),2);Yr(p),h(f);var A=b(f,2),y=b(g(A),2);Yr(y),h(A);var $=b(A,2),H=g($),U=g(H,!0);h(H),h($),h(w),h(_),re(()=>{d.disabled=i(),p.disabled=i(),y.disabled=i(),H.disabled=i(),Rt(H,`background-color: ${i()?"#ca8a04":"#eab308"}; color: #18181b;`),Z(U,i()?"Loading...":"Load")}),Lr(d,()=>e(c),M=>O(c,M)),Lr(p,()=>e(l),M=>O(l,M)),Lr(y,()=>e(m),M=>O(m,M)),Hn("submit",_,u),k(t,_),Tr()}const Ga=(t,r,n,a={})=>{const{excludeSelected:o=!0,preferNoConflicts:s=!0,preferNearSelected:i=!0,maxResults:c=10}=a;return(o?t.filter(u=>!r.has(u.MatchId)):t).map(u=>{const _=[];let w=0;const x=n.has(u.MatchId);if(!x&&s?(w+=50,_.push("No conflicts")):x&&(w-=20,_.push("Has conflicts")),i&&r.size>0){const f=u.ScheduledStartDateTime,p=u.ScheduledEndDateTime,A=t.filter($=>r.has($.MatchId));let y=1/0;A.forEach($=>{const H=$.ScheduledStartDateTime,U=$.ScheduledEndDateTime,M=Math.abs(f-U),q=Math.abs(H-p),te=Math.min(M,q);te<y&&(y=te)}),y<7200*1e3?(w+=20,_.push("Near selected matches")):y>14400*1e3&&(w-=10,_.push("Far from selected matches"))}i&&r.size>0&&t.filter(A=>r.has(A.MatchId)).filter(A=>A.CourtName===u.CourtName).length>0&&(w+=15,_.push("Same court as selected matches"));const d=new Date(u.ScheduledStartDateTime).getHours();return d>=8&&d<12&&(w+=5,_.push("Morning match")),{match:u,score:w,reasons:_}}).sort((u,_)=>_.score-u.score).slice(0,c).filter(u=>u.score>0)},xs=(t,r,n,a,o,s={})=>{const{excludeSelected:i=!0,preferUncovered:c=!0,preferNoConflicts:l=!0,preferNearSelected:m=!0,maxResults:u=10}=s,_=[];return t.forEach(w=>{if(i&&r.has(w.MatchId))return;const x=o(w);if(!x)return;const d=a.get(x)||"not-covered",f=n.has(w.MatchId);let p=0;const A=[];if(c&&d==="not-covered"&&(p+=10,A.push("Uncovered team")),l&&!f&&(p+=5,A.push("No conflicts")),m&&r.size>0){const y=w.ScheduledStartDateTime;let $=!1;t.forEach(H=>{if(r.has(H.MatchId)){const M=Math.abs(y-H.ScheduledStartDateTime)/6e4;M<=30&&M>0&&($=!0)}}),$&&(p+=3,A.push("Near selected match"))}p>0&&A.length>0&&_.push({match:w,teamId:x,reason:A.join(", "),score:p})}),_.sort((w,x)=>x.score-w.score).slice(0,u)},_s=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),n=decodeURIComponent(escape(atob(r))),a=JSON.parse(n);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},ys=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},pr={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},qr="matchFilters";function ws(){const{subscribe:t,set:r,update:n}=Xe(pr);try{const o=localStorage.getItem(qr);if(o){const s=JSON.parse(o);r({...pr,...s})}}catch(o){console.error("Failed to load filters:",o)}const a=o=>{try{localStorage.setItem(qr,JSON.stringify(o))}catch(s){console.error("Failed to save filters:",s)}};return{subscribe:t,updateFilter:(o,s)=>{n(i=>{const c={...i,[o]:s};return a(c),c})},resetFilters:()=>{r(pr),localStorage.removeItem(qr)},setTimeRangePreset:o=>{n(s=>{let i;return o==="morning"?i={...s,timeRange:{start:"00:00",end:"14:29"}}:o==="afternoon"?i={...s,timeRange:{start:"14:30",end:"23:59"}}:i={...s,timeRange:{start:null,end:null}},a(i),i})},getTeamIdentifier:o=>{const i=(o.InvolvedTeam==="first"?o.FirstTeamText:o.SecondTeamText).match(/(\d+-\d+)/);return i?i[1]:""}}}const lr=ws();function Ce(t){const n=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return n?n[1]:""}function xr(t){const r=new Set(t.map(n=>n.Division.CodeAlias));return Array.from(r).sort()}function Va(t){const r=new Set;return t.forEach(n=>{const a=Ce(n);a&&r.add(a)}),Array.from(r).sort()}function Xa(t){let r=pr;return lr.subscribe(n=>{r=n})(),t.filter(n=>{if(r.division&&n.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),i=o.getMinutes(),c=s*60+i,l=870;if(r.wave==="morning"&&c>=l||r.wave==="afternoon"&&c<l)return!1}if(r.teams.length>0){const a=Ce(n);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),i=o.getMinutes(),c=s*60+i;if(r.timeRange.start){const[l,m]=r.timeRange.start.split(":").map(Number),u=l*60+m;if(c<u)return!1}if(r.timeRange.end){const[l,m]=r.timeRange.end.split(":").map(Number),u=l*60+m;if(c>u)return!1}}return!0})}function Ve(t,r){lr.updateFilter(t,r)}function Gr(){lr.resetFilters()}const Vr="matchPriorities";function Ss(){const{subscribe:t,set:r,update:n}=Xe({});try{const o=localStorage.getItem(Vr);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load priorities:",o)}const a=o=>{try{localStorage.setItem(Vr,JSON.stringify(o))}catch(s){console.error("Failed to save priorities:",s)}};return{subscribe:t,setPriority:(o,s)=>{n(i=>{const c={...i};return s===null?delete c[o]:c[o]=s,a(c),c})},getPriority:o=>{let s=null;return t(i=>{s=i[o]||null})(),s},clearAllPriorities:()=>{r({}),localStorage.removeItem(Vr)}}}const Ct=Ss(),Sa="followedTeams",Ta="teamColors";function Ts(){const{subscribe:t,set:r,update:n}=Xe([]),{subscribe:a,set:o,update:s}=Xe(new Map);{try{const l=localStorage.getItem(Sa);l&&r(JSON.parse(l))}catch(l){console.error("Failed to load followed teams:",l)}try{const l=localStorage.getItem(Ta);if(l){const m=JSON.parse(l);o(new Map(Object.entries(m)))}}catch(l){console.error("Failed to load team colors:",l)}}const i=l=>{try{localStorage.setItem(Sa,JSON.stringify(l))}catch(m){console.error("Failed to save followed teams:",m)}},c=l=>{try{const m={};l.forEach((u,_)=>{m[_]=u}),localStorage.setItem(Ta,JSON.stringify(m))}catch(m){console.error("Failed to save team colors:",m)}};return{subscribe:t,followTeam:(l,m)=>{n(u=>{if(u.some(w=>w.teamId===l))return u;const _=[...u,{teamId:l,teamName:m,followedAt:Date.now()}];return i(_),_})},unfollowTeam:l=>{n(m=>{const u=m.filter(_=>_.teamId!==l);return i(u),u}),s(m=>{const u=new Map(m);return u.delete(l),c(u),u})},isFollowing:l=>{let m=!1;return t(u=>{m=u.some(_=>_.teamId===l)})(),m},setTeamColor:(l,m)=>{s(u=>{const _=new Map(u);return _.set(l,m),c(_),_})},getTeamColor:l=>{let m=null;return a(u=>{m=u.get(l)||null})(),m},reorderTeams:(l,m)=>{n(u=>{const _=u.findIndex(d=>d.teamId===l);if(_===-1)return u;const w=[...u],x=w[_];return m==="top"?(w.splice(_,1),w.unshift(x)):m==="up"&&_>0?[w[_-1],w[_]]=[w[_],w[_-1]]:m==="down"&&_<w.length-1&&([w[_],w[_+1]]=[w[_+1],w[_]]),i(w),w})}}}const ur=Ts(),Ma="notificationPreferences",fr={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Ms(){const{subscribe:t,set:r,update:n}=Xe(fr),{subscribe:a,set:o}=Xe("default");{try{const c=localStorage.getItem(Ma);if(c){const l=JSON.parse(c);r({...fr,...l})}}catch(c){console.error("Failed to load notification preferences:",c)}"Notification"in window&&o(Notification.permission)}const s=c=>{try{localStorage.setItem(Ma,JSON.stringify(c))}catch(l){console.error("Failed to save notification preferences:",l)}},i=(c,l,m=!1)=>{let u="default";a(_=>{u=_})(),m&&u==="granted"&&"Notification"in window?new Notification(c,{body:l,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${c}: ${l}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let c="default";if(a(l=>{c=l})(),c==="default"){const l=await Notification.requestPermission();return o(l),l==="granted"}return c==="granted"}return!1},checkUpcomingMatches:(c,l)=>{let m=fr;if(t(w=>{m=w})(),!m.upcomingMatchReminder)return;const u=Date.now(),_=m.reminderMinutes*60*1e3;c.forEach(w=>{const x=w.ScheduledStartDateTime,d=x-u,f=w.FirstTeamText||w.SecondTeamText;if(l.includes(f)&&d>0&&d<=_){const p=`reminder-${w.MatchId}`,A=localStorage.getItem(p);if(!A||Date.now()-parseInt(A)>_){const y=Math.floor(d/6e4);i(`Match starting in ${y} minute${y!==1?"s":""}`,`${w.FirstTeamText} vs ${w.SecondTeamText}
${new Date(x).toLocaleTimeString()} - ${w.CourtName}`,m.browserNotifications),localStorage.setItem(p,Date.now().toString())}}})},notifyScoreUpdate:(c,l)=>{let m=fr;if(t(f=>{m=f})(),!m.scoreUpdateNotification)return;const u=l.sets.find(f=>f.completedAt===0)||l.sets[l.sets.length-1],_=l.sets.filter(f=>f.completedAt>0),w=_.filter(f=>f.team1Score>f.team2Score).length,x=_.filter(f=>f.team2Score>f.team1Score).length;let d=`Score: ${u.team1Score}-${u.team2Score}`;_.length>0&&(d=`Sets: ${w}-${x} | ${d}`),i(`${c.FirstTeamText} vs ${c.SecondTeamText}`,d,m.browserNotifications)},updatePreferences:c=>{n(l=>{const m={...l,...c};return s(m),m})}}}const Xr=Ms(),Ds="courtsync-score-updates";let vr=null;const Cs=()=>{if(!vr)try{vr=new BroadcastChannel(Ds)}catch(t){console.error("BroadcastChannel not supported:",t),vr={postMessage:()=>{},close:()=>{},onmessage:null}}return vr},Es=(t,r,n)=>{const a=Cs(),o={type:n?"score-update":"score-delete",eventId:t,matchId:r,score:n||void 0,timestamp:Date.now()};try{a.postMessage(o)}catch(s){console.error("Failed to broadcast score update:",s)}},Da="scoreHistory",Os=(t,r,n)=>{try{const a=localStorage.getItem(Da),o=a?JSON.parse(a):{};o[t.toString()]||(o[t.toString()]=[]);const s={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:n};o[t.toString()].push(s),o[t.toString()].length>100&&(o[t.toString()]=o[t.toString()].slice(-100)),localStorage.setItem(Da,JSON.stringify(o))}catch(a){console.error("Failed to save score history:",a)}},Ca="claimHistory",Ea=1e3;function zr(t){try{const r=localStorage.getItem(Ca),n=r?JSON.parse(r):[];n.unshift(t),n.length>Ea&&n.splice(Ea),localStorage.setItem(Ca,JSON.stringify(n))}catch(r){console.error("Failed to save claim history:",r)}}const Oa="matchClaims",Qr="matchScores",ks=1800*1e3;function za({eventId:t,userId:r="anonymous"}){const{subscribe:n,set:a,update:o}=Xe(new Map),{subscribe:s,set:i,update:c}=Xe(new Map);{try{const x=localStorage.getItem(Oa);if(x){const d=JSON.parse(x),f=new Map;Object.values(d).forEach(p=>{p.eventId===t&&p.expiresAt>Date.now()&&f.set(p.matchId,p)}),a(f)}}catch(x){console.error("Failed to load claims:",x)}try{const x=localStorage.getItem(Qr);if(x){const d=JSON.parse(x),f=new Map;Object.values(d).forEach(p=>{p.eventId===t&&f.set(p.matchId,p)}),i(f)}}catch(x){console.error("Failed to load scores:",x)}}const l=x=>{try{const d={};x.forEach(f=>{d[f.matchId.toString()]=f}),localStorage.setItem(Oa,JSON.stringify(d))}catch(d){console.error("Failed to save claims:",d)}},m=x=>{try{const d={};x.forEach(f=>{d[f.matchId.toString()]=f}),localStorage.setItem(Qr,JSON.stringify(d))}catch(d){console.error("Failed to save scores:",d)}};let u=null;return{claims:{subscribe:n},scores:{subscribe:s},claimMatch:(x,d)=>{const f=Date.now(),p=d+ks,A={matchId:x,claimedBy:r,claimedAt:f,expiresAt:p,eventId:t};o(y=>{const $=new Map(y);return $.set(x,A),l($),$}),zr({matchId:x,eventId:t,action:"claimed",userId:r,timestamp:f})},releaseClaim:x=>{o(d=>{const f=d.get(x),p=new Map(d);return p.delete(x),l(p),f&&Qn&&zr({matchId:x,eventId:t,action:"released",userId:f.claimedBy,timestamp:Date.now()}),p})},transferClaim:(x,d)=>{let f=!1;if(n(A=>{const y=A.get(x);f=(y==null?void 0:y.claimedBy)===r&&y.expiresAt>Date.now()})(),!f)return!1;const p=Date.now();return o(A=>{const y=A.get(x);if(!y)return A;const $={...y,claimedBy:d,claimedAt:p},H=new Map(A);return H.set(x,$),l(H),zr({matchId:x,eventId:t,action:"transferred",userId:r,timestamp:p,transferredTo:d}),H}),!0},isClaimed:x=>{let d=!1;return n(f=>{const p=f.get(x);d=p?p.expiresAt>Date.now():!1})(),d},getClaimStatus:x=>{let d="available";return n(f=>{const p=f.get(x);!p||p.expiresAt<Date.now()?d="available":p.claimedBy===r?d="claimed":d="locked"})(),d},getClaimer:x=>{let d=null;return n(f=>{const p=f.get(x);d=p&&p.expiresAt>Date.now()?p.claimedBy:null})(),d},isClaimOwner:x=>{let d=!1;return n(f=>{const p=f.get(x);d=(p==null?void 0:p.claimedBy)===r&&p.expiresAt>Date.now()})(),d},updateScore:(x,d,f)=>{const p={matchId:x,eventId:t,sets:d,status:f,lastUpdated:Date.now(),lastUpdatedBy:r};c(A=>{const y=new Map(A);return y.set(x,p),m(y),y}),Es(t,x,p),Os(x,p,r)},getScore:x=>{let d=null;return s(f=>{d=f.get(x)||null})(),d},clearEventData:()=>{o(x=>{const d=new Map(x);return d.forEach((f,p)=>{f.eventId===t&&d.delete(p)}),l(d),d}),c(x=>{const d=new Map(x);return d.forEach((f,p)=>{f.eventId===t&&d.delete(p)}),m(d),d})},startPolling:()=>{u||(u=setInterval(()=>{try{const x=localStorage.getItem(Qr);if(!x)return;const d=JSON.parse(x),f=new Map;let p=!1;s(A=>{Object.values(d).forEach(y=>{if(y.eventId===t){f.set(y.matchId,y);const $=A.get(y.matchId);(!$||y.lastUpdated&&y.lastUpdated>$.lastUpdated)&&(p=!0)}}),p&&c(y=>{const $=new Map(y);return f.forEach((H,U)=>{const M=y.get(U);(!M||H.lastUpdated&&H.lastUpdated>M.lastUpdated)&&$.set(U,H)}),$})})()}catch(x){console.error("Failed to poll scores:",x)}},3e3))},stopPolling:()=>{u&&(clearInterval(u),u=null)}}}const Kr="matchNotes";function $s(t){const{subscribe:r,set:n,update:a}=Xe(new Map);try{const s=localStorage.getItem(Kr);if(s){const i=JSON.parse(s),c=new Map;Object.values(i).forEach(l=>{l.eventId===t&&c.set(l.matchId,l)}),n(c)}}catch(s){console.error("Failed to load match notes:",s)}const o=s=>{try{const i=localStorage.getItem(Kr),c=i?JSON.parse(i):{};s.forEach(l=>{c[`${t}-${l.matchId}`]=l}),Object.keys(c).forEach(l=>{if(l.startsWith(`${t}-`)){const m=parseInt(l.split("-").pop()||"0");s.has(m)||delete c[l]}}),localStorage.setItem(Kr,JSON.stringify(c))}catch(i){console.error("Failed to save match notes:",i)}};return{subscribe:r,setNote:(s,i)=>{const c=Date.now();a(l=>{const m=new Map(l),u=m.get(s);return i.trim()?m.set(s,{matchId:s,eventId:t,note:i.trim(),createdAt:(u==null?void 0:u.createdAt)||c,updatedAt:c}):m.delete(s),o(m),m})},getNote:s=>{let i="";return r(c=>{var l;i=((l=c.get(s))==null?void 0:l.note)||""})(),i},deleteNote:s=>{a(i=>{const c=new Map(i);return c.delete(s),o(c),c})},hasNote:s=>{let i=!1;return r(c=>{const l=c.get(s);i=l!==void 0&&l.note.trim().length>0})(),i}}}function Is(t){return $s(t)}var Ps=F('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Ns=F('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),As=F("<button> </button>"),Fs=F('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),Rs=F('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),Ws=F('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),Ys=F('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),Ls=F('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),Hs=F("<span> </span>"),js=ka('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Bs=F("<button><!></button>"),Us=F('<div class="text-[#9fa2ab] mt-2 p-4 border border-[#454654] rounded-lg">TeamDetailPanel - To be migrated</div>'),Js=F('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),qs=F('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Gs=F('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Vs=F('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function Xs(t,r){wr(r,!1);const n=()=>rt(na,"$isSpectator",s),a=()=>rt(lr,"$filters",s),o=()=>rt(aa,"$isMedia",s),[s,i]=ra(),c=W(),l=W(),m=W(),u=W(),_=W(),w=W(),x=W(),d=W(),f=W(),p=W(),A=W(),y=W();let $=lt(r,"matches",8),H=lt(r,"eventId",8);lt(r,"clubId",8);let U=W("team"),M=W(null),q=W(!1),te=W(!1),ee=W(null),We=W(new Set),ge=W();Is(H());function $e(S){return S.InvolvedTeam==="first"?S.SecondTeamText:S.InvolvedTeam==="second"?S.FirstTeamText:`${S.FirstTeamText} vs ${S.SecondTeamText}`}$a(()=>{if(ys()){const S=_s();S&&S.scores.length>0&&JSON.stringify({eventId:S.eventId,scores:S.scores},null,2)}if(e(ge).startPolling(),n()){let S=[];if(ur.subscribe(N=>{S=N.map(V=>V.teamId)})(),S.length>0){const N=setInterval(()=>{Xr.checkUpcomingMatches($(),S)},6e4);return()=>clearInterval(N)}}}),un(()=>{e(ge).stopPolling()}),ae(()=>(n(),E(H())),()=>{const S=n();O(ge,za({eventId:H(),userId:S?"spectator":"anonymous"}))}),ae(()=>E($()),()=>{O(c,Ha($()))}),ae(()=>(a(),E($()),Ee),()=>{O(l,(()=>{if(a().wave!=="all"){const S=a().wave==="morning"?"08:00":"14:30",N=a().wave==="morning"?"14:30":"23:59";return xr($()).filter(V=>$().some(oe=>{const Te=Ee(oe.ScheduledStartDateTime),C=Te.split(" ")[1]||Te;return C>=S&&C<N&&oe.Division.Name===V}))}return xr($())})())}),ae(()=>E($()),()=>{O(m,Va($()))}),ae(()=>(E($()),Re),()=>{O(u,(()=>{const S=new Map;return $().forEach(N=>{const V=Ce(N);V&&S.set(V,Re.getTeamStatus(V))}),S})())}),ae(()=>(E($()),e(c),e(u),Ce),()=>{O(_,(()=>{const S=Et(Be);return xs($(),S,e(c),e(u),Ce,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),ae(()=>(E($()),a(),n(),ur),()=>{O(w,(()=>{let S=Xa($());if(a().priority&&a().priority!=="all"&&(S=S.filter(N=>Ct.getPriority(N.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(S=S.filter(N=>{const V=Ce(N);if(!V)return!0;const oe=Re.getTeamStatus(V);return a().coverageStatus==="uncovered"?oe==="not-covered":a().coverageStatus==="covered"?oe==="covered"||oe==="partially-covered":a().coverageStatus==="planned"?oe==="planned":!0})),n()){let N=[];ur.subscribe(V=>{N=V.map(oe=>oe.teamId)})(),N.length>0&&(S=S.filter(V=>{const oe=Ce(V);return oe&&N.includes(oe)}))}return S})())}),ae(()=>(E($()),e(c)),()=>{O(x,(()=>{const S=Et(Be);return Ga($(),S,e(c),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),ae(()=>e(x),()=>{O(d,new Set(e(x).map(S=>S.match.MatchId)))}),ae(()=>(E($()),Re),()=>{O(f,(()=>{const S=new Map;$().forEach(G=>{const le=Ce(G);if(le){const ve=Re.getTeamStatus(le);S.set(le,ve)}});const N=S.size,V=Array.from(S.values()).filter(G=>G==="covered").length,oe=Array.from(S.values()).filter(G=>G==="partially-covered").length,Te=Array.from(S.values()).filter(G=>G==="planned").length,C=Array.from(S.values()).filter(G=>G==="not-covered").length;return{totalTeams:N,coveredTeams:V,partiallyCoveredTeams:oe,plannedTeams:Te,uncoveredTeams:C,coveragePercentage:N>0?(V+oe)/N*100:0}})())}),ae(()=>(e(w),e(U),Ce),()=>{O(p,(()=>{let S=[...e(w)];return e(U)==="priority"?S.sort((N,V)=>{const oe=Ct.getPriority(N.MatchId),Te=Ct.getPriority(V.MatchId),C={"must-cover":3,priority:2,optional:1,null:0},G=C[oe||"null"],le=C[Te||"null"];return G!==le?le-G:N.ScheduledStartDateTime-V.ScheduledStartDateTime}):e(U)==="team"?S.sort((N,V)=>{const oe=Ce(N),Te=Ce(V);return oe.localeCompare(Te)}):e(U)==="court"?S.sort((N,V)=>N.CourtName.localeCompare(V.CourtName)):S.sort((N,V)=>N.ScheduledStartDateTime-V.ScheduledStartDateTime),S})())}),ae(()=>(e(p),Ee),()=>{O(A,(()=>{const S={};return e(p).forEach(N=>{const V=Ee(N.ScheduledStartDateTime);S[V]||(S[V]=[]),S[V].push(N)}),S})())}),ae(()=>e(A),()=>{O(y,Object.keys(e(A)).sort((S,N)=>{const V=new Date(`2000-01-01 ${S}`).getTime(),oe=new Date(`2000-01-01 ${N}`).getTime();return V-oe}))}),ae(()=>(n(),E($()),e(ge),e(We),e(ee)),()=>{if(n()&&$().length>0){const S=new Set;$().forEach(N=>{e(ge).isClaimOwner(N.MatchId)&&(S.add(N.MatchId),!e(We).has(N.MatchId)&&(!e(ee)||e(ee).MatchId!==N.MatchId)&&setTimeout(()=>{O(ee,N)},200))}),O(We,S)}}),ae(()=>(n(),E($()),e(ge),Xr),()=>{if(n()&&$().length>0){let S=[];ur.subscribe(N=>{S=N.map(V=>V.teamId)})(),$().forEach(N=>{const V=Ce(N);if(V&&S.includes(V)){const oe=e(ge).getScore(N.MatchId);oe&&oe.status==="in-progress"&&Xr.notifyScoreUpdate(N,oe)}})}}),Sr(),Mr();var Ne=Wt(),ze=Ot(Ne);{var Je=S=>{var N=Ps(),V=g(N,!0);h(N),re(()=>Z(V,(a(),v(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),k(S,N)},nt=S=>{var N=Vs(),V=g(N);{var oe=se=>{var _e=Ns();k(se,_e)};L(V,se=>{n()&&se(oe)})}var Te=b(V,2);{var C=se=>{var _e=Fs(),Le=g(_e),Qe=g(Le),He=g(Qe),Oe=g(He);h(He),Ln(),h(Qe);var be=b(Qe,2),T=g(be),I=g(T);h(T);var j=b(T,4),K=g(j);h(j);var J=b(j,4),Q=g(J);h(J);var Y=b(J,4),ne=g(Y);h(Y),h(be),h(Le);var pe=b(Le,2),D=g(pe);D.__click=()=>O(q,!e(q));var P=g(D,!0);h(D);var X=b(D,2);{var ce=B=>{var me=As();me.__click=()=>O(te,!e(te));var ye=g(me);h(me),re(()=>{fe(me,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(te)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),bt(me,"title",`${e(_),v(()=>e(_).length)??""} coverage suggestions`),Z(ye,`ð¡ Suggestions (${e(_),v(()=>e(_).length)??""})`)}),k(B,me)};L(X,B=>{e(_),v(()=>e(_).length>0)&&B(ce)})}h(pe),h(_e),re(B=>{Z(Oe,`${B??""}%`),Z(I,`â ${e(f),v(()=>e(f).coveredTeams)??""}`),Z(K,`â ${e(f),v(()=>e(f).partiallyCoveredTeams)??""}`),Z(Q,`ð ${e(f),v(()=>e(f).plannedTeams)??""}`),Z(ne,`â ${e(f),v(()=>e(f).uncoveredTeams)??""}`),fe(D,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(q)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Z(P,e(q)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(f),v(()=>e(f).coveragePercentage.toFixed(0)))]),k(se,_e)};L(Te,se=>{o(),e(f),v(()=>o()&&e(f).totalTeams>0)&&se(C)})}var G=b(Te,2);{var le=se=>{var _e=Ws(),Le=g(_e),Qe=b(g(Le),2);Qe.__click=()=>O(te,!1),h(Le);var He=b(Le,2);Dt(He,5,()=>(e(_),v(()=>e(_).slice(0,5))),Mt,(Oe,be)=>{var T=Rs(),I=g(T),j=g(I),K=g(j);h(j);var J=b(j,2),Q=g(J,!0);h(J),h(I);var Y=b(I,2);Y.__click=ne=>{ne.stopPropagation(),Be.selectMatch(e(be).match.MatchId)},h(T),re(ne=>{Z(K,`${ne??""} - ${e(be),v(()=>e(be).match.CourtName)??""} - Team ${e(be),v(()=>e(be).teamId)??""}`),Z(Q,(e(be),v(()=>e(be).reason)))},[()=>(E(Ee),e(be),v(()=>Ee(e(be).match.ScheduledStartDateTime)))]),k(Oe,T)}),h(He),h(_e),k(se,_e)};L(G,se=>{o(),e(te),e(_),v(()=>o()&&e(te)&&e(_).length>0)&&se(le)})}var ve=b(G,2);{var Ie=se=>{var _e=Ys();k(se,_e)};L(ve,se=>{o()&&se(Ie)})}var we=b(ve,2),Ye=g(we),dt=b(g(Ye),2),ut=g(dt);ut.__click=()=>O(U,"team");var xt=b(ut,2);xt.__click=()=>O(U,"court");var _t=b(xt,2);_t.__click=()=>O(U,"time"),h(dt),h(Ye);var Yt=b(Ye,2),qe=b(g(Yt),2),ft=g(qe);ft.__click=()=>Ve("wave","all");var vt=b(ft,2);vt.__click=()=>Ve("wave","morning");var mt=b(vt,2);mt.__click=()=>Ve("wave","afternoon"),h(qe),h(Yt),h(we);var yt=b(we,2),$t=g(yt);{var Lt=se=>{var _e=Ls();k(se,_e)},Xt=se=>{var _e=Wt(),Le=Ot(_e);Dt(Le,1,()=>e(y),Mt,(Qe,He)=>{const Oe=z(()=>(e(A),e(He),v(()=>e(A)[e(He)]))),be=z(()=>(E(e(Oe)),e(c),v(()=>e(Oe).filter(ce=>e(c).has(ce.MatchId)).length))),T=z(()=>e(be)>0),I=z(()=>(E(e(be)),E(e(Oe)),v(()=>e(be)===e(Oe).length)));var j=qs(),K=g(j),J=g(K),Q=g(J),Y=g(Q,!0);h(Q);var ne=b(Q,2),pe=g(ne);h(ne),h(J);var D=b(J,2);{var P=ce=>{var B=Hs(),me=g(B);h(B),re(()=>{fe(B,1,`text-xs font-medium ${e(I)?"text-[#808593]":"text-red-400"}`),Z(me,`${e(be)??""} conflict${e(be)!==1?"s":""}`)}),k(ce,B)};L(D,ce=>{e(T)&&ce(P)})}h(K);var X=b(K,2);Dt(X,1,()=>e(Oe),Mt,(ce,B)=>{const me=z(()=>(e(c),e(B),v(()=>e(c).has(e(B).MatchId)))),ye=z(()=>(E(Ce),e(B),v(()=>Ce(e(B))))),Ue=z(()=>(e(B),v(()=>$e(e(B))))),Ae=z(()=>(e(M),e(B),v(()=>e(M)===e(B).MatchId))),Ke=z(()=>(E(Ct),e(B),v(()=>Ct.getPriority(e(B).MatchId)))),jt=z(()=>(e(d),e(B),v(()=>e(d).has(e(B).MatchId)))),ht=z(()=>(E(e(ye)),E(Re),v(()=>e(ye)?Re.getTeamStatus(e(ye)):"not-covered"))),Bt=z(()=>e(ht)==="covered"||e(ht)==="partially-covered"),R=z(()=>e(ht)==="planned"),Ze=z(()=>e(ht)==="not-covered"),Pt=z(()=>e(q)&&e(Bt)),Me=z(()=>(E(Et),E(Be),v(()=>Et(Be)))),Fe=z(()=>(E(e(Me)),e(B),v(()=>e(Me).has(e(B).MatchId)))),zt=z(()=>e(me)&&!e(I));var gt=Js(),De=g(gt);De.__click=()=>O(M,e(Ae)?null:e(B).MatchId);var he=g(De);{var ot=et=>{var Pe=Bs();Pe.__click=St=>{St.stopPropagation(),Be.toggleMatch(e(B).MatchId)};var dr=g(Pe);{var Or=St=>{var kr=js();k(St,kr)};L(dr,St=>{e(Fe)&&St(Or)})}h(Pe),re(()=>{fe(Pe,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(Fe)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),bt(Pe,"aria-label",e(Fe)?"Remove from plan":"Add to plan")}),k(et,Pe)};L(he,et=>{o()&&et(ot)})}var xe=b(he,2),pt=g(xe),Nt=g(pt,!0);h(pt);var st=b(pt,2),wt=g(st);h(st),h(xe);var Ut=b(xe,2),Jt=g(Ut);h(Ut),h(De);var Cr=b(De,2);{var Er=et=>{var Pe=Us();k(et,Pe)};L(Cr,et=>{e(Ae)&&et(Er)})}h(gt),re(et=>{fe(De,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(zt)?"border border-red-800/50 bg-red-950/10":e(Ke)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(Ke)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(Ze)&&!e(Fe)?"border border-[#eab308] bg-[#eab308]/5":e(R)?"border border-[#eab308]/50 bg-[#eab308]/10":e(Bt)?"border border-green-500/30 bg-green-950/5":e(jt)&&!e(Fe)?"border border-green-500/50 bg-green-950/10":e(Fe)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(Pt)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),Z(Nt,et),Z(wt,`${e(B),v(()=>e(B).CourtName)??""} â¢ ${E(e(ye)),e(B),v(()=>e(ye)||e(B).Division.CodeAlias)??""} vs ${e(Ue)??""}`),fe(Jt,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(Ae)?"rotate-180":""}`)},[()=>(E(Ee),e(B),v(()=>Ee(e(B).ScheduledStartDateTime)))]),k(ce,gt)}),h(j),re(()=>{Z(Y,e(He)),Z(pe,`${E(e(Oe)),v(()=>e(Oe).length)??""} match${E(e(Oe)),v(()=>e(Oe).length!==1?"es":"")??""}`)}),k(Qe,j)}),k(se,_e)};L($t,se=>{e(y),v(()=>e(y).length===0)?se(Lt):se(Xt,!1)})}h(yt);var Ht=b(yt,2);{var It=se=>{var _e=Gs();k(se,_e)};L(Ht,se=>{e(ee)&&se(It)})}h(N),re(()=>{fe(ut,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),fe(xt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),fe(_t,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),fe(ft,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(vt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(mt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),k(S,N)};L(ze,S=>{e(w),v(()=>e(w).length===0)?S(Je):S(nt,!1)})}k(t,Ne),Tr(),i()}ta(["click"]);var zs=F('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Qs=F("<option> </option>"),Ks=F('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Zs=F("<option> </option>"),ei=F('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),ti=F('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),ri=F('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),ai=F('<span class="ml-2"> </span>'),ni=F('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),oi=F("<div> </div>"),si=F('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),ii=F('<div class="absolute top-0 left-0 text-[10px]"> </div>'),ci=F('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),li=F('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),di=F('<div class="text-[8px] text-[#9fa2ab]"> </div>'),ui=F('<div class="text-[8px] text-green-400">â</div>'),fi=F('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),vi=ka('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),mi=F('<div class="absolute left-full top-0 ml-2 z-50">PrioritySelector - To be migrated</div>'),hi=F('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),gi=F('<div class="absolute left-full top-0 ml-2 z-50">CoverageStatusSelector - To be migrated</div>'),pi=F('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),bi=F('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),xi=F('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),_i=F('<div class="text-[#9fa2ab] mt-4 p-4 border border-[#454654] rounded-lg">ConflictDetailsPanel - To be migrated</div>'),yi=F('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),wi=F('<div class="fixed inset-0 z-40"></div>'),Si=F('<div class="fixed inset-0 z-40"></div>'),Ti=F('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function Mi(t,r){wr(r,!1);const n=()=>rt(na,"$isSpectator",s),a=()=>rt(lr,"$filters",s),o=()=>rt(aa,"$isMedia",s),[s,i]=ra(),c=W(),l=W(),m=W(),u=W(),_=W(),w=W(),x=W(),d=W(),f=W(),p=W(),A=W(),y=W(),$=W();let H=lt(r,"matches",8),U=lt(r,"eventId",8),M=W(null),q=W(null),te=W(null),ee=W(null),We=null,ge=W();function $e(C){return C.InvolvedTeam==="first"?C.SecondTeamText:C.InvolvedTeam==="second"?C.FirstTeamText:`${C.FirstTeamText} vs ${C.SecondTeamText}`}function Ne(C){return e(f)===0?0:(C-e(x))/e(f)*100}function ze(C,G){return e(f)===0?0:(G-C)/e(f)*100}function Je(C){const G=[],le=[...C].sort((ve,Ie)=>ve.ScheduledStartDateTime-Ie.ScheduledStartDateTime);for(let ve=0;ve<le.length-1;ve++){const Ie=le[ve],we=le[ve+1],Ye=Math.floor((we.ScheduledStartDateTime-Ie.ScheduledEndDateTime)/6e4);Ye>0&&G.push({before:Ie,after:we,gapMinutes:Ye})}return G}function nt(C){e(c).has(C.MatchId)?O(M,C):o()?Be.toggleMatch(C.MatchId):O(M,C)}function S(C,G){G.stopPropagation(),O(q,e(q)===C?null:C)}ae(()=>(n(),E(U())),()=>{const C=n();O(ge,za({eventId:U(),userId:C?"spectator":"anonymous"}))}),ae(()=>E(H()),()=>{O(c,Ha(H()))}),ae(()=>(a(),E(H()),Ee),()=>{O(l,(()=>{if(a().wave!=="all"){const C=a().wave==="morning"?"08:00":"14:30",G=a().wave==="morning"?"14:30":"23:59";return xr(H()).filter(le=>H().some(ve=>{const Ie=Ee(ve.ScheduledStartDateTime),we=Ie.split(" ")[1]||Ie;return we>=C&&we<G&&ve.Division.CodeAlias===le}))}return xr(H())})())}),ae(()=>E(H()),()=>{O(m,Va(H()))}),ae(()=>(E(H()),a(),Re),()=>{O(u,(()=>{let C=Xa(H());return a().priority&&a().priority!=="all"&&(C=C.filter(G=>Ct.getPriority(G.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(C=C.filter(G=>{const le=Ce(G);if(!le)return!0;const ve=Re.getTeamStatus(le);return a().coverageStatus==="uncovered"?ve==="not-covered":a().coverageStatus==="covered"?ve==="covered"||ve==="partially-covered":a().coverageStatus==="planned"?ve==="planned":!0})),C})())}),ae(()=>(E(H()),e(c)),()=>{O(_,(()=>{const C=Et(Be);return Ga(H(),C,e(c),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),ae(()=>e(_),()=>{O(w,new Set(e(_).map(C=>C.match.MatchId)))}),ae(()=>e(u),()=>{O(x,e(u).length>0?Math.min(...e(u).map(C=>C.ScheduledStartDateTime)):0)}),ae(()=>e(u),()=>{O(d,e(u).length>0?Math.max(...e(u).map(C=>C.ScheduledEndDateTime)):0)}),ae(()=>(e(d),e(x)),()=>{O(f,e(d)-e(x))}),ae(()=>e(u),()=>{O(p,(()=>{const C={};return e(u).forEach(G=>{C[G.CourtName]||(C[G.CourtName]=[]),C[G.CourtName].push(G)}),C})())}),ae(()=>e(p),()=>{O(A,Object.keys(e(p)).sort())}),ae(()=>(e(q),e(u),Ce),()=>{O(y,(()=>{if(!e(q))return new Set;const C=new Set;return e(u).forEach(G=>{Ce(G)===e(q)&&C.add(G.MatchId)}),C})())}),ae(()=>(e(M),e(c),e(u)),()=>{O($,(()=>{if(!e(M))return[];const C=e(c).get(e(M).MatchId);return C?C.map(G=>e(u).find(le=>le.MatchId===G)).filter(Boolean):[]})())}),Sr(),Mr();var N=Wt(),V=Ot(N);{var oe=C=>{var G=zs(),le=g(G,!0);h(G),re(()=>Z(le,(a(),v(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),k(C,G)},Te=C=>{var G=Ti(),le=g(G),ve=g(le),Ie=b(g(ve),2),we=g(Ie);we.__click=()=>Ve("wave","all");var Ye=b(we,2);Ye.__click=()=>Ve("wave","morning");var dt=b(Ye,2);dt.__click=()=>Ve("wave","afternoon"),h(Ie),h(ve);var ut=b(ve,2);{var xt=D=>{var P=Ks(),X=b(g(P),2);X.__change=Ue=>Ve("division",Ue.target.value||null);var ce=g(X),B=g(ce);h(ce),ce.value=ce.__value="";var me=b(ce);Dt(me,1,()=>e(l),Mt,(Ue,Ae)=>{var Ke=Qs(),jt=g(Ke,!0);h(Ke);var ht={};re(()=>{Z(jt,e(Ae)),ht!==(ht=e(Ae))&&(Ke.value=(Ke.__value=e(Ae))??"")}),k(Ue,Ke)}),h(X);var ye;mr(X),h(P),re(()=>{Z(B,`All Divisions${a(),v(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),ye!==(ye=(a(),v(()=>a().division||"")))&&(X.value=(X.__value=(a(),v(()=>a().division||"")))??"",or(X,(a(),v(()=>a().division||""))))}),k(D,P)};L(ut,D=>{e(l),v(()=>e(l).length>1)&&D(xt)})}var _t=b(ut,2);{var Yt=D=>{var P=ei(),X=b(g(P),2);X.__change=B=>{const me=Array.from(B.target.selectedOptions,ye=>ye.value);Ve("teams",me)},Dt(X,5,()=>e(m),Mt,(B,me)=>{var ye=Zs(),Ue=g(ye,!0);h(ye);var Ae={};re(()=>{Z(Ue,e(me)),Ae!==(Ae=e(me))&&(ye.value=(ye.__value=e(me))??"")}),k(B,ye)}),h(X);var ce;mr(X),h(P),re(B=>{bt(X,"size",B),ce!==(ce=(a(),v(()=>a().teams)))&&(X.value=(X.__value=(a(),v(()=>a().teams)))??"",or(X,(a(),v(()=>a().teams))))},[()=>(e(m),v(()=>Math.min(e(m).length,4)))]),k(D,P)};L(_t,D=>{e(m),v(()=>e(m).length>0)&&D(Yt)})}var qe=b(_t,2),ft=b(g(qe),2),vt=g(ft);vt.__click=()=>Ve("timeRange",{start:null,end:null});var mt=b(vt,2);mt.__click=()=>Ve("timeRange",{start:"08:00",end:"14:30"});var yt=b(mt,2);yt.__click=()=>Ve("timeRange",{start:"14:30",end:"23:59"}),h(ft),h(qe);var $t=b(qe,2);{var Lt=D=>{var P=ti(),X=b(g(P),2);X.__change=Ae=>Ve("priority",Ae.target.value==="all"?"all":Ae.target.value);var ce=g(X);ce.value=ce.__value="all";var B=b(ce);B.value=B.__value="must-cover";var me=b(B);me.value=me.__value="priority";var ye=b(me);ye.value=ye.__value="optional",h(X);var Ue;mr(X),h(P),re(()=>{Ue!==(Ue=(a(),v(()=>a().priority||"all")))&&(X.value=(X.__value=(a(),v(()=>a().priority||"all")))??"",or(X,(a(),v(()=>a().priority||"all"))))}),k(D,P)};L($t,D=>{o()&&D(Lt)})}var Xt=b($t,2);{var Ht=D=>{var P=ri();P.__click=function(...X){Gr==null||Gr.apply(this,X)},k(D,P)};L(Xt,D=>{a(),v(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&D(Ht)})}h(le);var It=b(le,2),se=g(It),_e=g(se),Le=b(_e);{var Qe=D=>{var P=ai(),X=g(P);h(P),re(()=>Z(X,`(${e(u),v(()=>e(u).length)??""} of ${E(H()),v(()=>H().length)??""})`)),k(D,P)};L(Le,D=>{e(u),E(H()),v(()=>e(u).length!==H().length)&&D(Qe)})}h(se);var He=b(se,2);{var Oe=D=>{var P=ni(),X=b(g(P),2),ce=g(X);h(X);var B=b(X,2);B.__click=()=>O(q,null),h(P),re(()=>Z(ce,`Team ${e(q)??""}`)),k(D,P)};L(He,D=>{e(q)&&D(Oe)})}h(It);var be=b(It,2),T=g(be);Dt(T,5,()=>e(A),Mt,(D,P)=>{const X=z(()=>(e(p),e(P),v(()=>e(p)[e(P)])));var ce=xi(),B=g(ce),me=g(B),ye=g(me,!0);h(me);var Ue=b(me,2),Ae=g(Ue);h(Ue),h(B);var Ke=b(B,2),jt=g(Ke);Dt(jt,1,()=>(E(e(X)),v(()=>Je(e(X)))),Mt,(Bt,R)=>{const Ze=z(()=>(e(R),v(()=>Ne(e(R).before.ScheduledEndDateTime)))),Pt=z(()=>(e(R),v(()=>Ne(e(R).after.ScheduledStartDateTime)))),Me=z(()=>e(Pt)-e(Ze)),Fe=z(()=>(e(R),v(()=>e(R).gapMinutes>=30))),zt=z(()=>(e(R),v(()=>e(R).gapMinutes>=15&&e(R).gapMinutes<30)));var gt=Wt(),De=Ot(gt);{var he=ot=>{var xe=si(),pt=g(xe);{var Nt=st=>{var wt=oi(),Ut=g(wt);h(wt),re(()=>{fe(wt,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(Fe)?"bg-green-500/20 text-green-400":e(zt)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),Z(Ut,`${e(R),v(()=>e(R).gapMinutes)??""}m`)}),k(st,wt)};L(pt,st=>{e(Me)>3&&st(Nt)})}h(xe),re(()=>{Rt(xe,`left: ${e(Ze)??""}%; width: ${e(Me)??""}%; z-index: 0;`),bt(xe,"title",`${e(R),v(()=>e(R).gapMinutes)??""} min gap between matches`)}),k(ot,xe)};L(De,ot=>{e(Me)>=1&&ot(he)})}k(Bt,gt)});var ht=b(jt,2);Dt(ht,1,()=>e(X),Mt,(Bt,R)=>{const Ze=z(()=>(e(c),e(R),v(()=>e(c).has(e(R).MatchId)))),Pt=z(()=>(e(M),e(R),v(()=>{var ie;return((ie=e(M))==null?void 0:ie.MatchId)===e(R).MatchId}))),Me=z(()=>(E(Ce),e(R),v(()=>Ce(e(R))))),Fe=z(()=>(e(q),e(y),e(R),v(()=>e(q)!==null&&e(y).has(e(R).MatchId)))),zt=z(()=>e(q)!==null&&!e(Fe)),gt=z(()=>(E(Et),E(Be),v(()=>Et(Be)))),De=z(()=>(E(e(gt)),e(R),v(()=>e(gt).has(e(R).MatchId)))),he=z(()=>(E(Ct),e(R),v(()=>Ct.getPriority(e(R).MatchId)))),ot=z(()=>(e(w),e(R),v(()=>e(w).has(e(R).MatchId)))),xe=z(()=>(E(e(Me)),E(Re),v(()=>e(Me)?Re.getTeamStatus(e(Me)):"not-covered"))),pt=z(()=>e(xe)==="covered"||e(xe)==="partially-covered"),Nt=z(()=>e(xe)==="planned"),st=z(()=>e(xe)==="not-covered"),wt=z(()=>(e(R),v(()=>Ne(e(R).ScheduledStartDateTime)))),Ut=z(()=>(e(R),v(()=>Math.max(ze(e(R).ScheduledStartDateTime,e(R).ScheduledEndDateTime),2)))),Jt=z(()=>(e(R),v(()=>$e(e(R))))),Cr=z(()=>(E(e(he)),E(e(st)),E(e(De)),E(e(Nt)),E(e(Fe)),E(e(Ze)),E(e(pt)),E(e(ot)),e(R),v(()=>e(he)==="must-cover"?"#eab308":e(he)==="priority"?"#f59e0b":e(st)&&!e(De)||e(Nt)||e(Fe)||e(De)&&!e(Ze)?"#eab308":e(pt)||e(ot)&&!e(De)?"#10b981":e(Ze)?"#dc2626":e(R).Division.ColorHex))),Er=z(()=>e(he)==="must-cover"?"#facc15":e(he)==="priority"?"#fbbf24":e(st)&&!e(De)||e(Nt)?"#facc15":e(Pt)?"#eab308":e(Fe)||e(De)?"#facc15":e(Ze)?"#ef4444":"rgba(255, 255, 255, 0.2)"),et=z(()=>e(Pt)?30:e(Fe)?20:e(he)==="must-cover"?18:e(De)?15:e(Ze)?10:1);var Pe=bi();Pe.__click=ie=>{ie.target instanceof HTMLElement&&ie.target.closest(".priority-button")||nt(e(R))};var dr=g(Pe);{var Or=ie=>{var de=ii(),Se=g(de);h(de),re(()=>Z(Se,`${e(he)==="must-cover"&&"â­"}
											${e(he)==="priority"&&"ð¸"}
											${e(he)==="optional"&&"â"}`)),k(ie,de)};L(dr,ie=>{o()&&e(he)&&ie(Or)})}var St=b(dr,2);{var kr=ie=>{var de=ci();k(ie,de)};L(St,ie=>{o()&&e(ot)&&!e(De)&&ie(kr)})}var oa=b(St,2);{var Qa=ie=>{var de=li();k(ie,de)};L(oa,ie=>{o()&&e(De)&&ie(Qa)})}var Qt=b(oa,2);Qt.__click=ie=>e(Me)&&S(e(Me),ie);var Ka=g(Qt,!0);h(Qt);var $r=b(Qt,2),Za=g($r);h($r);var Ir=b($r,2),en=g(Ir,!0);h(Ir);var sa=b(Ir,2);{var tn=ie=>{const de=z(()=>(e(ge),e(R),v(()=>e(ge).getScore(e(R).MatchId))));var Se=Wt(),qt=Ot(Se);{var Kt=At=>{const Ge=z(()=>(E(e(de)),v(()=>e(de).sets.find(ke=>ke.completedAt===0)||e(de).sets[e(de).sets.length-1]))),it=z(()=>(E(e(de)),v(()=>e(de).sets.filter(ke=>ke.completedAt>0)))),tt=z(()=>(E(e(it)),v(()=>e(it).filter(ke=>ke.team1Score>ke.team2Score).length))),Zt=z(()=>(E(e(it)),v(()=>e(it).filter(ke=>ke.team2Score>ke.team1Score).length)));var Pr=fi(),ca=g(Pr);{var on=ke=>{var er=di(),dn=g(er);h(er),re(()=>Z(dn,`(${e(tt)??""}-${e(Zt)??""})`)),k(ke,er)};L(ca,ke=>{E(e(it)),v(()=>e(it).length>0)&&ke(on)})}var Nr=b(ca,2),sn=g(Nr);h(Nr);var cn=b(Nr,2);{var ln=ke=>{var er=ui();k(ke,er)};L(cn,ke=>{E(e(de)),v(()=>e(de).status==="in-progress")&&ke(ln)})}h(Pr),re(()=>Z(sn,`${E(e(Ge)),v(()=>e(Ge).team1Score)??""}-${E(e(Ge)),v(()=>e(Ge).team2Score)??""}`)),k(At,Pr)};L(qt,At=>{E(e(de)),v(()=>e(de)&&e(de).status!=="not-started")&&At(Kt)})}k(ie,Se)};L(sa,ie=>{e(ge)&&ie(tn)})}var ia=b(sa,2);{var rn=ie=>{var de=hi(),Se=g(de);Se.__click=tt=>{tt.stopPropagation(),O(te,e(te)===e(R).MatchId?null:e(R).MatchId)};var qt=g(Se),Kt=b(qt);{var At=tt=>{var Zt=vi();k(tt,Zt)};L(Kt,tt=>{e(he)||tt(At)})}h(Se);var Ge=b(Se,2);{var it=tt=>{var Zt=mi();k(tt,Zt)};L(Ge,tt=>{e(te),e(R),v(()=>e(te)===e(R).MatchId)&&tt(it)})}h(de),re(()=>{fe(Se,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(he)==="must-cover"?"text-[#facc15]":e(he)==="priority"?"text-[#fbbf24]":e(he)==="optional"?"text-white/60":"text-white/40"}`),bt(Se,"title",e(he)?`Priority: ${e(he)}`:"Set priority"),Z(qt,`${e(he)==="must-cover"&&"â­"}
												${e(he)==="priority"&&"ð¸"}
												${e(he)==="optional"&&"â"} `)}),k(ie,de)};L(ia,ie=>{o()&&ie(rn)})}var an=b(ia,2);{var nn=ie=>{var de=pi(),Se=g(de);Se.__click=Ge=>{Ge.stopPropagation(),O(ee,e(ee)===e(Me)?null:e(Me))};var qt=g(Se);h(Se);var Kt=b(Se,2);{var At=Ge=>{var it=gi();k(Ge,it)};L(Kt,Ge=>{e(ee)===e(Me)&&Ge(At)})}h(de),re(()=>{fe(Se,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(xe)==="covered"?"text-green-400":e(xe)==="partially-covered"?"text-[#fbbf24]":e(xe)==="planned"?"text-[#facc15]":"text-white/40"}`),bt(Se,"title",`Coverage: ${e(xe)??""}`),Z(qt,`${e(xe)==="covered"&&"â"}
												${e(xe)==="partially-covered"&&"â"}
												${e(xe)==="planned"&&"ð"}
												${e(xe)==="not-covered"&&"â"}`)}),k(ie,de)};L(an,ie=>{o()&&e(Me)&&ie(nn)})}h(Pe),re((ie,de,Se)=>{fe(Pe,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(Pt)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(Fe)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(zt)?"opacity-30":""} ${e(De)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(pt)?"opacity-60":""}`),Rt(Pe,`left: ${e(wt)??""}%; width: ${e(Ut)??""}%; background-color: ${e(Cr)??""}; border-color: ${e(Er)??""}; min-width: 100px; z-index: ${e(et)??""};`),bt(Pe,"title",`${e(R),v(()=>e(R).CompleteShortName)??""}: ${e(R),v(()=>e(R).FirstTeamText)??""} vs ${e(R),v(()=>e(R).SecondTeamText)??""} - ${ie??""}${e(Ze)?" (Click to see conflicts)":" (Click to add to plan)"}${e(he)?` [Priority: ${e(he)}]`:""}${e(ot)&&!e(De)?" [Easy opportunity]":""}${e(xe)!=="not-covered"?` [Coverage: ${e(xe)}]`:""}`),fe(Qt,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(Me)?"cursor-pointer hover:underline":""}`),Z(Ka,(E(e(Me)),e(R),v(()=>e(Me)||e(R).Division.CodeAlias))),Z(Za,`vs ${de??""}`),Z(en,Se)},[()=>(E(Ee),e(R),v(()=>Ee(e(R).ScheduledStartDateTime))),()=>(E(e(Jt)),v(()=>e(Jt).length>20?e(Jt).substring(0,17)+"...":e(Jt))),()=>(E(Ee),e(R),v(()=>Ee(e(R).ScheduledStartDateTime)))]),k(Bt,Pe)}),h(Ke),h(ce),re(()=>{Z(ye,e(P)),Z(Ae,`${E(e(X)),v(()=>e(X).length)??""} match${E(e(X)),v(()=>e(X).length!==1?"es":"")??""}`)}),k(D,ce)}),h(T),h(be);var I=b(be,2);{var j=D=>{var P=_i();k(D,P)};L(I,D=>{e(M)&&D(j)})}var K=b(I,2);{var J=D=>{var P=yi();k(D,P)};L(K,D=>{e(ge),v(()=>We&&e(ge)&&e(ge).isClaimOwner(We.MatchId))&&D(J)})}var Q=b(K,2);{var Y=D=>{var P=wi();P.__click=()=>O(te,null),k(D,P)};L(Q,D=>{e(te)!==null&&D(Y)})}var ne=b(Q,2);{var pe=D=>{var P=Si();P.__click=()=>O(ee,null),k(D,P)};L(ne,D=>{e(ee)!==null&&D(pe)})}h(G),re((D,P)=>{fe(we,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(Ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(dt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(vt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(mt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),fe(yt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),v(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Z(_e,`Timeline: ${D??""} - ${P??""} `)},[()=>(E(Ee),e(x),v(()=>Ee(e(x)))),()=>(E(Ee),e(d),v(()=>Ee(e(d))))]),k(C,G)};L(V,C=>{e(u),v(()=>e(u).length===0)?C(oe):C(Te,!1)})}k(t,N),Tr(),i()}ta(["click","change"]);var Di=F('<span class="ml-2" style="color: #ef4444;"> </span>'),Ci=F('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),Ei=F('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),Oi=F('<span class="hidden sm:inline"> </span>'),ki=F('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),$i=F('<span class="ml-2" style="color: #ef4444;"> </span>'),Ii=F('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),Pi=F('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),Ni=F("<button> </button>"),Ai=F('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),Fi=F('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Ri=F('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),Wi=F('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),Yi=F('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Li=F('<div class="text-[#9fa2ab]">CoachView component - To be migrated</div>'),Hi=F('<div class="text-[#9fa2ab]">CoveragePlanPanel component - To be migrated</div>'),ji=F('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!> <!></main></div>');function Qi(t,r){wr(r,!1);const n=()=>rt(vs,"$selectedCount",c),a=()=>rt(aa,"$isMedia",c),o=()=>rt(na,"$isSpectator",c),s=()=>rt(gs,"$isCoach",c),i=()=>rt(ir,"$userRole",c),[c,l]=ra(),m=W(),u=W(),_=W(),w=W(),x=W(),d=W();let f=W("PTAwMDAwNDEzMTQ90"),p=W("2025-11-01"),A=W(300),y=W([]),$=W(!1),H=W(null),U=W("list"),M=W(!1),q=W(24426),te=W(!1),ee=W(null);$a(()=>{We(e(f),e(p),e(A))});async function We(T,I,j){var K;O($,!0),O(H,null),O(f,T),O(p,I),O(A,j);try{const J=await to(T),Q=(K=J.Clubs)==null?void 0:K.find(pe=>pe.Name==="630 Volleyball");Q&&O(q,Q.ClubId),O(ee,{name:J.Name||J.EventName||J.FullName||J.Title||"Event",startDate:J.StartDate||J.StartDateTime||J.Start||J.StartTime,endDate:J.EndDate||J.EndDateTime||J.End||J.EndTime});const Y=await eo(T,I,j),ne=no(Y.CourtSchedules);O(y,ne)}catch(J){console.error("Error loading schedule:",J),O(H,J instanceof Error?J.message:"Failed to load schedule"),O(y,[])}finally{O($,!1)}}function ge(){const T=JSON.stringify(e(y),null,2),I=new Blob([T],{type:"application/json"}),j=URL.createObjectURL(I),K=document.createElement("a");K.href=j,K.download=`630-volleyball-matches-${e(p)}.json`,K.click(),URL.revokeObjectURL(j)}function $e(){const T=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],I=e(y).map(Y=>[Y.MatchId.toString(),Y.Division.Name,Y.CompleteShortName,Y.FirstTeamText,Y.SecondTeamText,Y.WorkTeamText,Y.CourtName,new Date(Y.ScheduledStartDateTime).toISOString(),new Date(Y.ScheduledEndDateTime).toISOString(),((Y.ScheduledEndDateTime-Y.ScheduledStartDateTime)/6e4).toString(),Y.InvolvedTeam]),j=[T.join(","),...I.map(Y=>Y.map(ne=>`"${ne}"`).join(","))].join(`
`),K=new Blob([j],{type:"text/csv"}),J=URL.createObjectURL(K),Q=document.createElement("a");Q.href=J,Q.download=`630-volleyball-matches-${e(p)}.csv`,Q.click(),URL.revokeObjectURL(J)}ae(()=>(e(y),Re),()=>{if(e(y).length>0){const T=new Map;e(y).forEach(I=>{const K=(I.InvolvedTeam==="first"?I.FirstTeamText:I.SecondTeamText).match(/(\d+-\d+)/),J=K?K[1]:"";if(!J)return;const Q=T.get(J)||{total:0,inPlan:0};Q.total++;let Y=!1;Be.subscribe(ne=>{Y=ne.has(I.MatchId)})(),Y&&Q.inPlan++,T.set(J,Q)}),T.forEach((I,j)=>{Re.updateFromPlan(j,I.inPlan,I.total)})}}),ae(()=>e(y),()=>{O(m,(()=>{const T=new Map;return e(y).forEach((I,j)=>{e(y).slice(j+1).forEach(K=>{I.ScheduledStartDateTime<K.ScheduledEndDateTime&&I.ScheduledEndDateTime>K.ScheduledStartDateTime&&(T.has(I.MatchId)||T.set(I.MatchId,[]),T.get(I.MatchId).push(K.MatchId))})}),e(y).filter(I=>T.has(I.MatchId)).length})())}),ae(()=>n(),()=>{O(u,n())}),ae(()=>a(),()=>{O(_,a())}),ae(()=>o(),()=>{O(w,o())}),ae(()=>s(),()=>{O(x,s())}),ae(()=>i(),()=>{O(d,i())}),ae(()=>(e(y),e(u),Re),()=>{if(e(y).length>0&&e(u)!==void 0){const T=new Map,I=Et(Be);e(y).forEach(j=>{const J=(j.InvolvedTeam==="first"?j.FirstTeamText:j.SecondTeamText).match(/(\d+-\d+)/),Q=J?J[1]:"";if(!Q)return;const Y=T.get(Q)||{total:0,inPlan:0};Y.total++,I.has(j.MatchId)&&Y.inPlan++,T.set(Q,Y)}),T.forEach((j,K)=>{Re.updateFromPlan(K,j.inPlan,j.total)})}}),Sr(),Mr();var Ne=ji(),ze=g(Ne),Je=g(ze),nt=g(Je),S=g(nt),N=g(S),V=b(g(N),2);{var oe=T=>{var I=Ci(),j=g(I),K=b(j);{var J=Q=>{var Y=Di(),ne=g(Y);h(Y),re(()=>Z(ne,`â¢ ${e(m)??""} conflicts`)),k(Q,Y)};L(K,Q=>{e(m)>0&&Q(J)})}h(I),re(()=>Z(j,`${e(y),v(()=>e(y).length)??""} matches `)),k(T,I)};L(V,T=>{e(y),v(()=>e(y).length>0)&&T(oe)})}h(N);var Te=b(N,2);{var C=T=>{var I=ki(),j=g(I);{var K=Y=>{var ne=Ei(),pe=g(ne,!0);h(ne),re(()=>Z(pe,(e(ee),v(()=>e(ee).name)))),k(Y,ne)};L(j,Y=>{e(ee),v(()=>e(ee).name)&&Y(K)})}var J=b(j,2);{var Q=Y=>{var ne=Oi(),pe=g(ne,!0);h(ne),re(D=>Z(pe,D),[()=>(e(ee),E(nr),v(()=>(()=>{try{const D=e(ee).startDate?new Date(e(ee).startDate).getTime():null,P=e(ee).endDate?new Date(e(ee).endDate).getTime():null;return D&&P&&Math.abs(D-P)>864e5?`${nr(D)} - ${nr(P)}`:D?nr(D):P?nr(P):null}catch{return null}})()))]),k(Y,ne)};L(J,Y=>{e(ee),v(()=>(e(ee).startDate||e(ee).endDate)&&(()=>{try{const ne=e(ee).startDate?new Date(e(ee).startDate).getTime():null,pe=e(ee).endDate?new Date(e(ee).endDate).getTime():null;return ne&&pe&&Math.abs(ne-pe)>864e5}catch{return!1}})())&&Y(Q)})}h(I),k(T,I)};L(Te,T=>{e(ee),v(()=>e(ee)&&(e(ee).name||e(ee).startDate))&&T(C)})}var G=b(Te,2);{var le=T=>{var I=Ii(),j=g(I),K=b(j);{var J=Q=>{var Y=$i(),ne=g(Y);h(Y),re(()=>Z(ne,`â¢ ${e(m)??""} conflicts`)),k(Q,Y)};L(K,Q=>{e(m)>0&&Q(J)})}h(I),re(()=>Z(j,`${e(y),v(()=>e(y).length)??""} matches `)),k(T,I)};L(G,T=>{e(y),v(()=>e(y).length>0)&&T(le)})}h(S);var ve=b(S,2),Ie=g(ve),we=b(g(Ie),2);we.__change=T=>ir.setRole(T.target.value);var Ye=g(we);Ye.value=Ye.__value="media";var dt=b(Ye);dt.value=dt.__value="spectator";var ut=b(dt);ut.value=ut.__value="coach",h(we);var xt;mr(we),h(Ie);var _t=b(Ie,2);{var Yt=T=>{var I=Ai(),j=Ot(I);{var K=pe=>{var D=Pi(),P=g(D);P.__click=()=>O(U,"list");let X;var ce=b(P,2);ce.__click=()=>O(U,"timeline");let B;h(D),re(()=>{X=fe(P,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,X,{"bg-gold-500":e(U)==="list","text-charcoal-950":e(U)==="list","text-charcoal-300":e(U)!=="list","hover:text-charcoal-50":e(U)!=="list"}),Rt(P,e(U)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),B=fe(ce,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,B,{"bg-gold-500":e(U)==="timeline","text-charcoal-950":e(U)==="timeline","text-charcoal-300":e(U)!=="timeline","hover:text-charcoal-50":e(U)!=="timeline"}),Rt(ce,e(U)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),k(pe,D)};L(j,pe=>{e(x)||pe(K)})}var J=b(j,2);{var Q=pe=>{var D=Ni();D.__click=()=>O(te,!e(te));let P;var X=g(D);h(D),re(()=>{P=fe(D,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,P,{"text-charcoal-950":e(te)}),Rt(D,e(te)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),Z(X,`Plan (${e(u)??""})`)}),k(pe,D)};L(J,pe=>{e(_)&&e(u)>0&&pe(Q)})}var Y=b(J,2);Y.__click=ge;var ne=b(Y,2);ne.__click=$e,k(T,I)};L(_t,T=>{e(y),v(()=>e(y).length>0)&&T(Yt)})}var qe=b(_t,2);qe.__click=()=>O(M,!e(M));let ft;var vt=g(qe,!0);h(qe),h(ve),h(nt),h(Je),h(ze);var mt=b(ze,2);{var yt=T=>{var I=Fi(),j=g(I),K=g(j);bs(K,{get eventId(){return e(f)},get date(){return e(p)},get timeWindow(){return e(A)},onLoad:We,get loading(){return e($)}}),h(j),h(I),k(T,I)};L(mt,T=>{e(M)&&T(yt)})}var $t=b(mt,2),Lt=g($t);{var Xt=T=>{var I=Ri();k(T,I)};L(Lt,T=>{e($)&&T(Xt)})}var Ht=b(Lt,2);{var It=T=>{var I=Wi(),j=b(g(I),2),K=g(j,!0);h(j),h(I),re(()=>Z(K,e(H))),k(T,I)};L(Ht,T=>{e(H)&&T(It)})}var se=b(Ht,2);{var _e=T=>{var I=Yi();k(T,I)};L(se,T=>{e($),e(y),e(H),v(()=>!e($)&&e(y).length===0&&!e(H))&&T(_e)})}var Le=b(se,2);{var Qe=T=>{var I=Wt(),j=Ot(I);{var K=Q=>{var Y=Li();k(Q,Y)},J=Q=>{var Y=Wt(),ne=Ot(Y);{var pe=P=>{Xs(P,{get matches(){return e(y)},get eventId(){return e(f)},get clubId(){return e(q)}})},D=P=>{Mi(P,{get matches(){return e(y)},get eventId(){return e(f)}})};L(ne,P=>{e(U)==="list"?P(pe):P(D,!1)},!0)}k(Q,Y)};L(j,Q=>{e(x)?Q(K):Q(J,!1)})}k(T,I)};L(Le,T=>{e(y),v(()=>e(y).length>0)&&T(Qe)})}var He=b(Le,2);L(He,T=>{});var Oe=b(He,2);{var be=T=>{var I=Hi();k(T,I)};L(Oe,T=>{e(te)&&T(be)})}h($t),h(Ne),re(()=>{xt!==(xt=e(d))&&(we.value=(we.__value=e(d))??"",or(we,e(d))),ft=fe(qe,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,ft,{"text-charcoal-950":e(M)}),Rt(qe,e(M)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),Z(vt,e(M)?"Hide":"Config")}),k(t,Ne),Tr(),l()}ta(["change","click"]);export{Qi as component,zi as universal};
