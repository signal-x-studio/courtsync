import{f as C,a as y,c as At,d as ma}from"../chunks/BGoQ7gJS.js";import"../chunks/Db87pd3s.js";import{d as Sr,w as Pt,o as ha,a as hn,g as Xt}from"../chunks/BaKoRTVr.js";import{G as Gr,x as gt,a2 as gn,v as ja,C as bn,B as xn,g as e,R as Z,D as pn,H as _n,F as _a,I as Vr,y as hr,ac as yn,az as Sn,w as va,A as wn,m as cr,ax as Ha,aG as Ba,M as Y,a8 as ya,aj as Sa,n as Ua,q as Tn,aH as Yr,aI as zr,o as Ja,aJ as Lr,aK as Mn,at as Dn,aL as Cn,aw as kn,aM as Pn,U as $n,aN as qa,ab as Ga,aO as In,J as En,aP as On,aQ as Nn,aR as Fn,aS as An,aT as Rn,aU as Wn,aV as Yn,aW as Ln,aE as jn,b as i,a9 as Hn,aX as Bn,p as ar,aY as oe,N as w,e as M,aZ as wr,k as u,s as m,l as c,t as V,j as nr,i as Qe,ak as Un}from"../chunks/Pko6iT02.js";import{s as L,e as pr,d as dr}from"../chunks/DOfG5Qiu.js";import{p as Ae,i as F,s as Nt,a as ga}from"../chunks/BqARAWy1.js";import{i as or}from"../chunks/YAZl1wJw.js";const Jn=!0;function lt(t,r){return r}function qn(t,r,n){for(var a=t.items,o=[],s=r.length,l=0;l<s;l++)Cn(r[l].e,o,!0);var d=s>0&&o.length===0&&n!==null;if(d){var v=n.parentNode;kn(v),v.append(n),a.clear(),Bt(t,r[0].prev,r[s-1].next)}Pn(o,()=>{for(var x=0;x<s;x++){var b=r[x];d||(a.delete(b.k),Bt(t,b.prev,b.next)),Ja(b.e,!d)}})}function dt(t,r,n,a,o,s=null){var l=t,d={flags:r,items:new Map,first:null},v=(r&qa)!==0;if(v){var x=t;l=gt?Gr(gn(x)):x.appendChild(ja())}gt&&bn();var b=null,D=!1,k=new Map,S=Z(()=>{var O=n();return Ba(O)?O:O==null?[]:Ha(O)}),f,g;function _(){Gn(g,f,d,k,l,o,r,a,n),s!==null&&(f.length===0?b?Ua(b):b=va(()=>s(l)):b!==null&&Tn(b,()=>{b=null}))}xn(()=>{g??(g=$n),f=e(S);var O=f.length;if(D&&O===0)return;D=O===0;let p=!1;if(gt){var I=pn(l)===_n;I!==(O===0)&&(l=_a(),Gr(l),Vr(!1),p=!0)}if(gt){for(var U=null,ae,E=0;E<O;E++){if(hr.nodeType===yn&&hr.data===Sn){l=hr,p=!0,Vr(!1);break}var ee=f[E],le=a(ee,E);ae=fa(hr,d,U,null,ee,le,E,o,r,n),d.items.set(le,ae),U=ae}O>0&&Gr(_a())}if(gt)O===0&&s&&(b=va(()=>s(l)));else if(wn()){var ce=new Set,Ye=cr;for(E=0;E<O;E+=1){ee=f[E],le=a(ee,E);var Pe=d.items.get(le)??k.get(le);Pe?(r&(Lr|Yr))!==0&&Va(Pe,ee,E,r):(ae=fa(null,d,null,null,ee,le,E,o,r,n,!0),k.set(le,ae)),ce.add(le)}for(const[Ee,Le]of d.items)ce.has(Ee)||Ye.skipped_effects.add(Le.e);Ye.oncommit(_)}else _();p&&Vr(!0),e(S)}),gt&&(l=hr)}function Gn(t,r,n,a,o,s,l,d,v){var Wt,R,q,h;var x=(l&In)!==0,b=(l&(Lr|Yr))!==0,D=r.length,k=n.items,S=n.first,f=S,g,_=null,O,p=[],I=[],U,ae,E,ee;if(x)for(ee=0;ee<D;ee+=1)U=r[ee],ae=d(U,ee),E=k.get(ae),E!==void 0&&((Wt=E.a)==null||Wt.measure(),(O??(O=new Set)).add(E));for(ee=0;ee<D;ee+=1){if(U=r[ee],ae=d(U,ee),E=k.get(ae),E===void 0){var le=a.get(ae);if(le!==void 0){a.delete(ae),k.set(ae,le);var ce=_?_.next:f;Bt(n,_,le),Bt(n,le,ce),Xr(le,ce,o),_=le}else{var Ye=f?f.e.nodes_start:o;_=fa(Ye,n,_,_===null?n.first:_.next,U,ae,ee,s,l,v)}k.set(ae,_),p=[],I=[],f=_.next;continue}if(b&&Va(E,U,ee,l),(E.e.f&zr)!==0&&(Ua(E.e),x&&((R=E.a)==null||R.unfix(),(O??(O=new Set)).delete(E))),E!==f){if(g!==void 0&&g.has(E)){if(p.length<I.length){var Pe=I[0],Ee;_=Pe.prev;var Le=p[0],qe=p[p.length-1];for(Ee=0;Ee<p.length;Ee+=1)Xr(p[Ee],Pe,o);for(Ee=0;Ee<I.length;Ee+=1)g.delete(I[Ee]);Bt(n,Le.prev,qe.next),Bt(n,_,Le),Bt(n,qe,Pe),f=Pe,_=qe,ee-=1,p=[],I=[]}else g.delete(E),Xr(E,f,o),Bt(n,E.prev,E.next),Bt(n,E,_===null?n.first:_.next),Bt(n,_,E),_=E;continue}for(p=[],I=[];f!==null&&f.k!==ae;)(f.e.f&zr)===0&&(g??(g=new Set)).add(f),I.push(f),f=f.next;if(f===null)continue;E=f}p.push(E),_=E,f=E.next}if(f!==null||g!==void 0){for(var ut=g===void 0?[]:Ha(g);f!==null;)(f.e.f&zr)===0&&ut.push(f),f=f.next;var vt=ut.length;if(vt>0){var $t=(l&qa)!==0&&D===0?o:null;if(x){for(ee=0;ee<vt;ee+=1)(q=ut[ee].a)==null||q.measure();for(ee=0;ee<vt;ee+=1)(h=ut[ee].a)==null||h.fix()}qn(n,ut,$t)}}x&&Ga(()=>{var T;if(O!==void 0)for(E of O)(T=E.a)==null||T.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var xt of a.values())Ja(xt.e);a.clear()}function Va(t,r,n,a){(a&Lr)!==0&&Sa(t.v,r),(a&Yr)!==0?Sa(t.i,n):t.i=n}function fa(t,r,n,a,o,s,l,d,v,x,b){var D=(v&Lr)!==0,k=(v&Mn)===0,S=D?k?Y(o,!1,!1):ya(o):o,f=(v&Yr)===0?l:ya(l),g={i:f,v:S,k:s,a:null,e:null,prev:n,next:a};try{if(t===null){var _=document.createDocumentFragment();_.append(t=ja())}return g.e=va(()=>d(t,S,f,x),gt),g.e.prev=n&&n.e,g.e.next=a&&a.e,n===null?b||(r.first=g):(n.next=g,n.e.next=g.e),a!==null&&(a.prev=g,a.e.prev=g.e),g}finally{}}function Xr(t,r,n){for(var a=t.next?t.next.e.nodes_start:n,o=r?r.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==a;){var l=Dn(s);o.before(s),s=l}}function Bt(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}const wa=[...` 	
\r\fÂ \v\uFEFF`];function Vn(t,r,n){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),n){for(var o in n)if(n[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,l=0;(l=a.indexOf(o,l))>=0;){var d=l+s;(l===0||wa.includes(a[l-1]))&&(d===a.length||wa.includes(a[d]))?a=(l===0?"":a.substring(0,l))+a.substring(d+1):l=d}}return a===""?null:a}function zn(t,r){return t==null?null:String(t)}function ue(t,r,n,a,o,s){var l=t.__className;if(gt||l!==n||l===void 0){var d=Vn(n,a,s);(!gt||d!==t.getAttribute("class"))&&(d==null?t.removeAttribute("class"):r?t.className=d:t.setAttribute("class",d)),t.__className=n}else if(s&&o!==s)for(var v in s){var x=!!s[v];(o==null||x!==!!o[v])&&t.classList.toggle(v,x)}return s}function Qt(t,r,n,a){var o=t.__style;if(gt||o!==r){var s=zn(r);(!gt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return a}function lr(t,r,n=!1){if(t.multiple){if(r==null)return;if(!Ba(r))return On();for(var a of t.options)a.selected=r.includes(Ta(a));return}for(a of t.options){var o=Ta(a);if(Nn(o,r)){a.selected=!0;return}}(!n||r!==void 0)&&(t.selectedIndex=-1)}function xr(t){var r=new MutationObserver(()=>{lr(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),En(()=>{r.disconnect()})}function Ta(t){return"__value"in t?t.__value:t.value}const Xn=Symbol("is custom element"),Qn=Symbol("is html");function Qr(t){if(gt){var r=!1,n=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;Ft(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;Ft(t,"checked",null),t.checked=o}}};t.__on_r=n,Ga(n),Fn()}}function Ft(t,r,n,a){var o=Kn(t);gt&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=n)&&(r==="loading"&&(t[An]=n),n==null?t.removeAttribute(r):typeof n!="string"&&Zn(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Kn(t){return t.__attributes??(t.__attributes={[Xn]:t.nodeName.includes("-"),[Qn]:t.namespaceURI===Rn})}var Ma=new Map;function Zn(t){var r=t.getAttribute("is")||t.nodeName,n=Ma.get(r);if(n)return n;Ma.set(r,n=[]);for(var a,o=t,s=Element.prototype;s!==o;){a=Yn(o);for(var l in a)a[l].set&&n.push(l);o=Wn(o)}return n}function Kr(t,r,n=r){var a=new WeakSet;Ln(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Zr(t)?ea(s):s,n(s),cr!==null&&a.add(cr),await jn(),s!==(s=r())){var l=t.selectionStart,d=t.selectionEnd,v=t.value.length;if(t.value=s??"",d!==null){var x=t.value.length;l===d&&d===v&&x>v?(t.selectionStart=x,t.selectionEnd=x):(t.selectionStart=l,t.selectionEnd=Math.min(d,x))}}}),(gt&&t.defaultValue!==t.value||i(r)==null&&t.value)&&(n(Zr(t)?ea(t.value):t.value),cr!==null&&a.add(cr)),Hn(()=>{var o=r();if(t===document.activeElement){var s=Bn??cr;if(a.has(s))return}Zr(t)&&o===ea(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Zr(t){var r=t.type;return r==="number"||r==="range"}function ea(t){return t===""?null:+t}const eo=Jn,to=!1,ro=(async()=>({})),Hc=Object.freeze(Object.defineProperty({__proto__:null,load:ro,ssr:to},Symbol.toStringTag,{value:"Module"})),Tr="https://results.advancedeventsystems.com/api",ao="https://results.advancedeventsystems.com/odata",no=async(t,r,n)=>{const a=`${Tr}/event/${t}/courts/${r}/${n}`,o=await fetch(a);if(!o.ok)throw new Error(`Failed to fetch court schedule: ${o.statusText}`);return o.json()},oo=async t=>{const r=`${Tr}/event/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch event info: ${n.statusText}`);return n.json()},so=async(t,r)=>{const n=`${ao}/${t}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch team assignments: ${a.statusText}`);return a.json()},ta=async(t,r,n,a)=>{const o=`${Tr}/event/${t}/division/${r}/team/${n}/schedule/${a}`,s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch team schedule: ${s.statusText}`);return s.json()},io=async(t,r)=>{const n=`${Tr}/event/${t}/division/${r}/plays`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch division plays: ${a.statusText}`);return a.json()},co=async(t,r)=>{const n=`${Tr}/event/${t}/poolsheet/${r}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch pool sheet: ${a.statusText}`);return a.json()},Nr="630 Volleyball",Fr="630",lo=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(n=>n&&(n.includes(Nr)||n.includes(Fr))),uo=t=>t.FirstTeamText&&(t.FirstTeamText.includes(Nr)||t.FirstTeamText.includes(Fr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(Nr)||t.SecondTeamText.includes(Fr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(Nr)||t.WorkTeamText.includes(Fr))?"work":null,vo=t=>{const r=[];return t.forEach(n=>{n.CourtMatches.forEach(a=>{if(lo(a)){const o=uo(a);o&&o!=="work"&&r.push({...a,CourtName:n.Name,CourtId:n.CourtId,InvolvedTeam:o})}})}),r.sort((n,a)=>n.ScheduledStartDateTime-a.ScheduledStartDateTime)},za=t=>{const r=new Map;for(let n=0;n<t.length;n++){const a=t[n],o=[];for(let s=0;s<t.length;s++){if(n===s)continue;const l=t[s],d=a.ScheduledStartDateTime<l.ScheduledEndDateTime&&a.ScheduledEndDateTime>l.ScheduledStartDateTime,v=a.CourtId!==l.CourtId;d&&v&&o.push(l.MatchId)}o.length>0&&r.set(a.MatchId,o)}return r},Xa=6048e5,fo=864e5,Da=Symbol.for("constructDateFrom");function Kt(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&Da in t?t[Da](r):t instanceof Date?new t.constructor(r):new Date(r)}function Rt(t,r){return Kt(r||t,t)}let mo={};function jr(){return mo}function _r(t,r){var d,v,x,b;const n=jr(),a=(r==null?void 0:r.weekStartsOn)??((v=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,o=Rt(t,r==null?void 0:r.in),s=o.getDay(),l=(s<a?7:0)+s-a;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Rr(t,r){return _r(t,{...r,weekStartsOn:1})}function Qa(t,r){const n=Rt(t,r==null?void 0:r.in),a=n.getFullYear(),o=Kt(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const s=Rr(o),l=Kt(n,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const d=Rr(l);return n.getTime()>=s.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Ca(t){const r=Rt(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function ho(t,...r){const n=Kt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function ka(t,r){const n=Rt(t,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function go(t,r,n){const[a,o]=ho(n==null?void 0:n.in,t,r),s=ka(a),l=ka(o),d=+s-Ca(s),v=+l-Ca(l);return Math.round((d-v)/fo)}function bo(t,r){const n=Qa(t,r),a=Kt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Rr(a)}function xo(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function po(t){return!(!xo(t)&&typeof t!="number"||isNaN(+Rt(t)))}function _o(t,r){const n=Rt(t,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},So=(t,r,n)=>{let a;const o=yo[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function ra(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},To={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Do={date:ra({formats:wo,defaultWidth:"full"}),time:ra({formats:To,defaultWidth:"full"}),dateTime:ra({formats:Mo,defaultWidth:"full"})},Co={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ko=(t,r,n,a)=>Co[t];function gr(t){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):l;o=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[d]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(r):r;return o[s]}}const Po={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$o={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Io={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Oo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},No={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fo=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ao={ordinalNumber:Fo,era:gr({values:Po,defaultWidth:"wide"}),quarter:gr({values:$o,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gr({values:Io,defaultWidth:"wide"}),day:gr({values:Eo,defaultWidth:"wide"}),dayPeriod:gr({values:Oo,defaultWidth:"wide",formattingValues:No,defaultFormattingWidth:"wide"})};function br(t){return(r,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;const l=s[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],v=Array.isArray(d)?Wo(d,D=>D.test(l)):Ro(d,D=>D.test(l));let x;x=t.valueCallback?t.valueCallback(v):v,x=n.valueCallback?n.valueCallback(x):x;const b=r.slice(l.length);return{value:x,rest:b}}}function Ro(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function Wo(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Yo(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const o=a[0],s=r.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const d=r.slice(o.length);return{value:l,rest:d}}}const Lo=/^(\d+)(th|st|nd|rd)?/i,jo=/\d+/i,Ho={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bo={any:[/^b/i,/^(a|c)/i]},Uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jo={any:[/1/i,/2/i,/3/i,/4/i]},qo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Go={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ko={ordinalNumber:Yo({matchPattern:Lo,parsePattern:jo,valueCallback:t=>parseInt(t,10)}),era:br({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any"}),quarter:br({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:Jo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:br({matchPatterns:qo,defaultMatchWidth:"wide",parsePatterns:Go,defaultParseWidth:"any"}),day:br({matchPatterns:Vo,defaultMatchWidth:"wide",parsePatterns:zo,defaultParseWidth:"any"}),dayPeriod:br({matchPatterns:Xo,defaultMatchWidth:"any",parsePatterns:Qo,defaultParseWidth:"any"})},Zo={code:"en-US",formatDistance:So,formatLong:Do,formatRelative:ko,localize:Ao,match:Ko,options:{weekStartsOn:0,firstWeekContainsDate:1}};function es(t,r){const n=Rt(t,r==null?void 0:r.in);return go(n,_o(n))+1}function ts(t,r){const n=Rt(t,r==null?void 0:r.in),a=+Rr(n)-+bo(n);return Math.round(a/Xa)+1}function Ka(t,r){var b,D,k,S;const n=Rt(t,r==null?void 0:r.in),a=n.getFullYear(),o=jr(),s=(r==null?void 0:r.firstWeekContainsDate)??((D=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((S=(k=o.locale)==null?void 0:k.options)==null?void 0:S.firstWeekContainsDate)??1,l=Kt((r==null?void 0:r.in)||t,0);l.setFullYear(a+1,0,s),l.setHours(0,0,0,0);const d=_r(l,r),v=Kt((r==null?void 0:r.in)||t,0);v.setFullYear(a,0,s),v.setHours(0,0,0,0);const x=_r(v,r);return+n>=+d?a+1:+n>=+x?a:a-1}function rs(t,r){var d,v,x,b;const n=jr(),a=(r==null?void 0:r.firstWeekContainsDate)??((v=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,o=Ka(t,r),s=Kt((r==null?void 0:r.in)||t,0);return s.setFullYear(o,0,a),s.setHours(0,0,0,0),_r(s,r)}function as(t,r){const n=Rt(t,r==null?void 0:r.in),a=+_r(n,r)-+rs(n,r);return Math.round(a/Xa)+1}function Me(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const Vt={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return Me(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):Me(n+1,2)},d(t,r){return Me(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return Me(t.getHours()%12||12,r.length)},H(t,r){return Me(t.getHours(),r.length)},m(t,r){return Me(t.getMinutes(),r.length)},s(t,r){return Me(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Me(o,r.length)}},ir={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pa={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Vt.y(t,r)},Y:function(t,r,n,a){const o=Ka(t,a),s=o>0?o:1-o;if(r==="YY"){const l=s%100;return Me(l,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Me(s,r.length)},R:function(t,r){const n=Qa(t);return Me(n,r.length)},u:function(t,r){const n=t.getFullYear();return Me(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Me(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Me(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return Vt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return Me(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const o=as(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Me(o,r.length)},I:function(t,r,n){const a=ts(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Me(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vt.d(t,r)},D:function(t,r,n){const a=es(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Me(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Me(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return Me(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let o;switch(a===12?o=ir.noon:a===0?o=ir.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let o;switch(a>=17?o=ir.evening:a>=12?o=ir.afternoon:a>=4?o=ir.morning:o=ir.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Vt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vt.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vt.s(t,r)},S:function(t,r){return Vt.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Ia(a);case"XXXX":case"XX":return rr(a);case"XXXXX":case"XXX":default:return rr(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return Ia(a);case"xxxx":case"xx":return rr(a);case"xxxxx":case"xxx":default:return rr(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+$a(a,":");case"OOOO":default:return"GMT"+rr(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+$a(a,":");case"zzzz":default:return"GMT"+rr(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return Me(a,r.length)},T:function(t,r,n){return Me(+t,r.length)}};function $a(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),s=a%60;return s===0?n+String(o):n+String(o)+r+Me(s,2)}function Ia(t,r){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):rr(t,r)}function rr(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Me(Math.trunc(a/60),2),s=Me(a%60,2);return n+o+r+s}const Ea=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Za=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ns=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Ea(t,r);let s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Ea(a,r)).replace("{{time}}",Za(o,r))},os={p:Za,P:ns},ss=/^D+$/,is=/^Y+$/,cs=["D","DD","YY","YYYY"];function ls(t){return ss.test(t)}function ds(t){return is.test(t)}function us(t,r,n){const a=vs(t,r,n);if(console.warn(a),cs.includes(t))throw new RangeError(a)}function vs(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ms=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hs=/^'([^]*?)'?$/,gs=/''/g,bs=/[a-zA-Z]/;function en(t,r,n){var b,D,k,S;const a=jr(),o=a.locale??Zo,s=a.firstWeekContainsDate??((D=(b=a.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,l=a.weekStartsOn??((S=(k=a.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??0,d=Rt(t,n==null?void 0:n.in);if(!po(d))throw new RangeError("Invalid time value");let v=r.match(ms).map(f=>{const g=f[0];if(g==="p"||g==="P"){const _=os[g];return _(f,o.formatLong)}return f}).join("").match(fs).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const g=f[0];if(g==="'")return{isToken:!1,value:xs(f)};if(Pa[g])return{isToken:!0,value:f};if(g.match(bs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(v=o.localize.preprocessor(d,v));const x={firstWeekContainsDate:s,weekStartsOn:l,locale:o};return v.map(f=>{if(!f.isToken)return f.value;const g=f.value;(ds(g)||ls(g))&&us(g,r,String(t));const _=Pa[g[0]];return _(d,g,o.localize,x)}).join("")}function xs(t){const r=t.match(hs);return r?r[1].replace(gs,"'"):t}const We=t=>en(new Date(t),"h:mm a"),zt=t=>en(new Date(t),"MMM d, yyyy"),aa="coveragePlan";function ps(){const{subscribe:t,set:r,update:n}=Pt(new Set);try{const o=localStorage.getItem(aa);if(o){const s=JSON.parse(o);r(new Set(s.selectedMatches))}}catch(o){console.error("Failed to load coverage plan:",o)}const a=o=>{try{const s={selectedMatches:Array.from(o),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(aa,JSON.stringify(s))}catch(s){console.error("Failed to save coverage plan:",s)}};return{subscribe:t,toggleMatch:o=>{n(s=>{const l=new Set(s);return l.has(o)?l.delete(o):l.add(o),a(l),l})},selectMatch:o=>{n(s=>{const l=new Set(s);return l.add(o),a(l),l})},deselectMatch:o=>{n(s=>{const l=new Set(s);return l.delete(o),a(l),l})},clearPlan:()=>{r(new Set),localStorage.removeItem(aa)}}}const bt=ps();Sr(bt,t=>t);const _s=Sr(bt,t=>t.size),na="teamCoverageStatus";function ys(){const{subscribe:t,set:r,update:n}=Pt({});try{const o=localStorage.getItem(na);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load coverage status:",o)}const a=o=>{if(Object.keys(o).length!==0)try{localStorage.setItem(na,JSON.stringify(o))}catch(s){console.error("Failed to save coverage status:",s)}};return{subscribe:t,setTeamStatus:(o,s)=>{n(l=>{const d={...l};return s==="not-covered"?delete d[o]:d[o]=s,a(d),d})},getTeamStatus:o=>{let s="not-covered";return t(l=>{s=l[o]||"not-covered"})(),s},clearAllStatus:()=>{r({}),localStorage.removeItem(na)},updateFromPlan:(o,s,l)=>{l!==0&&n(d=>{let v;if(s===0?v="not-covered":s===l?v="covered":v="partially-covered",(d[o]||"not-covered")===v)return d;const b={...d};return v==="not-covered"?delete b[o]:b[o]=v,a(b),b})},importStatuses:o=>{r(o),a(o)}}}const Ke=ys(),Oa="userRole";function Ss(){const{subscribe:t,set:r}=Pt("media");try{const a=localStorage.getItem(Oa);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const n=a=>{try{localStorage.setItem(Oa,a)}catch(o){console.error("Failed to save user role:",o)}};return{subscribe:t,setRole:a=>{r(a),n(a)}}}const yr=Ss(),ba=Sr(yr,t=>t==="media"),xa=Sr(yr,t=>t==="spectator"),ws=Sr(yr,t=>t==="coach");var Ts=C('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function Ms(t,r){ar(r,!1);let n=Ae(r,"eventId",8),a=Ae(r,"date",8),o=Ae(r,"timeWindow",8),s=Ae(r,"onLoad",8),l=Ae(r,"loading",8,!1),d=Y(n()),v=Y(a()),x=Y(o());async function b(E){E.preventDefault(),await s()(e(d),e(v),e(x))}oe(()=>(M(n()),e(d),M(a()),e(v),M(o()),e(x)),()=>{n()!==e(d)&&w(d,n()),a()!==e(v)&&w(v,a()),o()!==e(x)&&w(x,o())}),wr(),or();var D=Ts(),k=u(D),S=u(k),f=m(u(S),2);Qr(f),c(S);var g=m(S,2),_=m(u(g),2);Qr(_),c(g);var O=m(g,2),p=m(u(O),2);Qr(p),c(O);var I=m(O,2),U=u(I),ae=u(U,!0);c(U),c(I),c(k),c(D),V(()=>{f.disabled=l(),_.disabled=l(),p.disabled=l(),U.disabled=l(),Qt(U,`background-color: ${l()?"#ca8a04":"#eab308"}; color: #18181b;`),L(ae,l()?"Loading...":"Load")}),Kr(f,()=>e(d),E=>w(d,E)),Kr(_,()=>e(v),E=>w(v,E)),Kr(p,()=>e(x),E=>w(x,E)),pr("submit",D,b),y(t,D),nr()}const tn=(t,r,n,a={})=>{const{excludeSelected:o=!0,preferNoConflicts:s=!0,preferNearSelected:l=!0,maxResults:d=10}=a;return(o?t.filter(b=>!r.has(b.MatchId)):t).map(b=>{const D=[];let k=0;const S=n.has(b.MatchId);if(!S&&s?(k+=50,D.push("No conflicts")):S&&(k-=20,D.push("Has conflicts")),l&&r.size>0){const g=b.ScheduledStartDateTime,_=b.ScheduledEndDateTime,O=t.filter(I=>r.has(I.MatchId));let p=1/0;O.forEach(I=>{const U=I.ScheduledStartDateTime,ae=I.ScheduledEndDateTime,E=Math.abs(g-ae),ee=Math.abs(U-_),le=Math.min(E,ee);le<p&&(p=le)}),p<7200*1e3?(k+=20,D.push("Near selected matches")):p>14400*1e3&&(k-=10,D.push("Far from selected matches"))}l&&r.size>0&&t.filter(O=>r.has(O.MatchId)).filter(O=>O.CourtName===b.CourtName).length>0&&(k+=15,D.push("Same court as selected matches"));const f=new Date(b.ScheduledStartDateTime).getHours();return f>=8&&f<12&&(k+=5,D.push("Morning match")),{match:b,score:k,reasons:D}}).sort((b,D)=>D.score-b.score).slice(0,d).filter(b=>b.score>0)},Ds=(t,r,n,a,o,s={})=>{const{excludeSelected:l=!0,preferUncovered:d=!0,preferNoConflicts:v=!0,preferNearSelected:x=!0,maxResults:b=10}=s,D=[];return t.forEach(k=>{if(l&&r.has(k.MatchId))return;const S=o(k);if(!S)return;const f=a.get(S)||"not-covered",g=n.has(k.MatchId);let _=0;const O=[];if(d&&f==="not-covered"&&(_+=10,O.push("Uncovered team")),v&&!g&&(_+=5,O.push("No conflicts")),x&&r.size>0){const p=k.ScheduledStartDateTime;let I=!1;t.forEach(U=>{if(r.has(U.MatchId)){const E=Math.abs(p-U.ScheduledStartDateTime)/6e4;E<=30&&E>0&&(I=!0)}}),I&&(_+=3,O.push("Near selected match"))}_>0&&O.length>0&&D.push({match:k,teamId:S,reason:O.join(", "),score:_})}),D.sort((k,S)=>S.score-k.score).slice(0,b)},Cs=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),n=decodeURIComponent(escape(atob(r))),a=JSON.parse(n);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},ks=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},Ar={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},oa="matchFilters";function Ps(){const{subscribe:t,set:r,update:n}=Pt(Ar);try{const o=localStorage.getItem(oa);if(o){const s=JSON.parse(o);r({...Ar,...s})}}catch(o){console.error("Failed to load filters:",o)}const a=o=>{try{localStorage.setItem(oa,JSON.stringify(o))}catch(s){console.error("Failed to save filters:",s)}};return{subscribe:t,updateFilter:(o,s)=>{n(l=>{const d={...l,[o]:s};return a(d),d})},resetFilters:()=>{r(Ar),localStorage.removeItem(oa)},setTimeRangePreset:o=>{n(s=>{let l;return o==="morning"?l={...s,timeRange:{start:"00:00",end:"14:29"}}:o==="afternoon"?l={...s,timeRange:{start:"14:30",end:"23:59"}}:l={...s,timeRange:{start:null,end:null}},a(l),l})},getTeamIdentifier:o=>{const l=(o.InvolvedTeam==="first"?o.FirstTeamText:o.SecondTeamText).match(/(\d+-\d+)/);return l?l[1]:""}}}const Mr=Ps();function Je(t){const n=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return n?n[1]:""}function Wr(t){const r=new Set(t.map(n=>n.Division.CodeAlias));return Array.from(r).sort()}function rn(t){const r=new Set;return t.forEach(n=>{const a=Je(n);a&&r.add(a)}),Array.from(r).sort()}function an(t){let r=Ar;return Mr.subscribe(n=>{r=n})(),t.filter(n=>{if(r.division&&n.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),l=o.getMinutes(),d=s*60+l,v=870;if(r.wave==="morning"&&d>=v||r.wave==="afternoon"&&d<v)return!1}if(r.teams.length>0){const a=Je(n);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),l=o.getMinutes(),d=s*60+l;if(r.timeRange.start){const[v,x]=r.timeRange.start.split(":").map(Number),b=v*60+x;if(d<b)return!1}if(r.timeRange.end){const[v,x]=r.timeRange.end.split(":").map(Number),b=v*60+x;if(d>b)return!1}}return!0})}function Ct(t,r){Mr.updateFilter(t,r)}function sa(){Mr.resetFilters()}const ia="matchPriorities";function $s(){const{subscribe:t,set:r,update:n}=Pt({});try{const o=localStorage.getItem(ia);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load priorities:",o)}const a=o=>{try{localStorage.setItem(ia,JSON.stringify(o))}catch(s){console.error("Failed to save priorities:",s)}};return{subscribe:t,setPriority:(o,s)=>{n(l=>{const d={...l};return s===null?delete d[o]:d[o]=s,a(d),d})},getPriority:o=>{let s=null;return t(l=>{s=l[o]||null})(),s},clearAllPriorities:()=>{r({}),localStorage.removeItem(ia)}}}const kt=$s(),Na="followedTeams",Fa="teamColors";function Is(){const{subscribe:t,set:r,update:n}=Pt([]),{subscribe:a,set:o,update:s}=Pt(new Map);{try{const v=localStorage.getItem(Na);v&&r(JSON.parse(v))}catch(v){console.error("Failed to load followed teams:",v)}try{const v=localStorage.getItem(Fa);if(v){const x=JSON.parse(v);o(new Map(Object.entries(x)))}}catch(v){console.error("Failed to load team colors:",v)}}const l=v=>{try{localStorage.setItem(Na,JSON.stringify(v))}catch(x){console.error("Failed to save followed teams:",x)}},d=v=>{try{const x={};v.forEach((b,D)=>{x[D]=b}),localStorage.setItem(Fa,JSON.stringify(x))}catch(x){console.error("Failed to save team colors:",x)}};return{subscribe:t,followTeam:(v,x)=>{n(b=>{if(b.some(k=>k.teamId===v))return b;const D=[...b,{teamId:v,teamName:x,followedAt:Date.now()}];return l(D),D})},unfollowTeam:v=>{n(x=>{const b=x.filter(D=>D.teamId!==v);return l(b),b}),s(x=>{const b=new Map(x);return b.delete(v),d(b),b})},isFollowing:v=>{let x=!1;return t(b=>{x=b.some(D=>D.teamId===v)})(),x},setTeamColor:(v,x)=>{s(b=>{const D=new Map(b);return D.set(v,x),d(D),D})},getTeamColor:v=>{let x=null;return a(b=>{x=b.get(v)||null})(),x},reorderTeams:(v,x)=>{n(b=>{const D=b.findIndex(f=>f.teamId===v);if(D===-1)return b;const k=[...b],S=k[D];return x==="top"?(k.splice(D,1),k.unshift(S)):x==="up"&&D>0?[k[D-1],k[D]]=[k[D],k[D-1]]:x==="down"&&D<k.length-1&&([k[D],k[D+1]]=[k[D+1],k[D]]),l(k),k})}}}const Ir=Is(),Aa="notificationPreferences",Er={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Es(){const{subscribe:t,set:r,update:n}=Pt(Er),{subscribe:a,set:o}=Pt("default");{try{const d=localStorage.getItem(Aa);if(d){const v=JSON.parse(d);r({...Er,...v})}}catch(d){console.error("Failed to load notification preferences:",d)}"Notification"in window&&o(Notification.permission)}const s=d=>{try{localStorage.setItem(Aa,JSON.stringify(d))}catch(v){console.error("Failed to save notification preferences:",v)}},l=(d,v,x=!1)=>{let b="default";a(D=>{b=D})(),x&&b==="granted"&&"Notification"in window?new Notification(d,{body:v,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${d}: ${v}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let d="default";if(a(v=>{d=v})(),d==="default"){const v=await Notification.requestPermission();return o(v),v==="granted"}return d==="granted"}return!1},checkUpcomingMatches:(d,v)=>{let x=Er;if(t(k=>{x=k})(),!x.upcomingMatchReminder)return;const b=Date.now(),D=x.reminderMinutes*60*1e3;d.forEach(k=>{const S=k.ScheduledStartDateTime,f=S-b,g=k.FirstTeamText||k.SecondTeamText;if(v.includes(g)&&f>0&&f<=D){const _=`reminder-${k.MatchId}`,O=localStorage.getItem(_);if(!O||Date.now()-parseInt(O)>D){const p=Math.floor(f/6e4);l(`Match starting in ${p} minute${p!==1?"s":""}`,`${k.FirstTeamText} vs ${k.SecondTeamText}
${new Date(S).toLocaleTimeString()} - ${k.CourtName}`,x.browserNotifications),localStorage.setItem(_,Date.now().toString())}}})},notifyScoreUpdate:(d,v)=>{let x=Er;if(t(g=>{x=g})(),!x.scoreUpdateNotification)return;const b=v.sets.find(g=>g.completedAt===0)||v.sets[v.sets.length-1],D=v.sets.filter(g=>g.completedAt>0),k=D.filter(g=>g.team1Score>g.team2Score).length,S=D.filter(g=>g.team2Score>g.team1Score).length;let f=`Score: ${b.team1Score}-${b.team2Score}`;D.length>0&&(f=`Sets: ${k}-${S} | ${f}`),l(`${d.FirstTeamText} vs ${d.SecondTeamText}`,f,x.browserNotifications)},updatePreferences:d=>{n(v=>{const x={...v,...d};return s(x),x})}}}const ca=Es(),Os="courtsync-score-updates";let Or=null;const Ns=()=>{if(!Or)try{Or=new BroadcastChannel(Os)}catch(t){console.error("BroadcastChannel not supported:",t),Or={postMessage:()=>{},close:()=>{},onmessage:null}}return Or},Fs=(t,r,n)=>{const a=Ns(),o={type:n?"score-update":"score-delete",eventId:t,matchId:r,score:n||void 0,timestamp:Date.now()};try{a.postMessage(o)}catch(s){console.error("Failed to broadcast score update:",s)}},Ra="scoreHistory",As=(t,r,n)=>{try{const a=localStorage.getItem(Ra),o=a?JSON.parse(a):{};o[t.toString()]||(o[t.toString()]=[]);const s={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:n};o[t.toString()].push(s),o[t.toString()].length>100&&(o[t.toString()]=o[t.toString()].slice(-100)),localStorage.setItem(Ra,JSON.stringify(o))}catch(a){console.error("Failed to save score history:",a)}},Wa="claimHistory",Ya=1e3;function la(t){try{const r=localStorage.getItem(Wa),n=r?JSON.parse(r):[];n.unshift(t),n.length>Ya&&n.splice(Ya),localStorage.setItem(Wa,JSON.stringify(n))}catch(r){console.error("Failed to save claim history:",r)}}const La="matchClaims",da="matchScores",Rs=1800*1e3;function nn({eventId:t,userId:r="anonymous"}){const{subscribe:n,set:a,update:o}=Pt(new Map),{subscribe:s,set:l,update:d}=Pt(new Map);{try{const S=localStorage.getItem(La);if(S){const f=JSON.parse(S),g=new Map;Object.values(f).forEach(_=>{_.eventId===t&&_.expiresAt>Date.now()&&g.set(_.matchId,_)}),a(g)}}catch(S){console.error("Failed to load claims:",S)}try{const S=localStorage.getItem(da);if(S){const f=JSON.parse(S),g=new Map;Object.values(f).forEach(_=>{_.eventId===t&&g.set(_.matchId,_)}),l(g)}}catch(S){console.error("Failed to load scores:",S)}}const v=S=>{try{const f={};S.forEach(g=>{f[g.matchId.toString()]=g}),localStorage.setItem(La,JSON.stringify(f))}catch(f){console.error("Failed to save claims:",f)}},x=S=>{try{const f={};S.forEach(g=>{f[g.matchId.toString()]=g}),localStorage.setItem(da,JSON.stringify(f))}catch(f){console.error("Failed to save scores:",f)}};let b=null;return{claims:{subscribe:n},scores:{subscribe:s},claimMatch:(S,f)=>{const g=Date.now(),_=f+Rs,O={matchId:S,claimedBy:r,claimedAt:g,expiresAt:_,eventId:t};o(p=>{const I=new Map(p);return I.set(S,O),v(I),I}),la({matchId:S,eventId:t,action:"claimed",userId:r,timestamp:g})},releaseClaim:S=>{o(f=>{const g=f.get(S),_=new Map(f);return _.delete(S),v(_),g&&eo&&la({matchId:S,eventId:t,action:"released",userId:g.claimedBy,timestamp:Date.now()}),_})},transferClaim:(S,f)=>{let g=!1;if(n(O=>{const p=O.get(S);g=(p==null?void 0:p.claimedBy)===r&&p.expiresAt>Date.now()})(),!g)return!1;const _=Date.now();return o(O=>{const p=O.get(S);if(!p)return O;const I={...p,claimedBy:f,claimedAt:_},U=new Map(O);return U.set(S,I),v(U),la({matchId:S,eventId:t,action:"transferred",userId:r,timestamp:_,transferredTo:f}),U}),!0},isClaimed:S=>{let f=!1;return n(g=>{const _=g.get(S);f=_?_.expiresAt>Date.now():!1})(),f},getClaimStatus:S=>{let f="available";return n(g=>{const _=g.get(S);!_||_.expiresAt<Date.now()?f="available":_.claimedBy===r?f="claimed":f="locked"})(),f},getClaimer:S=>{let f=null;return n(g=>{const _=g.get(S);f=_&&_.expiresAt>Date.now()?_.claimedBy:null})(),f},isClaimOwner:S=>{let f=!1;return n(g=>{const _=g.get(S);f=(_==null?void 0:_.claimedBy)===r&&_.expiresAt>Date.now()})(),f},updateScore:(S,f,g)=>{const _={matchId:S,eventId:t,sets:f,status:g,lastUpdated:Date.now(),lastUpdatedBy:r};d(O=>{const p=new Map(O);return p.set(S,_),x(p),p}),Fs(t,S,_),As(S,_,r)},getScore:S=>{let f=null;return s(g=>{f=g.get(S)||null})(),f},clearEventData:()=>{o(S=>{const f=new Map(S);return f.forEach((g,_)=>{g.eventId===t&&f.delete(_)}),v(f),f}),d(S=>{const f=new Map(S);return f.forEach((g,_)=>{g.eventId===t&&f.delete(_)}),x(f),f})},startPolling:()=>{b||(b=setInterval(()=>{try{const S=localStorage.getItem(da);if(!S)return;const f=JSON.parse(S),g=new Map;let _=!1;s(O=>{Object.values(f).forEach(p=>{if(p.eventId===t){g.set(p.matchId,p);const I=O.get(p.matchId);(!I||p.lastUpdated&&p.lastUpdated>I.lastUpdated)&&(_=!0)}}),_&&d(p=>{const I=new Map(p);return g.forEach((U,ae)=>{const E=p.get(ae);(!E||U.lastUpdated&&U.lastUpdated>E.lastUpdated)&&I.set(ae,U)}),I})})()}catch(S){console.error("Failed to poll scores:",S)}},3e3))},stopPolling:()=>{b&&(clearInterval(b),b=null)}}}const ua="matchNotes";function Ws(t){const{subscribe:r,set:n,update:a}=Pt(new Map);try{const s=localStorage.getItem(ua);if(s){const l=JSON.parse(s),d=new Map;Object.values(l).forEach(v=>{v.eventId===t&&d.set(v.matchId,v)}),n(d)}}catch(s){console.error("Failed to load match notes:",s)}const o=s=>{try{const l=localStorage.getItem(ua),d=l?JSON.parse(l):{};s.forEach(v=>{d[`${t}-${v.matchId}`]=v}),Object.keys(d).forEach(v=>{if(v.startsWith(`${t}-`)){const x=parseInt(v.split("-").pop()||"0");s.has(x)||delete d[v]}}),localStorage.setItem(ua,JSON.stringify(d))}catch(l){console.error("Failed to save match notes:",l)}};return{subscribe:r,setNote:(s,l)=>{const d=Date.now();a(v=>{const x=new Map(v),b=x.get(s);return l.trim()?x.set(s,{matchId:s,eventId:t,note:l.trim(),createdAt:(b==null?void 0:b.createdAt)||d,updatedAt:d}):x.delete(s),o(x),x})},getNote:s=>{let l="";return r(d=>{var v;l=((v=d.get(s))==null?void 0:v.note)||""})(),l},deleteNote:s=>{a(l=>{const d=new Map(l);return d.delete(s),o(d),d})},hasNote:s=>{let l=!1;return r(d=>{const v=d.get(s);l=v!==void 0&&v.note.trim().length>0})(),l}}}function Ys(t){return Ws(t)}var Ls=C('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),js=C('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Hs=C("<button>Statistics</button>"),Bs=C('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Us=C('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Js=C('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),qs=C('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),Gs=C('<span class="text-[#808593] mx-1">vs</span> ',1),Vs=C('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),zs=C('<span class="mx-1">vs</span> ',1),Xs=C('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),Qs=C('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Ks=C('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Zs=C('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),ei=C('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),ti=C('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),ri=C("<option> </option>"),ai=C('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),ni=C('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),oi=C('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),si=C('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),ii=C('<span class="text-[#808593] mx-1">vs</span> ',1),ci=C('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),li=C('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),di=C('<div class="space-y-4"><!> <!></div>'),ui=C('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),vi=C("<!> <!>",1),fi=C('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),mi=C('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),hi=C('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function gi(t,r){ar(r,!1);const n=Y(),a=Y(),o=Y(),s=Y(),l=Y();let d=Ae(r,"match",8),v=Ae(r,"eventId",8),x=Ae(r,"clubId",8),b=Ae(r,"onClose",8),D=Ae(r,"matches",24,()=>[]),k=Y(null),S=Y([]),f=Y([]),g=Y([]),_=Y([]),O=Y(null),p=Y(null),I=Y("schedule"),U=Y(!0),ae=Y(null);function E(){return d().InvolvedTeam==="first"?d().FirstTeamText:d().InvolvedTeam==="second"?d().SecondTeamText:""}const ee=Je(d()),le=E();ha(async()=>{w(U,!0),w(ae,null);try{const T=(await so(v(),x())).value||[],K=E();if(!K){w(ae,"Could not extract team name from match"),w(U,!1);return}const te=T.find(Ne=>{if(Ne.TeamText===K||Ne.TeamName===K)return!0;const je=K.match(/(\d+-\d+)/);if(je){const $e=je[1];return Ne.TeamName.includes($e)||Ne.TeamText.includes($e)}return!1});if(!te){w(ae,`Team not found: ${K}`),w(U,!1);return}const se=te.TeamId,ve=te.TeamDivision.DivisionId;w(k,{TeamId:se,DivisionId:ve,TeamName:te.TeamName,TeamText:te.TeamText});const[Re,st,pt]=await Promise.all([ta(v(),ve,se,"current").catch(()=>[]),ta(v(),ve,se,"work").catch(()=>[]),ta(v(),ve,se,"future").catch(()=>[])]),ft=(Ne,je=!1)=>Array.isArray(Ne)?Ne.flatMap($e=>{var _t,Ge;return je?$e.Match?[{...$e.Match,Court:$e.Match.Court||null,Division:{...$e.Play,PlayId:(_t=$e.Play)==null?void 0:_t.PlayId},FirstTeamText:((Ge=$e.Play)==null?void 0:Ge.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!$e.Matches||!Array.isArray($e.Matches)?[]:$e.Matches.map(Ve=>{var tt;return{...Ve,Court:Ve.Court||null,Division:{...$e.Play,PlayId:(tt=$e.Play)==null?void 0:tt.PlayId}}})}):[];w(S,ft(Re,!1)),w(f,ft(st,!0)),w(g,ft(pt,!1));const Oe=await io(v(),ve).catch(()=>null);Oe!=null&&Oe.Plays&&w(_,Oe.Plays)}catch(h){w(ae,h instanceof Error?h.message:"Failed to load team data")}finally{w(U,!1)}});function ce(h,T=!1){var Re,st;const K=typeof h.ScheduledStartDateTime=="string"?new Date(h.ScheduledStartDateTime).getTime():h.ScheduledStartDateTime,te=((Re=h.FirstTeamText)==null?void 0:Re.includes("630"))||((st=h.SecondTeamText)==null?void 0:st.includes("630")),se=zt(K),ve=We(K);return{matchDate:se,startTimeDisplay:ve,isPlaying:te,isWork:T,scheduleMatch:h}}oe(()=>e(I),()=>{e(I)==="poolsheet"&&w(p,null)}),oe(()=>(e(S),e(f),e(g)),()=>{w(n,[...e(S).map(T=>({...T,type:"current"})),...e(f).map(T=>({...T,type:"work"})),...e(g).map(T=>({...T,type:"future"}))].filter((T,K,te)=>te.findIndex(se=>se.MatchId===T.MatchId)===K).sort((T,K)=>{const te=typeof T.ScheduledStartDateTime=="string"?new Date(T.ScheduledStartDateTime).getTime():T.ScheduledStartDateTime||0,se=typeof K.ScheduledStartDateTime=="string"?new Date(K.ScheduledStartDateTime).getTime():K.ScheduledStartDateTime||0;return te-se}))}),oe(()=>e(n),()=>{w(a,(()=>{const h=new Set;return e(n).forEach(T=>{if(T.Division&&T.Division.PlayId){const K=Math.abs(T.Division.PlayId);h.add(K)}}),Array.from(h)})())}),oe(()=>(e(_),e(a)),()=>{w(o,e(_).filter(h=>{const T=Math.abs(h.PlayId);return e(a).includes(T)}))}),oe(()=>(e(o),e(O)),()=>{e(o).length>0&&!e(O)&&w(O,e(o)[0].PlayId)}),oe(()=>(e(O),e(I),M(v())),()=>{e(O)&&e(I)==="poolsheet"&&co(v(),e(O)).then(h=>{w(p,h)}).catch(h=>{console.error("Failed to fetch pool sheet:",h),w(p,null)})}),oe(()=>(e(n),zt),()=>{w(s,(()=>{const h={};return e(n).forEach(T=>{const K=typeof T.ScheduledStartDateTime=="string"?new Date(T.ScheduledStartDateTime).getTime():T.ScheduledStartDateTime||0,te=zt(K);h[te]||(h[te]=[]),h[te].push(T)}),h})())}),oe(()=>e(s),()=>{w(l,Object.keys(e(s)).sort((h,T)=>{const K=new Date(h).getTime(),te=new Date(T).getTime();return K-te}))}),wr(),or();var Ye=hi(),Pe=u(Ye),Ee=u(Pe),Le=u(Ee),qe=u(Le);c(Le);var ut=m(Le,2);ut.__click=function(...h){var T;(T=b())==null||T.apply(this,h)},c(Ee);var vt=m(Ee,2);{var $t=h=>{var T=Ls();y(h,T)};F(vt,h=>{e(U)&&h($t)})}var xt=m(vt,2);{var Wt=h=>{var T=js(),K=u(T,!0);c(T),V(()=>L(K,e(ae))),y(h,T)};F(xt,h=>{e(ae)&&h(Wt)})}var R=m(xt,2);{var q=h=>{var T=mi(),K=u(T),te=u(K);te.__click=()=>w(I,"schedule");var se=m(te,2);se.__click=()=>w(I,"poolsheet");var ve=m(se,2);{var Re=Oe=>{var Ne=Hs();Ne.__click=()=>w(I,"stats"),V(()=>ue(Ne,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),y(Oe,Ne)};F(ve,Oe=>{M(D()),i(()=>D().length>0&&ee)&&Oe(Re)})}c(K);var st=m(K,2);{var pt=Oe=>{var Ne=Bs();y(Oe,Ne)},ft=Oe=>{var Ne=At(),je=Qe(Ne);{var $e=Ge=>{var Ve=ei(),tt=m(u(Ve),2),It=u(tt);{var Et=ze=>{var ot=Us();y(ze,ot)},it=ze=>{var ot=At(),Yt=Qe(ot);dt(Yt,1,()=>e(l),lt,(Lt,fe)=>{const pe=Z(()=>(e(s),e(fe),i(()=>e(s)[e(fe)])));var De=Zs(),Ce=u(De),P=u(Ce),N=u(P,!0);c(P);var j=m(P,2),z=u(j);c(j),c(Ce);var J=m(Ce,2);dt(J,1,()=>e(pe),lt,(X,H)=>{const $=Z(()=>(e(H),i(()=>ce(e(H),e(H).type==="work"))));var re=Ks(),A=u(re),W=m(A,2),Q=u(W,!0);c(W);var de=m(W,2),ne=u(de,!0);c(de);var ke=m(de,2);{var me=ie=>{var Fe=Js(),he=u(Fe,!0);c(Fe),V(()=>L(he,(M(e($)),i(()=>e($).scheduleMatch.Court.Name)))),y(ie,Fe)};F(ke,ie=>{M(e($)),i(()=>e($).scheduleMatch.Court)&&ie(me)})}var G=m(ke,2),ye=u(G),Se=u(ye);{var mt=ie=>{var Fe=qs(),he=m(Qe(Fe),2),Ze=u(he,!0);c(he),V(()=>L(Ze,(M(e($)),i(()=>{var yt,He;return((yt=e($).scheduleMatch.Division)==null?void 0:yt.CompleteShortName)||((He=e($).scheduleMatch.Division)==null?void 0:He.FullName)||e($).scheduleMatch.FirstTeamText})))),y(ie,Fe)},Ie=ie=>{var Fe=At(),he=Qe(Fe);{var Ze=He=>{var we=Vs(),xe=m(Qe(we),2),et=u(xe),_e=m(et);{var Tt=ct=>{var rt=Gs(),ht=m(Qe(rt));V(()=>L(ht,` ${M(e($)),i(()=>e($).scheduleMatch.SecondTeamText)??""}`)),y(ct,rt)};F(_e,ct=>{M(e($)),i(()=>e($).scheduleMatch.SecondTeamText)&&ct(Tt)})}c(xe),V(()=>L(et,`${M(e($)),i(()=>e($).scheduleMatch.FirstTeamText)??""} `)),y(He,we)},yt=He=>{var we=Xs(),xe=m(Qe(we),2),et=u(xe),_e=m(et);{var Tt=ct=>{var rt=zs(),ht=m(Qe(rt));V(()=>L(ht,` ${M(e($)),i(()=>e($).scheduleMatch.SecondTeamText)??""}`)),y(ct,rt)};F(_e,ct=>{M(e($)),i(()=>e($).scheduleMatch.SecondTeamText)&&ct(Tt)})}c(xe),V(()=>L(et,`${M(e($)),i(()=>e($).scheduleMatch.FirstTeamText)??""} `)),y(He,we)};F(he,He=>{M(e($)),i(()=>e($).isPlaying)?He(Ze):He(yt,!1)},!0)}y(ie,Fe)};F(Se,ie=>{M(e($)),i(()=>e($).isWork)?ie(mt):ie(Ie,!1)})}c(ye),c(G);var be=m(G,2);{var B=ie=>{var Fe=Qs(),he=u(Fe),Ze=u(he,!0);c(he),c(Fe),V(()=>{Qt(he,`background-color: ${M(e($)),i(()=>e($).scheduleMatch.Division.ColorHex)??""}20; color: ${M(e($)),i(()=>e($).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${M(e($)),i(()=>e($).scheduleMatch.Division.ColorHex)??""}40;`),L(Ze,(M(e($)),i(()=>e($).scheduleMatch.Division.CodeAlias)))}),y(ie,Fe)};F(be,ie=>{M(e($)),i(()=>e($).scheduleMatch.Division)&&ie(B)})}c(re),V(()=>{ue(re,1,`flex items-center gap-3 px-3 py-2 rounded border ${M(e($)),i(()=>e($).isWork?"border-[#525463] bg-[#454654]/30":e($).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),ue(A,1,`flex-shrink-0 w-1 h-full rounded-full ${M(e($)),i(()=>e($).isWork?"bg-[#808593]":e($).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),L(Q,(M(e($)),i(()=>e($).matchDate))),L(ne,(M(e($)),i(()=>e($).startTimeDisplay)))}),y(X,re)}),c(De),V(()=>{L(N,e(fe)),L(z,`(${M(e(pe)),i(()=>e(pe).length)??""} match${M(e(pe)),i(()=>e(pe).length!==1?"es":"")??""})`)}),y(Lt,De)}),y(ze,ot)};F(It,ze=>{e(l),i(()=>e(l).length===0)?ze(Et):ze(it,!1)})}c(tt),c(Ve),y(Ge,Ve)},_t=Ge=>{var Ve=fi(),tt=m(u(Ve),2);{var It=it=>{var ze=ti();y(it,ze)},Et=it=>{var ze=vi(),ot=Qe(ze);{var Yt=De=>{var Ce=ai(),P=m(u(Ce),2);P.__change=j=>w(O,Number(j.target.value)),dt(P,5,()=>e(o),lt,(j,z)=>{var J=ri(),X=u(J,!0);c(J);var H={};V(()=>{L(X,(e(z),i(()=>e(z).CompleteFullName||e(z).FullName||`Pool ${e(z).PlayId}`))),H!==(H=(e(z),i(()=>e(z).PlayId)))&&(J.value=(J.__value=(e(z),i(()=>e(z).PlayId)))??"")}),y(j,J)}),c(P);var N;xr(P),c(Ce),V(()=>{N!==(N=e(O)||"")&&(P.value=(P.__value=e(O)||"")??"",lr(P,e(O)||""))}),y(De,Ce)};F(ot,De=>{e(o),i(()=>e(o).length>1)&&De(Yt)})}var Lt=m(ot,2);{var fe=De=>{var Ce=di(),P=u(Ce);{var N=J=>{var X=oi(),H=u(X),$=u(H),re=u($);c($),c(H);var A=m(H,2),W=u(A),Q=m(u(W));dt(Q,5,()=>(e(p),i(()=>e(p).Pool.Teams)),lt,(de,ne)=>{const ke=Z(()=>(e(ne),i(()=>{var we;return(we=e(ne).TeamText)==null?void 0:we.includes("630")})));var me=ni(),G=u(me),ye=u(G,!0);c(G);var Se=m(G),mt=u(Se),Ie=u(mt,!0);c(mt),c(Se);var be=m(Se),B=u(be,!0);c(be);var ie=m(be),Fe=u(ie,!0);c(ie);var he=m(ie),Ze=u(he);c(he);var yt=m(he),He=u(yt,!0);c(yt),c(me),V(()=>{ue(me,1,`border-b border-[#454654] ${e(ke)?"bg-[#eab308]/10":""}`),L(ye,(e(ne),i(()=>e(ne).FinishRank||e(ne).OverallRank||"-"))),ue(mt,1,e(ke)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),L(Ie,(e(ne),i(()=>e(ne).TeamText))),L(B,(e(ne),i(()=>e(ne).MatchesWon??"-"))),L(Fe,(e(ne),i(()=>e(ne).MatchesLost??"-"))),L(Ze,`${e(ne),i(()=>e(ne).SetsWon??"-")??""}-${e(ne),i(()=>e(ne).SetsLost??"-")??""}`),L(He,(e(ne),i(()=>e(ne).PointRatio&&e(ne).PointRatio!=="NaN"?e(ne).PointRatio:"-")))}),y(de,me)}),c(Q),c(W),c(A),c(X),V(()=>L(re,`${e(p),i(()=>e(p).Pool.CompleteFullName||e(p).Pool.FullName)??""} - Standings`)),y(J,X)};F(P,J=>{e(p),i(()=>e(p).Pool&&e(p).Pool.Teams&&e(p).Pool.Teams.length>0)&&J(N)})}var j=m(P,2);{var z=J=>{var X=li(),H=m(u(X),2);dt(H,5,()=>(e(p),i(()=>e(p).Pool.Matches)),lt,($,re)=>{const A=Z(()=>(e(re),i(()=>typeof e(re).ScheduledStartDateTime=="string"?new Date(e(re).ScheduledStartDateTime).getTime():e(re).ScheduledStartDateTime))),W=Z(()=>(e(re),i(()=>{var Ie,be;return((Ie=e(re).FirstTeamText)==null?void 0:Ie.includes("630"))||((be=e(re).SecondTeamText)==null?void 0:be.includes("630"))})));var Q=ci(),de=u(Q),ne=u(de,!0);c(de);var ke=m(de,2);{var me=Ie=>{var be=si(),B=u(be,!0);c(be),V(()=>L(B,(e(re),i(()=>e(re).Court.Name)))),y(Ie,be)};F(ke,Ie=>{e(re),i(()=>e(re).Court)&&Ie(me)})}var G=m(ke,2),ye=u(G),Se=m(ye);{var mt=Ie=>{var be=ii(),B=m(Qe(be));V(()=>L(B,` ${e(re),i(()=>e(re).SecondTeamText)??""}`)),y(Ie,be)};F(Se,Ie=>{e(re),i(()=>e(re).SecondTeamText)&&Ie(mt)})}c(G),c(Q),V(Ie=>{ue(Q,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(W)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),L(ne,Ie),L(ye,`${e(re),i(()=>e(re).FirstTeamText)??""} `)},[()=>(M(We),M(e(A)),i(()=>We(e(A))))]),y($,Q)}),c(H),c(X),y(J,X)};F(j,J=>{e(p),i(()=>e(p).Pool&&e(p).Pool.Matches&&e(p).Pool.Matches.length>0)&&J(z)})}c(Ce),y(De,Ce)},pe=De=>{var Ce=At(),P=Qe(Ce);{var N=j=>{var z=ui();y(j,z)};F(P,j=>{e(O)&&j(N)},!0)}y(De,Ce)};F(Lt,De=>{e(O)&&e(p)?De(fe):De(pe,!1)})}y(it,ze)};F(tt,it=>{e(o),i(()=>e(o).length===0)?it(It):it(Et,!1)})}c(Ve),y(Ge,Ve)};F(je,Ge=>{e(I)==="schedule"?Ge($e):Ge(_t,!1)},!0)}y(Oe,Ne)};F(st,Oe=>{e(I)==="stats"&&ee?Oe(pt):Oe(ft,!1)})}c(T),V(()=>{ue(te,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ue(se,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),y(h,T)};F(R,h=>{!e(U)&&e(k)&&h(q)})}c(Pe),c(Ye),V(()=>L(qe,`${e(k),i(()=>{var h;return((h=e(k))==null?void 0:h.TeamText)||le})??""} - Full Schedule`)),y(t,Ye),nr()}dr(["click","change"]);var bi=C("<button><span> </span> <span> </span></button>"),xi=C('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function on(t,r){ar(r,!1);let n=Ae(r,"matchId",8),a=Ae(r,"currentPriority",8),o=Ae(r,"onPriorityChange",8),s=Ae(r,"onClose",8,void 0),l=Y(null);const d=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function v(D){o()(n(),D),s()&&s()()}or();var x=xi(),b=m(u(x),2);dt(b,5,()=>d,lt,(D,k)=>{const S=Z(()=>(M(a()),e(k),i(()=>a()===e(k).value))),f=Z(()=>(e(l),e(k),i(()=>e(l)===e(k).value)));var g=bi();g.__click=()=>v(e(k).value);var _=u(g),O=u(_,!0);c(_);var p=m(_,2),I=u(p,!0);c(p),c(g),V(()=>{ue(g,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e(S)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),L(O,(e(k),i(()=>e(k).icon))),L(I,(e(k),i(()=>e(k).label)))}),pr("mouseenter",g,()=>w(l,e(k).value)),pr("mouseleave",g,()=>w(l,null)),y(D,g)}),c(b),c(x),y(t,x),nr()}dr(["click"]);var pi=C("<button><span> </span> <span> </span></button>"),_i=C('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function sn(t,r){ar(r,!1);let n=Ae(r,"teamId",8),a=Ae(r,"currentStatus",8),o=Ae(r,"onStatusChange",8),s=Ae(r,"onClose",8,void 0),l=Y(null);const d=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function v(S){o()(n(),S),s()&&s()()}or();var x=_i(),b=m(u(x),2),D=u(b);c(b);var k=m(b,2);dt(k,5,()=>d,lt,(S,f)=>{const g=Z(()=>(M(a()),e(f),i(()=>a()===e(f).value))),_=Z(()=>(e(l),e(f),i(()=>e(l)===e(f).value)));var O=pi();O.__click=()=>v(e(f).value);var p=u(O),I=u(p,!0);c(p);var U=m(p,2),ae=u(U,!0);c(U),c(O),V(()=>{ue(O,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${M(e(g)),e(f),M(e(_)),i(()=>e(g)?e(f).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(f).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(_)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),L(I,(e(f),i(()=>e(f).icon))),L(ae,(e(f),i(()=>e(f).label)))}),pr("mouseenter",O,()=>w(l,e(f).value)),pr("mouseleave",O,()=>w(l,null)),y(S,O)}),c(k),c(x),V(()=>L(D,`Team ${n()??""}`)),y(t,x),nr()}dr(["click"]);var yi=C('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Si=C('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),wi=C("<button> </button>"),Ti=C('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),Mi=C('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),Di=C('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),Ci=C('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),ki=C('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),Pi=C("<span> </span>"),$i=ma('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Ii=C("<button><!></button>"),Ei=ma('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),Oi=C('<div class="absolute left-0 top-8 z-50"><!></div>'),Ni=C('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Fi=C('<div class="absolute left-0 top-8 z-50"><!></div>'),Ai=C('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Ri=C('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <!> <!> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Wi=C('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Yi=C('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Li=C('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function ji(t,r){ar(r,!1);const n=()=>Nt(xa,"$isSpectator",s),a=()=>Nt(Mr,"$filters",s),o=()=>Nt(ba,"$isMedia",s),[s,l]=ga(),d=Y(),v=Y(),x=Y(),b=Y(),D=Y(),k=Y(),S=Y(),f=Y(),g=Y(),_=Y(),O=Y(),p=Y();let I=Ae(r,"matches",8),U=Ae(r,"eventId",8),ae=Ae(r,"clubId",8),E=Y("team"),ee=Y(null),le=Y(null),ce=Y(null),Ye=Y(!1),Pe=Y(!1),Ee=Y(null),Le=Y(new Set),qe=Y();Ys(U());function ut(R){return R.InvolvedTeam==="first"?R.SecondTeamText:R.InvolvedTeam==="second"?R.FirstTeamText:`${R.FirstTeamText} vs ${R.SecondTeamText}`}ha(()=>{if(ks()){const R=Cs();R&&R.scores.length>0&&JSON.stringify({eventId:R.eventId,scores:R.scores},null,2)}if(e(qe).startPolling(),n()){let R=[];if(Ir.subscribe(q=>{R=q.map(h=>h.teamId)})(),R.length>0){const q=setInterval(()=>{ca.checkUpcomingMatches(I(),R)},6e4);return()=>clearInterval(q)}}}),hn(()=>{e(qe).stopPolling()}),oe(()=>(n(),M(U())),()=>{const R=n();w(qe,nn({eventId:U(),userId:R?"spectator":"anonymous"}))}),oe(()=>M(I()),()=>{w(d,za(I()))}),oe(()=>(a(),M(I()),We),()=>{w(v,(()=>{if(a().wave!=="all"){const R=a().wave==="morning"?"08:00":"14:30",q=a().wave==="morning"?"14:30":"23:59";return Wr(I()).filter(h=>I().some(T=>{const K=We(T.ScheduledStartDateTime),te=K.split(" ")[1]||K;return te>=R&&te<q&&T.Division.Name===h}))}return Wr(I())})())}),oe(()=>M(I()),()=>{w(x,rn(I()))}),oe(()=>(M(I()),Ke),()=>{w(b,(()=>{const R=new Map;return I().forEach(q=>{const h=Je(q);h&&R.set(h,Ke.getTeamStatus(h))}),R})())}),oe(()=>(M(I()),e(d),e(b),Je),()=>{w(D,(()=>{const R=Xt(bt);return Ds(I(),R,e(d),e(b),Je,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),oe(()=>(M(I()),a(),n(),Ir),()=>{w(k,(()=>{let R=an(I());if(a().priority&&a().priority!=="all"&&(R=R.filter(q=>kt.getPriority(q.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(R=R.filter(q=>{const h=Je(q);if(!h)return!0;const T=Ke.getTeamStatus(h);return a().coverageStatus==="uncovered"?T==="not-covered":a().coverageStatus==="covered"?T==="covered"||T==="partially-covered":a().coverageStatus==="planned"?T==="planned":!0})),n()){let q=[];Ir.subscribe(h=>{q=h.map(T=>T.teamId)})(),q.length>0&&(R=R.filter(h=>{const T=Je(h);return T&&q.includes(T)}))}return R})())}),oe(()=>(M(I()),e(d)),()=>{w(S,(()=>{const R=Xt(bt);return tn(I(),R,e(d),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),oe(()=>e(S),()=>{w(f,new Set(e(S).map(R=>R.match.MatchId)))}),oe(()=>(M(I()),Ke),()=>{w(g,(()=>{const R=new Map;I().forEach(se=>{const ve=Je(se);if(ve){const Re=Ke.getTeamStatus(ve);R.set(ve,Re)}});const q=R.size,h=Array.from(R.values()).filter(se=>se==="covered").length,T=Array.from(R.values()).filter(se=>se==="partially-covered").length,K=Array.from(R.values()).filter(se=>se==="planned").length,te=Array.from(R.values()).filter(se=>se==="not-covered").length;return{totalTeams:q,coveredTeams:h,partiallyCoveredTeams:T,plannedTeams:K,uncoveredTeams:te,coveragePercentage:q>0?(h+T)/q*100:0}})())}),oe(()=>(e(k),e(E),Je),()=>{w(_,(()=>{let R=[...e(k)];return e(E)==="priority"?R.sort((q,h)=>{const T=kt.getPriority(q.MatchId),K=kt.getPriority(h.MatchId),te={"must-cover":3,priority:2,optional:1,null:0},se=te[T||"null"],ve=te[K||"null"];return se!==ve?ve-se:q.ScheduledStartDateTime-h.ScheduledStartDateTime}):e(E)==="team"?R.sort((q,h)=>{const T=Je(q),K=Je(h);return T.localeCompare(K)}):e(E)==="court"?R.sort((q,h)=>q.CourtName.localeCompare(h.CourtName)):R.sort((q,h)=>q.ScheduledStartDateTime-h.ScheduledStartDateTime),R})())}),oe(()=>(e(_),We),()=>{w(O,(()=>{const R={};return e(_).forEach(q=>{const h=We(q.ScheduledStartDateTime);R[h]||(R[h]=[]),R[h].push(q)}),R})())}),oe(()=>e(O),()=>{w(p,Object.keys(e(O)).sort((R,q)=>{const h=new Date(`2000-01-01 ${R}`).getTime(),T=new Date(`2000-01-01 ${q}`).getTime();return h-T}))}),oe(()=>(n(),M(I()),e(qe),e(Le),e(Ee)),()=>{if(n()&&I().length>0){const R=new Set;I().forEach(q=>{e(qe).isClaimOwner(q.MatchId)&&(R.add(q.MatchId),!e(Le).has(q.MatchId)&&(!e(Ee)||e(Ee).MatchId!==q.MatchId)&&setTimeout(()=>{w(Ee,q)},200))}),w(Le,R)}}),oe(()=>(n(),M(I()),e(qe),ca),()=>{if(n()&&I().length>0){let R=[];Ir.subscribe(q=>{R=q.map(h=>h.teamId)})(),I().forEach(q=>{const h=Je(q);if(h&&R.includes(h)){const T=e(qe).getScore(q.MatchId);T&&T.status==="in-progress"&&ca.notifyScoreUpdate(q,T)}})}}),wr(),or();var vt=At(),$t=Qe(vt);{var xt=R=>{var q=yi(),h=u(q,!0);c(q),V(()=>L(h,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),y(R,q)},Wt=R=>{var q=Li(),h=u(q);{var T=fe=>{var pe=Si();y(fe,pe)};F(h,fe=>{n()&&fe(T)})}var K=m(h,2);{var te=fe=>{var pe=Ti(),De=u(pe),Ce=u(De),P=u(Ce),N=u(P);c(P),Un(),c(Ce);var j=m(Ce,2),z=u(j),J=u(z);c(z);var X=m(z,4),H=u(X);c(X);var $=m(X,4),re=u($);c($);var A=m($,4),W=u(A);c(A),c(j),c(De);var Q=m(De,2),de=u(Q);de.__click=()=>w(Ye,!e(Ye));var ne=u(de,!0);c(de);var ke=m(de,2);{var me=G=>{var ye=wi();ye.__click=()=>w(Pe,!e(Pe));var Se=u(ye);c(ye),V(()=>{ue(ye,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Pe)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),Ft(ye,"title",`${e(D),i(()=>e(D).length)??""} coverage suggestions`),L(Se,`ð¡ Suggestions (${e(D),i(()=>e(D).length)??""})`)}),y(G,ye)};F(ke,G=>{e(D),i(()=>e(D).length>0)&&G(me)})}c(Q),c(pe),V(G=>{L(N,`${G??""}%`),L(J,`â ${e(g),i(()=>e(g).coveredTeams)??""}`),L(H,`â ${e(g),i(()=>e(g).partiallyCoveredTeams)??""}`),L(re,`ð ${e(g),i(()=>e(g).plannedTeams)??""}`),L(W,`â ${e(g),i(()=>e(g).uncoveredTeams)??""}`),ue(de,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(Ye)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),L(ne,e(Ye)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(g),i(()=>e(g).coveragePercentage.toFixed(0)))]),y(fe,pe)};F(K,fe=>{o(),e(g),i(()=>o()&&e(g).totalTeams>0)&&fe(te)})}var se=m(K,2);{var ve=fe=>{var pe=Di(),De=u(pe),Ce=m(u(De),2);Ce.__click=()=>w(Pe,!1),c(De);var P=m(De,2);dt(P,5,()=>(e(D),i(()=>e(D).slice(0,5))),lt,(N,j)=>{var z=Mi(),J=u(z),X=u(J),H=u(X);c(X);var $=m(X,2),re=u($,!0);c($),c(J);var A=m(J,2);A.__click=W=>{W.stopPropagation(),bt.selectMatch(e(j).match.MatchId)},c(z),V(W=>{L(H,`${W??""} - ${e(j),i(()=>e(j).match.CourtName)??""} - Team ${e(j),i(()=>e(j).teamId)??""}`),L(re,(e(j),i(()=>e(j).reason)))},[()=>(M(We),e(j),i(()=>We(e(j).match.ScheduledStartDateTime)))]),y(N,z)}),c(P),c(pe),y(fe,pe)};F(se,fe=>{o(),e(Pe),e(D),i(()=>o()&&e(Pe)&&e(D).length>0)&&fe(ve)})}var Re=m(se,2);{var st=fe=>{var pe=Ci();y(fe,pe)};F(Re,fe=>{o()&&fe(st)})}var pt=m(Re,2),ft=u(pt),Oe=m(u(ft),2),Ne=u(Oe);Ne.__click=()=>w(E,"team");var je=m(Ne,2);je.__click=()=>w(E,"court");var $e=m(je,2);$e.__click=()=>w(E,"time"),c(Oe),c(ft);var _t=m(ft,2),Ge=m(u(_t),2),Ve=u(Ge);Ve.__click=()=>Ct("wave","all");var tt=m(Ve,2);tt.__click=()=>Ct("wave","morning");var It=m(tt,2);It.__click=()=>Ct("wave","afternoon"),c(Ge),c(_t),c(pt);var Et=m(pt,2),it=u(Et);{var ze=fe=>{var pe=ki();y(fe,pe)},ot=fe=>{var pe=At(),De=Qe(pe);dt(De,1,()=>e(p),lt,(Ce,P)=>{const N=Z(()=>(e(O),e(P),i(()=>e(O)[e(P)]))),j=Z(()=>(M(e(N)),e(d),i(()=>e(N).filter(me=>e(d).has(me.MatchId)).length))),z=Z(()=>e(j)>0),J=Z(()=>(M(e(j)),M(e(N)),i(()=>e(j)===e(N).length)));var X=Wi(),H=u(X),$=u(H),re=u($),A=u(re,!0);c(re);var W=m(re,2),Q=u(W);c(W),c($);var de=m($,2);{var ne=me=>{var G=Pi(),ye=u(G);c(G),V(()=>{ue(G,1,`text-xs font-medium ${e(J)?"text-[#808593]":"text-red-400"}`),L(ye,`${e(j)??""} conflict${e(j)!==1?"s":""}`)}),y(me,G)};F(de,me=>{e(z)&&me(ne)})}c(H);var ke=m(H,2);dt(ke,1,()=>e(N),lt,(me,G)=>{const ye=Z(()=>(e(d),e(G),i(()=>e(d).has(e(G).MatchId)))),Se=Z(()=>(M(Je),e(G),i(()=>Je(e(G))))),mt=Z(()=>(e(G),i(()=>ut(e(G))))),Ie=Z(()=>(e(ee),e(G),i(()=>e(ee)===e(G).MatchId))),be=Z(()=>(M(kt),e(G),i(()=>kt.getPriority(e(G).MatchId)))),B=Z(()=>(e(f),e(G),i(()=>e(f).has(e(G).MatchId)))),ie=Z(()=>(M(e(Se)),M(Ke),i(()=>e(Se)?Ke.getTeamStatus(e(Se)):"not-covered"))),Fe=Z(()=>e(ie)==="covered"||e(ie)==="partially-covered"),he=Z(()=>e(ie)==="planned"),Ze=Z(()=>e(ie)==="not-covered"),yt=Z(()=>e(Ye)&&e(Fe)),He=Z(()=>(M(Xt),M(bt),i(()=>Xt(bt)))),we=Z(()=>(M(e(He)),e(G),i(()=>e(He).has(e(G).MatchId)))),xe=Z(()=>e(ye)&&!e(J));var et=Ri(),_e=u(et);_e.__click=()=>w(ee,e(Ie)?null:e(G).MatchId);var Tt=u(_e);{var ct=Xe=>{var Be=Ii();Be.__click=Ot=>{Ot.stopPropagation(),bt.toggleMatch(e(G).MatchId)};var at=u(Be);{var Ht=Ot=>{var Ut=$i();y(Ot,Ut)};F(at,Ot=>{e(we)&&Ot(Ht)})}c(Be),V(()=>{ue(Be,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(we)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),Ft(Be,"aria-label",e(we)?"Remove from plan":"Add to plan")}),y(Xe,Be)};F(Tt,Xe=>{o()&&Xe(ct)})}var rt=m(Tt,2),ht=u(rt),ur=u(ht,!0);c(ht);var Zt=m(ht,2),Hr=u(Zt);c(Zt),c(rt);var Dr=m(rt,2);{var Br=Xe=>{var Be=Ni(),at=u(Be);at.__click=St=>{St.stopPropagation(),w(le,e(le)===e(G).MatchId?null:e(G).MatchId)};var Ht=u(at),Ot=m(Ht);{var Ut=St=>{var Gt=Ei();y(St,Gt)};F(Ot,St=>{e(be)||St(Ut)})}c(at);var Jt=m(at,2);{var qt=St=>{var Gt=Oi(),Jr=u(Gt);on(Jr,{get matchId(){return e(G),i(()=>e(G).MatchId)},get currentPriority(){return e(be)},get onPriorityChange(){return M(kt),i(()=>kt.setPriority)},onClose:()=>w(le,null)}),c(Gt),y(St,Gt)};F(Jt,St=>{e(le),e(G),i(()=>e(le)===e(G).MatchId)&&St(qt)})}c(Be),V(()=>{ue(at,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(be)==="must-cover"?"text-[#eab308]":e(be)==="priority"?"text-[#f59e0b]":e(be)==="optional"?"text-[#9fa2ab]":"text-[#808593]"}`),Ft(at,"title",e(be)?`Priority: ${e(be)}`:"Set priority"),L(Ht,`${e(be)==="must-cover"&&"â­"}
												${e(be)==="priority"&&"ð¸"}
												${e(be)==="optional"&&"â"} `)}),y(Xe,Be)};F(Dr,Xe=>{o()&&Xe(Br)})}var jt=m(Dr,2);{var Cr=Xe=>{var Be=Ai(),at=u(Be);at.__click=Jt=>{Jt.stopPropagation(),w(ce,e(ce)===e(Se)?null:e(Se))};var Ht=u(at);c(at);var Ot=m(at,2);{var Ut=Jt=>{var qt=Fi(),St=u(qt);sn(St,{get teamId(){return e(Se)},get currentStatus(){return e(ie)},get onStatusChange(){return M(Ke),i(()=>Ke.setTeamStatus)},onClose:()=>w(ce,null)}),c(qt),y(Jt,qt)};F(Ot,Jt=>{e(ce)===e(Se)&&Jt(Ut)})}c(Be),V(()=>{ue(at,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(ie)==="covered"?"text-green-500":e(ie)==="partially-covered"?"text-[#f59e0b]":e(ie)==="planned"?"text-[#eab308]":"text-[#808593]"}`),Ft(at,"title",`Coverage: ${e(ie)??""}`),L(Ht,`${e(ie)==="covered"&&"â"}
												${e(ie)==="partially-covered"&&"â"}
												${e(ie)==="planned"&&"ð"}
												${e(ie)==="not-covered"&&"â"}`)}),y(Xe,Be)};F(jt,Xe=>{o()&&e(Se)&&Xe(Cr)})}var kr=m(jt,2),Pr=u(kr);c(kr),c(_e);var Ur=m(_e,2);{var $r=Xe=>{gi(Xe,{get match(){return e(G)},get eventId(){return U()},get clubId(){return ae()},onClose:()=>w(ee,null),get matches(){return I()}})};F(Ur,Xe=>{e(Ie)&&Xe($r)})}c(et),V(Xe=>{ue(_e,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(xe)?"border border-red-800/50 bg-red-950/10":e(be)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(be)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(Ze)&&!e(we)?"border border-[#eab308] bg-[#eab308]/5":e(he)?"border border-[#eab308]/50 bg-[#eab308]/10":e(Fe)?"border border-green-500/30 bg-green-950/5":e(B)&&!e(we)?"border border-green-500/50 bg-green-950/10":e(we)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(yt)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),L(ur,Xe),L(Hr,`${e(G),i(()=>e(G).CourtName)??""} â¢ ${M(e(Se)),e(G),i(()=>e(Se)||e(G).Division.CodeAlias)??""} vs ${e(mt)??""}`),ue(Pr,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(Ie)?"rotate-180":""}`)},[()=>(M(We),e(G),i(()=>We(e(G).ScheduledStartDateTime)))]),y(me,et)}),c(X),V(()=>{L(A,e(P)),L(Q,`${M(e(N)),i(()=>e(N).length)??""} match${M(e(N)),i(()=>e(N).length!==1?"es":"")??""}`)}),y(Ce,X)}),y(fe,pe)};F(it,fe=>{e(p),i(()=>e(p).length===0)?fe(ze):fe(ot,!1)})}c(Et);var Yt=m(Et,2);{var Lt=fe=>{var pe=Yi();y(fe,pe)};F(Yt,fe=>{e(Ee)&&fe(Lt)})}c(q),V(()=>{ue(Ne,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ue(je,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ue($e,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(E)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ue(Ve,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(tt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(It,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),y(R,q)};F($t,R=>{e(k),i(()=>e(k).length===0)?R(xt):R(Wt,!1)})}y(t,vt),nr(),l()}dr(["click"]);var Hi=C('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Bi=C("<option> </option>"),Ui=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Ji=C("<option> </option>"),qi=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),Gi=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),Vi=C('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),zi=C('<span class="ml-2"> </span>'),Xi=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),Qi=C("<div> </div>"),Ki=C('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),Zi=C('<div class="absolute top-0 left-0 text-[10px]"> </div>'),ec=C('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),tc=C('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),rc=C('<div class="text-[8px] text-[#9fa2ab]"> </div>'),ac=C('<div class="text-[8px] text-green-400">â</div>'),nc=C('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),oc=ma('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),sc=C('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),ic=C('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),cc=C('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),lc=C('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),dc=C('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),uc=C('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),vc=C('<div class="text-[#9fa2ab] mt-4 p-4 border border-[#454654] rounded-lg">ConflictDetailsPanel - To be migrated</div>'),fc=C('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),mc=C('<div class="fixed inset-0 z-40"></div>'),hc=C('<div class="fixed inset-0 z-40"></div>'),gc=C('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function bc(t,r){ar(r,!1);const n=()=>Nt(xa,"$isSpectator",s),a=()=>Nt(Mr,"$filters",s),o=()=>Nt(ba,"$isMedia",s),[s,l]=ga(),d=Y(),v=Y(),x=Y(),b=Y(),D=Y(),k=Y(),S=Y(),f=Y(),g=Y(),_=Y(),O=Y(),p=Y(),I=Y();let U=Ae(r,"matches",8),ae=Ae(r,"eventId",8),E=Y(null),ee=Y(null),le=Y(null),ce=Y(null),Ye=null,Pe=Y();function Ee(h){return h.InvolvedTeam==="first"?h.SecondTeamText:h.InvolvedTeam==="second"?h.FirstTeamText:`${h.FirstTeamText} vs ${h.SecondTeamText}`}function Le(h){return e(g)===0?0:(h-e(S))/e(g)*100}function qe(h,T){return e(g)===0?0:(T-h)/e(g)*100}function ut(h){const T=[],K=[...h].sort((te,se)=>te.ScheduledStartDateTime-se.ScheduledStartDateTime);for(let te=0;te<K.length-1;te++){const se=K[te],ve=K[te+1],Re=Math.floor((ve.ScheduledStartDateTime-se.ScheduledEndDateTime)/6e4);Re>0&&T.push({before:se,after:ve,gapMinutes:Re})}return T}function vt(h){e(d).has(h.MatchId)?w(E,h):o()?bt.toggleMatch(h.MatchId):w(E,h)}function $t(h,T){T.stopPropagation(),w(ee,e(ee)===h?null:h)}oe(()=>(n(),M(ae())),()=>{const h=n();w(Pe,nn({eventId:ae(),userId:h?"spectator":"anonymous"}))}),oe(()=>M(U()),()=>{w(d,za(U()))}),oe(()=>(a(),M(U()),We),()=>{w(v,(()=>{if(a().wave!=="all"){const h=a().wave==="morning"?"08:00":"14:30",T=a().wave==="morning"?"14:30":"23:59";return Wr(U()).filter(K=>U().some(te=>{const se=We(te.ScheduledStartDateTime),ve=se.split(" ")[1]||se;return ve>=h&&ve<T&&te.Division.CodeAlias===K}))}return Wr(U())})())}),oe(()=>M(U()),()=>{w(x,rn(U()))}),oe(()=>(M(U()),a(),Ke),()=>{w(b,(()=>{let h=an(U());return a().priority&&a().priority!=="all"&&(h=h.filter(T=>kt.getPriority(T.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(h=h.filter(T=>{const K=Je(T);if(!K)return!0;const te=Ke.getTeamStatus(K);return a().coverageStatus==="uncovered"?te==="not-covered":a().coverageStatus==="covered"?te==="covered"||te==="partially-covered":a().coverageStatus==="planned"?te==="planned":!0})),h})())}),oe(()=>(M(U()),e(d)),()=>{w(D,(()=>{const h=Xt(bt);return tn(U(),h,e(d),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),oe(()=>e(D),()=>{w(k,new Set(e(D).map(h=>h.match.MatchId)))}),oe(()=>e(b),()=>{w(S,e(b).length>0?Math.min(...e(b).map(h=>h.ScheduledStartDateTime)):0)}),oe(()=>e(b),()=>{w(f,e(b).length>0?Math.max(...e(b).map(h=>h.ScheduledEndDateTime)):0)}),oe(()=>(e(f),e(S)),()=>{w(g,e(f)-e(S))}),oe(()=>e(b),()=>{w(_,(()=>{const h={};return e(b).forEach(T=>{h[T.CourtName]||(h[T.CourtName]=[]),h[T.CourtName].push(T)}),h})())}),oe(()=>e(_),()=>{w(O,Object.keys(e(_)).sort())}),oe(()=>(e(ee),e(b),Je),()=>{w(p,(()=>{if(!e(ee))return new Set;const h=new Set;return e(b).forEach(T=>{Je(T)===e(ee)&&h.add(T.MatchId)}),h})())}),oe(()=>(e(E),e(d),e(b)),()=>{w(I,(()=>{if(!e(E))return[];const h=e(d).get(e(E).MatchId);return h?h.map(T=>e(b).find(K=>K.MatchId===T)).filter(Boolean):[]})())}),wr(),or();var xt=At(),Wt=Qe(xt);{var R=h=>{var T=Hi(),K=u(T,!0);c(T),V(()=>L(K,(a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),y(h,T)},q=h=>{var T=gc(),K=u(T),te=u(K),se=m(u(te),2),ve=u(se);ve.__click=()=>Ct("wave","all");var Re=m(ve,2);Re.__click=()=>Ct("wave","morning");var st=m(Re,2);st.__click=()=>Ct("wave","afternoon"),c(se),c(te);var pt=m(te,2);{var ft=A=>{var W=Ui(),Q=m(u(W),2);Q.__change=G=>Ct("division",G.target.value||null);var de=u(Q),ne=u(de);c(de),de.value=de.__value="";var ke=m(de);dt(ke,1,()=>e(v),lt,(G,ye)=>{var Se=Bi(),mt=u(Se,!0);c(Se);var Ie={};V(()=>{L(mt,e(ye)),Ie!==(Ie=e(ye))&&(Se.value=(Se.__value=e(ye))??"")}),y(G,Se)}),c(Q);var me;xr(Q),c(W),V(()=>{L(ne,`All Divisions${a(),i(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),me!==(me=(a(),i(()=>a().division||"")))&&(Q.value=(Q.__value=(a(),i(()=>a().division||"")))??"",lr(Q,(a(),i(()=>a().division||""))))}),y(A,W)};F(pt,A=>{e(v),i(()=>e(v).length>1)&&A(ft)})}var Oe=m(pt,2);{var Ne=A=>{var W=qi(),Q=m(u(W),2);Q.__change=ne=>{const ke=Array.from(ne.target.selectedOptions,me=>me.value);Ct("teams",ke)},dt(Q,5,()=>e(x),lt,(ne,ke)=>{var me=Ji(),G=u(me,!0);c(me);var ye={};V(()=>{L(G,e(ke)),ye!==(ye=e(ke))&&(me.value=(me.__value=e(ke))??"")}),y(ne,me)}),c(Q);var de;xr(Q),c(W),V(ne=>{Ft(Q,"size",ne),de!==(de=(a(),i(()=>a().teams)))&&(Q.value=(Q.__value=(a(),i(()=>a().teams)))??"",lr(Q,(a(),i(()=>a().teams))))},[()=>(e(x),i(()=>Math.min(e(x).length,4)))]),y(A,W)};F(Oe,A=>{e(x),i(()=>e(x).length>0)&&A(Ne)})}var je=m(Oe,2),$e=m(u(je),2),_t=u($e);_t.__click=()=>Ct("timeRange",{start:null,end:null});var Ge=m(_t,2);Ge.__click=()=>Ct("timeRange",{start:"08:00",end:"14:30"});var Ve=m(Ge,2);Ve.__click=()=>Ct("timeRange",{start:"14:30",end:"23:59"}),c($e),c(je);var tt=m(je,2);{var It=A=>{var W=Gi(),Q=m(u(W),2);Q.__change=ye=>Ct("priority",ye.target.value==="all"?"all":ye.target.value);var de=u(Q);de.value=de.__value="all";var ne=m(de);ne.value=ne.__value="must-cover";var ke=m(ne);ke.value=ke.__value="priority";var me=m(ke);me.value=me.__value="optional",c(Q);var G;xr(Q),c(W),V(()=>{G!==(G=(a(),i(()=>a().priority||"all")))&&(Q.value=(Q.__value=(a(),i(()=>a().priority||"all")))??"",lr(Q,(a(),i(()=>a().priority||"all"))))}),y(A,W)};F(tt,A=>{o()&&A(It)})}var Et=m(tt,2);{var it=A=>{var W=Vi();W.__click=function(...Q){sa==null||sa.apply(this,Q)},y(A,W)};F(Et,A=>{a(),i(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&A(it)})}c(K);var ze=m(K,2),ot=u(ze),Yt=u(ot),Lt=m(Yt);{var fe=A=>{var W=zi(),Q=u(W);c(W),V(()=>L(Q,`(${e(b),i(()=>e(b).length)??""} of ${M(U()),i(()=>U().length)??""})`)),y(A,W)};F(Lt,A=>{e(b),M(U()),i(()=>e(b).length!==U().length)&&A(fe)})}c(ot);var pe=m(ot,2);{var De=A=>{var W=Xi(),Q=m(u(W),2),de=u(Q);c(Q);var ne=m(Q,2);ne.__click=()=>w(ee,null),c(W),V(()=>L(de,`Team ${e(ee)??""}`)),y(A,W)};F(pe,A=>{e(ee)&&A(De)})}c(ze);var Ce=m(ze,2),P=u(Ce);dt(P,5,()=>e(O),lt,(A,W)=>{const Q=Z(()=>(e(_),e(W),i(()=>e(_)[e(W)])));var de=uc(),ne=u(de),ke=u(ne),me=u(ke,!0);c(ke);var G=m(ke,2),ye=u(G);c(G),c(ne);var Se=m(ne,2),mt=u(Se);dt(mt,1,()=>(M(e(Q)),i(()=>ut(e(Q)))),lt,(be,B)=>{const ie=Z(()=>(e(B),i(()=>Le(e(B).before.ScheduledEndDateTime)))),Fe=Z(()=>(e(B),i(()=>Le(e(B).after.ScheduledStartDateTime)))),he=Z(()=>e(Fe)-e(ie)),Ze=Z(()=>(e(B),i(()=>e(B).gapMinutes>=30))),yt=Z(()=>(e(B),i(()=>e(B).gapMinutes>=15&&e(B).gapMinutes<30)));var He=At(),we=Qe(He);{var xe=et=>{var _e=Ki(),Tt=u(_e);{var ct=rt=>{var ht=Qi(),ur=u(ht);c(ht),V(()=>{ue(ht,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(Ze)?"bg-green-500/20 text-green-400":e(yt)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),L(ur,`${e(B),i(()=>e(B).gapMinutes)??""}m`)}),y(rt,ht)};F(Tt,rt=>{e(he)>3&&rt(ct)})}c(_e),V(()=>{Qt(_e,`left: ${e(ie)??""}%; width: ${e(he)??""}%; z-index: 0;`),Ft(_e,"title",`${e(B),i(()=>e(B).gapMinutes)??""} min gap between matches`)}),y(et,_e)};F(we,et=>{e(he)>=1&&et(xe)})}y(be,He)});var Ie=m(mt,2);dt(Ie,1,()=>e(Q),lt,(be,B)=>{const ie=Z(()=>(e(d),e(B),i(()=>e(d).has(e(B).MatchId)))),Fe=Z(()=>(e(E),e(B),i(()=>{var ge;return((ge=e(E))==null?void 0:ge.MatchId)===e(B).MatchId}))),he=Z(()=>(M(Je),e(B),i(()=>Je(e(B))))),Ze=Z(()=>(e(ee),e(p),e(B),i(()=>e(ee)!==null&&e(p).has(e(B).MatchId)))),yt=Z(()=>e(ee)!==null&&!e(Ze)),He=Z(()=>(M(Xt),M(bt),i(()=>Xt(bt)))),we=Z(()=>(M(e(He)),e(B),i(()=>e(He).has(e(B).MatchId)))),xe=Z(()=>(M(kt),e(B),i(()=>kt.getPriority(e(B).MatchId)))),et=Z(()=>(e(k),e(B),i(()=>e(k).has(e(B).MatchId)))),_e=Z(()=>(M(e(he)),M(Ke),i(()=>e(he)?Ke.getTeamStatus(e(he)):"not-covered"))),Tt=Z(()=>e(_e)==="covered"||e(_e)==="partially-covered"),ct=Z(()=>e(_e)==="planned"),rt=Z(()=>e(_e)==="not-covered"),ht=Z(()=>(e(B),i(()=>Le(e(B).ScheduledStartDateTime)))),ur=Z(()=>(e(B),i(()=>Math.max(qe(e(B).ScheduledStartDateTime,e(B).ScheduledEndDateTime),2)))),Zt=Z(()=>(e(B),i(()=>Ee(e(B))))),Hr=Z(()=>(M(e(xe)),M(e(rt)),M(e(we)),M(e(ct)),M(e(Ze)),M(e(ie)),M(e(Tt)),M(e(et)),e(B),i(()=>e(xe)==="must-cover"?"#eab308":e(xe)==="priority"?"#f59e0b":e(rt)&&!e(we)||e(ct)||e(Ze)||e(we)&&!e(ie)?"#eab308":e(Tt)||e(et)&&!e(we)?"#10b981":e(ie)?"#dc2626":e(B).Division.ColorHex))),Dr=Z(()=>e(xe)==="must-cover"?"#facc15":e(xe)==="priority"?"#fbbf24":e(rt)&&!e(we)||e(ct)?"#facc15":e(Fe)?"#eab308":e(Ze)||e(we)?"#facc15":e(ie)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Br=Z(()=>e(Fe)?30:e(Ze)?20:e(xe)==="must-cover"?18:e(we)?15:e(ie)?10:1);var jt=dc();jt.__click=ge=>{ge.target instanceof HTMLElement&&ge.target.closest(".priority-button")||vt(e(B))};var Cr=u(jt);{var kr=ge=>{var Te=Zi(),Ue=u(Te);c(Te),V(()=>L(Ue,`${e(xe)==="must-cover"&&"â­"}
											${e(xe)==="priority"&&"ð¸"}
											${e(xe)==="optional"&&"â"}`)),y(ge,Te)};F(Cr,ge=>{o()&&e(xe)&&ge(kr)})}var Pr=m(Cr,2);{var Ur=ge=>{var Te=ec();y(ge,Te)};F(Pr,ge=>{o()&&e(et)&&!e(we)&&ge(Ur)})}var $r=m(Pr,2);{var Xe=ge=>{var Te=tc();y(ge,Te)};F($r,ge=>{o()&&e(we)&&ge(Xe)})}var Be=m($r,2);Be.__click=ge=>e(he)&&$t(e(he),ge);var at=u(Be,!0);c(Be);var Ht=m(Be,2),Ot=u(Ht);c(Ht);var Ut=m(Ht,2),Jt=u(Ut,!0);c(Ut);var qt=m(Ut,2);{var St=ge=>{const Te=Z(()=>(e(Pe),e(B),i(()=>e(Pe).getScore(e(B).MatchId))));var Ue=At(),sr=Qe(Ue);{var vr=er=>{const Mt=Z(()=>(M(e(Te)),i(()=>e(Te).sets.find(nt=>nt.completedAt===0)||e(Te).sets[e(Te).sets.length-1]))),Dt=Z(()=>(M(e(Te)),i(()=>e(Te).sets.filter(nt=>nt.completedAt>0)))),wt=Z(()=>(M(e(Dt)),i(()=>e(Dt).filter(nt=>nt.team1Score>nt.team2Score).length))),tr=Z(()=>(M(e(Dt)),i(()=>e(Dt).filter(nt=>nt.team2Score>nt.team1Score).length)));var fr=nc(),pa=u(fr);{var dn=nt=>{var mr=rc(),mn=u(mr);c(mr),V(()=>L(mn,`(${e(wt)??""}-${e(tr)??""})`)),y(nt,mr)};F(pa,nt=>{M(e(Dt)),i(()=>e(Dt).length>0)&&nt(dn)})}var qr=m(pa,2),un=u(qr);c(qr);var vn=m(qr,2);{var fn=nt=>{var mr=ac();y(nt,mr)};F(vn,nt=>{M(e(Te)),i(()=>e(Te).status==="in-progress")&&nt(fn)})}c(fr),V(()=>L(un,`${M(e(Mt)),i(()=>e(Mt).team1Score)??""}-${M(e(Mt)),i(()=>e(Mt).team2Score)??""}`)),y(er,fr)};F(sr,er=>{M(e(Te)),i(()=>e(Te)&&e(Te).status!=="not-started")&&er(vr)})}y(ge,Ue)};F(qt,ge=>{e(Pe)&&ge(St)})}var Gt=m(qt,2);{var Jr=ge=>{var Te=ic(),Ue=u(Te);Ue.__click=wt=>{wt.stopPropagation(),w(le,e(le)===e(B).MatchId?null:e(B).MatchId)};var sr=u(Ue),vr=m(sr);{var er=wt=>{var tr=oc();y(wt,tr)};F(vr,wt=>{e(xe)||wt(er)})}c(Ue);var Mt=m(Ue,2);{var Dt=wt=>{var tr=sc(),fr=u(tr);on(fr,{get matchId(){return e(B),i(()=>e(B).MatchId)},get currentPriority(){return e(xe)},get onPriorityChange(){return M(kt),i(()=>kt.setPriority)},onClose:()=>w(le,null)}),c(tr),y(wt,tr)};F(Mt,wt=>{e(le),e(B),i(()=>e(le)===e(B).MatchId)&&wt(Dt)})}c(Te),V(()=>{ue(Ue,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(xe)==="must-cover"?"text-[#facc15]":e(xe)==="priority"?"text-[#fbbf24]":e(xe)==="optional"?"text-white/60":"text-white/40"}`),Ft(Ue,"title",e(xe)?`Priority: ${e(xe)}`:"Set priority"),L(sr,`${e(xe)==="must-cover"&&"â­"}
												${e(xe)==="priority"&&"ð¸"}
												${e(xe)==="optional"&&"â"} `)}),y(ge,Te)};F(Gt,ge=>{o()&&ge(Jr)})}var cn=m(Gt,2);{var ln=ge=>{var Te=lc(),Ue=u(Te);Ue.__click=Mt=>{Mt.stopPropagation(),w(ce,e(ce)===e(he)?null:e(he))};var sr=u(Ue);c(Ue);var vr=m(Ue,2);{var er=Mt=>{var Dt=cc(),wt=u(Dt);sn(wt,{get teamId(){return e(he)},get currentStatus(){return e(_e)},get onStatusChange(){return M(Ke),i(()=>Ke.setTeamStatus)},onClose:()=>w(ce,null)}),c(Dt),y(Mt,Dt)};F(vr,Mt=>{e(ce)===e(he)&&Mt(er)})}c(Te),V(()=>{ue(Ue,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(_e)==="covered"?"text-green-400":e(_e)==="partially-covered"?"text-[#fbbf24]":e(_e)==="planned"?"text-[#facc15]":"text-white/40"}`),Ft(Ue,"title",`Coverage: ${e(_e)??""}`),L(sr,`${e(_e)==="covered"&&"â"}
												${e(_e)==="partially-covered"&&"â"}
												${e(_e)==="planned"&&"ð"}
												${e(_e)==="not-covered"&&"â"}`)}),y(ge,Te)};F(cn,ge=>{o()&&e(he)&&ge(ln)})}c(jt),V((ge,Te,Ue)=>{ue(jt,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(Fe)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(Ze)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(yt)?"opacity-30":""} ${e(we)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(Tt)?"opacity-60":""}`),Qt(jt,`left: ${e(ht)??""}%; width: ${e(ur)??""}%; background-color: ${e(Hr)??""}; border-color: ${e(Dr)??""}; min-width: 100px; z-index: ${e(Br)??""};`),Ft(jt,"title",`${e(B),i(()=>e(B).CompleteShortName)??""}: ${e(B),i(()=>e(B).FirstTeamText)??""} vs ${e(B),i(()=>e(B).SecondTeamText)??""} - ${ge??""}${e(ie)?" (Click to see conflicts)":" (Click to add to plan)"}${e(xe)?` [Priority: ${e(xe)}]`:""}${e(et)&&!e(we)?" [Easy opportunity]":""}${e(_e)!=="not-covered"?` [Coverage: ${e(_e)}]`:""}`),ue(Be,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(he)?"cursor-pointer hover:underline":""}`),L(at,(M(e(he)),e(B),i(()=>e(he)||e(B).Division.CodeAlias))),L(Ot,`vs ${Te??""}`),L(Jt,Ue)},[()=>(M(We),e(B),i(()=>We(e(B).ScheduledStartDateTime))),()=>(M(e(Zt)),i(()=>e(Zt).length>20?e(Zt).substring(0,17)+"...":e(Zt))),()=>(M(We),e(B),i(()=>We(e(B).ScheduledStartDateTime)))]),y(be,jt)}),c(Se),c(de),V(()=>{L(me,e(W)),L(ye,`${M(e(Q)),i(()=>e(Q).length)??""} match${M(e(Q)),i(()=>e(Q).length!==1?"es":"")??""}`)}),y(A,de)}),c(P),c(Ce);var N=m(Ce,2);{var j=A=>{var W=vc();y(A,W)};F(N,A=>{e(E)&&A(j)})}var z=m(N,2);{var J=A=>{var W=fc();y(A,W)};F(z,A=>{e(Pe),i(()=>Ye&&e(Pe)&&e(Pe).isClaimOwner(Ye.MatchId))&&A(J)})}var X=m(z,2);{var H=A=>{var W=mc();W.__click=()=>w(le,null),y(A,W)};F(X,A=>{e(le)!==null&&A(H)})}var $=m(X,2);{var re=A=>{var W=hc();W.__click=()=>w(ce,null),y(A,W)};F($,A=>{e(ce)!==null&&A(re)})}c(T),V((A,W)=>{ue(ve,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(Re,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(st,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(_t,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(Ge,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ue(Ve,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),i(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),L(Yt,`Timeline: ${A??""} - ${W??""} `)},[()=>(M(We),e(S),i(()=>We(e(S)))),()=>(M(We),e(f),i(()=>We(e(f))))]),y(h,T)};F(Wt,h=>{e(b),i(()=>e(b).length===0)?h(R):h(q,!1)})}y(t,xt),nr(),l()}dr(["click","change"]);var xc=C('<span class="ml-2" style="color: #ef4444;"> </span>'),pc=C('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),_c=C('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),yc=C('<span class="hidden sm:inline"> </span>'),Sc=C('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),wc=C('<span class="ml-2" style="color: #ef4444;"> </span>'),Tc=C('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),Mc=C('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),Dc=C("<button> </button>"),Cc=C('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),kc=C('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Pc=C('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),$c=C('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),Ic=C('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Ec=C('<div class="text-[#9fa2ab]">CoachView component - To be migrated</div>'),Oc=C('<div class="text-[#9fa2ab]">CoveragePlanPanel component - To be migrated</div>'),Nc=C('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!> <!></main></div>');function Bc(t,r){ar(r,!1);const n=()=>Nt(_s,"$selectedCount",d),a=()=>Nt(ba,"$isMedia",d),o=()=>Nt(xa,"$isSpectator",d),s=()=>Nt(ws,"$isCoach",d),l=()=>Nt(yr,"$userRole",d),[d,v]=ga(),x=Y(),b=Y(),D=Y(),k=Y(),S=Y(),f=Y();let g=Y("PTAwMDAwNDEzMTQ90"),_=Y("2025-11-01"),O=Y(300),p=Y([]),I=Y(!1),U=Y(null),ae=Y("list"),E=Y(!1),ee=Y(24426),le=Y(!1),ce=Y(null);ha(()=>{Ye(e(g),e(_),e(O))});async function Ye(P,N,j){var z;w(I,!0),w(U,null),w(g,P),w(_,N),w(O,j);try{const J=await oo(P),X=(z=J.Clubs)==null?void 0:z.find(re=>re.Name==="630 Volleyball");X&&w(ee,X.ClubId),w(ce,{name:J.Name||J.EventName||J.FullName||J.Title||"Event",startDate:J.StartDate||J.StartDateTime||J.Start||J.StartTime,endDate:J.EndDate||J.EndDateTime||J.End||J.EndTime});const H=await no(P,N,j),$=vo(H.CourtSchedules);w(p,$)}catch(J){console.error("Error loading schedule:",J),w(U,J instanceof Error?J.message:"Failed to load schedule"),w(p,[])}finally{w(I,!1)}}function Pe(){const P=JSON.stringify(e(p),null,2),N=new Blob([P],{type:"application/json"}),j=URL.createObjectURL(N),z=document.createElement("a");z.href=j,z.download=`630-volleyball-matches-${e(_)}.json`,z.click(),URL.revokeObjectURL(j)}function Ee(){const P=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],N=e(p).map(H=>[H.MatchId.toString(),H.Division.Name,H.CompleteShortName,H.FirstTeamText,H.SecondTeamText,H.WorkTeamText,H.CourtName,new Date(H.ScheduledStartDateTime).toISOString(),new Date(H.ScheduledEndDateTime).toISOString(),((H.ScheduledEndDateTime-H.ScheduledStartDateTime)/6e4).toString(),H.InvolvedTeam]),j=[P.join(","),...N.map(H=>H.map($=>`"${$}"`).join(","))].join(`
`),z=new Blob([j],{type:"text/csv"}),J=URL.createObjectURL(z),X=document.createElement("a");X.href=J,X.download=`630-volleyball-matches-${e(_)}.csv`,X.click(),URL.revokeObjectURL(J)}oe(()=>(e(p),Ke),()=>{if(e(p).length>0){const P=new Map;e(p).forEach(N=>{const z=(N.InvolvedTeam==="first"?N.FirstTeamText:N.SecondTeamText).match(/(\d+-\d+)/),J=z?z[1]:"";if(!J)return;const X=P.get(J)||{total:0,inPlan:0};X.total++;let H=!1;bt.subscribe($=>{H=$.has(N.MatchId)})(),H&&X.inPlan++,P.set(J,X)}),P.forEach((N,j)=>{Ke.updateFromPlan(j,N.inPlan,N.total)})}}),oe(()=>e(p),()=>{w(x,(()=>{const P=new Map;return e(p).forEach((N,j)=>{e(p).slice(j+1).forEach(z=>{N.ScheduledStartDateTime<z.ScheduledEndDateTime&&N.ScheduledEndDateTime>z.ScheduledStartDateTime&&(P.has(N.MatchId)||P.set(N.MatchId,[]),P.get(N.MatchId).push(z.MatchId))})}),e(p).filter(N=>P.has(N.MatchId)).length})())}),oe(()=>n(),()=>{w(b,n())}),oe(()=>a(),()=>{w(D,a())}),oe(()=>o(),()=>{w(k,o())}),oe(()=>s(),()=>{w(S,s())}),oe(()=>l(),()=>{w(f,l())}),oe(()=>(e(p),e(b),Ke),()=>{if(e(p).length>0&&e(b)!==void 0){const P=new Map,N=Xt(bt);e(p).forEach(j=>{const J=(j.InvolvedTeam==="first"?j.FirstTeamText:j.SecondTeamText).match(/(\d+-\d+)/),X=J?J[1]:"";if(!X)return;const H=P.get(X)||{total:0,inPlan:0};H.total++,N.has(j.MatchId)&&H.inPlan++,P.set(X,H)}),P.forEach((j,z)=>{Ke.updateFromPlan(z,j.inPlan,j.total)})}}),wr(),or();var Le=Nc(),qe=u(Le),ut=u(qe),vt=u(ut),$t=u(vt),xt=u($t),Wt=m(u(xt),2);{var R=P=>{var N=pc(),j=u(N),z=m(j);{var J=X=>{var H=xc(),$=u(H);c(H),V(()=>L($,`â¢ ${e(x)??""} conflicts`)),y(X,H)};F(z,X=>{e(x)>0&&X(J)})}c(N),V(()=>L(j,`${e(p),i(()=>e(p).length)??""} matches `)),y(P,N)};F(Wt,P=>{e(p),i(()=>e(p).length>0)&&P(R)})}c(xt);var q=m(xt,2);{var h=P=>{var N=Sc(),j=u(N);{var z=H=>{var $=_c(),re=u($,!0);c($),V(()=>L(re,(e(ce),i(()=>e(ce).name)))),y(H,$)};F(j,H=>{e(ce),i(()=>e(ce).name)&&H(z)})}var J=m(j,2);{var X=H=>{var $=yc(),re=u($,!0);c($),V(A=>L(re,A),[()=>(e(ce),M(zt),i(()=>(()=>{try{const A=e(ce).startDate?new Date(e(ce).startDate).getTime():null,W=e(ce).endDate?new Date(e(ce).endDate).getTime():null;return A&&W&&Math.abs(A-W)>864e5?`${zt(A)} - ${zt(W)}`:A?zt(A):W?zt(W):null}catch{return null}})()))]),y(H,$)};F(J,H=>{e(ce),i(()=>(e(ce).startDate||e(ce).endDate)&&(()=>{try{const $=e(ce).startDate?new Date(e(ce).startDate).getTime():null,re=e(ce).endDate?new Date(e(ce).endDate).getTime():null;return $&&re&&Math.abs($-re)>864e5}catch{return!1}})())&&H(X)})}c(N),y(P,N)};F(q,P=>{e(ce),i(()=>e(ce)&&(e(ce).name||e(ce).startDate))&&P(h)})}var T=m(q,2);{var K=P=>{var N=Tc(),j=u(N),z=m(j);{var J=X=>{var H=wc(),$=u(H);c(H),V(()=>L($,`â¢ ${e(x)??""} conflicts`)),y(X,H)};F(z,X=>{e(x)>0&&X(J)})}c(N),V(()=>L(j,`${e(p),i(()=>e(p).length)??""} matches `)),y(P,N)};F(T,P=>{e(p),i(()=>e(p).length>0)&&P(K)})}c($t);var te=m($t,2),se=u(te),ve=m(u(se),2);ve.__change=P=>yr.setRole(P.target.value);var Re=u(ve);Re.value=Re.__value="media";var st=m(Re);st.value=st.__value="spectator";var pt=m(st);pt.value=pt.__value="coach",c(ve);var ft;xr(ve),c(se);var Oe=m(se,2);{var Ne=P=>{var N=Cc(),j=Qe(N);{var z=re=>{var A=Mc(),W=u(A);W.__click=()=>w(ae,"list");let Q;var de=m(W,2);de.__click=()=>w(ae,"timeline");let ne;c(A),V(()=>{Q=ue(W,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Q,{"bg-gold-500":e(ae)==="list","text-charcoal-950":e(ae)==="list","text-charcoal-300":e(ae)!=="list","hover:text-charcoal-50":e(ae)!=="list"}),Qt(W,e(ae)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),ne=ue(de,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,ne,{"bg-gold-500":e(ae)==="timeline","text-charcoal-950":e(ae)==="timeline","text-charcoal-300":e(ae)!=="timeline","hover:text-charcoal-50":e(ae)!=="timeline"}),Qt(de,e(ae)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),y(re,A)};F(j,re=>{e(S)||re(z)})}var J=m(j,2);{var X=re=>{var A=Dc();A.__click=()=>w(le,!e(le));let W;var Q=u(A);c(A),V(()=>{W=ue(A,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,W,{"text-charcoal-950":e(le)}),Qt(A,e(le)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),L(Q,`Plan (${e(b)??""})`)}),y(re,A)};F(J,re=>{e(D)&&e(b)>0&&re(X)})}var H=m(J,2);H.__click=Pe;var $=m(H,2);$.__click=Ee,y(P,N)};F(Oe,P=>{e(p),i(()=>e(p).length>0)&&P(Ne)})}var je=m(Oe,2);je.__click=()=>w(E,!e(E));let $e;var _t=u(je,!0);c(je),c(te),c(vt),c(ut),c(qe);var Ge=m(qe,2);{var Ve=P=>{var N=kc(),j=u(N),z=u(j);Ms(z,{get eventId(){return e(g)},get date(){return e(_)},get timeWindow(){return e(O)},onLoad:Ye,get loading(){return e(I)}}),c(j),c(N),y(P,N)};F(Ge,P=>{e(E)&&P(Ve)})}var tt=m(Ge,2),It=u(tt);{var Et=P=>{var N=Pc();y(P,N)};F(It,P=>{e(I)&&P(Et)})}var it=m(It,2);{var ze=P=>{var N=$c(),j=m(u(N),2),z=u(j,!0);c(j),c(N),V(()=>L(z,e(U))),y(P,N)};F(it,P=>{e(U)&&P(ze)})}var ot=m(it,2);{var Yt=P=>{var N=Ic();y(P,N)};F(ot,P=>{e(I),e(p),e(U),i(()=>!e(I)&&e(p).length===0&&!e(U))&&P(Yt)})}var Lt=m(ot,2);{var fe=P=>{var N=At(),j=Qe(N);{var z=X=>{var H=Ec();y(X,H)},J=X=>{var H=At(),$=Qe(H);{var re=W=>{ji(W,{get matches(){return e(p)},get eventId(){return e(g)},get clubId(){return e(ee)}})},A=W=>{bc(W,{get matches(){return e(p)},get eventId(){return e(g)}})};F($,W=>{e(ae)==="list"?W(re):W(A,!1)},!0)}y(X,H)};F(j,X=>{e(S)?X(z):X(J,!1)})}y(P,N)};F(Lt,P=>{e(p),i(()=>e(p).length>0)&&P(fe)})}var pe=m(Lt,2);F(pe,P=>{});var De=m(pe,2);{var Ce=P=>{var N=Oc();y(P,N)};F(De,P=>{e(le)&&P(Ce)})}c(tt),c(Le),V(()=>{ft!==(ft=e(f))&&(ve.value=(ve.__value=e(f))??"",lr(ve,e(f))),$e=ue(je,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,$e,{"text-charcoal-950":e(E)}),Qt(je,e(E)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),L(_t,e(E)?"Hide":"Config")}),y(t,Le),nr(),v()}dr(["change","click"]);export{Bc as component,Hc as universal};
