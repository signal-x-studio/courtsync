import{f as w,a as g,c as $t,d as eo,t as Do}from"../chunks/DrdcVeu4.js";import"../chunks/DzJyxCZ8.js";import{d as Qr,w as Kt,o as Kr,a as ma,g as tr}from"../chunks/BhAud1kW.js";import{D as Ea,y as er,q as en,B as Eo,A as tn,L as rn,g as e,a1 as q,N as an,O as on,P as io,Q as Na,z as Yr,ad as nn,aA as sn,I as Xa,K as cn,E as fr,ay as No,aG as Po,Y as A,ab as co,ak as lo,F as Oo,H as ln,aH as xa,aI as Pa,G as Ao,aJ as ba,aK as dn,au as vn,aL as un,ax as fn,aM as mn,x as xn,U as Fo,aN as Ro,aO as bn,W as gn,aP as pn,aQ as hn,aR as jo,R as _n,aS as Lo,aT as Sn,aU as yn,aV as wn,aW as Tn,aX as Mn,aE as Cn,b as i,S as kn,p as Dt,aY as pe,Z as x,e as S,aZ as Wt,k as s,s as c,l as n,t as F,j as Et,i as lt,a_ as Fr,a$ as to,al as mr,b0 as Rr,b1 as $n}from"../chunks/DrfFkH7i.js";import{s as y,e as pr,d as Jt}from"../chunks/ClsaVdYO.js";import{p as Re,i as D,s as nr,a as ga,b as In}from"../chunks/BVc7N6hh.js";import{i as Nt}from"../chunks/BoP2PCHn.js";const Dn=!0;function st(a,r){return r}function En(a,r,t){for(var o=a.items,l=[],d=r.length,v=0;v<d;v++)un(r[v].e,l,!0);var m=d>0&&l.length===0&&t!==null;if(m){var _=t.parentNode;fn(_),_.append(t),o.clear(),dr(a,r[0].prev,r[d-1].next)}mn(l,()=>{for(var T=0;T<d;T++){var b=r[T];m||(o.delete(b.k),dr(a,b.prev,b.next)),Ao(b.e,!m)}})}function it(a,r,t,o,l,d=null){var v=a,m={flags:r,items:new Map,first:null},_=(r&Ro)!==0;if(_){var T=a;v=er?Ea(en(T)):T.appendChild(Eo())}er&&tn();var b=null,h=!1,C=new Map,$=q(()=>{var N=t();return Po(N)?N:N==null?[]:No(N)}),f,u;function p(){Nn(u,f,m,C,v,l,r,o,t),d!==null&&(f.length===0?b?Oo(b):b=Xa(()=>d(v)):b!==null&&ln(b,()=>{b=null}))}rn(()=>{u??(u=xn),f=e($);var N=f.length;if(h&&N===0)return;h=N===0;let M=!1;if(er){var I=an(v)===on;I!==(N===0)&&(v=io(),Ea(v),Na(!1),M=!0)}if(er){for(var L=null,te,U=0;U<N;U++){if(Yr.nodeType===nn&&Yr.data===sn){v=Yr,M=!0,Na(!1);break}var se=f[U],ie=o(se,U);te=Qa(Yr,m,L,null,se,ie,U,l,r,t),m.items.set(ie,te),L=te}N>0&&Ea(io())}if(er)N===0&&d&&(b=Xa(()=>d(v)));else if(cn()){var X=new Set,le=fr;for(U=0;U<N;U+=1){se=f[U],ie=o(se,U);var ce=m.items.get(ie)??C.get(ie);ce?(r&(ba|xa))!==0&&Uo(ce,se,U,r):(te=Qa(null,m,null,null,se,ie,U,l,r,t,!0),C.set(ie,te)),X.add(ie)}for(const[G,be]of m.items)X.has(G)||le.skipped_effects.add(be.e);le.oncommit(p)}else p();M&&Na(!0),e($)}),er&&(v=Yr)}function Nn(a,r,t,o,l,d,v,m,_){var he,we,ee,E;var T=(v&bn)!==0,b=(v&(ba|xa))!==0,h=r.length,C=t.items,$=t.first,f=$,u,p=null,N,M=[],I=[],L,te,U,se;if(T)for(se=0;se<h;se+=1)L=r[se],te=m(L,se),U=C.get(te),U!==void 0&&((he=U.a)==null||he.measure(),(N??(N=new Set)).add(U));for(se=0;se<h;se+=1){if(L=r[se],te=m(L,se),U=C.get(te),U===void 0){var ie=o.get(te);if(ie!==void 0){o.delete(te),C.set(te,ie);var X=p?p.next:f;dr(t,p,ie),dr(t,ie,X),Oa(ie,X,l),p=ie}else{var le=f?f.e.nodes_start:l;p=Qa(le,t,p,p===null?t.first:p.next,L,te,se,d,v,_)}C.set(te,p),M=[],I=[],f=p.next;continue}if(b&&Uo(U,L,se,v),(U.e.f&Pa)!==0&&(Oo(U.e),T&&((we=U.a)==null||we.unfix(),(N??(N=new Set)).delete(U))),U!==f){if(u!==void 0&&u.has(U)){if(M.length<I.length){var ce=I[0],G;p=ce.prev;var be=M[0],ge=M[M.length-1];for(G=0;G<M.length;G+=1)Oa(M[G],ce,l);for(G=0;G<I.length;G+=1)u.delete(I[G]);dr(t,be.prev,ge.next),dr(t,p,be),dr(t,ge,ce),f=ce,p=ge,se-=1,M=[],I=[]}else u.delete(U),Oa(U,f,l),dr(t,U.prev,U.next),dr(t,U,p===null?t.first:p.next),dr(t,p,U),p=U;continue}for(M=[],I=[];f!==null&&f.k!==te;)(f.e.f&Pa)===0&&(u??(u=new Set)).add(f),I.push(f),f=f.next;if(f===null)continue;U=f}M.push(U),p=U,f=U.next}if(f!==null||u!==void 0){for(var re=u===void 0?[]:No(u);f!==null;)(f.e.f&Pa)===0&&re.push(f),f=f.next;var Se=re.length;if(Se>0){var B=(v&Ro)!==0&&h===0?l:null;if(T){for(se=0;se<Se;se+=1)(ee=re[se].a)==null||ee.measure();for(se=0;se<Se;se+=1)(E=re[se].a)==null||E.fix()}En(t,re,B)}}T&&Fo(()=>{var j;if(N!==void 0)for(U of N)(j=U.a)==null||j.apply()}),a.first=t.first&&t.first.e,a.last=p&&p.e;for(var _e of o.values())Ao(_e.e);o.clear()}function Uo(a,r,t,o){(o&ba)!==0&&lo(a.v,r),(o&xa)!==0?lo(a.i,t):a.i=t}function Qa(a,r,t,o,l,d,v,m,_,T,b){var h=(_&ba)!==0,C=(_&dn)===0,$=h?C?A(l,!1,!1):co(l):l,f=(_&xa)===0?v:co(v),u={i:f,v:$,k:d,a:null,e:null,prev:t,next:o};try{if(a===null){var p=document.createDocumentFragment();p.append(a=Eo())}return u.e=Xa(()=>m(a,$,f,T),er),u.e.prev=t&&t.e,u.e.next=o&&o.e,t===null?b||(r.first=u):(t.next=u,t.e.next=u.e),o!==null&&(o.prev=u,o.e.prev=u.e),u}finally{}}function Oa(a,r,t){for(var o=a.next?a.next.e.nodes_start:t,l=r?r.e.nodes_start:t,d=a.e.nodes_start;d!==null&&d!==o;){var v=vn(d);l.before(d),d=v}}function dr(a,r,t){r===null?a.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}const vo=[...` 	
\r\fÂ \v\uFEFF`];function Pn(a,r,t){var o=a==null?"":""+a;if(r&&(o=o?o+" "+r:r),t){for(var l in t)if(t[l])o=o?o+" "+l:l;else if(o.length)for(var d=l.length,v=0;(v=o.indexOf(l,v))>=0;){var m=v+d;(v===0||vo.includes(o[v-1]))&&(m===o.length||vo.includes(o[m]))?o=(v===0?"":o.substring(0,v))+o.substring(m+1):v=m}}return o===""?null:o}function On(a,r){return a==null?null:String(a)}function Oe(a,r,t,o,l,d){var v=a.__className;if(er||v!==t||v===void 0){var m=Pn(t,o,d);(!er||m!==a.getAttribute("class"))&&(m==null?a.removeAttribute("class"):r?a.className=m:a.setAttribute("class",m)),a.__className=t}else if(d&&l!==d)for(var _ in d){var T=!!d[_];(l==null||T!==!!l[_])&&a.classList.toggle(_,T)}return d}function Gt(a,r,t,o){var l=a.__style;if(er||l!==r){var d=On(r);(!er||d!==a.getAttribute("style"))&&(d==null?a.removeAttribute("style"):a.style.cssText=d),a.__style=r}return o}function hr(a,r,t=!1){if(a.multiple){if(r==null)return;if(!Po(r))return pn();for(var o of a.options)o.selected=r.includes(Gr(o));return}for(o of a.options){var l=Gr(o);if(hn(l,r)){o.selected=!0;return}}(!t||r!==void 0)&&(a.selectedIndex=-1)}function Dr(a){var r=new MutationObserver(()=>{hr(a,a.__value)});r.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gn(()=>{r.disconnect()})}function ro(a,r,t=r){var o=new WeakSet,l=!0;jo(a,"change",d=>{var v=d?"[selected]":":checked",m;if(a.multiple)m=[].map.call(a.querySelectorAll(v),Gr);else{var _=a.querySelector(v)??a.querySelector("option:not([disabled])");m=_&&Gr(_)}t(m),fr!==null&&o.add(fr)}),_n(()=>{var d=r();if(a===document.activeElement){var v=Lo??fr;if(o.has(v))return}if(hr(a,d,l),l&&d===void 0){var m=a.querySelector(":checked");m!==null&&(d=Gr(m),t(d))}a.__value=d,l=!1}),Dr(a)}function Gr(a){return"__value"in a?a.__value:a.value}const An=Symbol("is custom element"),Fn=Symbol("is html");function jr(a){if(er){var r=!1,t=()=>{if(!r){if(r=!0,a.hasAttribute("value")){var o=a.value;jt(a,"value",null),a.value=o}if(a.hasAttribute("checked")){var l=a.checked;jt(a,"checked",null),a.checked=l}}};a.__on_r=t,Fo(t),Sn()}}function Rn(a,r){var t=Wo(a);t.value===(t.value=r??void 0)||a.value===r&&(r!==0||a.nodeName!=="PROGRESS")||(a.value=r??"")}function jt(a,r,t,o){var l=Wo(a);er&&(l[r]=a.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&a.nodeName==="LINK")||l[r]!==(l[r]=t)&&(r==="loading"&&(a[yn]=t),t==null?a.removeAttribute(r):typeof t!="string"&&jn(a).includes(r)?a[r]=t:a.setAttribute(r,t))}function Wo(a){return a.__attributes??(a.__attributes={[An]:a.nodeName.includes("-"),[Fn]:a.namespaceURI===wn})}var uo=new Map;function jn(a){var r=a.getAttribute("is")||a.nodeName,t=uo.get(r);if(t)return t;uo.set(r,t=[]);for(var o,l=a,d=Element.prototype;d!==l;){o=Mn(l);for(var v in o)o[v].set&&t.push(v);l=Tn(l)}return t}function ir(a,r,t=r){var o=new WeakSet;jo(a,"input",async l=>{var d=l?a.defaultValue:a.value;if(d=Aa(a)?Fa(d):d,t(d),fr!==null&&o.add(fr),await Cn(),d!==(d=r())){var v=a.selectionStart,m=a.selectionEnd,_=a.value.length;if(a.value=d??"",m!==null){var T=a.value.length;v===m&&m===_&&T>_?(a.selectionStart=T,a.selectionEnd=T):(a.selectionStart=v,a.selectionEnd=Math.min(m,T))}}}),(er&&a.defaultValue!==a.value||i(r)==null&&a.value)&&(t(Aa(a)?Fa(a.value):a.value),fr!==null&&o.add(fr)),kn(()=>{var l=r();if(a===document.activeElement){var d=Lo??fr;if(o.has(d))return}Aa(a)&&l===Fa(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}function Aa(a){var r=a.type;return r==="number"||r==="range"}function Fa(a){return a===""?null:+a}const Ln=Dn,Un=!1,Wn=(async()=>({})),Su=Object.freeze(Object.defineProperty({__proto__:null,load:Wn,ssr:Un},Symbol.toStringTag,{value:"Module"})),Zr="https://results.advancedeventsystems.com/api",Bn="https://results.advancedeventsystems.com/odata",Hn=async(a,r,t)=>{const o=`${Zr}/event/${a}/courts/${r}/${t}`,l=await fetch(o);if(!l.ok)throw new Error(`Failed to fetch court schedule: ${l.statusText}`);return l.json()},Yn=async a=>{const r=`${Zr}/event/${a}`,t=await fetch(r);if(!t.ok)throw new Error(`Failed to fetch event info: ${t.statusText}`);return t.json()},Jn=async(a,r)=>{const t=`${Bn}/${a}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,o=await fetch(t);if(!o.ok)throw new Error(`Failed to fetch team assignments: ${o.statusText}`);return o.json()},Ra=async(a,r,t,o)=>{const l=`${Zr}/event/${a}/division/${r}/team/${t}/schedule/${o}`,d=await fetch(l);if(!d.ok)throw new Error(`Failed to fetch team schedule: ${d.statusText}`);return d.json()},Vn=async(a,r)=>{const t=`${Zr}/event/${a}/division/${r}/plays`,o=await fetch(t);if(!o.ok)throw new Error(`Failed to fetch division plays: ${o.statusText}`);return o.json()},Gn=async(a,r)=>{const t=`${Zr}/event/${a}/poolsheet/${r}`,o=await fetch(t);if(!o.ok)throw new Error(`Failed to fetch pool sheet: ${o.statusText}`);return o.json()},sa="630 Volleyball",ia="630",zn=a=>[a.FirstTeamText,a.SecondTeamText,a.WorkTeamText].some(t=>t&&(t.includes(sa)||t.includes(ia))),qn=a=>a.FirstTeamText&&(a.FirstTeamText.includes(sa)||a.FirstTeamText.includes(ia))?"first":a.SecondTeamText&&(a.SecondTeamText.includes(sa)||a.SecondTeamText.includes(ia))?"second":a.WorkTeamText&&(a.WorkTeamText.includes(sa)||a.WorkTeamText.includes(ia))?"work":null,Xn=a=>{const r=[];return a.forEach(t=>{t.CourtMatches.forEach(o=>{if(zn(o)){const l=qn(o);l&&l!=="work"&&r.push({...o,CourtName:t.Name,CourtId:t.CourtId,InvolvedTeam:l})}})}),r.sort((t,o)=>t.ScheduledStartDateTime-o.ScheduledStartDateTime)},zr=a=>{const r=new Map;for(let t=0;t<a.length;t++){const o=a[t],l=[];for(let d=0;d<a.length;d++){if(t===d)continue;const v=a[d],m=o.ScheduledStartDateTime<v.ScheduledEndDateTime&&o.ScheduledEndDateTime>v.ScheduledStartDateTime,_=o.CourtId!==v.CourtId;m&&_&&l.push(v.MatchId)}l.length>0&&r.set(o.MatchId,l)}return r},Bo=6048e5,Qn=864e5,fo=Symbol.for("constructDateFrom");function _r(a,r){return typeof a=="function"?a(r):a&&typeof a=="object"&&fo in a?a[fo](r):a instanceof Date?new a.constructor(r):new Date(r)}function cr(a,r){return _r(r||a,a)}let Kn={};function pa(){return Kn}function qr(a,r){var m,_,T,b;const t=pa(),o=(r==null?void 0:r.weekStartsOn)??((_=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:_.weekStartsOn)??t.weekStartsOn??((b=(T=t.locale)==null?void 0:T.options)==null?void 0:b.weekStartsOn)??0,l=cr(a,r==null?void 0:r.in),d=l.getDay(),v=(d<o?7:0)+d-o;return l.setDate(l.getDate()-v),l.setHours(0,0,0,0),l}function la(a,r){return qr(a,{...r,weekStartsOn:1})}function Ho(a,r){const t=cr(a,r==null?void 0:r.in),o=t.getFullYear(),l=_r(t,0);l.setFullYear(o+1,0,4),l.setHours(0,0,0,0);const d=la(l),v=_r(t,0);v.setFullYear(o,0,4),v.setHours(0,0,0,0);const m=la(v);return t.getTime()>=d.getTime()?o+1:t.getTime()>=m.getTime()?o:o-1}function mo(a){const r=cr(a),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+a-+t}function Zn(a,...r){const t=_r.bind(null,r.find(o=>typeof o=="object"));return r.map(t)}function xo(a,r){const t=cr(a,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function es(a,r,t){const[o,l]=Zn(t==null?void 0:t.in,a,r),d=xo(o),v=xo(l),m=+d-mo(d),_=+v-mo(v);return Math.round((m-_)/Qn)}function ts(a,r){const t=Ho(a,r),o=_r(a,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),la(o)}function rs(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function as(a){return!(!rs(a)&&typeof a!="number"||isNaN(+cr(a)))}function os(a,r){const t=cr(a,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const ns={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ss=(a,r,t)=>{let o;const l=ns[a];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+o:o+" ago":o};function ja(a){return(r={})=>{const t=r.width?String(r.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const is={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cs={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ls={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ds={date:ja({formats:is,defaultWidth:"full"}),time:ja({formats:cs,defaultWidth:"full"}),dateTime:ja({formats:ls,defaultWidth:"full"})},vs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},us=(a,r,t,o)=>vs[a];function Jr(a){return(r,t)=>{const o=t!=null&&t.context?String(t.context):"standalone";let l;if(o==="formatting"&&a.formattingValues){const v=a.defaultFormattingWidth||a.defaultWidth,m=t!=null&&t.width?String(t.width):v;l=a.formattingValues[m]||a.formattingValues[v]}else{const v=a.defaultWidth,m=t!=null&&t.width?String(t.width):a.defaultWidth;l=a.values[m]||a.values[v]}const d=a.argumentCallback?a.argumentCallback(r):r;return l[d]}}const fs={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ms={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ps={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hs=(a,r)=>{const t=Number(a),o=t%100;if(o>20||o<10)switch(o%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_s={ordinalNumber:hs,era:Jr({values:fs,defaultWidth:"wide"}),quarter:Jr({values:ms,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Jr({values:xs,defaultWidth:"wide"}),day:Jr({values:bs,defaultWidth:"wide"}),dayPeriod:Jr({values:gs,defaultWidth:"wide",formattingValues:ps,defaultFormattingWidth:"wide"})};function Vr(a){return(r,t={})=>{const o=t.width,l=o&&a.matchPatterns[o]||a.matchPatterns[a.defaultMatchWidth],d=r.match(l);if(!d)return null;const v=d[0],m=o&&a.parsePatterns[o]||a.parsePatterns[a.defaultParseWidth],_=Array.isArray(m)?ys(m,h=>h.test(v)):Ss(m,h=>h.test(v));let T;T=a.valueCallback?a.valueCallback(_):_,T=t.valueCallback?t.valueCallback(T):T;const b=r.slice(v.length);return{value:T,rest:b}}}function Ss(a,r){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&r(a[t]))return t}function ys(a,r){for(let t=0;t<a.length;t++)if(r(a[t]))return t}function ws(a){return(r,t={})=>{const o=r.match(a.matchPattern);if(!o)return null;const l=o[0],d=r.match(a.parsePattern);if(!d)return null;let v=a.valueCallback?a.valueCallback(d[0]):d[0];v=t.valueCallback?t.valueCallback(v):v;const m=r.slice(l.length);return{value:v,rest:m}}}const Ts=/^(\d+)(th|st|nd|rd)?/i,Ms=/\d+/i,Cs={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ks={any:[/^b/i,/^(a|c)/i]},$s={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Is={any:[/1/i,/2/i,/3/i,/4/i]},Ds={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Es={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ps={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Os={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},As={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fs={ordinalNumber:ws({matchPattern:Ts,parsePattern:Ms,valueCallback:a=>parseInt(a,10)}),era:Vr({matchPatterns:Cs,defaultMatchWidth:"wide",parsePatterns:ks,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:$s,defaultMatchWidth:"wide",parsePatterns:Is,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Vr({matchPatterns:Ds,defaultMatchWidth:"wide",parsePatterns:Es,defaultParseWidth:"any"}),day:Vr({matchPatterns:Ns,defaultMatchWidth:"wide",parsePatterns:Ps,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:Os,defaultMatchWidth:"any",parsePatterns:As,defaultParseWidth:"any"})},Rs={code:"en-US",formatDistance:ss,formatLong:ds,formatRelative:us,localize:_s,match:Fs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function js(a,r){const t=cr(a,r==null?void 0:r.in);return es(t,os(t))+1}function Ls(a,r){const t=cr(a,r==null?void 0:r.in),o=+la(t)-+ts(t);return Math.round(o/Bo)+1}function Yo(a,r){var b,h,C,$;const t=cr(a,r==null?void 0:r.in),o=t.getFullYear(),l=pa(),d=(r==null?void 0:r.firstWeekContainsDate)??((h=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:h.firstWeekContainsDate)??l.firstWeekContainsDate??(($=(C=l.locale)==null?void 0:C.options)==null?void 0:$.firstWeekContainsDate)??1,v=_r((r==null?void 0:r.in)||a,0);v.setFullYear(o+1,0,d),v.setHours(0,0,0,0);const m=qr(v,r),_=_r((r==null?void 0:r.in)||a,0);_.setFullYear(o,0,d),_.setHours(0,0,0,0);const T=qr(_,r);return+t>=+m?o+1:+t>=+T?o:o-1}function Us(a,r){var m,_,T,b;const t=pa(),o=(r==null?void 0:r.firstWeekContainsDate)??((_=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??t.firstWeekContainsDate??((b=(T=t.locale)==null?void 0:T.options)==null?void 0:b.firstWeekContainsDate)??1,l=Yo(a,r),d=_r((r==null?void 0:r.in)||a,0);return d.setFullYear(l,0,o),d.setHours(0,0,0,0),qr(d,r)}function Ws(a,r){const t=cr(a,r==null?void 0:r.in),o=+qr(t,r)-+Us(t,r);return Math.round(o/Bo)+1}function wt(a,r){const t=a<0?"-":"",o=Math.abs(a).toString().padStart(r,"0");return t+o}const gr={y(a,r){const t=a.getFullYear(),o=t>0?t:1-t;return wt(r==="yy"?o%100:o,r.length)},M(a,r){const t=a.getMonth();return r==="M"?String(t+1):wt(t+1,2)},d(a,r){return wt(a.getDate(),r.length)},a(a,r){const t=a.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,r){return wt(a.getHours()%12||12,r.length)},H(a,r){return wt(a.getHours(),r.length)},m(a,r){return wt(a.getMinutes(),r.length)},s(a,r){return wt(a.getSeconds(),r.length)},S(a,r){const t=r.length,o=a.getMilliseconds(),l=Math.trunc(o*Math.pow(10,t-3));return wt(l,r.length)}},Or={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bo={G:function(a,r,t){const o=a.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(o,{width:"abbreviated"});case"GGGGG":return t.era(o,{width:"narrow"});case"GGGG":default:return t.era(o,{width:"wide"})}},y:function(a,r,t){if(r==="yo"){const o=a.getFullYear(),l=o>0?o:1-o;return t.ordinalNumber(l,{unit:"year"})}return gr.y(a,r)},Y:function(a,r,t,o){const l=Yo(a,o),d=l>0?l:1-l;if(r==="YY"){const v=d%100;return wt(v,2)}return r==="Yo"?t.ordinalNumber(d,{unit:"year"}):wt(d,r.length)},R:function(a,r){const t=Ho(a);return wt(t,r.length)},u:function(a,r){const t=a.getFullYear();return wt(t,r.length)},Q:function(a,r,t){const o=Math.ceil((a.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return wt(o,2);case"Qo":return t.ordinalNumber(o,{unit:"quarter"});case"QQQ":return t.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(o,{width:"wide",context:"formatting"})}},q:function(a,r,t){const o=Math.ceil((a.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return wt(o,2);case"qo":return t.ordinalNumber(o,{unit:"quarter"});case"qqq":return t.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(o,{width:"wide",context:"standalone"})}},M:function(a,r,t){const o=a.getMonth();switch(r){case"M":case"MM":return gr.M(a,r);case"Mo":return t.ordinalNumber(o+1,{unit:"month"});case"MMM":return t.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(o,{width:"wide",context:"formatting"})}},L:function(a,r,t){const o=a.getMonth();switch(r){case"L":return String(o+1);case"LL":return wt(o+1,2);case"Lo":return t.ordinalNumber(o+1,{unit:"month"});case"LLL":return t.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(o,{width:"wide",context:"standalone"})}},w:function(a,r,t,o){const l=Ws(a,o);return r==="wo"?t.ordinalNumber(l,{unit:"week"}):wt(l,r.length)},I:function(a,r,t){const o=Ls(a);return r==="Io"?t.ordinalNumber(o,{unit:"week"}):wt(o,r.length)},d:function(a,r,t){return r==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):gr.d(a,r)},D:function(a,r,t){const o=js(a);return r==="Do"?t.ordinalNumber(o,{unit:"dayOfYear"}):wt(o,r.length)},E:function(a,r,t){const o=a.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(o,{width:"short",context:"formatting"});case"EEEE":default:return t.day(o,{width:"wide",context:"formatting"})}},e:function(a,r,t,o){const l=a.getDay(),d=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(d);case"ee":return wt(d,2);case"eo":return t.ordinalNumber(d,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(a,r,t,o){const l=a.getDay(),d=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(d);case"cc":return wt(d,r.length);case"co":return t.ordinalNumber(d,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(a,r,t){const o=a.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return wt(l,r.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(o,{width:"short",context:"formatting"});case"iiii":default:return t.day(o,{width:"wide",context:"formatting"})}},a:function(a,r,t){const l=a.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(a,r,t){const o=a.getHours();let l;switch(o===12?l=Or.noon:o===0?l=Or.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(a,r,t){const o=a.getHours();let l;switch(o>=17?l=Or.evening:o>=12?l=Or.afternoon:o>=4?l=Or.morning:l=Or.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(a,r,t){if(r==="ho"){let o=a.getHours()%12;return o===0&&(o=12),t.ordinalNumber(o,{unit:"hour"})}return gr.h(a,r)},H:function(a,r,t){return r==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):gr.H(a,r)},K:function(a,r,t){const o=a.getHours()%12;return r==="Ko"?t.ordinalNumber(o,{unit:"hour"}):wt(o,r.length)},k:function(a,r,t){let o=a.getHours();return o===0&&(o=24),r==="ko"?t.ordinalNumber(o,{unit:"hour"}):wt(o,r.length)},m:function(a,r,t){return r==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):gr.m(a,r)},s:function(a,r,t){return r==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):gr.s(a,r)},S:function(a,r){return gr.S(a,r)},X:function(a,r,t){const o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return po(o);case"XXXX":case"XX":return Ir(o);case"XXXXX":case"XXX":default:return Ir(o,":")}},x:function(a,r,t){const o=a.getTimezoneOffset();switch(r){case"x":return po(o);case"xxxx":case"xx":return Ir(o);case"xxxxx":case"xxx":default:return Ir(o,":")}},O:function(a,r,t){const o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+go(o,":");case"OOOO":default:return"GMT"+Ir(o,":")}},z:function(a,r,t){const o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+go(o,":");case"zzzz":default:return"GMT"+Ir(o,":")}},t:function(a,r,t){const o=Math.trunc(+a/1e3);return wt(o,r.length)},T:function(a,r,t){return wt(+a,r.length)}};function go(a,r=""){const t=a>0?"-":"+",o=Math.abs(a),l=Math.trunc(o/60),d=o%60;return d===0?t+String(l):t+String(l)+r+wt(d,2)}function po(a,r){return a%60===0?(a>0?"-":"+")+wt(Math.abs(a)/60,2):Ir(a,r)}function Ir(a,r=""){const t=a>0?"-":"+",o=Math.abs(a),l=wt(Math.trunc(o/60),2),d=wt(o%60,2);return t+l+r+d}const ho=(a,r)=>{switch(a){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Jo=(a,r)=>{switch(a){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Bs=(a,r)=>{const t=a.match(/(P+)(p+)?/)||[],o=t[1],l=t[2];if(!l)return ho(a,r);let d;switch(o){case"P":d=r.dateTime({width:"short"});break;case"PP":d=r.dateTime({width:"medium"});break;case"PPP":d=r.dateTime({width:"long"});break;case"PPPP":default:d=r.dateTime({width:"full"});break}return d.replace("{{date}}",ho(o,r)).replace("{{time}}",Jo(l,r))},Hs={p:Jo,P:Bs},Ys=/^D+$/,Js=/^Y+$/,Vs=["D","DD","YY","YYYY"];function Gs(a){return Ys.test(a)}function zs(a){return Js.test(a)}function qs(a,r,t){const o=Xs(a,r,t);if(console.warn(o),Vs.includes(a))throw new RangeError(o)}function Xs(a,r,t){const o=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${r}\`) for formatting ${o} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ks=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zs=/^'([^]*?)'?$/,ei=/''/g,ti=/[a-zA-Z]/;function Vo(a,r,t){var b,h,C,$;const o=pa(),l=o.locale??Rs,d=o.firstWeekContainsDate??((h=(b=o.locale)==null?void 0:b.options)==null?void 0:h.firstWeekContainsDate)??1,v=o.weekStartsOn??(($=(C=o.locale)==null?void 0:C.options)==null?void 0:$.weekStartsOn)??0,m=cr(a,t==null?void 0:t.in);if(!as(m))throw new RangeError("Invalid time value");let _=r.match(Ks).map(f=>{const u=f[0];if(u==="p"||u==="P"){const p=Hs[u];return p(f,l.formatLong)}return f}).join("").match(Qs).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const u=f[0];if(u==="'")return{isToken:!1,value:ri(f)};if(bo[u])return{isToken:!0,value:f};if(u.match(ti))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:f}});l.localize.preprocessor&&(_=l.localize.preprocessor(m,_));const T={firstWeekContainsDate:d,weekStartsOn:v,locale:l};return _.map(f=>{if(!f.isToken)return f.value;const u=f.value;(zs(u)||Gs(u))&&qs(u,r,String(a));const p=bo[u[0]];return p(m,u,l.localize,T)}).join("")}function ri(a){const r=a.match(Zs);return r?r[1].replace(ei,"'"):a}const rt=a=>Vo(new Date(a),"h:mm a"),Ut=a=>Vo(new Date(a),"MMM d, yyyy"),La="coveragePlan";function ai(){const{subscribe:a,set:r,update:t}=Kt(new Set);try{const l=localStorage.getItem(La);if(l){const d=JSON.parse(l);r(new Set(d.selectedMatches))}}catch(l){console.error("Failed to load coverage plan:",l)}const o=l=>{try{const d={selectedMatches:Array.from(l),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(La,JSON.stringify(d))}catch(d){console.error("Failed to save coverage plan:",d)}};return{subscribe:a,toggleMatch:l=>{t(d=>{const v=new Set(d);return v.has(l)?v.delete(l):v.add(l),o(v),v})},selectMatch:l=>{t(d=>{const v=new Set(d);return v.add(l),o(v),v})},deselectMatch:l=>{t(d=>{const v=new Set(d);return v.delete(l),o(v),v})},clearPlan:()=>{r(new Set),localStorage.removeItem(La)}}}const It=ai();Qr(It,a=>a);const oi=Qr(It,a=>a.size),Ua="teamCoverageStatus";function ni(){const{subscribe:a,set:r,update:t}=Kt({});try{const l=localStorage.getItem(Ua);if(l){const d=JSON.parse(l);r(d)}}catch(l){console.error("Failed to load coverage status:",l)}const o=l=>{if(Object.keys(l).length!==0)try{localStorage.setItem(Ua,JSON.stringify(l))}catch(d){console.error("Failed to save coverage status:",d)}};return{subscribe:a,setTeamStatus:(l,d)=>{t(v=>{const m={...v};return d==="not-covered"?delete m[l]:m[l]=d,o(m),m})},getTeamStatus:l=>{let d="not-covered";return a(v=>{d=v[l]||"not-covered"})(),d},clearAllStatus:()=>{r({}),localStorage.removeItem(Ua)},updateFromPlan:(l,d,v)=>{v!==0&&t(m=>{let _;if(d===0?_="not-covered":d===v?_="covered":_="partially-covered",(m[l]||"not-covered")===_)return m;const b={...m};return _==="not-covered"?delete b[l]:b[l]=_,o(b),b})},importStatuses:l=>{r(l),o(l)}}}const ct=ni(),_o="userRole";function si(){const{subscribe:a,set:r}=Kt("media");try{const o=localStorage.getItem(_o);o&&["media","spectator","coach"].includes(o)&&r(o)}catch(o){console.error("Failed to load user role:",o)}const t=o=>{try{localStorage.setItem(_o,o)}catch(l){console.error("Failed to save user role:",l)}};return{subscribe:a,setRole:o=>{r(o),t(o)}}}const Xr=si(),ao=Qr(Xr,a=>a==="media"),oo=Qr(Xr,a=>a==="spectator"),ii=Qr(Xr,a=>a==="coach");var ci=w('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function li(a,r){Dt(r,!1);let t=Re(r,"eventId",8),o=Re(r,"date",8),l=Re(r,"timeWindow",8),d=Re(r,"onLoad",8),v=Re(r,"loading",8,!1),m=A(t()),_=A(o()),T=A(l());async function b(U){U.preventDefault(),await d()(e(m),e(_),e(T))}pe(()=>(S(t()),e(m),S(o()),e(_),S(l()),e(T)),()=>{t()!==e(m)&&x(m,t()),o()!==e(_)&&x(_,o()),l()!==e(T)&&x(T,l())}),Wt(),Nt();var h=ci(),C=s(h),$=s(C),f=c(s($),2);jr(f),n($);var u=c($,2),p=c(s(u),2);jr(p),n(u);var N=c(u,2),M=c(s(N),2);jr(M),n(N);var I=c(N,2),L=s(I),te=s(L,!0);n(L),n(I),n(C),n(h),F(()=>{f.disabled=v(),p.disabled=v(),M.disabled=v(),L.disabled=v(),Gt(L,`background-color: ${v()?"#ca8a04":"#eab308"}; color: #18181b;`),y(te,v()?"Loading...":"Load")}),ir(f,()=>e(m),U=>x(m,U)),ir(p,()=>e(_),U=>x(_,U)),ir(M,()=>e(T),U=>x(T,U)),pr("submit",h,b),g(a,h),Et()}const Go=(a,r,t,o={})=>{const{excludeSelected:l=!0,preferNoConflicts:d=!0,preferNearSelected:v=!0,maxResults:m=10}=o;return(l?a.filter(b=>!r.has(b.MatchId)):a).map(b=>{const h=[];let C=0;const $=t.has(b.MatchId);if(!$&&d?(C+=50,h.push("No conflicts")):$&&(C-=20,h.push("Has conflicts")),v&&r.size>0){const u=b.ScheduledStartDateTime,p=b.ScheduledEndDateTime,N=a.filter(I=>r.has(I.MatchId));let M=1/0;N.forEach(I=>{const L=I.ScheduledStartDateTime,te=I.ScheduledEndDateTime,U=Math.abs(u-te),se=Math.abs(L-p),ie=Math.min(U,se);ie<M&&(M=ie)}),M<7200*1e3?(C+=20,h.push("Near selected matches")):M>14400*1e3&&(C-=10,h.push("Far from selected matches"))}v&&r.size>0&&a.filter(N=>r.has(N.MatchId)).filter(N=>N.CourtName===b.CourtName).length>0&&(C+=15,h.push("Same court as selected matches"));const f=new Date(b.ScheduledStartDateTime).getHours();return f>=8&&f<12&&(C+=5,h.push("Morning match")),{match:b,score:C,reasons:h}}).sort((b,h)=>h.score-b.score).slice(0,m).filter(b=>b.score>0)},Ka=(a,r,t,o,l,d={})=>{const{excludeSelected:v=!0,preferUncovered:m=!0,preferNoConflicts:_=!0,preferNearSelected:T=!0,maxResults:b=10}=d,h=[];return a.forEach(C=>{if(v&&r.has(C.MatchId))return;const $=l(C);if(!$)return;const f=o.get($)||"not-covered",u=t.has(C.MatchId);let p=0;const N=[];if(m&&f==="not-covered"&&(p+=10,N.push("Uncovered team")),_&&!u&&(p+=5,N.push("No conflicts")),T&&r.size>0){const M=C.ScheduledStartDateTime;let I=!1;a.forEach(L=>{if(r.has(L.MatchId)){const U=Math.abs(M-L.ScheduledStartDateTime)/6e4;U<=30&&U>0&&(I=!0)}}),I&&(p+=3,N.push("Near selected match"))}p>0&&N.length>0&&h.push({match:C,teamId:$,reason:N.join(", "),score:p})}),h.sort((C,$)=>$.score-C.score).slice(0,b)},da="matchScores",di=a=>{try{const r=localStorage.getItem(da);if(!r)return JSON.stringify({eventId:a,scores:[]},null,2);const t=JSON.parse(r),o=[];return Object.values(t).forEach(l=>{l.eventId===a&&o.push(l)}),JSON.stringify({eventId:a,scores:o,exportedAt:Date.now()},null,2)}catch(r){return console.error("Failed to export scores:",r),JSON.stringify({eventId:a,scores:[],error:"Export failed"},null,2)}},vi=a=>{const r=[];let t=0;try{const o=JSON.parse(a);if(!o.scores||!Array.isArray(o.scores))return r.push("Invalid JSON format: missing scores array"),{success:!1,imported:0,errors:r};const l=localStorage.getItem(da),d=l?JSON.parse(l):{};return o.scores.forEach(v=>{try{if(!v.matchId||!v.eventId||!v.sets||!Array.isArray(v.sets)){r.push(`Invalid score for match ${v.matchId}: missing required fields`);return}const m=v.matchId.toString(),_=d[m];if(_&&_.lastUpdated&&v.lastUpdated)if(v.lastUpdated>_.lastUpdated)d[m]=v,t++;else return;else d[m]=v,t++}catch(m){r.push(`Failed to import score for match ${v.matchId}: ${m}`)}}),localStorage.setItem(da,JSON.stringify(d)),{success:r.length===0,imported:t,errors:r}}catch(o){return r.push(`Failed to parse JSON: ${o}`),{success:!1,imported:0,errors:r}}},ui=a=>{try{const r=localStorage.getItem(da);if(!r)return window.location.href.split("#")[0];const t=JSON.parse(r),o=[];if(Object.values(t).forEach(_=>{_.eventId===a&&o.push(_)}),o.length===0)return window.location.href.split("#")[0];const l={eventId:a,scores:o,exportedAt:Date.now()},d=JSON.stringify(l),v=btoa(unescape(encodeURIComponent(d))),m=`${window.location.href.split("#")[0]}#scores=${v}`;return m.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using export/import instead."),m}catch(r){return console.error("Failed to generate shareable URL:",r),window.location.href.split("#")[0]}},fi=()=>{try{const a=window.location.hash;if(!a||!a.startsWith("#scores="))return null;const r=a.substring(8),t=decodeURIComponent(escape(atob(r))),o=JSON.parse(t);return!o.scores||!Array.isArray(o.scores)?null:{eventId:o.eventId||"",scores:o.scores}}catch(a){return console.error("Failed to extract scores from URL:",a),null}},mi=()=>{const a=window.location.hash;return a!==null&&a.startsWith("#scores=")},ca={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},Wa="matchFilters";function xi(){const{subscribe:a,set:r,update:t}=Kt(ca);try{const l=localStorage.getItem(Wa);if(l){const d=JSON.parse(l);r({...ca,...d})}}catch(l){console.error("Failed to load filters:",l)}const o=l=>{try{localStorage.setItem(Wa,JSON.stringify(l))}catch(d){console.error("Failed to save filters:",d)}};return{subscribe:a,updateFilter:(l,d)=>{t(v=>{const m={...v,[l]:d};return o(m),m})},resetFilters:()=>{r(ca),localStorage.removeItem(Wa)},setTimeRangePreset:l=>{t(d=>{let v;return l==="morning"?v={...d,timeRange:{start:"00:00",end:"14:29"}}:l==="afternoon"?v={...d,timeRange:{start:"14:30",end:"23:59"}}:v={...d,timeRange:{start:null,end:null}},o(v),v})},getTeamIdentifier:l=>{const v=(l.InvolvedTeam==="first"?l.FirstTeamText:l.SecondTeamText).match(/(\d+-\d+)/);return v?v[1]:""}}}const ea=xi();function Qe(a){const t=(a.InvolvedTeam==="first"?a.FirstTeamText:a.SecondTeamText).match(/(\d+-\d+)/);return t?t[1]:""}function va(a){const r=new Set(a.map(t=>t.Division.CodeAlias));return Array.from(r).sort()}function no(a){const r=new Set;return a.forEach(t=>{const o=Qe(t);o&&r.add(o)}),Array.from(r).sort()}function zo(a){let r=ca;return ea.subscribe(t=>{r=t})(),a.filter(t=>{if(r.division&&t.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const o=new Date(t.ScheduledStartDateTime).getTime(),l=new Date(o),d=l.getHours(),v=l.getMinutes(),m=d*60+v,_=870;if(r.wave==="morning"&&m>=_||r.wave==="afternoon"&&m<_)return!1}if(r.teams.length>0){const o=Qe(t);if(!o||!r.teams.includes(o))return!1}if(r.timeRange.start||r.timeRange.end){const o=new Date(t.ScheduledStartDateTime).getTime(),l=new Date(o),d=l.getHours(),v=l.getMinutes(),m=d*60+v;if(r.timeRange.start){const[_,T]=r.timeRange.start.split(":").map(Number),b=_*60+T;if(m<b)return!1}if(r.timeRange.end){const[_,T]=r.timeRange.end.split(":").map(Number),b=_*60+T;if(m>b)return!1}}return!0})}function ar(a,r){ea.updateFilter(a,r)}function Ba(){ea.resetFilters()}const Ha="matchPriorities";function bi(){const{subscribe:a,set:r,update:t}=Kt({});try{const l=localStorage.getItem(Ha);if(l){const d=JSON.parse(l);r(d)}}catch(l){console.error("Failed to load priorities:",l)}const o=l=>{try{localStorage.setItem(Ha,JSON.stringify(l))}catch(d){console.error("Failed to save priorities:",d)}};return{subscribe:a,setPriority:(l,d)=>{t(v=>{const m={...v};return d===null?delete m[l]:m[l]=d,o(m),m})},getPriority:l=>{let d=null;return a(v=>{d=v[l]||null})(),d},clearAllPriorities:()=>{r({}),localStorage.removeItem(Ha)}}}const or=bi(),So="followedTeams",yo="teamColors";function gi(){const{subscribe:a,set:r,update:t}=Kt([]),{subscribe:o,set:l,update:d}=Kt(new Map);{try{const _=localStorage.getItem(So);_&&r(JSON.parse(_))}catch(_){console.error("Failed to load followed teams:",_)}try{const _=localStorage.getItem(yo);if(_){const T=JSON.parse(_);l(new Map(Object.entries(T)))}}catch(_){console.error("Failed to load team colors:",_)}}const v=_=>{try{localStorage.setItem(So,JSON.stringify(_))}catch(T){console.error("Failed to save followed teams:",T)}},m=_=>{try{const T={};_.forEach((b,h)=>{T[h]=b}),localStorage.setItem(yo,JSON.stringify(T))}catch(T){console.error("Failed to save team colors:",T)}};return{subscribe:a,followTeam:(_,T)=>{t(b=>{if(b.some(C=>C.teamId===_))return b;const h=[...b,{teamId:_,teamName:T,followedAt:Date.now()}];return v(h),h})},unfollowTeam:_=>{t(T=>{const b=T.filter(h=>h.teamId!==_);return v(b),b}),d(T=>{const b=new Map(T);return b.delete(_),m(b),b})},isFollowing:_=>{let T=!1;return a(b=>{T=b.some(h=>h.teamId===_)})(),T},setTeamColor:(_,T)=>{d(b=>{const h=new Map(b);return h.set(_,T),m(h),h})},getTeamColor:_=>{let T=null;return o(b=>{T=b.get(_)||null})(),T},reorderTeams:(_,T)=>{t(b=>{const h=b.findIndex(f=>f.teamId===_);if(h===-1)return b;const C=[...b],$=C[h];return T==="top"?(C.splice(h,1),C.unshift($)):T==="up"&&h>0?[C[h-1],C[h]]=[C[h],C[h-1]]:T==="down"&&h<C.length-1&&([C[h],C[h+1]]=[C[h+1],C[h]]),v(C),C})}}}const At=gi(),wo="notificationPreferences",oa={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function pi(){const{subscribe:a,set:r,update:t}=Kt(oa),{subscribe:o,set:l}=Kt("default");{try{const m=localStorage.getItem(wo);if(m){const _=JSON.parse(m);r({...oa,..._})}}catch(m){console.error("Failed to load notification preferences:",m)}"Notification"in window&&l(Notification.permission)}const d=m=>{try{localStorage.setItem(wo,JSON.stringify(m))}catch(_){console.error("Failed to save notification preferences:",_)}},v=(m,_,T=!1)=>{let b="default";o(h=>{b=h})(),T&&b==="granted"&&"Notification"in window?new Notification(m,{body:_,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${m}: ${_}`)};return{preferences:{subscribe:a},notificationPermission:{subscribe:o},requestPermission:async()=>{if("Notification"in window){let m="default";if(o(_=>{m=_})(),m==="default"){const _=await Notification.requestPermission();return l(_),_==="granted"}return m==="granted"}return!1},checkUpcomingMatches:(m,_)=>{let T=oa;if(a(C=>{T=C})(),!T.upcomingMatchReminder)return;const b=Date.now(),h=T.reminderMinutes*60*1e3;m.forEach(C=>{const $=C.ScheduledStartDateTime,f=$-b,u=C.FirstTeamText||C.SecondTeamText;if(_.includes(u)&&f>0&&f<=h){const p=`reminder-${C.MatchId}`,N=localStorage.getItem(p);if(!N||Date.now()-parseInt(N)>h){const M=Math.floor(f/6e4);v(`Match starting in ${M} minute${M!==1?"s":""}`,`${C.FirstTeamText} vs ${C.SecondTeamText}
${new Date($).toLocaleTimeString()} - ${C.CourtName}`,T.browserNotifications),localStorage.setItem(p,Date.now().toString())}}})},notifyScoreUpdate:(m,_)=>{let T=oa;if(a(u=>{T=u})(),!T.scoreUpdateNotification)return;const b=_.sets.find(u=>u.completedAt===0)||_.sets[_.sets.length-1],h=_.sets.filter(u=>u.completedAt>0),C=h.filter(u=>u.team1Score>u.team2Score).length,$=h.filter(u=>u.team2Score>u.team1Score).length;let f=`Score: ${b.team1Score}-${b.team2Score}`;h.length>0&&(f=`Sets: ${C}-${$} | ${f}`),v(`${m.FirstTeamText} vs ${m.SecondTeamText}`,f,T.browserNotifications)},updatePreferences:m=>{t(_=>{const T={..._,...m};return d(T),T})}}}const Ya=pi(),hi="courtsync-score-updates";let na=null;const _i=()=>{if(!na)try{na=new BroadcastChannel(hi)}catch(a){console.error("BroadcastChannel not supported:",a),na={postMessage:()=>{},close:()=>{},onmessage:null}}return na},Si=(a,r,t)=>{const o=_i(),l={type:t?"score-update":"score-delete",eventId:a,matchId:r,score:t||void 0,timestamp:Date.now()};try{o.postMessage(l)}catch(d){console.error("Failed to broadcast score update:",d)}},Za="scoreHistory",yi=a=>{try{const r=localStorage.getItem(Za);return r?JSON.parse(r)[a.toString()]||[]:[]}catch(r){return console.error("Failed to load score history:",r),[]}},wi=(a,r,t)=>{try{const o=localStorage.getItem(Za),l=o?JSON.parse(o):{};l[a.toString()]||(l[a.toString()]=[]);const d={matchId:a,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:t};l[a.toString()].push(d),l[a.toString()].length>100&&(l[a.toString()]=l[a.toString()].slice(-100)),localStorage.setItem(Za,JSON.stringify(l))}catch(o){console.error("Failed to save score history:",o)}},ua="claimHistory",To=1e3;function Ja(a){try{const r=localStorage.getItem(ua),t=r?JSON.parse(r):[];t.unshift(a),t.length>To&&t.splice(To),localStorage.setItem(ua,JSON.stringify(t))}catch(r){console.error("Failed to save claim history:",r)}}function Ti(a,r){try{const t=localStorage.getItem(ua);return t?JSON.parse(t).filter(l=>l.matchId===a&&l.eventId===r).sort((l,d)=>d.timestamp-l.timestamp):[]}catch(t){return console.error("Failed to load claim history:",t),[]}}function Mo(a){try{const r=localStorage.getItem(ua);return r?JSON.parse(r).filter(o=>o.eventId===a).sort((o,l)=>l.timestamp-o.timestamp):[]}catch(r){return console.error("Failed to load claim history:",r),[]}}const Co="matchClaims",Va="matchScores",Mi=1800*1e3;function ha({eventId:a,userId:r="anonymous"}){const{subscribe:t,set:o,update:l}=Kt(new Map),{subscribe:d,set:v,update:m}=Kt(new Map);{try{const $=localStorage.getItem(Co);if($){const f=JSON.parse($),u=new Map;Object.values(f).forEach(p=>{p.eventId===a&&p.expiresAt>Date.now()&&u.set(p.matchId,p)}),o(u)}}catch($){console.error("Failed to load claims:",$)}try{const $=localStorage.getItem(Va);if($){const f=JSON.parse($),u=new Map;Object.values(f).forEach(p=>{p.eventId===a&&u.set(p.matchId,p)}),v(u)}}catch($){console.error("Failed to load scores:",$)}}const _=$=>{try{const f={};$.forEach(u=>{f[u.matchId.toString()]=u}),localStorage.setItem(Co,JSON.stringify(f))}catch(f){console.error("Failed to save claims:",f)}},T=$=>{try{const f={};$.forEach(u=>{f[u.matchId.toString()]=u}),localStorage.setItem(Va,JSON.stringify(f))}catch(f){console.error("Failed to save scores:",f)}};let b=null;return{claims:{subscribe:t},scores:{subscribe:d},claimMatch:($,f)=>{const u=Date.now(),p=f+Mi,N={matchId:$,claimedBy:r,claimedAt:u,expiresAt:p,eventId:a};l(M=>{const I=new Map(M);return I.set($,N),_(I),I}),Ja({matchId:$,eventId:a,action:"claimed",userId:r,timestamp:u})},releaseClaim:$=>{l(f=>{const u=f.get($),p=new Map(f);return p.delete($),_(p),u&&Ln&&Ja({matchId:$,eventId:a,action:"released",userId:u.claimedBy,timestamp:Date.now()}),p})},transferClaim:($,f)=>{let u=!1;if(t(N=>{const M=N.get($);u=(M==null?void 0:M.claimedBy)===r&&M.expiresAt>Date.now()})(),!u)return!1;const p=Date.now();return l(N=>{const M=N.get($);if(!M)return N;const I={...M,claimedBy:f,claimedAt:p},L=new Map(N);return L.set($,I),_(L),Ja({matchId:$,eventId:a,action:"transferred",userId:r,timestamp:p,transferredTo:f}),L}),!0},isClaimed:$=>{let f=!1;return t(u=>{const p=u.get($);f=p?p.expiresAt>Date.now():!1})(),f},getClaimStatus:$=>{let f="available";return t(u=>{const p=u.get($);!p||p.expiresAt<Date.now()?f="available":p.claimedBy===r?f="claimed":f="locked"})(),f},getClaimer:$=>{let f=null;return t(u=>{const p=u.get($);f=p&&p.expiresAt>Date.now()?p.claimedBy:null})(),f},isClaimOwner:$=>{let f=!1;return t(u=>{const p=u.get($);f=(p==null?void 0:p.claimedBy)===r&&p.expiresAt>Date.now()})(),f},updateScore:($,f,u)=>{const p={matchId:$,eventId:a,sets:f,status:u,lastUpdated:Date.now(),lastUpdatedBy:r};m(N=>{const M=new Map(N);return M.set($,p),T(M),M}),Si(a,$,p),wi($,p,r)},getScore:$=>{let f=null;return d(u=>{f=u.get($)||null})(),f},clearEventData:()=>{l($=>{const f=new Map($);return f.forEach((u,p)=>{u.eventId===a&&f.delete(p)}),_(f),f}),m($=>{const f=new Map($);return f.forEach((u,p)=>{u.eventId===a&&f.delete(p)}),T(f),f})},startPolling:()=>{b||(b=setInterval(()=>{try{const $=localStorage.getItem(Va);if(!$)return;const f=JSON.parse($),u=new Map;let p=!1;d(N=>{Object.values(f).forEach(M=>{if(M.eventId===a){u.set(M.matchId,M);const I=N.get(M.matchId);(!I||M.lastUpdated&&M.lastUpdated>I.lastUpdated)&&(p=!0)}}),p&&m(M=>{const I=new Map(M);return u.forEach((L,te)=>{const U=M.get(te);(!U||L.lastUpdated&&L.lastUpdated>U.lastUpdated)&&I.set(te,L)}),I})})()}catch($){console.error("Failed to poll scores:",$)}},3e3))},stopPolling:()=>{b&&(clearInterval(b),b=null)}}}const Ga="matchNotes";function Ci(a){const{subscribe:r,set:t,update:o}=Kt(new Map);try{const d=localStorage.getItem(Ga);if(d){const v=JSON.parse(d),m=new Map;Object.values(v).forEach(_=>{_.eventId===a&&m.set(_.matchId,_)}),t(m)}}catch(d){console.error("Failed to load match notes:",d)}const l=d=>{try{const v=localStorage.getItem(Ga),m=v?JSON.parse(v):{};d.forEach(_=>{m[`${a}-${_.matchId}`]=_}),Object.keys(m).forEach(_=>{if(_.startsWith(`${a}-`)){const T=parseInt(_.split("-").pop()||"0");d.has(T)||delete m[_]}}),localStorage.setItem(Ga,JSON.stringify(m))}catch(v){console.error("Failed to save match notes:",v)}};return{subscribe:r,setNote:(d,v)=>{const m=Date.now();o(_=>{const T=new Map(_),b=T.get(d);return v.trim()?T.set(d,{matchId:d,eventId:a,note:v.trim(),createdAt:(b==null?void 0:b.createdAt)||m,updatedAt:m}):T.delete(d),l(T),T})},getNote:d=>{let v="";return r(m=>{var _;v=((_=m.get(d))==null?void 0:_.note)||""})(),v},deleteNote:d=>{o(v=>{const m=new Map(v);return m.delete(d),l(m),m})},hasNote:d=>{let v=!1;return r(m=>{const _=m.get(d);v=_!==void 0&&_.note.trim().length>0})(),v}}}function qo(a){return Ci(a)}var ki=w('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),$i=w('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Ii=w("<button>Statistics</button>"),Di=w('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Ei=w('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Ni=w('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),Pi=w('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),Oi=w('<span class="text-[#808593] mx-1">vs</span> ',1),Ai=w('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),Fi=w('<span class="mx-1">vs</span> ',1),Ri=w('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),ji=w('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Li=w('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Ui=w('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),Wi=w('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),Bi=w('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),Hi=w("<option> </option>"),Yi=w('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),Ji=w('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),Vi=w('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),Gi=w('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),zi=w('<span class="text-[#808593] mx-1">vs</span> ',1),qi=w('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),Xi=w('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),Qi=w('<div class="space-y-4"><!> <!></div>'),Ki=w('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),Zi=w("<!> <!>",1),ec=w('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),tc=w('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),rc=w('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function Xo(a,r){Dt(r,!1);const t=A(),o=A(),l=A(),d=A(),v=A();let m=Re(r,"match",8),_=Re(r,"eventId",8),T=Re(r,"clubId",8),b=Re(r,"onClose",8),h=Re(r,"matches",24,()=>[]),C=A(null),$=A([]),f=A([]),u=A([]),p=A([]),N=A(null),M=A(null),I=A("schedule"),L=A(!0),te=A(null);function U(){return m().InvolvedTeam==="first"?m().FirstTeamText:m().InvolvedTeam==="second"?m().SecondTeamText:""}const se=Qe(m()),ie=U();Kr(async()=>{x(L,!0),x(te,null);try{const j=(await Jn(_(),T())).value||[],xe=U();if(!xe){x(te,"Could not extract team name from match"),x(L,!1);return}const de=j.find(Te=>{if(Te.TeamText===xe||Te.TeamName===xe)return!0;const Be=xe.match(/(\d+-\d+)/);if(Be){const P=Be[1];return Te.TeamName.includes(P)||Te.TeamText.includes(P)}return!1});if(!de){x(te,`Team not found: ${xe}`),x(L,!1);return}const H=de.TeamId,K=de.TeamDivision.DivisionId;x(C,{TeamId:H,DivisionId:K,TeamName:de.TeamName,TeamText:de.TeamText});const[Z,k,R]=await Promise.all([Ra(_(),K,H,"current").catch(()=>[]),Ra(_(),K,H,"work").catch(()=>[]),Ra(_(),K,H,"future").catch(()=>[])]),O=(Te,Be=!1)=>Array.isArray(Te)?Te.flatMap(P=>{var ae,Y;return Be?P.Match?[{...P.Match,Court:P.Match.Court||null,Division:{...P.Play,PlayId:(ae=P.Play)==null?void 0:ae.PlayId},FirstTeamText:((Y=P.Play)==null?void 0:Y.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!P.Matches||!Array.isArray(P.Matches)?[]:P.Matches.map(ve=>{var ke;return{...ve,Court:ve.Court||null,Division:{...P.Play,PlayId:(ke=P.Play)==null?void 0:ke.PlayId}}})}):[];x($,O(Z,!1)),x(f,O(k,!0)),x(u,O(R,!1));const Q=await Vn(_(),K).catch(()=>null);Q!=null&&Q.Plays&&x(p,Q.Plays)}catch(E){x(te,E instanceof Error?E.message:"Failed to load team data")}finally{x(L,!1)}});function X(E,j=!1){var Z,k;const xe=typeof E.ScheduledStartDateTime=="string"?new Date(E.ScheduledStartDateTime).getTime():E.ScheduledStartDateTime,de=((Z=E.FirstTeamText)==null?void 0:Z.includes("630"))||((k=E.SecondTeamText)==null?void 0:k.includes("630")),H=Ut(xe),K=rt(xe);return{matchDate:H,startTimeDisplay:K,isPlaying:de,isWork:j,scheduleMatch:E}}pe(()=>e(I),()=>{e(I)==="poolsheet"&&x(M,null)}),pe(()=>(e($),e(f),e(u)),()=>{x(t,[...e($).map(j=>({...j,type:"current"})),...e(f).map(j=>({...j,type:"work"})),...e(u).map(j=>({...j,type:"future"}))].filter((j,xe,de)=>de.findIndex(H=>H.MatchId===j.MatchId)===xe).sort((j,xe)=>{const de=typeof j.ScheduledStartDateTime=="string"?new Date(j.ScheduledStartDateTime).getTime():j.ScheduledStartDateTime||0,H=typeof xe.ScheduledStartDateTime=="string"?new Date(xe.ScheduledStartDateTime).getTime():xe.ScheduledStartDateTime||0;return de-H}))}),pe(()=>e(t),()=>{x(o,(()=>{const E=new Set;return e(t).forEach(j=>{if(j.Division&&j.Division.PlayId){const xe=Math.abs(j.Division.PlayId);E.add(xe)}}),Array.from(E)})())}),pe(()=>(e(p),e(o)),()=>{x(l,e(p).filter(E=>{const j=Math.abs(E.PlayId);return e(o).includes(j)}))}),pe(()=>(e(l),e(N)),()=>{e(l).length>0&&!e(N)&&x(N,e(l)[0].PlayId)}),pe(()=>(e(N),e(I),S(_())),()=>{e(N)&&e(I)==="poolsheet"&&Gn(_(),e(N)).then(E=>{x(M,E)}).catch(E=>{console.error("Failed to fetch pool sheet:",E),x(M,null)})}),pe(()=>(e(t),Ut),()=>{x(d,(()=>{const E={};return e(t).forEach(j=>{const xe=typeof j.ScheduledStartDateTime=="string"?new Date(j.ScheduledStartDateTime).getTime():j.ScheduledStartDateTime||0,de=Ut(xe);E[de]||(E[de]=[]),E[de].push(j)}),E})())}),pe(()=>e(d),()=>{x(v,Object.keys(e(d)).sort((E,j)=>{const xe=new Date(E).getTime(),de=new Date(j).getTime();return xe-de}))}),Wt(),Nt();var le=rc(),ce=s(le),G=s(ce),be=s(G),ge=s(be);n(be);var re=c(be,2);re.__click=function(...E){var j;(j=b())==null||j.apply(this,E)},n(G);var Se=c(G,2);{var B=E=>{var j=ki();g(E,j)};D(Se,E=>{e(L)&&E(B)})}var _e=c(Se,2);{var he=E=>{var j=$i(),xe=s(j,!0);n(j),F(()=>y(xe,e(te))),g(E,j)};D(_e,E=>{e(te)&&E(he)})}var we=c(_e,2);{var ee=E=>{var j=tc(),xe=s(j),de=s(xe);de.__click=()=>x(I,"schedule");var H=c(de,2);H.__click=()=>x(I,"poolsheet");var K=c(H,2);{var Z=Q=>{var Te=Ii();Te.__click=()=>x(I,"stats"),F(()=>Oe(Te,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),g(Q,Te)};D(K,Q=>{S(h()),i(()=>h().length>0&&se)&&Q(Z)})}n(xe);var k=c(xe,2);{var R=Q=>{var Te=Di();g(Q,Te)},O=Q=>{var Te=$t(),Be=lt(Te);{var P=Y=>{var ve=Wi(),ke=c(s(ve),2),ye=s(ke);{var V=fe=>{var $e=Ei();g(fe,$e)},W=fe=>{var $e=$t(),Fe=lt($e);it(Fe,1,()=>e(v),st,(He,Ue)=>{const Ve=q(()=>(e(d),e(Ue),i(()=>e(d)[e(Ue)])));var We=Ui(),J=s(We),ne=s(J),Pe=s(ne,!0);n(ne);var Ye=c(ne,2),Ae=s(Ye);n(Ye),n(J);var je=c(J,2);it(je,1,()=>e(Ve),st,(Me,Ge)=>{const oe=q(()=>(e(Ge),i(()=>X(e(Ge),e(Ge).type==="work"))));var De=Li(),me=s(De),Ce=c(me,2),z=s(Ce,!0);n(Ce);var Ie=c(Ce,2),Ne=s(Ie,!0);n(Ie);var tt=c(Ie,2);{var Je=qe=>{var dt=Ni(),Xe=s(dt,!0);n(dt),F(()=>y(Xe,(S(e(oe)),i(()=>e(oe).scheduleMatch.Court.Name)))),g(qe,dt)};D(tt,qe=>{S(e(oe)),i(()=>e(oe).scheduleMatch.Court)&&qe(Je)})}var et=c(tt,2),at=s(et),ut=s(at);{var vt=qe=>{var dt=Pi(),Xe=c(lt(dt),2),pt=s(Xe,!0);n(Xe),F(()=>y(pt,(S(e(oe)),i(()=>{var Ct,ht;return((Ct=e(oe).scheduleMatch.Division)==null?void 0:Ct.CompleteShortName)||((ht=e(oe).scheduleMatch.Division)==null?void 0:ht.FullName)||e(oe).scheduleMatch.FirstTeamText})))),g(qe,dt)},Le=qe=>{var dt=$t(),Xe=lt(dt);{var pt=ht=>{var mt=Ai(),Ke=c(lt(mt),2),Ee=s(Ke),ot=c(Ee);{var ze=xt=>{var _t=Oi(),Tt=c(lt(_t));F(()=>y(Tt,` ${S(e(oe)),i(()=>e(oe).scheduleMatch.SecondTeamText)??""}`)),g(xt,_t)};D(ot,xt=>{S(e(oe)),i(()=>e(oe).scheduleMatch.SecondTeamText)&&xt(ze)})}n(Ke),F(()=>y(Ee,`${S(e(oe)),i(()=>e(oe).scheduleMatch.FirstTeamText)??""} `)),g(ht,mt)},Ct=ht=>{var mt=Ri(),Ke=c(lt(mt),2),Ee=s(Ke),ot=c(Ee);{var ze=xt=>{var _t=Fi(),Tt=c(lt(_t));F(()=>y(Tt,` ${S(e(oe)),i(()=>e(oe).scheduleMatch.SecondTeamText)??""}`)),g(xt,_t)};D(ot,xt=>{S(e(oe)),i(()=>e(oe).scheduleMatch.SecondTeamText)&&xt(ze)})}n(Ke),F(()=>y(Ee,`${S(e(oe)),i(()=>e(oe).scheduleMatch.FirstTeamText)??""} `)),g(ht,mt)};D(Xe,ht=>{S(e(oe)),i(()=>e(oe).isPlaying)?ht(pt):ht(Ct,!1)},!0)}g(qe,dt)};D(ut,qe=>{S(e(oe)),i(()=>e(oe).isWork)?qe(vt):qe(Le,!1)})}n(at),n(et);var nt=c(et,2);{var ue=qe=>{var dt=ji(),Xe=s(dt),pt=s(Xe,!0);n(Xe),n(dt),F(()=>{Gt(Xe,`background-color: ${S(e(oe)),i(()=>e(oe).scheduleMatch.Division.ColorHex)??""}20; color: ${S(e(oe)),i(()=>e(oe).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${S(e(oe)),i(()=>e(oe).scheduleMatch.Division.ColorHex)??""}40;`),y(pt,(S(e(oe)),i(()=>e(oe).scheduleMatch.Division.CodeAlias)))}),g(qe,dt)};D(nt,qe=>{S(e(oe)),i(()=>e(oe).scheduleMatch.Division)&&qe(ue)})}n(De),F(()=>{Oe(De,1,`flex items-center gap-3 px-3 py-2 rounded border ${S(e(oe)),i(()=>e(oe).isWork?"border-[#525463] bg-[#454654]/30":e(oe).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),Oe(me,1,`flex-shrink-0 w-1 h-full rounded-full ${S(e(oe)),i(()=>e(oe).isWork?"bg-[#808593]":e(oe).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),y(z,(S(e(oe)),i(()=>e(oe).matchDate))),y(Ne,(S(e(oe)),i(()=>e(oe).startTimeDisplay)))}),g(Me,De)}),n(We),F(()=>{y(Pe,e(Ue)),y(Ae,`(${S(e(Ve)),i(()=>e(Ve).length)??""} match${S(e(Ve)),i(()=>e(Ve).length!==1?"es":"")??""})`)}),g(He,We)}),g(fe,$e)};D(ye,fe=>{e(v),i(()=>e(v).length===0)?fe(V):fe(W,!1)})}n(ke),n(ve),g(Y,ve)},ae=Y=>{var ve=ec(),ke=c(s(ve),2);{var ye=W=>{var fe=Bi();g(W,fe)},V=W=>{var fe=Zi(),$e=lt(fe);{var Fe=We=>{var J=Yi(),ne=c(s(J),2);ne.__change=Ye=>x(N,Number(Ye.target.value)),it(ne,5,()=>e(l),st,(Ye,Ae)=>{var je=Hi(),Me=s(je,!0);n(je);var Ge={};F(()=>{y(Me,(e(Ae),i(()=>e(Ae).CompleteFullName||e(Ae).FullName||`Pool ${e(Ae).PlayId}`))),Ge!==(Ge=(e(Ae),i(()=>e(Ae).PlayId)))&&(je.value=(je.__value=(e(Ae),i(()=>e(Ae).PlayId)))??"")}),g(Ye,je)}),n(ne);var Pe;Dr(ne),n(J),F(()=>{Pe!==(Pe=e(N)||"")&&(ne.value=(ne.__value=e(N)||"")??"",hr(ne,e(N)||""))}),g(We,J)};D($e,We=>{e(l),i(()=>e(l).length>1)&&We(Fe)})}var He=c($e,2);{var Ue=We=>{var J=Qi(),ne=s(J);{var Pe=je=>{var Me=Vi(),Ge=s(Me),oe=s(Ge),De=s(oe);n(oe),n(Ge);var me=c(Ge,2),Ce=s(me),z=c(s(Ce));it(z,5,()=>(e(M),i(()=>e(M).Pool.Teams)),st,(Ie,Ne)=>{const tt=q(()=>(e(Ne),i(()=>{var mt;return(mt=e(Ne).TeamText)==null?void 0:mt.includes("630")})));var Je=Ji(),et=s(Je),at=s(et,!0);n(et);var ut=c(et),vt=s(ut),Le=s(vt,!0);n(vt),n(ut);var nt=c(ut),ue=s(nt,!0);n(nt);var qe=c(nt),dt=s(qe,!0);n(qe);var Xe=c(qe),pt=s(Xe);n(Xe);var Ct=c(Xe),ht=s(Ct,!0);n(Ct),n(Je),F(()=>{Oe(Je,1,`border-b border-[#454654] ${e(tt)?"bg-[#eab308]/10":""}`),y(at,(e(Ne),i(()=>e(Ne).FinishRank||e(Ne).OverallRank||"-"))),Oe(vt,1,e(tt)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),y(Le,(e(Ne),i(()=>e(Ne).TeamText))),y(ue,(e(Ne),i(()=>e(Ne).MatchesWon??"-"))),y(dt,(e(Ne),i(()=>e(Ne).MatchesLost??"-"))),y(pt,`${e(Ne),i(()=>e(Ne).SetsWon??"-")??""}-${e(Ne),i(()=>e(Ne).SetsLost??"-")??""}`),y(ht,(e(Ne),i(()=>e(Ne).PointRatio&&e(Ne).PointRatio!=="NaN"?e(Ne).PointRatio:"-")))}),g(Ie,Je)}),n(z),n(Ce),n(me),n(Me),F(()=>y(De,`${e(M),i(()=>e(M).Pool.CompleteFullName||e(M).Pool.FullName)??""} - Standings`)),g(je,Me)};D(ne,je=>{e(M),i(()=>e(M).Pool&&e(M).Pool.Teams&&e(M).Pool.Teams.length>0)&&je(Pe)})}var Ye=c(ne,2);{var Ae=je=>{var Me=Xi(),Ge=c(s(Me),2);it(Ge,5,()=>(e(M),i(()=>e(M).Pool.Matches)),st,(oe,De)=>{const me=q(()=>(e(De),i(()=>typeof e(De).ScheduledStartDateTime=="string"?new Date(e(De).ScheduledStartDateTime).getTime():e(De).ScheduledStartDateTime))),Ce=q(()=>(e(De),i(()=>{var Le,nt;return((Le=e(De).FirstTeamText)==null?void 0:Le.includes("630"))||((nt=e(De).SecondTeamText)==null?void 0:nt.includes("630"))})));var z=qi(),Ie=s(z),Ne=s(Ie,!0);n(Ie);var tt=c(Ie,2);{var Je=Le=>{var nt=Gi(),ue=s(nt,!0);n(nt),F(()=>y(ue,(e(De),i(()=>e(De).Court.Name)))),g(Le,nt)};D(tt,Le=>{e(De),i(()=>e(De).Court)&&Le(Je)})}var et=c(tt,2),at=s(et),ut=c(at);{var vt=Le=>{var nt=zi(),ue=c(lt(nt));F(()=>y(ue,` ${e(De),i(()=>e(De).SecondTeamText)??""}`)),g(Le,nt)};D(ut,Le=>{e(De),i(()=>e(De).SecondTeamText)&&Le(vt)})}n(et),n(z),F(Le=>{Oe(z,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(Ce)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),y(Ne,Le),y(at,`${e(De),i(()=>e(De).FirstTeamText)??""} `)},[()=>(S(rt),S(e(me)),i(()=>rt(e(me))))]),g(oe,z)}),n(Ge),n(Me),g(je,Me)};D(Ye,je=>{e(M),i(()=>e(M).Pool&&e(M).Pool.Matches&&e(M).Pool.Matches.length>0)&&je(Ae)})}n(J),g(We,J)},Ve=We=>{var J=$t(),ne=lt(J);{var Pe=Ye=>{var Ae=Ki();g(Ye,Ae)};D(ne,Ye=>{e(N)&&Ye(Pe)},!0)}g(We,J)};D(He,We=>{e(N)&&e(M)?We(Ue):We(Ve,!1)})}g(W,fe)};D(ke,W=>{e(l),i(()=>e(l).length===0)?W(ye):W(V,!1)})}n(ve),g(Y,ve)};D(Be,Y=>{e(I)==="schedule"?Y(P):Y(ae,!1)},!0)}g(Q,Te)};D(k,Q=>{e(I)==="stats"&&se?Q(R):Q(O,!1)})}n(j),F(()=>{Oe(de,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(H,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(I)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),g(E,j)};D(we,E=>{!e(L)&&e(C)&&E(ee)})}n(ce),n(le),F(()=>y(ge,`${e(C),i(()=>{var E;return((E=e(C))==null?void 0:E.TeamText)||ie})??""} - Full Schedule`)),g(a,le),Et()}Jt(["click","change"]);var ac=w("<button><span> </span> <span> </span></button>"),oc=w('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function Qo(a,r){Dt(r,!1);let t=Re(r,"matchId",8),o=Re(r,"currentPriority",8),l=Re(r,"onPriorityChange",8),d=Re(r,"onClose",8,void 0),v=A(null);const m=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function _(h){l()(t(),h),d()&&d()()}Nt();var T=oc(),b=c(s(T),2);it(b,5,()=>m,st,(h,C)=>{const $=q(()=>(S(o()),e(C),i(()=>o()===e(C).value))),f=q(()=>(e(v),e(C),i(()=>e(v)===e(C).value)));var u=ac();u.__click=()=>_(e(C).value);var p=s(u),N=s(p,!0);n(p);var M=c(p,2),I=s(M,!0);n(M),n(u),F(()=>{Oe(u,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e($)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),y(N,(e(C),i(()=>e(C).icon))),y(I,(e(C),i(()=>e(C).label)))}),pr("mouseenter",u,()=>x(v,e(C).value)),pr("mouseleave",u,()=>x(v,null)),g(h,u)}),n(b),n(T),g(a,T),Et()}Jt(["click"]);var nc=w("<button><span> </span> <span> </span></button>"),sc=w('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function so(a,r){Dt(r,!1);let t=Re(r,"teamId",8),o=Re(r,"currentStatus",8),l=Re(r,"onStatusChange",8),d=Re(r,"onClose",8,void 0),v=A(null);const m=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function _($){l()(t(),$),d()&&d()()}Nt();var T=sc(),b=c(s(T),2),h=s(b);n(b);var C=c(b,2);it(C,5,()=>m,st,($,f)=>{const u=q(()=>(S(o()),e(f),i(()=>o()===e(f).value))),p=q(()=>(e(v),e(f),i(()=>e(v)===e(f).value)));var N=nc();N.__click=()=>_(e(f).value);var M=s(N),I=s(M,!0);n(M);var L=c(M,2),te=s(L,!0);n(L),n(N),F(()=>{Oe(N,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${S(e(u)),e(f),S(e(p)),i(()=>e(u)?e(f).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(f).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(f).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(p)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),y(I,(e(f),i(()=>e(f).icon))),y(te,(e(f),i(()=>e(f).label)))}),pr("mouseenter",N,()=>x(v,e(f).value)),pr("mouseleave",N,()=>x(v,null)),g($,N)}),n(C),n(T),F(()=>y(h,`Team ${t()??""}`)),g(a,T),Et()}Jt(["click"]);var ic=w('<div class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#9fa2ab] border border-[#525463]"> </div>'),cc=w('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-md w-full p-4"><h3 class="text-lg font-semibold text-[#f8f8f9] mb-3">Transfer Claim</h3> <p class="text-sm text-[#9fa2ab] mb-4">Enter the name or identifier of the person who will take over scoring for this match.</p> <input type="text" placeholder="Enter scorer name or ID..." class="w-full px-3 py-2 bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none mb-4"/> <div class="flex items-center gap-2"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div></div>'),lc=w('<div class="flex items-center gap-1"><button class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Release claim">Release</button> <button class="px-2 py-1 text-xs font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors border border-[#525463]" title="Transfer claim to another scorer">Transfer</button></div> <!>',1),dc=w('<button class="px-2 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors" title="Claim this match for scoring">Claim Match</button>');function vc(a,r){Dt(r,!1);const t=A(),o=A(),l=A();let d=Re(r,"match",8),v=Re(r,"eventId",8),m=Re(r,"onClaim",8),_=Re(r,"onRelease",8);const T=ha(v());let b=A(!1),h=A("");function C(){e(t)==="available"?(T.claimMatch(d().MatchId,d().ScheduledEndDateTime),setTimeout(()=>{m()(d().MatchId)},100)):e(l)&&(T.releaseClaim(d().MatchId),_()())}function $(){e(h).trim()&&T.transferClaim(d().MatchId,e(h).trim())&&(x(b,!1),x(h,""),_()())}pe(()=>S(d()),()=>{x(t,T.getClaimStatus(d().MatchId))}),pe(()=>S(d()),()=>{x(o,T.getClaimer(d().MatchId))}),pe(()=>S(d()),()=>{x(l,T.isClaimOwner(d().MatchId))}),Wt(),Nt();var f=$t(),u=lt(f);{var p=M=>{var I=ic(),L=s(I);n(I),F(()=>y(L,`Claimed by ${e(o)??""}`)),g(M,I)},N=M=>{var I=$t(),L=lt(I);{var te=se=>{var ie=lc(),X=lt(ie),le=s(X);le.__click=C;var ce=c(le,2);ce.__click=()=>x(b,!0),n(X);var G=c(X,2);{var be=ge=>{var re=cc(),Se=s(re),B=c(s(Se),4);jr(B),Fr(B),B.__keydown=ee=>{ee.key==="Enter"?$():ee.key==="Escape"&&(x(b,!1),x(h,""))};var _e=c(B,2),he=s(_e);he.__click=$;var we=c(he,2);we.__click=()=>{x(b,!1),x(h,"")},n(_e),n(Se),n(re),F(ee=>he.disabled=ee,[()=>(e(h),i(()=>!e(h).trim()))]),ir(B,()=>e(h),ee=>x(h,ee)),g(ge,re)};D(G,ge=>{e(b)&&ge(be)})}g(se,ie)},U=se=>{var ie=$t(),X=lt(ie);{var le=ce=>{var G=dc();G.__click=C,g(ce,G)};D(X,ce=>{e(t)==="available"&&ce(le)},!0)}g(se,ie)};D(L,se=>{e(t)==="claimed"&&e(l)?se(te):se(U,!1)},!0)}g(M,I)};D(u,M=>{e(t)==="locked"?M(p):M(N,!1)})}g(a,f),Et()}Jt(["click","keydown"]);var uc=w('<div class="text-center py-8 text-[#9fa2ab] text-sm">No score history available</div>'),fc=w('<div class="text-[#c0c2c8] mb-1"> </div>'),mc=w('<div class="px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="flex items-center justify-between mb-1"><div class="text-[#9fa2ab]"> </div> <div> </div></div> <!> <div class="text-[#f8f8f9] font-semibold"> </div> <div class="text-[10px] text-[#808593] mt-1"> </div></div>'),xc=w('<div class="space-y-2"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-3">Score History</h3> <div class="space-y-2 max-h-64 overflow-y-auto"></div></div>');function bc(a,r){Dt(r,!1);let t=Re(r,"matchId",8),o=A([]),l=null;function d(){x(o,yi(t()))}Kr(()=>{d(),l=setInterval(d,5e3)}),ma(()=>{l&&clearInterval(l)}),Nt();var v=$t(),m=lt(v);{var _=b=>{var h=uc();g(b,h)},T=b=>{var h=xc(),C=c(s(h),2);it(C,5,()=>(e(o),i(()=>e(o).slice().reverse())),st,($,f)=>{const u=q(()=>(e(f),i(()=>e(f).sets.filter(re=>re.completedAt>0)))),p=q(()=>(S(e(u)),i(()=>e(u).filter(re=>re.team1Score>re.team2Score).length))),N=q(()=>(S(e(u)),i(()=>e(u).filter(re=>re.team2Score>re.team1Score).length))),M=q(()=>(e(f),i(()=>e(f).sets.find(re=>re.completedAt===0)||e(f).sets[e(f).sets.length-1])));var I=mc(),L=s(I),te=s(L),U=s(te,!0);n(te);var se=c(te,2),ie=s(se,!0);n(se),n(L);var X=c(L,2);{var le=re=>{var Se=fc(),B=s(Se);n(Se),F(()=>y(B,`Sets: ${e(p)??""}-${e(N)??""}`)),g(re,Se)};D(X,re=>{S(e(u)),i(()=>e(u).length>0)&&re(le)})}var ce=c(X,2),G=s(ce);n(ce);var be=c(ce,2),ge=s(be);n(be),n(I),F(re=>{y(U,re),Oe(se,1,`px-2 py-0.5 rounded text-[10px] font-medium ${e(f),i(()=>e(f).status==="completed"?"bg-green-500/20 text-green-400":e(f).status==="in-progress"?"bg-[#eab308]/20 text-[#facc15]":"bg-[#454654] text-[#9fa2ab]")??""}`),y(ie,(e(f),i(()=>e(f).status))),y(G,`Current: ${S(e(M)),i(()=>e(M).team1Score)??""}-${S(e(M)),i(()=>e(M).team2Score)??""}`),y(ge,`Updated by ${e(f),i(()=>e(f).updatedBy)??""}`)},[()=>(e(f),i(()=>new Date(e(f).timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})))]),g($,I)}),n(C),n(h),g(b,h)};D(m,b=>{e(o),i(()=>e(o).length===0)?b(_):b(T,!1)})}g(a,v),Et()}var gc=w('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Start Match</button>'),pc=w('<div class="px-4 py-2 rounded-lg border border-yellow-500/50 bg-yellow-500/10 text-yellow-400 text-sm"> </div>'),hc=w('<button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors">Add Set</button>'),_c=w('<div class="bg-[#454654] rounded-lg border border-[#525463] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2"> </div> <div class="grid grid-cols-2 gap-4"><div class="text-center"><div class="text-xs text-[#9fa2ab] mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">â</button> <div class="text-3xl font-bold text-[#f8f8f9] w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">+</button></div></div> <div class="text-center"><div class="text-xs text-[#9fa2ab] mb-1"> </div> <div class="flex items-center justify-center gap-2"><button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">â</button> <div class="text-3xl font-bold text-[#f8f8f9] w-12 text-center"> </div> <button class="w-8 h-8 rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors font-bold">+</button></div></div></div> <div class="flex gap-2 mt-4"><button class="flex-1 px-4 py-2 text-sm font-medium rounded bg-[#525463] text-[#c0c2c8] hover:bg-[#454654] transition-colors">Complete Set</button> <!></div></div>'),Sc=w('<div class="flex items-center justify-between px-3 py-2 bg-[#454654] rounded border border-[#525463]"><span class="text-sm text-[#9fa2ab]"> </span> <div class="flex items-center gap-4"><span class="text-sm font-medium text-[#f8f8f9]"> </span> <span class="text-sm text-[#9fa2ab]">vs</span> <span class="text-sm font-medium text-[#f8f8f9]"> </span></div></div>'),yc=w('<div><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Completed Sets</div> <div class="space-y-2"></div></div>'),wc=w('<button class="w-full px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Complete Match</button>'),Tc=w('<div class="text-xs text-[#9fa2ab] text-center"> </div>'),Mc=w('<div class="border-t border-[#454654] pt-4"><!></div>'),Cc=w('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="sticky top-0 bg-[#3b3c48] border-b border-[#454654] px-4 py-3 flex items-center justify-between"><div><h2 class="text-lg font-semibold text-[#f8f8f9]">Scorekeeper</h2> <p class="text-sm text-[#9fa2ab]"> </p></div> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close scorekeeper">â</button></div> <div class="p-4 space-y-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Status:</span> <select class="px-3 py-1 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Not Started</option><option>In Progress</option><option>Completed</option></select></div> <!> <!> <!> <!> <!> <button> </button> <!> <!></div></div></div>');function Ko(a,r){var ke,ye;Dt(r,!1);const t=A(),o=A();let l=Re(r,"matchId",8),d=Re(r,"team1Name",8),v=Re(r,"team2Name",8),m=Re(r,"currentScore",8),_=Re(r,"onScoreUpdate",8),T=Re(r,"onClose",8);const b=0,h=50,C=25,$=2;function f(V,W){if(V<b||V>h)return{valid:!1,warning:`Score must be between ${b} and ${h}`};if(W<b||W>h)return{valid:!1,warning:`Score must be between ${b} and ${h}`};const fe=Math.max(V,W),$e=Math.min(V,W);if(fe>=C){if(fe-$e<$)return{valid:!0,warning:`Set requires winning by at least ${$} points. Current: ${fe-$e}`};if(fe>C+5)return{valid:!0,warning:`High score (${fe}). Verify this is correct.`}}return{valid:!0}}let u=A(((ke=m())==null?void 0:ke.sets)||[]),p=A(((ye=m())==null?void 0:ye.status)||"not-started"),N=A(null),M=A(!1),I=null;function L(){const V="in-progress";x(p,V),e(u).length===0&&x(u,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}]),x(M,!0),_()(e(u),V),setTimeout(()=>x(M,!1),500)}function te(){const V=e(u).length+1;x(u,[...e(u),{setNumber:V,team1Score:0,team2Score:0,completedAt:0}])}function U(V,W,fe){const $e=f(W,fe);x(N,$e.warning||null),$e.valid&&(x(u,e(u).map(Fe=>Fe.setNumber===V?{...Fe,team1Score:W,team2Score:fe}:Fe)),e(p)==="in-progress"&&(I&&clearTimeout(I),I=setTimeout(()=>{x(M,!0),_()(e(u),e(p)),setTimeout(()=>x(M,!1),300)},1e3)))}function se(V){x(u,e(u).map(W=>W.setNumber===V?{...W,completedAt:Date.now()}:W)),e(p)==="in-progress"&&(x(M,!0),_()(e(u),e(p)),setTimeout(()=>x(M,!1),500))}function ie(){x(p,"completed"),_()(e(u),"completed")}function X(){x(M,!0),_()(e(u),e(p)),setTimeout(()=>x(M,!1),500)}ma(()=>{I&&clearTimeout(I)}),pe(()=>(e(u),e(p)),()=>{e(u).length===0&&e(p)==="not-started"&&x(u,[{setNumber:1,team1Score:0,team2Score:0,completedAt:0}])}),pe(()=>e(u),()=>{x(t,e(u).find(V=>V.completedAt===0)||e(u)[e(u).length-1])}),pe(()=>e(u),()=>{x(o,e(u).filter(V=>V.completedAt>0))}),Wt(),Nt();var le=Cc(),ce=s(le),G=s(ce),be=s(G),ge=c(s(be),2),re=s(ge);n(ge),n(be);var Se=c(be,2);Se.__click=function(...V){var W;(W=T())==null||W.apply(this,V)},n(G);var B=c(G,2),_e=s(B),he=c(s(_e),2);F(()=>{e(p),to(()=>{})});var we=s(he);we.value=we.__value="not-started";var ee=c(we);ee.value=ee.__value="in-progress";var E=c(ee);E.value=E.__value="completed",n(he),n(_e);var j=c(_e,2);{var xe=V=>{var W=gc();W.__click=L,g(V,W)};D(j,V=>{e(p)==="not-started"&&V(xe)})}var de=c(j,2);{var H=V=>{var W=pc(),fe=s(W);n(W),F(()=>y(fe,`â ï¸ ${e(N)??""}`)),g(V,W)};D(de,V=>{e(N)&&V(H)})}var K=c(de,2);{var Z=V=>{var W=_c(),fe=s(W),$e=s(fe);n(fe);var Fe=c(fe,2),He=s(Fe),Ue=s(He),Ve=s(Ue,!0);n(Ue);var We=c(Ue,2),J=s(We);J.__click=()=>{const Je=Math.max(0,e(t).team1Score-1);U(e(t).setNumber,Je,e(t).team2Score)};var ne=c(J,2),Pe=s(ne,!0);n(ne);var Ye=c(ne,2);Ye.__click=()=>{const Je=e(t).team1Score+1;U(e(t).setNumber,Je,e(t).team2Score)},n(We),n(He);var Ae=c(He,2),je=s(Ae),Me=s(je,!0);n(je);var Ge=c(je,2),oe=s(Ge);oe.__click=()=>{const Je=Math.max(0,e(t).team2Score-1);U(e(t).setNumber,e(t).team1Score,Je)};var De=c(oe,2),me=s(De,!0);n(De);var Ce=c(De,2);Ce.__click=()=>{const Je=e(t).team2Score+1;U(e(t).setNumber,e(t).team1Score,Je)},n(Ge),n(Ae),n(Fe);var z=c(Fe,2),Ie=s(z);Ie.__click=()=>se(e(t).setNumber);var Ne=c(Ie,2);{var tt=Je=>{var et=hc();et.__click=te,g(Je,et)};D(Ne,Je=>{e(u),i(()=>e(u).length<5)&&Je(tt)})}n(z),n(W),F(()=>{y($e,`Set ${e(t),i(()=>e(t).setNumber)??""}`),y(Ve,d()),y(Pe,(e(t),i(()=>e(t).team1Score))),y(Me,v()),y(me,(e(t),i(()=>e(t).team2Score)))}),g(V,W)};D(K,V=>{e(p)==="in-progress"&&e(t)&&V(Z)})}var k=c(K,2);{var R=V=>{var W=yc(),fe=c(s(W),2);it(fe,5,()=>e(o),st,($e,Fe)=>{var He=Sc(),Ue=s(He),Ve=s(Ue);n(Ue);var We=c(Ue,2),J=s(We),ne=s(J);n(J);var Pe=c(J,4),Ye=s(Pe);n(Pe),n(We),n(He),F(()=>{y(Ve,`Set ${e(Fe),i(()=>e(Fe).setNumber)??""}`),y(ne,`${d()??""}: ${e(Fe),i(()=>e(Fe).team1Score)??""}`),y(Ye,`${v()??""}: ${e(Fe),i(()=>e(Fe).team2Score)??""}`)}),g($e,He)}),n(fe),n(W),g(V,W)};D(k,V=>{e(o),i(()=>e(o).length>0)&&V(R)})}var O=c(k,2);{var Q=V=>{var W=wc();W.__click=ie,g(V,W)};D(O,V=>{e(p),e(o),i(()=>e(p)==="in-progress"&&e(o).length>0)&&V(Q)})}var Te=c(O,2);Te.__click=X;var Be=s(Te,!0);n(Te);var P=c(Te,2);{var ae=V=>{var W=Tc(),fe=s(W,!0);n(W),F(()=>y(fe,e(M)?"ð¾ Saving...":"â Auto-save enabled")),g(V,W)};D(P,V=>{e(p)==="in-progress"&&V(ae)})}var Y=c(P,2);{var ve=V=>{var W=Mc(),fe=s(W);bc(fe,{get matchId(){return l()}}),n(W),g(V,W)};D(Y,V=>{m()&&V(ve)})}n(B),n(ce),n(le),F(()=>{y(re,`${d()??""} vs ${v()??""}`),Te.disabled=e(M),Oe(Te,1,`w-full px-4 py-2 text-sm font-medium rounded transition-colors border ${e(M)?"bg-[#525463] text-[#9fa2ab] cursor-not-allowed":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border-[#525463]"}`),y(Be,e(M)?"Saving...":"Save Score")}),ro(he,()=>e(p),V=>x(p,V)),g(a,le),Et()}Jt(["click"]);var kc=w('<span class="text-[9px] text-[#9fa2ab] opacity-75"> </span>'),$c=w("<div><span>LIVE</span> <!></div>");function fa(a,r){Dt(r,!1);let t=Re(r,"isLive",8),o=Re(r,"lastUpdated",8,void 0),l=Re(r,"className",8,""),d=A(!1),v=A(null);ma(()=>{e(v)&&clearTimeout(e(v))}),pe(()=>(S(o()),e(v)),()=>{o()&&(x(d,!0),e(v)&&clearTimeout(e(v)),x(v,setTimeout(()=>{x(d,!1)},2e3)))}),Wt(),Nt();var m=$t(),_=lt(m);{var T=b=>{var h=$c(),C=s(h),$=c(C,2);{var f=u=>{var p=kc(),N=s(p,!0);n(p),F(M=>y(N,M),[()=>(S(o()),i(()=>new Date(o()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))]),g(u,p)};D($,u=>{o()&&u(f)})}n(h),F(()=>{Oe(h,1,`flex items-center gap-1 ${l()??""}`),Oe(C,1,`px-1.5 py-0.5 text-[10px] font-medium rounded border transition-all ${e(d)?"bg-green-500/30 text-green-300 border-green-500/50 animate-pulse":"bg-green-500/20 text-green-400 border-green-500/30"}`)}),g(b,h)};D(_,b=>{t()&&b(T)})}g(a,m),Et()}var Ic=w("<button></button>"),Dc=w('<button class="text-[#9fa2ab] hover:text-[#f8f8f9] text-xs" title="Move up">â</button>'),Ec=w('<button class="text-[#eab308] hover:text-[#facc15] text-xs" title="Pinned">ð</button>'),Nc=w('<button class="text-[#9fa2ab] hover:text-[#f8f8f9] text-xs" title="Move down">â</button>'),Pc=w('<div class="flex items-center gap-2 px-3 py-2 rounded bg-[#454654] border border-[#525463]"><div class="flex-shrink-0 flex items-center gap-1"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9] truncate"> </div></div> <div class="flex-shrink-0 flex flex-col gap-0.5"><!> <!> <!></div> <button class="flex-shrink-0 text-[#9fa2ab] hover:text-red-400 transition-colors" title="Unfollow">â</button></div>'),Oc=w('<div class="mb-4 space-y-2"></div>'),Ac=w('<button class="w-full px-3 py-2 text-left text-sm text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654] rounded transition-colors"> </button>'),Fc=w('<div class="fixed inset-0 z-40"></div> <div class="absolute top-full left-0 mt-2 w-80 bg-[#3b3c48] border border-[#454654] rounded-lg shadow-lg z-50 max-h-[500px] overflow-y-auto"><div class="p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Followed Teams</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <!> <div class="border-t border-[#454654] pt-3"><h4 class="text-xs font-medium text-[#9fa2ab] mb-2 uppercase tracking-wider">Available Teams</h4> <div class="space-y-1 max-h-48 overflow-y-auto"></div></div></div></div>',1),Rc=w('<div class="relative"><button class="px-3 py-2 text-sm font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463] hover:border-[#eab308] transition-colors"> </button> <!></div>');function jc(a,r){Dt(r,!1);const t=()=>nr(At,"$followedTeams",o),[o,l]=ga(),d=A();let v=Re(r,"matches",8),m=A(!1);const _=["#eab308","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function T(p,N){At.isFollowing(p)?At.unfollowTeam(p):At.followTeam(p,N)}function b(p,N){At.setTeamColor(p,N)}pe(()=>S(v()),()=>{x(d,(()=>{const p=new Map;return v().forEach(N=>{const M=N.FirstTeamText||N.SecondTeamText;M&&!p.has(M)&&p.set(M,M)}),Array.from(p.entries()).map(([N,M])=>({id:N,name:M}))})())}),Wt(),Nt();var h=Rc(),C=s(h);C.__click=()=>x(m,!e(m));var $=s(C);n(C);var f=c(C,2);{var u=p=>{var N=Fc(),M=lt(N);M.__click=()=>x(m,!1);var I=c(M,2),L=s(I),te=s(L),U=c(s(te),2);U.__click=()=>x(m,!1),n(te);var se=c(te,2);{var ie=ce=>{var G=Oc();it(G,5,()=>(t(),i(()=>t().followedTeams)),st,(be,ge,re)=>{var Se=Pc(),B=s(Se);it(B,5,()=>_,st,(k,R)=>{var O=Ic();O.__click=()=>b(e(ge).teamId,e(R)),F(Q=>{Oe(O,1,`w-4 h-4 rounded border-2 transition-all ${Q??""}`),Gt(O,`background-color: ${e(R)??""}`),jt(O,"title",e(R))},[()=>(t(),e(ge),e(R),i(()=>t().getTeamColor(e(ge).teamId)===e(R)?"border-white scale-110":"border-[#525463] hover:border-[#9fa2ab]"))]),g(k,O)}),n(B);var _e=c(B,2),he=s(_e),we=s(he,!0);n(he),n(_e);var ee=c(_e,2),E=s(ee);{var j=k=>{var R=Dc();R.__click=()=>At.reorderTeams(e(ge).teamId,"up"),g(k,R)};D(E,k=>{re>0&&k(j)})}var xe=c(E,2);{var de=k=>{var R=Ec();R.__click=()=>At.reorderTeams(e(ge).teamId,"top"),g(k,R)};D(xe,k=>{re===0&&k(de)})}var H=c(xe,2);{var K=k=>{var R=Nc();R.__click=()=>At.reorderTeams(e(ge).teamId,"down"),g(k,R)};D(H,k=>{t(),i(()=>re<t().followedTeams.length-1)&&k(K)})}n(ee);var Z=c(ee,2);Z.__click=()=>T(e(ge).teamId,e(ge).teamName),n(Se),F(()=>y(we,(e(ge),i(()=>e(ge).teamName)))),g(be,Se)}),n(G),g(ce,G)};D(se,ce=>{t(),i(()=>t().followedTeams.length>0)&&ce(ie)})}var X=c(se,2),le=c(s(X),2);it(le,5,()=>(e(d),S(At),i(()=>e(d).filter(ce=>!At.isFollowing(ce.id)))),st,(ce,G)=>{var be=Ac();be.__click=()=>T(e(G).id,e(G).name);var ge=s(be);n(be),F(()=>y(ge,`+ ${e(G),i(()=>e(G).name)??""}`)),g(ce,be)}),n(le),n(X),n(L),n(I),g(p,N)};D(f,p=>{e(m)&&p(u)})}n(h),F(()=>y($,`My Teams (${t(),i(()=>t().followedTeams.length)??""})`)),g(a,h),Et(),l()}Jt(["click"]);var Lc=w('<div class="text-xs text-[#9fa2ab]"> </div>'),Uc=w('<div class="mt-3 pt-3 border-t border-[#525463]"><div class="flex items-center justify-between"><!> <div class="text-lg font-bold text-[#facc15]"> </div></div></div>'),Wc=w('<div class="px-4 py-3 rounded-lg border border-[#525463] bg-[#454654] hover:border-[#eab308] transition-colors cursor-pointer"><div class="flex items-center justify-between mb-2"><div class="flex items-center gap-2"><span class="text-xs font-medium text-[#facc15]"> </span> <!></div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="space-y-1"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]">vs</div> <div class="text-sm font-semibold text-[#f8f8f9]"> </div></div> <!></div>'),Bc=w('<div class="mb-6 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-[#f8f8f9] flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> Live Now</h2> <span class="text-xs text-[#9fa2ab]"> </span></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div></div>');function Hc(a,r){Dt(r,!1);const t=A();let o=Re(r,"matches",8),l=Re(r,"eventId",8),d=Re(r,"userId",8,void 0),v=Re(r,"onMatchClick",8,void 0);const m=ha(l(),d()||"anonymous");pe(()=>S(o()),()=>{x(t,(()=>{const h=Date.now();return o().filter(C=>{const $=C.ScheduledStartDateTime,f=C.ScheduledEndDateTime||$+5400*1e3,u=m.getScore(C.MatchId);return u&&u.status==="in-progress"||h>=$&&h<=f})})())}),Wt(),Nt();var _=$t(),T=lt(_);{var b=h=>{var C=Bc(),$=s(C),f=c(s($),2),u=s(f);n(f),n($);var p=c($,2);it(p,5,()=>e(t),st,(N,M)=>{const I=q(()=>(e(M),i(()=>m.getScore(e(M).MatchId)))),L=q(()=>(S(e(I)),i(()=>{var j,xe,de;return((j=e(I))==null?void 0:j.sets.find(H=>H.completedAt===0))||((de=e(I))==null?void 0:de.sets[((xe=e(I))==null?void 0:xe.sets.length)-1])}))),te=q(()=>(S(e(I)),i(()=>{var j;return((j=e(I))==null?void 0:j.sets.filter(xe=>xe.completedAt>0))||[]}))),U=q(()=>(S(e(te)),i(()=>e(te).filter(j=>j.team1Score>j.team2Score).length))),se=q(()=>(S(e(te)),i(()=>e(te).filter(j=>j.team2Score>j.team1Score).length)));var ie=Wc();ie.__click=()=>{var j;return(j=v())==null?void 0:j(e(M))};var X=s(ie),le=s(X),ce=s(le),G=s(ce,!0);n(ce);var be=c(ce,2);{let j=q(()=>(S(e(I)),i(()=>{var de;return((de=e(I))==null?void 0:de.status)==="in-progress"||!1}))),xe=q(()=>(S(e(I)),i(()=>{var de;return(de=e(I))==null?void 0:de.lastUpdated})));fa(be,{get isLive(){return e(j)},get lastUpdated(){return e(xe)}})}n(le);var ge=c(le,2),re=s(ge,!0);n(ge),n(X);var Se=c(X,2),B=s(Se),_e=s(B,!0);n(B);var he=c(B,4),we=s(he,!0);n(he),n(Se);var ee=c(Se,2);{var E=j=>{var xe=Uc(),de=s(xe),H=s(de);{var K=R=>{var O=Lc(),Q=s(O);n(O),F(()=>y(Q,`Sets: ${e(U)??""}-${e(se)??""}`)),g(R,O)};D(H,R=>{S(e(te)),i(()=>e(te).length>0)&&R(K)})}var Z=c(H,2),k=s(Z);n(Z),n(de),n(xe),F(()=>y(k,`${S(e(L)),i(()=>e(L).team1Score)??""}-${S(e(L)),i(()=>e(L).team2Score)??""}`)),g(j,xe)};D(ee,j=>{S(e(I)),S(e(L)),i(()=>e(I)&&e(I).status!=="not-started"&&e(L))&&j(E)})}n(ie),F(j=>{y(G,(e(M),i(()=>e(M).CourtName))),y(re,j),y(_e,(e(M),i(()=>e(M).FirstTeamText))),y(we,(e(M),i(()=>e(M).SecondTeamText)))},[()=>(S(rt),e(M),i(()=>rt(e(M).ScheduledStartDateTime)))]),g(N,ie)}),n(p),n(C),F(()=>y(u,`${e(t),i(()=>e(t).length)??""} match${e(t),i(()=>e(t).length!==1?"es":"")??""} in progress`)),g(h,C)};D(T,h=>{e(t),i(()=>e(t).length>0)&&h(b)})}g(a,_),Et()}Jt(["click"]);var Yc=w('<select class="px-2 py-1 text-xs rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>This Match</option><option>All Matches</option></select>'),Jc=w('<div class="text-center py-12 text-[#9fa2ab] text-sm">No claim history found</div>'),Vc=w('<div class="text-sm font-semibold text-[#f8f8f9]"> </div>'),Gc=w('<div class="px-3 py-2 rounded-lg border border-[#454654] bg-[#454654]/30"><div class="flex items-start justify-between mb-1"><div class="flex-1"><!> <div class="text-xs text-[#9fa2ab] mt-0.5"> </div></div> <div> </div></div> <div class="flex items-center justify-between mt-2 text-xs text-[#808593]"><span> </span> <span> </span></div></div>'),zc=w('<div class="space-y-2"></div>'),qc=w('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-[#454654] bg-[#454654]/50"><div><h3 class="text-lg font-semibold text-[#f8f8f9]">Claim History</h3> <p class="text-xs text-[#9fa2ab] mt-0.5"> </p></div> <div class="flex items-center gap-2"><!> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div class="flex-1 overflow-y-auto p-4"><!></div></div></div>');function Xc(a,r){Dt(r,!1);let t=Re(r,"matchId",8,void 0),o=Re(r,"eventId",8),l=Re(r,"matches",8),d=Re(r,"onClose",8),v=A([]),m=A("match");function _(G){return l().find(be=>be.MatchId===G)}function T(G){return`${Ut(G)} ${rt(G)}`}function b(G){switch(G.action){case"claimed":return"Claimed";case"released":return"Released";case"transferred":return`Transferred to ${G.transferredTo}`;default:return G.action}}function h(G){switch(G){case"claimed":return"text-[#eab308]";case"released":return"text-[#9fa2ab]";case"transferred":return"text-[#facc15]";default:return"text-[#c0c2c8]"}}pe(()=>(e(m),S(t()),S(o()),Mo),()=>{e(m)==="match"&&t()?x(v,Ti(t(),o())):x(v,Mo(o()))}),Wt(),Nt();var C=qc(),$=s(C),f=s($),u=s(f),p=c(s(u),2),N=s(p,!0);n(p),n(u);var M=c(u,2),I=s(M);{var L=G=>{var be=Yc();F(()=>{e(m),to(()=>{})});var ge=s(be);ge.value=ge.__value="match";var re=c(ge);re.value=re.__value="all",n(be),ro(be,()=>e(m),Se=>x(m,Se)),g(G,be)};D(I,G=>{t()&&G(L)})}var te=c(I,2);te.__click=function(...G){var be;(be=d())==null||be.apply(this,G)};var U=s(te),se=s(U);jt(se,"stroke-width",2),n(U),n(te),n(M),n(f);var ie=c(f,2),X=s(ie);{var le=G=>{var be=Jc();g(G,be)},ce=G=>{var be=zc();it(be,5,()=>e(v),st,(ge,re)=>{const Se=q(()=>(e(re),i(()=>_(e(re).matchId))));var B=Gc(),_e=s(B),he=s(_e),we=s(he);{var ee=O=>{var Q=Vc(),Te=s(Q);n(Q),F(Be=>y(Te,`${Be??""} â¢ ${S(e(Se)),i(()=>e(Se).CourtName)??""}`),[()=>(S(rt),S(e(Se)),i(()=>rt(e(Se).ScheduledStartDateTime)))]),g(O,Q)};D(we,O=>{e(Se)&&O(ee)})}var E=c(we,2),j=s(E,!0);n(E),n(he);var xe=c(he,2),de=s(xe,!0);n(xe),n(_e);var H=c(_e,2),K=s(H),Z=s(K);n(K);var k=c(K,2),R=s(k,!0);n(k),n(H),n(B),F((O,Q,Te)=>{y(j,(S(e(Se)),e(re),i(()=>e(Se)?`${e(Se).FirstTeamText} vs ${e(Se).SecondTeamText}`:`Match ${e(re).matchId}`))),Oe(xe,1,`text-xs font-medium ${O??""}`),y(de,Q),y(Z,`By: ${e(re),i(()=>e(re).userId)??""}`),y(R,Te)},[()=>(e(re),i(()=>h(e(re).action))),()=>(e(re),i(()=>b(e(re)))),()=>(e(re),i(()=>T(e(re).timestamp)))]),g(ge,B)}),n(be),g(G,be)};D(X,G=>{e(v),i(()=>e(v).length===0)?G(le):G(ce,!1)})}n(ie),n($),n(C),F(()=>y(N,e(m)==="match"&&t()?"Match history":"All claims for this event")),g(a,C),Et()}Jt(["click"]);var Qc=w('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Kc=w("<button> </button>"),Zc=w('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),el=w('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),tl=w('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),rl=w('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),al=w('<div class="flex items-center gap-2"><!></div>'),ol=w('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),nl=w("<span> </span>"),sl=eo('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),il=w("<button><!></button>"),cl=eo('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),ll=w('<div class="absolute left-0 top-8 z-50"><!></div>'),dl=w('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),vl=w('<div class="absolute left-0 top-8 z-50"><!></div>'),ul=w('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),fl=w('<div class="flex-shrink-0"><button> </button></div>'),ml=w('<button class="px-2 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors border border-[#eab308]" title="Start keeping score for this match"> </button>'),xl=w('<div class="text-xs font-medium text-[#9fa2ab]"> </div>'),bl=w('<div class="flex-shrink-0 flex items-center gap-2"><!> <div class="text-xs font-semibold text-[#f8f8f9]"> </div> <!></div>'),gl=w('<div class="text-xs font-medium text-[#9fa2ab]"> </div>'),pl=w('<div class="flex-shrink-0 flex items-center gap-2"><!> <div class="text-xs font-semibold text-[#f8f8f9]"> </div> <!> <span class="text-[8px] text-[#9fa2ab]">(Live)</span></div>'),hl=w('<!> <div class="flex-shrink-0 flex items-center gap-2"><!> <button class="px-2 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="View claim history for this match">ð</button> <!> <!> <!></div>',1),_l=w('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <!> <!> <!> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Sl=w('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),yl=w('<div class="absolute bottom-full right-0 mb-2 w-64 rounded-lg border border-[#454654] bg-[#3b3c48] shadow-lg p-2"><div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Score Sharing</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Scores (JSON)</button> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg> Generate Share Link</button> <div class="border-t border-[#454654] my-2"></div> <div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Receive Scores</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> Import Scores from JSON</button> <div class="px-3 py-1.5 mt-2 text-[10px] text-[#808593] bg-[#454654]/30 rounded">ð¡ Scores sync automatically across tabs. To share with others, use Export or Share Link.</div> <div class="border-t border-[#454654] my-2"></div> <div class="px-3 py-2 text-xs text-[#9fa2ab] border-b border-[#454654] mb-2">Claim History</div> <button class="w-full px-3 py-2 text-sm text-left text-[#c0c2c8] hover:bg-[#454654] rounded transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> View All Claim History</button></div>'),wl=w('<div class="px-4 py-2 rounded-lg border border-red-500/50 bg-red-500/10 text-red-400 text-sm"> </div>'),Tl=w('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="bg-[#3b3c48] rounded-lg border border-[#454654] p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-[#f8f8f9]">Import Scores</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="space-y-4"><div><label class="block text-sm font-medium text-[#c0c2c8] mb-2">Paste JSON score data:</label> <textarea class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none font-mono" rows="10" placeholder="Paste JSON score data here"></textarea></div> <!> <div class="flex justify-end gap-2"><button class="px-4 py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]">Cancel</button> <button class="px-4 py-2 text-sm font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Import</button></div></div></div></div>'),Ml=w('<div class="fixed bottom-4 right-4 z-50"><div class="relative"><button class="px-4 py-2 text-sm font-medium rounded-lg bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors shadow-lg flex items-center gap-2" title="Score sharing &amp; sync options"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Scores</button> <!></div></div> <!>',1),Cl=w('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!></div> <div class="space-y-4"><!></div> <!> <!> <!></div>');function kl(a,r){Dt(r,!1);const t=()=>nr(oo,"$isSpectator",d),o=()=>nr(ea,"$filters",d),l=()=>nr(ao,"$isMedia",d),[d,v]=ga(),m=A(),_=A(),T=A(),b=A(),h=A(),C=A(),$=A(),f=A(),u=A(),p=A(),N=A(),M=A();let I=Re(r,"matches",8),L=Re(r,"eventId",8),te=Re(r,"clubId",8),U=A("team"),se=A(null),ie=A(null),X=A(null),le=A(!1),ce=A(!1),G=A(null),be=A(!1),ge=A(!1),re=A(!1),Se=A(void 0),B=A(""),_e=A(null),he=A(new Set),we=A();qo(L());function ee(k){return k.InvolvedTeam==="first"?k.SecondTeamText:k.InvolvedTeam==="second"?k.FirstTeamText:`${k.FirstTeamText} vs ${k.SecondTeamText}`}function E(){const k=di(L()),R=new Blob([k],{type:"application/json"}),O=URL.createObjectURL(R),Q=document.createElement("a");Q.href=O,Q.download=`scores-${L()}-${Date.now()}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(O),x(be,!1)}function j(){const k=ui(L());navigator.clipboard.writeText(k).then(()=>{alert("Score link copied to clipboard! Share this link with others."),x(be,!1)}).catch(()=>{prompt("Copy this link to share scores:",k)})}function xe(){try{x(_e,null);const k=vi(e(B));k.success?(alert(`Successfully imported ${k.imported} score(s)!`),x(ge,!1),x(B,""),window.location.reload()):x(_e,k.errors.join(", "))}catch(k){x(_e,`Failed to import scores: ${k}`)}}Kr(()=>{if(mi()){const k=fi();if(k&&k.scores.length>0){const R=JSON.stringify({eventId:k.eventId,scores:k.scores},null,2);x(B,R),x(ge,!0)}}if(e(we).startPolling(),t()){let k=[];if(At.subscribe(R=>{k=R.map(O=>O.teamId)})(),k.length>0){const R=setInterval(()=>{Ya.checkUpcomingMatches(I(),k)},6e4);return()=>clearInterval(R)}}}),ma(()=>{e(we).stopPolling()}),pe(()=>(t(),S(L())),()=>{const k=t();x(we,ha({eventId:L(),userId:k?"spectator":"anonymous"}))}),pe(()=>S(I()),()=>{x(m,zr(I()))}),pe(()=>(o(),S(I()),rt),()=>{x(_,(()=>{if(o().wave!=="all"){const k=o().wave==="morning"?"08:00":"14:30",R=o().wave==="morning"?"14:30":"23:59";return va(I()).filter(O=>I().some(Q=>{const Te=rt(Q.ScheduledStartDateTime),Be=Te.split(" ")[1]||Te;return Be>=k&&Be<R&&Q.Division.Name===O}))}return va(I())})())}),pe(()=>S(I()),()=>{x(T,no(I()))}),pe(()=>(S(I()),ct),()=>{x(b,(()=>{const k=new Map;return I().forEach(R=>{const O=Qe(R);O&&k.set(O,ct.getTeamStatus(O))}),k})())}),pe(()=>(S(I()),e(m),e(b),Qe),()=>{x(h,(()=>{const k=tr(It);return Ka(I(),k,e(m),e(b),Qe,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),pe(()=>(S(I()),o(),t(),At),()=>{x(C,(()=>{let k=zo(I());if(o().priority&&o().priority!=="all"&&(k=k.filter(R=>or.getPriority(R.MatchId)===o().priority)),o().coverageStatus&&o().coverageStatus!=="all"&&(k=k.filter(R=>{const O=Qe(R);if(!O)return!0;const Q=ct.getTeamStatus(O);return o().coverageStatus==="uncovered"?Q==="not-covered":o().coverageStatus==="covered"?Q==="covered"||Q==="partially-covered":o().coverageStatus==="planned"?Q==="planned":!0})),t()){let R=[];At.subscribe(O=>{R=O.map(Q=>Q.teamId)})(),R.length>0&&(k=k.filter(O=>{const Q=Qe(O);return Q&&R.includes(Q)}))}return k})())}),pe(()=>(S(I()),e(m)),()=>{x($,(()=>{const k=tr(It);return Go(I(),k,e(m),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),pe(()=>e($),()=>{x(f,new Set(e($).map(k=>k.match.MatchId)))}),pe(()=>(S(I()),ct),()=>{x(u,(()=>{const k=new Map;I().forEach(P=>{const ae=Qe(P);if(ae){const Y=ct.getTeamStatus(ae);k.set(ae,Y)}});const R=k.size,O=Array.from(k.values()).filter(P=>P==="covered").length,Q=Array.from(k.values()).filter(P=>P==="partially-covered").length,Te=Array.from(k.values()).filter(P=>P==="planned").length,Be=Array.from(k.values()).filter(P=>P==="not-covered").length;return{totalTeams:R,coveredTeams:O,partiallyCoveredTeams:Q,plannedTeams:Te,uncoveredTeams:Be,coveragePercentage:R>0?(O+Q)/R*100:0}})())}),pe(()=>(e(C),e(U),Qe),()=>{x(p,(()=>{let k=[...e(C)];return e(U)==="priority"?k.sort((R,O)=>{const Q=or.getPriority(R.MatchId),Te=or.getPriority(O.MatchId),Be={"must-cover":3,priority:2,optional:1,null:0},P=Be[Q||"null"],ae=Be[Te||"null"];return P!==ae?ae-P:R.ScheduledStartDateTime-O.ScheduledStartDateTime}):e(U)==="team"?k.sort((R,O)=>{const Q=Qe(R),Te=Qe(O);return Q.localeCompare(Te)}):e(U)==="court"?k.sort((R,O)=>R.CourtName.localeCompare(O.CourtName)):k.sort((R,O)=>R.ScheduledStartDateTime-O.ScheduledStartDateTime),k})())}),pe(()=>(e(p),rt),()=>{x(N,(()=>{const k={};return e(p).forEach(R=>{const O=rt(R.ScheduledStartDateTime);k[O]||(k[O]=[]),k[O].push(R)}),k})())}),pe(()=>e(N),()=>{x(M,Object.keys(e(N)).sort((k,R)=>{const O=new Date(`2000-01-01 ${k}`).getTime(),Q=new Date(`2000-01-01 ${R}`).getTime();return O-Q}))}),pe(()=>(t(),S(I()),e(we),e(he),e(G)),()=>{if(t()&&I().length>0){const k=new Set;I().forEach(R=>{e(we).isClaimOwner(R.MatchId)&&(k.add(R.MatchId),!e(he).has(R.MatchId)&&(!e(G)||e(G).MatchId!==R.MatchId)&&setTimeout(()=>{x(G,R)},200))}),x(he,k)}}),pe(()=>(t(),S(I()),e(we),Ya),()=>{if(t()&&I().length>0){let k=[];At.subscribe(R=>{k=R.map(O=>O.teamId)})(),I().forEach(R=>{const O=Qe(R);if(O&&k.includes(O)){const Q=e(we).getScore(R.MatchId);Q&&Q.status==="in-progress"&&Ya.notifyScoreUpdate(R,Q)}})}}),Wt(),Nt();var de=$t(),H=lt(de);{var K=k=>{var R=Qc(),O=s(R,!0);n(R),F(()=>y(O,(o(),i(()=>o().division||o().wave!=="all"||o().teams.length>0||o().timeRange.start||o().timeRange.end?"No matches found for selected filters":"No matches found")))),g(k,R)},Z=k=>{var R=Cl(),O=s(R);{var Q=z=>{{let Ie=q(()=>t()?"spectator":"anonymous");Hc(z,{get matches(){return I()},get eventId(){return L()},get userId(){return e(Ie)}})}};D(O,z=>{t()&&z(Q)})}var Te=c(O,2);{var Be=z=>{var Ie=Zc(),Ne=s(Ie),tt=s(Ne),Je=s(tt),et=s(Je);n(Je),mr(),n(tt);var at=c(tt,2),ut=s(at),vt=s(ut);n(ut);var Le=c(ut,4),nt=s(Le);n(Le);var ue=c(Le,4),qe=s(ue);n(ue);var dt=c(ue,4),Xe=s(dt);n(dt),n(at),n(Ne);var pt=c(Ne,2),Ct=s(pt);Ct.__click=()=>x(le,!e(le));var ht=s(Ct,!0);n(Ct);var mt=c(Ct,2);{var Ke=Ee=>{var ot=Kc();ot.__click=()=>x(ce,!e(ce));var ze=s(ot);n(ot),F(()=>{Oe(ot,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(ce)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),jt(ot,"title",`${e(h),i(()=>e(h).length)??""} coverage suggestions`),y(ze,`ð¡ Suggestions (${e(h),i(()=>e(h).length)??""})`)}),g(Ee,ot)};D(mt,Ee=>{e(h),i(()=>e(h).length>0)&&Ee(Ke)})}n(pt),n(Ie),F(Ee=>{y(et,`${Ee??""}%`),y(vt,`â ${e(u),i(()=>e(u).coveredTeams)??""}`),y(nt,`â ${e(u),i(()=>e(u).partiallyCoveredTeams)??""}`),y(qe,`ð ${e(u),i(()=>e(u).plannedTeams)??""}`),y(Xe,`â ${e(u),i(()=>e(u).uncoveredTeams)??""}`),Oe(Ct,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(le)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(ht,e(le)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(u),i(()=>e(u).coveragePercentage.toFixed(0)))]),g(z,Ie)};D(Te,z=>{l(),e(u),i(()=>l()&&e(u).totalTeams>0)&&z(Be)})}var P=c(Te,2);{var ae=z=>{var Ie=tl(),Ne=s(Ie),tt=c(s(Ne),2);tt.__click=()=>x(ce,!1),n(Ne);var Je=c(Ne,2);it(Je,5,()=>(e(h),i(()=>e(h).slice(0,5))),st,(et,at)=>{var ut=el(),vt=s(ut),Le=s(vt),nt=s(Le);n(Le);var ue=c(Le,2),qe=s(ue,!0);n(ue),n(vt);var dt=c(vt,2);dt.__click=Xe=>{Xe.stopPropagation(),It.selectMatch(e(at).match.MatchId)},n(ut),F(Xe=>{y(nt,`${Xe??""} - ${e(at),i(()=>e(at).match.CourtName)??""} - Team ${e(at),i(()=>e(at).teamId)??""}`),y(qe,(e(at),i(()=>e(at).reason)))},[()=>(S(rt),e(at),i(()=>rt(e(at).match.ScheduledStartDateTime)))]),g(et,ut)}),n(Je),n(Ie),g(z,Ie)};D(P,z=>{l(),e(ce),e(h),i(()=>l()&&e(ce)&&e(h).length>0)&&z(ae)})}var Y=c(P,2);{var ve=z=>{var Ie=rl();g(z,Ie)};D(Y,z=>{l()&&z(ve)})}var ke=c(Y,2),ye=s(ke),V=c(s(ye),2),W=s(V);W.__click=()=>x(U,"team");var fe=c(W,2);fe.__click=()=>x(U,"court");var $e=c(fe,2);$e.__click=()=>x(U,"time"),n(V),n(ye);var Fe=c(ye,2),He=c(s(Fe),2),Ue=s(He);Ue.__click=()=>ar("wave","all");var Ve=c(Ue,2);Ve.__click=()=>ar("wave","morning");var We=c(Ve,2);We.__click=()=>ar("wave","afternoon"),n(He),n(Fe);var J=c(Fe,2);{var ne=z=>{var Ie=al(),Ne=s(Ie);jc(Ne,{get matches(){return I()}}),n(Ie),g(z,Ie)};D(J,z=>{t()&&z(ne)})}n(ke);var Pe=c(ke,2),Ye=s(Pe);{var Ae=z=>{var Ie=ol();g(z,Ie)},je=z=>{var Ie=$t(),Ne=lt(Ie);it(Ne,1,()=>e(M),st,(tt,Je)=>{const et=q(()=>(e(N),e(Je),i(()=>e(N)[e(Je)]))),at=q(()=>(S(e(et)),e(m),i(()=>e(et).filter(Ke=>e(m).has(Ke.MatchId)).length))),ut=q(()=>e(at)>0),vt=q(()=>(S(e(at)),S(e(et)),i(()=>e(at)===e(et).length)));var Le=Sl(),nt=s(Le),ue=s(nt),qe=s(ue),dt=s(qe,!0);n(qe);var Xe=c(qe,2),pt=s(Xe);n(Xe),n(ue);var Ct=c(ue,2);{var ht=Ke=>{var Ee=nl(),ot=s(Ee);n(Ee),F(()=>{Oe(Ee,1,`text-xs font-medium ${e(vt)?"text-[#808593]":"text-red-400"}`),y(ot,`${e(at)??""} conflict${e(at)!==1?"s":""}`)}),g(Ke,Ee)};D(Ct,Ke=>{e(ut)&&Ke(ht)})}n(nt);var mt=c(nt,2);it(mt,1,()=>e(et),st,(Ke,Ee)=>{const ot=q(()=>(e(m),e(Ee),i(()=>e(m).has(e(Ee).MatchId)))),ze=q(()=>(S(Qe),e(Ee),i(()=>Qe(e(Ee))))),xt=q(()=>(e(Ee),i(()=>ee(e(Ee))))),_t=q(()=>(e(se),e(Ee),i(()=>e(se)===e(Ee).MatchId))),Tt=q(()=>(S(or),e(Ee),i(()=>or.getPriority(e(Ee).MatchId)))),vr=q(()=>(e(f),e(Ee),i(()=>e(f).has(e(Ee).MatchId)))),Ft=q(()=>(S(e(ze)),S(ct),i(()=>e(ze)?ct.getTeamStatus(e(ze)):"not-covered"))),Vt=q(()=>e(Ft)==="covered"||e(Ft)==="partially-covered"),Bt=q(()=>e(Ft)==="planned"),Xt=q(()=>e(Ft)==="not-covered"),Zt=q(()=>e(le)&&e(Vt)),Sr=q(()=>(S(tr),S(It),i(()=>tr(It)))),lr=q(()=>(S(e(Sr)),e(Ee),i(()=>e(Sr).has(e(Ee).MatchId)))),Er=q(()=>e(ot)&&!e(vt));var Lr=_l(),xr=s(Lr);xr.__click=()=>x(se,e(_t)?null:e(Ee).MatchId);var ta=s(xr);{var yr=Mt=>{var Ze=il();Ze.__click=kt=>{kt.stopPropagation(),It.toggleMatch(e(Ee).MatchId)};var yt=s(Ze);{var Pt=kt=>{var zt=sl();g(kt,zt)};D(yt,kt=>{e(lr)&&kt(Pt)})}n(Ze),F(()=>{Oe(Ze,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(lr)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),jt(Ze,"aria-label",e(lr)?"Remove from plan":"Add to plan")}),g(Mt,Ze)};D(ta,Mt=>{l()&&Mt(yr)})}var Ur=c(ta,2),wr=s(Ur),_a=s(wr,!0);n(wr);var Nr=c(wr,2),Sa=s(Nr);n(Nr),n(Ur);var Wr=c(Ur,2);{var ya=Mt=>{var Ze=dl(),yt=s(Ze);yt.__click=qt=>{qt.stopPropagation(),x(ie,e(ie)===e(Ee).MatchId?null:e(Ee).MatchId)};var Pt=s(yt),kt=c(Pt);{var zt=qt=>{var rr=cl();g(qt,rr)};D(kt,qt=>{e(Tt)||qt(zt)})}n(yt);var Qt=c(yt,2);{var sr=qt=>{var rr=ll(),Pr=s(rr);Qo(Pr,{get matchId(){return e(Ee),i(()=>e(Ee).MatchId)},get currentPriority(){return e(Tt)},get onPriorityChange(){return S(or),i(()=>or.setPriority)},onClose:()=>x(ie,null)}),n(rr),g(qt,rr)};D(Qt,qt=>{e(ie),e(Ee),i(()=>e(ie)===e(Ee).MatchId)&&qt(sr)})}n(Ze),F(()=>{Oe(yt,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(Tt)==="must-cover"?"text-[#eab308]":e(Tt)==="priority"?"text-[#f59e0b]":e(Tt)==="optional"?"text-[#9fa2ab]":"text-[#808593]"}`),jt(yt,"title",e(Tt)?`Priority: ${e(Tt)}`:"Set priority"),y(Pt,`${e(Tt)==="must-cover"&&"â­"}
												${e(Tt)==="priority"&&"ð¸"}
												${e(Tt)==="optional"&&"â"} `)}),g(Mt,Ze)};D(Wr,Mt=>{l()&&Mt(ya)})}var Br=c(Wr,2);{var wa=Mt=>{var Ze=ul(),yt=s(Ze);yt.__click=Qt=>{Qt.stopPropagation(),x(X,e(X)===e(ze)?null:e(ze))};var Pt=s(yt);n(yt);var kt=c(yt,2);{var zt=Qt=>{var sr=vl(),qt=s(sr);so(qt,{get teamId(){return e(ze)},get currentStatus(){return e(Ft)},get onStatusChange(){return S(ct),i(()=>ct.setTeamStatus)},onClose:()=>x(X,null)}),n(sr),g(Qt,sr)};D(kt,Qt=>{e(X)===e(ze)&&Qt(zt)})}n(Ze),F(()=>{Oe(yt,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(Ft)==="covered"?"text-green-500":e(Ft)==="partially-covered"?"text-[#f59e0b]":e(Ft)==="planned"?"text-[#eab308]":"text-[#808593]"}`),jt(yt,"title",`Coverage: ${e(Ft)??""}`),y(Pt,`${e(Ft)==="covered"&&"â"}
												${e(Ft)==="partially-covered"&&"â"}
												${e(Ft)==="planned"&&"ð"}
												${e(Ft)==="not-covered"&&"â"}`)}),g(Mt,Ze)};D(Br,Mt=>{l()&&e(ze)&&Mt(wa)})}var ra=c(Br,2);{var Ta=Mt=>{const Ze=q(()=>(e(we),e(Ee),i(()=>e(we).getScore(e(Ee).MatchId)))),yt=q(()=>(e(we),e(Ee),i(()=>e(we).getClaimStatus(e(Ee).MatchId)))),Pt=q(()=>(e(we),e(Ee),i(()=>e(we).isClaimOwner(e(Ee).MatchId))));var kt=hl(),zt=lt(kt);{var Qt=Yt=>{var Lt=fl(),Ot=s(Lt);Ot.__click=Mr=>{Mr.stopPropagation(),At.isFollowing(e(ze))?At.unfollowTeam(e(ze)):At.followTeam(e(ze),e(ze))};var Tr=s(Ot,!0);n(Ot),n(Lt),F((Mr,ur,Cr)=>{Oe(Ot,1,`px-2 py-1 text-xs font-medium rounded transition-colors ${Mr??""}`),jt(Ot,"title",ur),y(Tr,Cr)},[()=>(S(At),S(e(ze)),i(()=>At.isFollowing(e(ze))?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]")),()=>(S(At),S(e(ze)),i(()=>At.isFollowing(e(ze))?"Unfollow team":"Follow team")),()=>(S(At),S(e(ze)),i(()=>At.isFollowing(e(ze))?"â":"+"))]),g(Yt,Lt)};D(zt,Yt=>{e(ze)&&Yt(Qt)})}var sr=c(zt,2),qt=s(sr);vc(qt,{get match(){return e(Ee)},get eventId(){return L()},onClaim:Yt=>{const Lt=I().find(Ot=>Ot.MatchId===Yt);Lt&&setTimeout(()=>{x(G,Lt)},300)},onRelease:()=>{x(G,null)}});var rr=c(qt,2);rr.__click=Yt=>{Yt.stopPropagation(),x(re,!0),x(Se,e(Ee).MatchId)};var Pr=c(rr,2);{var Ma=Yt=>{var Lt=ml();Lt.__click=Tr=>{Tr.stopPropagation(),x(G,e(Ee))};var Ot=s(Lt,!0);n(Lt),F(()=>y(Ot,e(Ze)?"Update Score":"Start Scoring")),g(Yt,Lt)};D(Pr,Yt=>{e(yt)==="claimed"&&e(Pt)&&Yt(Ma)})}var aa=c(Pr,2);{var Ht=Yt=>{const Lt=q(()=>(S(e(Ze)),i(()=>e(Ze).sets.find(St=>St.completedAt===0)||e(Ze).sets[e(Ze).sets.length-1]))),Ot=q(()=>(S(e(Ze)),i(()=>e(Ze).sets.filter(St=>St.completedAt>0)))),Tr=q(()=>(S(e(Ot)),i(()=>e(Ot).filter(St=>St.team1Score>St.team2Score).length))),Mr=q(()=>(S(e(Ot)),i(()=>e(Ot).filter(St=>St.team2Score>St.team1Score).length)));var ur=bl(),Cr=s(ur);{var ka=St=>{var $r=xl(),Da=s($r);n($r),F(()=>y(Da,`${e(Tr)??""}-${e(Mr)??""}`)),g(St,$r)};D(Cr,St=>{S(e(Ot)),i(()=>e(Ot).length>0)&&St(ka)})}var kr=c(Cr,2),$a=s(kr);n(kr);var Ia=c(kr,2);{let St=q(()=>(S(e(Ze)),i(()=>e(Ze).status==="in-progress")));fa(Ia,{get isLive(){return e(St)},get lastUpdated(){return S(e(Ze)),i(()=>e(Ze).lastUpdated)}})}n(ur),F(()=>y($a,`${S(e(Lt)),i(()=>e(Lt).team1Score)??""}-${S(e(Lt)),i(()=>e(Lt).team2Score)??""}`)),g(Yt,ur)};D(aa,Yt=>{S(e(Ze)),i(()=>e(Ze)&&e(Ze).status!=="not-started")&&Yt(Ht)})}var Hr=c(aa,2);{var Ca=Yt=>{const Lt=q(()=>(S(e(Ze)),i(()=>e(Ze).sets.find(St=>St.completedAt===0)||e(Ze).sets[e(Ze).sets.length-1]))),Ot=q(()=>(S(e(Ze)),i(()=>e(Ze).sets.filter(St=>St.completedAt>0)))),Tr=q(()=>(S(e(Ot)),i(()=>e(Ot).filter(St=>St.team1Score>St.team2Score).length))),Mr=q(()=>(S(e(Ot)),i(()=>e(Ot).filter(St=>St.team2Score>St.team1Score).length)));var ur=pl(),Cr=s(ur);{var ka=St=>{var $r=gl(),Da=s($r);n($r),F(()=>y(Da,`${e(Tr)??""}-${e(Mr)??""}`)),g(St,$r)};D(Cr,St=>{S(e(Ot)),i(()=>e(Ot).length>0)&&St(ka)})}var kr=c(Cr,2),$a=s(kr);n(kr);var Ia=c(kr,2);{let St=q(()=>(S(e(Ze)),i(()=>e(Ze).status==="in-progress")));fa(Ia,{get isLive(){return e(St)},get lastUpdated(){return S(e(Ze)),i(()=>e(Ze).lastUpdated)}})}mr(2),n(ur),F(()=>y($a,`${S(e(Lt)),i(()=>e(Lt).team1Score)??""}-${S(e(Lt)),i(()=>e(Lt).team2Score)??""}`)),g(Yt,ur)};D(Hr,Yt=>{S(e(Pt)),S(e(Ze)),i(()=>!e(Pt)&&e(Ze)&&e(Ze).status!=="not-started")&&Yt(Ca)})}n(sr),g(Mt,kt)};D(ra,Mt=>{t()&&Mt(Ta)})}var ft=c(ra,2),bt=s(ft);n(ft),n(xr);var Rt=c(xr,2);{var br=Mt=>{Xo(Mt,{get match(){return e(Ee)},get eventId(){return L()},get clubId(){return te()},onClose:()=>x(se,null),get matches(){return I()}})};D(Rt,Mt=>{e(_t)&&Mt(br)})}n(Lr),F(Mt=>{Oe(xr,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(Er)?"border border-red-800/50 bg-red-950/10":e(Tt)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(Tt)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(Xt)&&!e(lr)?"border border-[#eab308] bg-[#eab308]/5":e(Bt)?"border border-[#eab308]/50 bg-[#eab308]/10":e(Vt)?"border border-green-500/30 bg-green-950/5":e(vr)&&!e(lr)?"border border-green-500/50 bg-green-950/10":e(lr)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(Zt)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),y(_a,Mt),y(Sa,`${e(Ee),i(()=>e(Ee).CourtName)??""} â¢ ${S(e(ze)),e(Ee),i(()=>e(ze)||e(Ee).Division.CodeAlias)??""} vs ${e(xt)??""}`),Oe(bt,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(_t)?"rotate-180":""}`)},[()=>(S(rt),e(Ee),i(()=>rt(e(Ee).ScheduledStartDateTime)))]),g(Ke,Lr)}),n(Le),F(()=>{y(dt,e(Je)),y(pt,`${S(e(et)),i(()=>e(et).length)??""} match${S(e(et)),i(()=>e(et).length!==1?"es":"")??""}`)}),g(tt,Le)}),g(z,Ie)};D(Ye,z=>{e(M),i(()=>e(M).length===0)?z(Ae):z(je,!1)})}n(Pe);var Me=c(Pe,2);{var Ge=z=>{{let Ie=q(()=>(e(we),e(G),i(()=>e(we).getScore(e(G).MatchId))));Ko(z,{get matchId(){return e(G),i(()=>e(G).MatchId)},get team1Name(){return e(G),i(()=>e(G).FirstTeamText)},get team2Name(){return e(G),i(()=>e(G).SecondTeamText)},get currentScore(){return e(Ie)},onScoreUpdate:(Ne,tt)=>{e(we).updateScore(e(G).MatchId,Ne,tt)},onClose:()=>x(G,null)})}};D(Me,z=>{e(G),e(we),i(()=>e(G)&&e(we).isClaimOwner(e(G).MatchId))&&z(Ge)})}var oe=c(Me,2);{var De=z=>{Xc(z,{get matchId(){return e(Se)},get eventId(){return L()},get matches(){return I()},onClose:()=>{x(re,!1),x(Se,void 0)}})};D(oe,z=>{e(re)&&z(De)})}var me=c(oe,2);{var Ce=z=>{var Ie=Ml(),Ne=lt(Ie),tt=s(Ne),Je=s(tt);Je.__click=()=>x(be,!e(be));var et=c(Je,2);{var at=Le=>{var nt=yl(),ue=c(s(nt),2);ue.__click=E;var qe=c(ue,2);qe.__click=j;var dt=c(qe,6);dt.__click=()=>{x(ge,!0),x(be,!1)};var Xe=c(dt,8);Xe.__click=()=>{x(re,!0),x(Se,void 0),x(be,!1)},n(nt),g(Le,nt)};D(et,Le=>{e(be)&&Le(at)})}n(tt),n(Ne);var ut=c(Ne,2);{var vt=Le=>{var nt=Tl(),ue=s(nt),qe=s(ue),dt=c(s(qe),2);dt.__click=()=>{x(ge,!1),x(B,""),x(_e,null)},n(qe);var Xe=c(qe,2),pt=s(Xe),Ct=c(s(pt),2);Rr(Ct),n(pt);var ht=c(pt,2);{var mt=ze=>{var xt=wl(),_t=s(xt,!0);n(xt),F(()=>y(_t,e(_e))),g(ze,xt)};D(ht,ze=>{e(_e)&&ze(mt)})}var Ke=c(ht,2),Ee=s(Ke);Ee.__click=()=>{x(ge,!1),x(B,""),x(_e,null)};var ot=c(Ee,2);ot.__click=xe,n(Ke),n(Xe),n(ue),n(nt),ir(Ct,()=>e(B),ze=>x(B,ze)),g(Le,nt)};D(ut,Le=>{e(ge)&&Le(vt)})}g(z,Ie)};D(me,z=>{t()&&z(Ce)})}n(R),F(()=>{Oe(W,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(fe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe($e,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(U)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(Ue,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Ve,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(We,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),g(k,R)};D(H,k=>{e(C),i(()=>e(C).length===0)?k(K):k(Z,!1)})}g(a,de),Et(),v()}Jt(["click"]);var $l=w('<div class="text-xs text-[#808593] py-4 text-center">No conflicts found</div>'),Il=w('<span class="text-[#9fa2ab]">â¢</span> <span class="text-[#808593]"> </span>',1),Dl=w('<div class="px-3 py-2.5 rounded border border-[#525463] bg-[#454654]/30"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#f8f8f9]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs flex-wrap"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span> <!></div></div>'),El=w('<div class="space-y-2"></div>'),Nl=w(`<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2">Conflict Details</h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="mb-4 pb-4 border-b border-[#454654]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Selected Match</div> <div class="px-3 py-2 rounded border border-[#eab308]/50 bg-[#eab308]/5"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#facc15]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span></div></div></div> <div><div class="flex items-center justify-between mb-2"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider"> </div> <span class="text-xs text-red-400 font-medium">Cannot cover simultaneously</span></div> <!></div> <div class="mt-4 pt-4 border-t border-[#454654]"><p class="text-xs text-[#808593]">These matches overlap in time and are on different courts. You'll need to choose which match to cover.</p></div></div></div>`);function Pl(a,r){Dt(r,!1);const t=A();let o=Re(r,"match",8),l=Re(r,"conflictingMatches",8),d=Re(r,"onClose",8);function v(he){return he.InvolvedTeam==="first"?he.SecondTeamText:he.InvolvedTeam==="second"?he.FirstTeamText:`${he.FirstTeamText} vs ${he.SecondTeamText}`}function m(he,we){return he!==we?5:0}const _=Qe(o()),T=v(o());pe(()=>S(l()),()=>{x(t,[...l()].sort((he,we)=>he.ScheduledStartDateTime-we.ScheduledStartDateTime))}),Wt(),Nt();var b=Nl(),h=s(b),C=s(h),$=c(s(C),2);$.__click=function(...he){var we;(we=d())==null||we.apply(this,he)},n(C);var f=c(C,2),u=c(s(f),2),p=s(u),N=s(p),M=s(N,!0);n(N);var I=c(N,4),L=s(I,!0);n(I),n(p);var te=c(p,2),U=s(te),se=s(U,!0);n(U);var ie=c(U,2),X=s(ie,!0);n(ie);var le=c(ie,4),ce=s(le,!0);n(le),n(te),n(u),n(f);var G=c(f,2),be=s(G),ge=s(be),re=s(ge);n(ge),mr(2),n(be);var Se=c(be,2);{var B=he=>{var we=$l();g(he,we)},_e=he=>{var we=El();it(we,5,()=>e(t),st,(ee,E)=>{const j=q(()=>(S(Qe),e(E),i(()=>Qe(e(E))))),xe=q(()=>(e(E),i(()=>v(e(E))))),de=q(()=>(S(o()),e(E),i(()=>m(o().CourtName,e(E).CourtName))));var H=Dl(),K=s(H),Z=s(K),k=s(Z,!0);n(Z);var R=c(Z,4),O=s(R,!0);n(R),n(K);var Q=c(K,2),Te=s(Q),Be=s(Te,!0);n(Te);var P=c(Te,2),ae=s(P,!0);n(P);var Y=c(P,4),ve=s(Y,!0);n(Y);var ke=c(Y,2);{var ye=V=>{var W=Il(),fe=c(lt(W),2),$e=s(fe);n(fe),F(()=>y($e,`~${e(de)??""} min travel from ${S(o()),i(()=>o().CourtName)??""}`)),g(V,W)};D(ke,V=>{e(de)>0&&V(ye)})}n(Q),n(H),F(V=>{y(k,(S(e(j)),e(E),i(()=>e(j)||e(E).Division.CodeAlias))),y(O,e(xe)),y(Be,(e(E),i(()=>e(E).CourtName))),y(ae,V),y(ve,(e(E),i(()=>e(E).Division.CodeAlias)))},[()=>(S(rt),e(E),i(()=>rt(e(E).ScheduledStartDateTime)))]),g(ee,H)}),n(we),g(he,we)};D(Se,he=>{e(t),i(()=>e(t).length===0)?he(B):he(_e,!1)})}n(G),mr(2),n(h),n(b),F(he=>{y(M,(S(o()),i(()=>_||o().Division.CodeAlias))),y(L,T),y(se,(S(o()),i(()=>o().CourtName))),y(X,he),y(ce,(S(o()),i(()=>o().Division.CodeAlias))),y(re,`Conflicting Matches (${S(l()),i(()=>l().length)??""})`)},[()=>(S(rt),S(o()),i(()=>rt(o().ScheduledStartDateTime)))]),g(a,b),Et()}Jt(["click"]);var Ol=w('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Al=w("<option> </option>"),Fl=w('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Rl=w("<option> </option>"),jl=w('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),Ll=w('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),Ul=w('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),Wl=w('<span class="ml-2"> </span>'),Bl=w('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),Hl=w("<div> </div>"),Yl=w('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),Jl=w('<div class="absolute top-0 left-0 text-[10px]"> </div>'),Vl=w('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),Gl=w('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),zl=w('<div class="text-[8px] text-[#9fa2ab]"> </div>'),ql=w('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),Xl=eo('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),Ql=w('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),Kl=w('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Zl=w('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),ed=w('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),td=w('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),rd=w('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),ad=w('<div class="fixed inset-0 z-40"></div>'),od=w('<div class="fixed inset-0 z-40"></div>'),nd=w('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function sd(a,r){Dt(r,!1);const t=()=>nr(oo,"$isSpectator",d),o=()=>nr(ea,"$filters",d),l=()=>nr(ao,"$isMedia",d),[d,v]=ga(),m=A(),_=A(),T=A(),b=A(),h=A(),C=A(),$=A(),f=A(),u=A(),p=A(),N=A(),M=A(),I=A();let L=Re(r,"matches",8),te=Re(r,"eventId",8),U=A(null),se=A(null),ie=A(null),X=A(null),le=A(null),ce=A();function G(E){return E.InvolvedTeam==="first"?E.SecondTeamText:E.InvolvedTeam==="second"?E.FirstTeamText:`${E.FirstTeamText} vs ${E.SecondTeamText}`}function be(E){return e(u)===0?0:(E-e($))/e(u)*100}function ge(E,j){return e(u)===0?0:(j-E)/e(u)*100}function re(E){const j=[],xe=[...E].sort((de,H)=>de.ScheduledStartDateTime-H.ScheduledStartDateTime);for(let de=0;de<xe.length-1;de++){const H=xe[de],K=xe[de+1],Z=Math.floor((K.ScheduledStartDateTime-H.ScheduledEndDateTime)/6e4);Z>0&&j.push({before:H,after:K,gapMinutes:Z})}return j}function Se(E){e(m).has(E.MatchId)?x(U,E):l()?It.toggleMatch(E.MatchId):x(U,E)}function B(E,j){j.stopPropagation(),x(se,e(se)===E?null:E)}pe(()=>(t(),S(te())),()=>{const E=t();x(ce,ha({eventId:te(),userId:E?"spectator":"anonymous"}))}),pe(()=>S(L()),()=>{x(m,zr(L()))}),pe(()=>(o(),S(L()),rt),()=>{x(_,(()=>{if(o().wave!=="all"){const E=o().wave==="morning"?"08:00":"14:30",j=o().wave==="morning"?"14:30":"23:59";return va(L()).filter(xe=>L().some(de=>{const H=rt(de.ScheduledStartDateTime),K=H.split(" ")[1]||H;return K>=E&&K<j&&de.Division.CodeAlias===xe}))}return va(L())})())}),pe(()=>S(L()),()=>{x(T,no(L()))}),pe(()=>(S(L()),o(),ct),()=>{x(b,(()=>{let E=zo(L());return o().priority&&o().priority!=="all"&&(E=E.filter(j=>or.getPriority(j.MatchId)===o().priority)),o().coverageStatus&&o().coverageStatus!=="all"&&(E=E.filter(j=>{const xe=Qe(j);if(!xe)return!0;const de=ct.getTeamStatus(xe);return o().coverageStatus==="uncovered"?de==="not-covered":o().coverageStatus==="covered"?de==="covered"||de==="partially-covered":o().coverageStatus==="planned"?de==="planned":!0})),E})())}),pe(()=>(S(L()),e(m)),()=>{x(h,(()=>{const E=tr(It);return Go(L(),E,e(m),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),pe(()=>e(h),()=>{x(C,new Set(e(h).map(E=>E.match.MatchId)))}),pe(()=>e(b),()=>{x($,e(b).length>0?Math.min(...e(b).map(E=>E.ScheduledStartDateTime)):0)}),pe(()=>e(b),()=>{x(f,e(b).length>0?Math.max(...e(b).map(E=>E.ScheduledEndDateTime)):0)}),pe(()=>(e(f),e($)),()=>{x(u,e(f)-e($))}),pe(()=>e(b),()=>{x(p,(()=>{const E={};return e(b).forEach(j=>{E[j.CourtName]||(E[j.CourtName]=[]),E[j.CourtName].push(j)}),E})())}),pe(()=>e(p),()=>{x(N,Object.keys(e(p)).sort())}),pe(()=>(e(se),e(b),Qe),()=>{x(M,(()=>{if(!e(se))return new Set;const E=new Set;return e(b).forEach(j=>{Qe(j)===e(se)&&E.add(j.MatchId)}),E})())}),pe(()=>(e(U),e(m),e(b)),()=>{x(I,(()=>{if(!e(U))return[];const E=e(m).get(e(U).MatchId);return E?E.map(j=>e(b).find(xe=>xe.MatchId===j)).filter(Boolean):[]})())}),Wt(),Nt();var _e=$t(),he=lt(_e);{var we=E=>{var j=Ol(),xe=s(j,!0);n(j),F(()=>y(xe,(o(),i(()=>o().division||o().wave!=="all"||o().teams.length>0||o().timeRange.start||o().timeRange.end?"No matches found for selected filters":"No matches found")))),g(E,j)},ee=E=>{var j=nd(),xe=s(j),de=s(xe),H=c(s(de),2),K=s(H);K.__click=()=>ar("wave","all");var Z=c(K,2);Z.__click=()=>ar("wave","morning");var k=c(Z,2);k.__click=()=>ar("wave","afternoon"),n(H),n(de);var R=c(de,2);{var O=me=>{var Ce=Fl(),z=c(s(Ce),2);z.__change=et=>ar("division",et.target.value||null);var Ie=s(z),Ne=s(Ie);n(Ie),Ie.value=Ie.__value="";var tt=c(Ie);it(tt,1,()=>e(_),st,(et,at)=>{var ut=Al(),vt=s(ut,!0);n(ut);var Le={};F(()=>{y(vt,e(at)),Le!==(Le=e(at))&&(ut.value=(ut.__value=e(at))??"")}),g(et,ut)}),n(z);var Je;Dr(z),n(Ce),F(()=>{y(Ne,`All Divisions${o(),i(()=>o().wave!=="all"?` (${o().wave})`:"")??""}`),Je!==(Je=(o(),i(()=>o().division||"")))&&(z.value=(z.__value=(o(),i(()=>o().division||"")))??"",hr(z,(o(),i(()=>o().division||""))))}),g(me,Ce)};D(R,me=>{e(_),i(()=>e(_).length>1)&&me(O)})}var Q=c(R,2);{var Te=me=>{var Ce=jl(),z=c(s(Ce),2);z.__change=Ne=>{const tt=Array.from(Ne.target.selectedOptions,Je=>Je.value);ar("teams",tt)},it(z,5,()=>e(T),st,(Ne,tt)=>{var Je=Rl(),et=s(Je,!0);n(Je);var at={};F(()=>{y(et,e(tt)),at!==(at=e(tt))&&(Je.value=(Je.__value=e(tt))??"")}),g(Ne,Je)}),n(z);var Ie;Dr(z),n(Ce),F(Ne=>{jt(z,"size",Ne),Ie!==(Ie=(o(),i(()=>o().teams)))&&(z.value=(z.__value=(o(),i(()=>o().teams)))??"",hr(z,(o(),i(()=>o().teams))))},[()=>(e(T),i(()=>Math.min(e(T).length,4)))]),g(me,Ce)};D(Q,me=>{e(T),i(()=>e(T).length>0)&&me(Te)})}var Be=c(Q,2),P=c(s(Be),2),ae=s(P);ae.__click=()=>ar("timeRange",{start:null,end:null});var Y=c(ae,2);Y.__click=()=>ar("timeRange",{start:"08:00",end:"14:30"});var ve=c(Y,2);ve.__click=()=>ar("timeRange",{start:"14:30",end:"23:59"}),n(P),n(Be);var ke=c(Be,2);{var ye=me=>{var Ce=Ll(),z=c(s(Ce),2);z.__change=at=>ar("priority",at.target.value==="all"?"all":at.target.value);var Ie=s(z);Ie.value=Ie.__value="all";var Ne=c(Ie);Ne.value=Ne.__value="must-cover";var tt=c(Ne);tt.value=tt.__value="priority";var Je=c(tt);Je.value=Je.__value="optional",n(z);var et;Dr(z),n(Ce),F(()=>{et!==(et=(o(),i(()=>o().priority||"all")))&&(z.value=(z.__value=(o(),i(()=>o().priority||"all")))??"",hr(z,(o(),i(()=>o().priority||"all"))))}),g(me,Ce)};D(ke,me=>{l()&&me(ye)})}var V=c(ke,2);{var W=me=>{var Ce=Ul();Ce.__click=function(...z){Ba==null||Ba.apply(this,z)},g(me,Ce)};D(V,me=>{o(),i(()=>o().division||o().wave!=="all"||o().teams.length>0||o().timeRange.start||o().timeRange.end||o().priority&&o().priority!=="all"||o().coverageStatus&&o().coverageStatus!=="all")&&me(W)})}n(xe);var fe=c(xe,2),$e=s(fe),Fe=s($e),He=c(Fe);{var Ue=me=>{var Ce=Wl(),z=s(Ce);n(Ce),F(()=>y(z,`(${e(b),i(()=>e(b).length)??""} of ${S(L()),i(()=>L().length)??""})`)),g(me,Ce)};D(He,me=>{e(b),S(L()),i(()=>e(b).length!==L().length)&&me(Ue)})}n($e);var Ve=c($e,2);{var We=me=>{var Ce=Bl(),z=c(s(Ce),2),Ie=s(z);n(z);var Ne=c(z,2);Ne.__click=()=>x(se,null),n(Ce),F(()=>y(Ie,`Team ${e(se)??""}`)),g(me,Ce)};D(Ve,me=>{e(se)&&me(We)})}n(fe);var J=c(fe,2),ne=s(J);it(ne,5,()=>e(N),st,(me,Ce)=>{const z=q(()=>(e(p),e(Ce),i(()=>e(p)[e(Ce)])));var Ie=rd(),Ne=s(Ie),tt=s(Ne),Je=s(tt,!0);n(tt);var et=c(tt,2),at=s(et);n(et),n(Ne);var ut=c(Ne,2),vt=s(ut);it(vt,1,()=>(S(e(z)),i(()=>re(e(z)))),st,(nt,ue)=>{const qe=q(()=>(e(ue),i(()=>be(e(ue).before.ScheduledEndDateTime)))),dt=q(()=>(e(ue),i(()=>be(e(ue).after.ScheduledStartDateTime)))),Xe=q(()=>e(dt)-e(qe)),pt=q(()=>(e(ue),i(()=>e(ue).gapMinutes>=30))),Ct=q(()=>(e(ue),i(()=>e(ue).gapMinutes>=15&&e(ue).gapMinutes<30)));var ht=$t(),mt=lt(ht);{var Ke=Ee=>{var ot=Yl(),ze=s(ot);{var xt=_t=>{var Tt=Hl(),vr=s(Tt);n(Tt),F(()=>{Oe(Tt,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(pt)?"bg-green-500/20 text-green-400":e(Ct)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),y(vr,`${e(ue),i(()=>e(ue).gapMinutes)??""}m`)}),g(_t,Tt)};D(ze,_t=>{e(Xe)>3&&_t(xt)})}n(ot),F(()=>{Gt(ot,`left: ${e(qe)??""}%; width: ${e(Xe)??""}%; z-index: 0;`),jt(ot,"title",`${e(ue),i(()=>e(ue).gapMinutes)??""} min gap between matches`)}),g(Ee,ot)};D(mt,Ee=>{e(Xe)>=1&&Ee(Ke)})}g(nt,ht)});var Le=c(vt,2);it(Le,1,()=>e(z),st,(nt,ue)=>{const qe=q(()=>(e(m),e(ue),i(()=>e(m).has(e(ue).MatchId)))),dt=q(()=>(e(U),e(ue),i(()=>{var ft;return((ft=e(U))==null?void 0:ft.MatchId)===e(ue).MatchId}))),Xe=q(()=>(S(Qe),e(ue),i(()=>Qe(e(ue))))),pt=q(()=>(e(se),e(M),e(ue),i(()=>e(se)!==null&&e(M).has(e(ue).MatchId)))),Ct=q(()=>e(se)!==null&&!e(pt)),ht=q(()=>(S(tr),S(It),i(()=>tr(It)))),mt=q(()=>(S(e(ht)),e(ue),i(()=>e(ht).has(e(ue).MatchId)))),Ke=q(()=>(S(or),e(ue),i(()=>or.getPriority(e(ue).MatchId)))),Ee=q(()=>(e(C),e(ue),i(()=>e(C).has(e(ue).MatchId)))),ot=q(()=>(S(e(Xe)),S(ct),i(()=>e(Xe)?ct.getTeamStatus(e(Xe)):"not-covered"))),ze=q(()=>e(ot)==="covered"||e(ot)==="partially-covered"),xt=q(()=>e(ot)==="planned"),_t=q(()=>e(ot)==="not-covered"),Tt=q(()=>(e(ue),i(()=>be(e(ue).ScheduledStartDateTime)))),vr=q(()=>(e(ue),i(()=>Math.max(ge(e(ue).ScheduledStartDateTime,e(ue).ScheduledEndDateTime),2)))),Ft=q(()=>(e(ue),i(()=>G(e(ue))))),Vt=q(()=>(S(e(Ke)),S(e(_t)),S(e(mt)),S(e(xt)),S(e(pt)),S(e(qe)),S(e(ze)),S(e(Ee)),e(ue),i(()=>e(Ke)==="must-cover"?"#eab308":e(Ke)==="priority"?"#f59e0b":e(_t)&&!e(mt)||e(xt)||e(pt)||e(mt)&&!e(qe)?"#eab308":e(ze)||e(Ee)&&!e(mt)?"#10b981":e(qe)?"#dc2626":e(ue).Division.ColorHex))),Bt=q(()=>e(Ke)==="must-cover"?"#facc15":e(Ke)==="priority"?"#fbbf24":e(_t)&&!e(mt)||e(xt)?"#facc15":e(dt)?"#eab308":e(pt)||e(mt)?"#facc15":e(qe)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Xt=q(()=>e(dt)?30:e(pt)?20:e(Ke)==="must-cover"?18:e(mt)?15:e(qe)?10:1);var Zt=td();Zt.__click=ft=>{ft.target instanceof HTMLElement&&ft.target.closest(".priority-button")||Se(e(ue))};var Sr=s(Zt);{var lr=ft=>{var bt=Jl(),Rt=s(bt);n(bt),F(()=>y(Rt,`${e(Ke)==="must-cover"&&"â­"}
											${e(Ke)==="priority"&&"ð¸"}
											${e(Ke)==="optional"&&"â"}`)),g(ft,bt)};D(Sr,ft=>{l()&&e(Ke)&&ft(lr)})}var Er=c(Sr,2);{var Lr=ft=>{var bt=Vl();g(ft,bt)};D(Er,ft=>{l()&&e(Ee)&&!e(mt)&&ft(Lr)})}var xr=c(Er,2);{var ta=ft=>{var bt=Gl();g(ft,bt)};D(xr,ft=>{l()&&e(mt)&&ft(ta)})}var yr=c(xr,2);yr.__click=ft=>e(Xe)&&B(e(Xe),ft);var Ur=s(yr,!0);n(yr);var wr=c(yr,2),_a=s(wr);n(wr);var Nr=c(wr,2),Sa=s(Nr,!0);n(Nr);var Wr=c(Nr,2);{var ya=ft=>{const bt=q(()=>(e(ce),e(ue),i(()=>e(ce).getScore(e(ue).MatchId))));var Rt=$t(),br=lt(Rt);{var Mt=Ze=>{const yt=q(()=>(S(e(bt)),i(()=>e(bt).sets.find(Ht=>Ht.completedAt===0)||e(bt).sets[e(bt).sets.length-1]))),Pt=q(()=>(S(e(bt)),i(()=>e(bt).sets.filter(Ht=>Ht.completedAt>0)))),kt=q(()=>(S(e(Pt)),i(()=>e(Pt).filter(Ht=>Ht.team1Score>Ht.team2Score).length))),zt=q(()=>(S(e(Pt)),i(()=>e(Pt).filter(Ht=>Ht.team2Score>Ht.team1Score).length)));var Qt=ql(),sr=s(Qt);{var qt=Ht=>{var Hr=zl(),Ca=s(Hr);n(Hr),F(()=>y(Ca,`(${e(kt)??""}-${e(zt)??""})`)),g(Ht,Hr)};D(sr,Ht=>{S(e(Pt)),i(()=>e(Pt).length>0)&&Ht(qt)})}var rr=c(sr,2),Pr=s(rr);n(rr);var Ma=c(rr,2);{var aa=Ht=>{fa(Ht,{isLive:!0,get lastUpdated(){return S(e(bt)),i(()=>e(bt).lastUpdated)}})};D(Ma,Ht=>{S(e(bt)),i(()=>e(bt).status==="in-progress")&&Ht(aa)})}n(Qt),F(()=>y(Pr,`${S(e(yt)),i(()=>e(yt).team1Score)??""}-${S(e(yt)),i(()=>e(yt).team2Score)??""}`)),g(Ze,Qt)};D(br,Ze=>{S(e(bt)),i(()=>e(bt)&&e(bt).status!=="not-started")&&Ze(Mt)})}g(ft,Rt)};D(Wr,ft=>{e(ce)&&ft(ya)})}var Br=c(Wr,2);{var wa=ft=>{var bt=Kl(),Rt=s(bt);Rt.__click=kt=>{kt.stopPropagation(),x(ie,e(ie)===e(ue).MatchId?null:e(ue).MatchId)};var br=s(Rt),Mt=c(br);{var Ze=kt=>{var zt=Xl();g(kt,zt)};D(Mt,kt=>{e(Ke)||kt(Ze)})}n(Rt);var yt=c(Rt,2);{var Pt=kt=>{var zt=Ql(),Qt=s(zt);Qo(Qt,{get matchId(){return e(ue),i(()=>e(ue).MatchId)},get currentPriority(){return e(Ke)},get onPriorityChange(){return S(or),i(()=>or.setPriority)},onClose:()=>x(ie,null)}),n(zt),g(kt,zt)};D(yt,kt=>{e(ie),e(ue),i(()=>e(ie)===e(ue).MatchId)&&kt(Pt)})}n(bt),F(()=>{Oe(Rt,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(Ke)==="must-cover"?"text-[#facc15]":e(Ke)==="priority"?"text-[#fbbf24]":e(Ke)==="optional"?"text-white/60":"text-white/40"}`),jt(Rt,"title",e(Ke)?`Priority: ${e(Ke)}`:"Set priority"),y(br,`${e(Ke)==="must-cover"&&"â­"}
												${e(Ke)==="priority"&&"ð¸"}
												${e(Ke)==="optional"&&"â"} `)}),g(ft,bt)};D(Br,ft=>{l()&&ft(wa)})}var ra=c(Br,2);{var Ta=ft=>{var bt=ed(),Rt=s(bt);Rt.__click=yt=>{yt.stopPropagation(),x(X,e(X)===e(Xe)?null:e(Xe))};var br=s(Rt);n(Rt);var Mt=c(Rt,2);{var Ze=yt=>{var Pt=Zl(),kt=s(Pt);so(kt,{get teamId(){return e(Xe)},get currentStatus(){return e(ot)},get onStatusChange(){return S(ct),i(()=>ct.setTeamStatus)},onClose:()=>x(X,null)}),n(Pt),g(yt,Pt)};D(Mt,yt=>{e(X)===e(Xe)&&yt(Ze)})}n(bt),F(()=>{Oe(Rt,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ot)==="covered"?"text-green-400":e(ot)==="partially-covered"?"text-[#fbbf24]":e(ot)==="planned"?"text-[#facc15]":"text-white/40"}`),jt(Rt,"title",`Coverage: ${e(ot)??""}`),y(br,`${e(ot)==="covered"&&"â"}
												${e(ot)==="partially-covered"&&"â"}
												${e(ot)==="planned"&&"ð"}
												${e(ot)==="not-covered"&&"â"}`)}),g(ft,bt)};D(ra,ft=>{l()&&e(Xe)&&ft(Ta)})}n(Zt),F((ft,bt,Rt)=>{Oe(Zt,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(dt)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(pt)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(Ct)?"opacity-30":""} ${e(mt)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(ze)?"opacity-60":""}`),Gt(Zt,`left: ${e(Tt)??""}%; width: ${e(vr)??""}%; background-color: ${e(Vt)??""}; border-color: ${e(Bt)??""}; min-width: 100px; z-index: ${e(Xt)??""};`),jt(Zt,"title",`${e(ue),i(()=>e(ue).CompleteShortName)??""}: ${e(ue),i(()=>e(ue).FirstTeamText)??""} vs ${e(ue),i(()=>e(ue).SecondTeamText)??""} - ${ft??""}${e(qe)?" (Click to see conflicts)":" (Click to add to plan)"}${e(Ke)?` [Priority: ${e(Ke)}]`:""}${e(Ee)&&!e(mt)?" [Easy opportunity]":""}${e(ot)!=="not-covered"?` [Coverage: ${e(ot)}]`:""}`),Oe(yr,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(Xe)?"cursor-pointer hover:underline":""}`),y(Ur,(S(e(Xe)),e(ue),i(()=>e(Xe)||e(ue).Division.CodeAlias))),y(_a,`vs ${bt??""}`),y(Sa,Rt)},[()=>(S(rt),e(ue),i(()=>rt(e(ue).ScheduledStartDateTime))),()=>(S(e(Ft)),i(()=>e(Ft).length>20?e(Ft).substring(0,17)+"...":e(Ft))),()=>(S(rt),e(ue),i(()=>rt(e(ue).ScheduledStartDateTime)))]),g(nt,Zt)}),n(ut),n(Ie),F(()=>{y(Je,e(Ce)),y(at,`${S(e(z)),i(()=>e(z).length)??""} match${S(e(z)),i(()=>e(z).length!==1?"es":"")??""}`)}),g(me,Ie)}),n(ne),n(J);var Pe=c(J,2);{var Ye=me=>{Pl(me,{get match(){return e(U)},get conflictingMatches(){return e(I)},onClose:()=>x(U,null)})};D(Pe,me=>{e(U)&&me(Ye)})}var Ae=c(Pe,2);{var je=me=>{{let Ce=q(()=>(e(ce),e(le),i(()=>e(ce).getScore(e(le).MatchId))));Ko(me,{get matchId(){return e(le),i(()=>e(le).MatchId)},get team1Name(){return e(le),i(()=>e(le).FirstTeamText)},get team2Name(){return e(le),i(()=>e(le).SecondTeamText)},get currentScore(){return e(Ce)},onScoreUpdate:(z,Ie)=>{e(ce).updateScore(e(le).MatchId,z,Ie)},onClose:()=>x(le,null)})}};D(Ae,me=>{e(le),e(ce),i(()=>e(le)&&e(ce).isClaimOwner(e(le).MatchId))&&me(je)})}var Me=c(Ae,2);{var Ge=me=>{var Ce=ad();Ce.__click=()=>x(ie,null),g(me,Ce)};D(Me,me=>{e(ie)!==null&&me(Ge)})}var oe=c(Me,2);{var De=me=>{var Ce=od();Ce.__click=()=>x(X,null),g(me,Ce)};D(oe,me=>{e(X)!==null&&me(De)})}n(j),F((me,Ce)=>{Oe(K,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Z,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(k,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(ae,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().timeRange.start===null&&o().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(Y,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().timeRange.start==="08:00"&&o().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),Oe(ve,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${o(),i(()=>o().timeRange.start==="14:30"&&o().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),y(Fe,`Timeline: ${me??""} - ${Ce??""} `)},[()=>(S(rt),e($),i(()=>rt(e($)))),()=>(S(rt),e(f),i(()=>rt(e(f))))]),g(E,j)};D(he,E=>{e(b),i(()=>e(b).length===0)?E(we):E(ee,!1)})}g(a,_e),Et(),v()}Jt(["click","change"]);function Ar(a){return a.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}function za(a){const r=new Date(a),t=r.getUTCFullYear(),o=String(r.getUTCMonth()+1).padStart(2,"0"),l=String(r.getUTCDate()).padStart(2,"0"),d=String(r.getUTCHours()).padStart(2,"0"),v=String(r.getUTCMinutes()).padStart(2,"0"),m=String(r.getUTCSeconds()).padStart(2,"0");return`${t}${o}${l}T${d}${v}${m}Z`}function id(a,r){return`match-${a}-${r}@coursync.local`}function cd(a,r,t,o){const l=Date.now();let d=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CourtSync//Coverage Plan//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",`X-WR-CALNAME:${Ar(o)}`,`X-WR-CALDESC:${Ar("Volleyball Match Coverage Plan")}`,"X-WR-TIMEZONE:UTC"].join(`\r
`)+`\r
`;return a.forEach(v=>{const m=r(v),_=t(v),T=m?`${m} vs ${_}`:`${v.FirstTeamText} vs ${v.SecondTeamText}`,b=[`Court: ${v.CourtName}`,`Division: ${v.Division.CodeAlias}`,`First Team: ${v.FirstTeamText}`,`Second Team: ${v.SecondTeamText}`].join("\\n"),h=Ar(v.CourtName),C=Ar(T),$=Ar(b),f=v.ScheduledStartDateTime,u=v.ScheduledEndDateTime,N=f-5*60*1e3,M=za(N),I=za(u),L=za(l),te=id(v.MatchId,f);d+=["BEGIN:VEVENT",`UID:${te}`,`DTSTAMP:${L}`,`DTSTART:${M}`,`DTEND:${I}`,`SUMMARY:${C}`,`DESCRIPTION:${$}`,`LOCATION:${h}`,"SEQUENCE:0","STATUS:CONFIRMED","TRANSP:OPAQUE"].join(`\r
`)+`\r
`,d+=["BEGIN:VALARM","TRIGGER:-PT15M","ACTION:DISPLAY",`DESCRIPTION:${Ar(`Match starts in 15 minutes: ${T}`)}`,"END:VALARM"].join(`\r
`)+`\r
`,d+=`END:VEVENT\r
`}),d+=`END:VCALENDAR\r
`,d}const ld=(a,r,t)=>{const o=a.length,l=r.size,d=o>0?l/o*100:0,v=a.filter(f=>r.has(f.MatchId)).reduce((f,u)=>{const p=(u.ScheduledEndDateTime-u.ScheduledStartDateTime)/6e4;return f+p},0),m=f=>{const p=(f.InvolvedTeam==="first"?f.FirstTeamText:f.SecondTeamText).match(/(\d+-\d+)/);return p?p[1]:""},_=new Set,T=new Set;a.forEach(f=>{const u=m(f);u&&(_.add(u),r.has(f.MatchId)&&T.add(u))});const b=T.size,h=_.size,C=h>0?o/h:0,$=Array.from(r).filter(f=>t.has(f)).length;return{totalMatches:o,coveredMatches:l,coveragePercentage:d,totalCoverageTime:v,teamsCovered:b,totalTeams:h,averageMatchesPerTeam:C,conflictsInPlan:$}},dd=(a,r)=>{const t=l=>{const v=(l.InvolvedTeam==="first"?l.FirstTeamText:l.SecondTeamText).match(/(\d+-\d+)/);return v?v[1]:""},o=new Map;return a.forEach(l=>{const d=t(l);if(d){const v=o.get(d)||{total:0,covered:0};v.total++,r.has(l.MatchId)&&v.covered++,o.set(d,v)}}),Array.from(o.entries()).map(([l,d])=>({teamId:l,totalMatches:d.total,coveredMatches:d.covered,coveragePercentage:d.total>0?d.covered/d.total*100:0})).sort((l,d)=>d.coveragePercentage-l.coveragePercentage)},ko=a=>{if(a<60)return`${Math.round(a)}m`;const r=Math.floor(a/60),t=Math.round(a%60);return t===0?`${r}h`:`${r}h ${t}m`};var vd=w('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9] truncate"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div> <div class="text-xs text-[#9fa2ab] w-12 text-right"> </div></div></div>'),ud=w('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-sm font-medium text-[#f8f8f9] mb-4">Team Coverage Breakdown</div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div>'),fd=w('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Teams Covered</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Total Time</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]">coverage time</div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Conflicts</div> <div> </div> <div class="text-xs text-[#9fa2ab]">in coverage plan</div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-[#f8f8f9]">Coverage Progress</div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="w-full h-3 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div></div> <!> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Avg Matches/Team</div> <div class="text-xl font-bold text-[#f8f8f9]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage Efficiency</div> <div class="text-xl font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1">teams covered ratio</div></div></div></div>');function md(a,r){Dt(r,!1);const t=A(),o=A();let l=Re(r,"matches",8);const d=zr(l()),m=tr(It);pe(()=>S(l()),()=>{x(t,ld(l(),m,d))}),pe(()=>S(l()),()=>{x(o,dd(l(),m))}),Wt(),Nt();var _=fd(),T=s(_),b=s(T),h=c(s(b),2),C=s(h);n(h);var $=c(h,2),f=s($);n($),n(b);var u=c(b,2),p=c(s(u),2),N=s(p,!0);n(p);var M=c(p,2),I=s(M);n(M),n(u);var L=c(u,2),te=c(s(L),2),U=s(te,!0);n(te),mr(2),n(L);var se=c(L,2),ie=c(s(se),2),X=s(ie,!0);n(ie),mr(2),n(se),n(T);var le=c(T,2),ce=s(le),G=c(s(ce),2),be=s(G);n(G),n(ce);var ge=c(ce,2),re=s(ge);n(ge),n(le);var Se=c(le,2);{var B=de=>{var H=ud(),K=c(s(H),2);it(K,5,()=>e(o),st,(Z,k)=>{var R=vd(),O=s(R),Q=s(O),Te=s(Q);n(Q);var Be=c(Q,2),P=s(Be);n(Be),n(O);var ae=c(O,2),Y=s(ae),ve=s(Y);n(Y);var ke=c(Y,2),ye=s(ke);n(ke),n(ae),n(R),F((V,W)=>{y(Te,`Team ${e(k),i(()=>e(k).teamId)??""}`),y(P,`${e(k),i(()=>e(k).coveredMatches)??""}/${e(k),i(()=>e(k).totalMatches)??""} matches`),Gt(ve,`width: ${V??""}%;`),y(ye,`${W??""}%`)},[()=>(e(k),i(()=>Math.min(e(k).coveragePercentage,100))),()=>(e(k),i(()=>e(k).coveragePercentage.toFixed(0)))]),g(Z,R)}),n(K),n(H),g(de,H)};D(Se,de=>{e(o),i(()=>e(o).length>0)&&de(B)})}var _e=c(Se,2),he=s(_e),we=c(s(he),2),ee=s(we,!0);n(we),n(he);var E=c(he,2),j=c(s(E),2),xe=s(j);n(j),mr(2),n(E),n(_e),n(_),F((de,H,K,Z,k,R)=>{y(C,`${de??""}%`),y(f,`${e(t),i(()=>e(t).coveredMatches)??""} of ${e(t),i(()=>e(t).totalMatches)??""} matches`),y(N,(e(t),i(()=>e(t).teamsCovered))),y(I,`of ${e(t),i(()=>e(t).totalTeams)??""} teams`),y(U,H),Oe(ie,1,`text-2xl font-bold mb-1 ${e(t),i(()=>e(t).conflictsInPlan>0?"text-red-400":"text-[#f8f8f9]")??""}`),y(X,(e(t),i(()=>e(t).conflictsInPlan))),y(be,`${K??""}%`),Gt(re,`width: ${Z??""}%;`),y(ee,k),y(xe,`${R??""}%`)},[()=>(e(t),i(()=>e(t).coveragePercentage.toFixed(1))),()=>(S(ko),e(t),i(()=>ko(e(t).totalCoverageTime))),()=>(e(t),i(()=>e(t).coveragePercentage.toFixed(1))),()=>(e(t),i(()=>Math.min(e(t).coveragePercentage,100))),()=>(e(t),i(()=>e(t).averageMatchesPerTeam.toFixed(1))),()=>(e(t),i(()=>e(t).totalMatches>0?(e(t).teamsCovered/e(t).totalTeams*100).toFixed(1):"0"))]),g(a,_),Et()}const xd=(a,r,t,o)=>{const l=new Map;return a.forEach(d=>{const v=o(d);if(!v)return;const m=l.get(v)||{total:0,covered:0,planned:0};m.total++,r.has(d.MatchId)&&m.covered++,t.get(v)==="planned"&&m.planned++,l.set(v,m)}),Array.from(l.entries()).map(([d,v])=>({teamId:d,status:t.get(d)||"not-covered",totalMatches:v.total,coveredMatches:v.covered,plannedMatches:v.planned,coveragePercentage:v.total>0?v.covered/v.total*100:0})).sort((d,v)=>{const m={"not-covered":0,planned:1,"partially-covered":2,covered:3},_=m[d.status],T=m[v.status];return _!==T?_-T:d.coveragePercentage-v.coveragePercentage})},bd=(a,r,t,o)=>{const l=new Map,d=new Map;a.forEach(f=>{const u=o(f);if(!u)return;const p=t.get(u)||"not-covered";l.has(u)||l.set(u,p);const N=d.get(u)||{total:0,covered:0,planned:0};N.total++,r.has(f.MatchId)&&N.covered++,p==="planned"&&N.planned++,d.set(u,N)});const v=l.size,m=Array.from(l.values()).filter(f=>f==="covered").length,_=Array.from(l.values()).filter(f=>f==="partially-covered").length,T=Array.from(l.values()).filter(f=>f==="planned").length,b=Array.from(l.values()).filter(f=>f==="not-covered").length,h=a.length,C=r.size,$=Array.from(d.values()).reduce((f,u)=>f+u.planned,0);return{totalTeams:v,coveredTeams:m,partiallyCoveredTeams:_,plannedTeams:T,uncoveredTeams:b,coveragePercentage:v>0?(m+_)/v*100:0,plannedPercentage:v>0?T/v*100:0,totalMatches:h,coveredMatches:C,plannedMatches:$}},gd=(a,r)=>{const t=[];return t.push("Coverage Statistics Report"),t.push(`Generated: ${new Date().toLocaleString()}`),t.push(""),t.push("Summary"),t.push(`Total Teams,${r.totalTeams}`),t.push(`Covered Teams,${r.coveredTeams}`),t.push(`Partially Covered Teams,${r.partiallyCoveredTeams}`),t.push(`Planned Teams,${r.plannedTeams}`),t.push(`Uncovered Teams,${r.uncoveredTeams}`),t.push(`Coverage Percentage,${r.coveragePercentage.toFixed(1)}%`),t.push(`Planned Percentage,${r.plannedPercentage.toFixed(1)}%`),t.push(""),t.push("Team Breakdown"),t.push("Team ID,Status,Total Matches,Covered Matches,Planned Matches,Coverage Percentage"),a.forEach(o=>{t.push(`${o.teamId},${o.status},${o.totalMatches},${o.coveredMatches},${o.plannedMatches},${o.coveragePercentage.toFixed(1)}%`)}),t.join(`
`)},pd=(a,r)=>JSON.stringify({generated:new Date().toISOString(),summary:r,teams:a},null,2);var hd=w('<div class="flex items-center justify-between"><div class="flex items-center gap-3 flex-1 min-w-0"><div class="flex items-center gap-2 flex-shrink-0"><div></div> <div class="text-sm font-medium text-[#f8f8f9]"> </div></div> <div class="text-xs text-[#9fa2ab]"> <!></div></div> <div class="flex items-center gap-2 flex-shrink-0"><div class="w-24 h-2 bg-[#454654] rounded-full overflow-hidden"><div></div></div> <div class="text-xs text-[#9fa2ab] w-12 text-right"> </div></div></div>'),_d=w('<div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Coverage</div> <div class="text-2xl font-bold text-[#f8f8f9] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Covered</div> <div class="text-2xl font-bold text-green-400 mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Planned</div> <div class="text-2xl font-bold text-[#eab308] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Uncovered</div> <div class="text-2xl font-bold text-[#808593] mb-1"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-2"><div class="text-sm font-medium text-[#f8f8f9]">Overall Coverage Progress</div> <div class="text-xs text-[#9fa2ab]"> </div></div> <div class="w-full h-3 bg-[#454654] rounded-full overflow-hidden"><div class="h-full bg-[#eab308] transition-all duration-300"></div></div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><div class="text-sm font-medium text-[#f8f8f9]">Team Coverage Breakdown</div> <div class="flex gap-2"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export CSV</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export JSON</button></div></div> <div class="space-y-3 max-h-[400px] overflow-y-auto"></div></div></div>');function Sd(a,r){Dt(r,!1);const t=A(),o=A(),l=A();let d=Re(r,"matches",8);const m=tr(It);function _(){const Z=gd(e(o),e(l)),k=new Blob([Z],{type:"text/csv"}),R=URL.createObjectURL(k),O=document.createElement("a");O.href=R,O.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.csv`,O.click(),URL.revokeObjectURL(R)}function T(){const Z=pd(e(o),e(l)),k=new Blob([Z],{type:"application/json"}),R=URL.createObjectURL(k),O=document.createElement("a");O.href=R,O.download=`coverage-stats-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(R)}pe(()=>(S(d()),ct),()=>{x(t,(()=>{const Z=new Map;return d().forEach(k=>{const R=Qe(k);R&&Z.set(R,ct.getTeamStatus(R))}),Z})())}),pe(()=>(S(d()),e(t),Qe),()=>{x(o,xd(d(),m,e(t),Qe))}),pe(()=>(S(d()),e(t),Qe),()=>{x(l,bd(d(),m,e(t),Qe))}),Wt(),Nt();var b=_d(),h=s(b),C=s(h),$=c(s(C),2),f=s($);n($);var u=c($,2),p=s(u);n(u),n(C);var N=c(C,2),M=c(s(N),2),I=s(M,!0);n(M);var L=c(M,2),te=s(L);n(L),n(N);var U=c(N,2),se=c(s(U),2),ie=s(se,!0);n(se);var X=c(se,2),le=s(X);n(X),n(U);var ce=c(U,2),G=c(s(ce),2),be=s(G,!0);n(G);var ge=c(G,2),re=s(ge);n(ge),n(ce),n(h);var Se=c(h,2),B=s(Se),_e=c(s(B),2),he=s(_e);n(_e),n(B);var we=c(B,2),ee=s(we);n(we),n(Se);var E=c(Se,2),j=s(E),xe=c(s(j),2),de=s(xe);de.__click=_;var H=c(de,2);H.__click=T,n(xe),n(j);var K=c(j,2);it(K,5,()=>e(o),st,(Z,k)=>{var R=hd(),O=s(R),Q=s(O),Te=s(Q),Be=c(Te,2),P=s(Be);n(Be),n(Q);var ae=c(Q,2),Y=s(ae),ve=c(Y);{var ke=Fe=>{var He=Do();F(()=>y(He,`â¢ ${e(k),i(()=>e(k).plannedMatches)??""} planned`)),g(Fe,He)};D(ve,Fe=>{e(k),i(()=>e(k).plannedMatches>0)&&Fe(ke)})}n(ae),n(O);var ye=c(O,2),V=s(ye),W=s(V);n(V);var fe=c(V,2),$e=s(fe);n(fe),n(ye),n(R),F((Fe,He)=>{Oe(Te,1,`w-3 h-3 rounded ${e(k),i(()=>e(k).status==="covered"?"bg-green-500":e(k).status==="partially-covered"?"bg-[#f59e0b]":e(k).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(P,`Team ${e(k),i(()=>e(k).teamId)??""}`),y(Y,`${e(k),i(()=>e(k).coveredMatches)??""}/${e(k),i(()=>e(k).totalMatches)??""} matches `),Oe(W,1,`h-full transition-all duration-300 ${e(k),i(()=>e(k).status==="covered"?"bg-green-500":e(k).status==="partially-covered"?"bg-[#f59e0b]":e(k).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),Gt(W,`width: ${Fe??""}%;`),y($e,`${He??""}%`)},[()=>(e(k),i(()=>Math.min(e(k).coveragePercentage,100))),()=>(e(k),i(()=>e(k).coveragePercentage.toFixed(0)))]),g(Z,R)}),n(K),n(E),n(b),F((Z,k,R,O,Q)=>{y(f,`${Z??""}%`),y(p,`${e(l),i(()=>e(l).coveredTeams+e(l).partiallyCoveredTeams)??""} of ${e(l),i(()=>e(l).totalTeams)??""} teams`),y(I,(e(l),i(()=>e(l).coveredTeams))),y(te,`${e(l),i(()=>e(l).partiallyCoveredTeams)??""} partially covered`),y(ie,(e(l),i(()=>e(l).plannedTeams))),y(le,`${k??""}% of teams`),y(be,(e(l),i(()=>e(l).uncoveredTeams))),y(re,`${R??""}% remaining`),y(he,`${O??""}%`),Gt(ee,`width: ${Q??""}%;`)},[()=>(e(l),i(()=>e(l).coveragePercentage.toFixed(1))),()=>(e(l),i(()=>e(l).plannedPercentage.toFixed(1))),()=>(e(l),i(()=>e(l).totalTeams>0?(e(l).uncoveredTeams/e(l).totalTeams*100).toFixed(1):0)),()=>(e(l),i(()=>e(l).coveragePercentage.toFixed(1))),()=>(e(l),i(()=>Math.min(e(l).coveragePercentage,100)))]),g(a,b),Et()}Jt(["click"]);const $o="teamMembers",Io="teamAssignments",qa=["#eab308","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"];function yd(){const{subscribe:a,set:r,update:t}=Kt([]),{subscribe:o,set:l,update:d}=Kt(new Map),{subscribe:v,set:m}=Kt(null);{try{const b=localStorage.getItem($o);if(b){const h=JSON.parse(b);r(h),h.length>0&&m(h[0].id)}else{const h={id:"you",name:"You",color:qa[0],createdAt:Date.now()};r([h]),m("you")}}catch(b){console.error("Failed to load team coordination data:",b)}try{const b=localStorage.getItem(Io);if(b){const h=JSON.parse(b);l(new Map(Object.entries(h)))}}catch(b){console.error("Failed to load team assignments:",b)}}const _=b=>{try{localStorage.setItem($o,JSON.stringify(b))}catch(h){console.error("Failed to save team members:",h)}},T=b=>{try{const h=Object.fromEntries(b);localStorage.setItem(Io,JSON.stringify(h))}catch(h){console.error("Failed to save team assignments:",h)}};return{members:{subscribe:a},assignments:{subscribe:o},currentMemberId:{subscribe:v},setCurrentMemberId:b=>{m(b)},addMember:b=>{let h=new Set;a(f=>{h=new Set(f.map(u=>u.color))})();const C=qa.find(f=>!h.has(f))||qa[0],$={id:`member-${Date.now()}`,name:b,color:C,createdAt:Date.now()};return t(f=>{const u=[...f,$];return _(u),u}),m($.id),$.id},removeMember:b=>{t(h=>{const C=h.filter($=>$.id!==b);return _(C),C}),d(h=>{const C=new Map(h);return Array.from(C.entries()).forEach(([$,f])=>{f===b&&C.delete($)}),T(C),C}),a(h=>{h.length>0&&m(h[0].id)})()},updateMember:(b,h)=>{t(C=>{const $=C.map(f=>f.id===b?{...f,...h}:f);return _($),$})},assignTeam:(b,h)=>{d(C=>{const $=new Map(C);return $.set(b,h),T($),$})},unassignTeam:b=>{d(h=>{const C=new Map(h);return C.delete(b),T(C),C})},getTeamAssignment:b=>{let h=null;return o(C=>{h=C.get(b)||null})(),h},getMember:b=>{let h=null;return a(C=>{h=C.find($=>$.id===b)||null})(),h},getCurrentMember:()=>{let b=null;if(v(C=>{b=C})(),!b)return null;let h=null;return a(C=>{h=C.find($=>$.id===b)||null})(),h},exportCoverageStatus:(b,h)=>{let C=null;v(I=>{C=I})();const $=h||C;if(!$)return JSON.stringify({});let f=null;a(I=>{f=I.find(L=>L.id===$)||null})();let u=new Map;o(I=>{u=I})();const p=Array.from(u.entries()).filter(([I,L])=>L===$).map(([I])=>I),N={};Array.from(b.entries()).forEach(([I,L])=>{p.includes(I)&&(N[I]=L)});const M={memberId:$,memberName:(f==null?void 0:f.name)||"Unknown",exportedAt:new Date().toISOString(),assignments:p.map(I=>({teamId:I})),coverageStatus:N};return JSON.stringify(M,null,2)},importCoverageStatus:(b,h="merge")=>{try{const C=JSON.parse(b);return!C.coverageStatus||!C.memberId?{success:!1,error:"Invalid data format: missing coverageStatus or memberId"}:(h==="merge"&&C.assignments&&d($=>{const f=new Map($);return C.assignments.forEach(u=>{f.set(u.teamId,C.memberId)}),T(f),f}),{success:!0})}catch(C){return{success:!1,error:C instanceof Error?C.message:"Unknown error"}}},mergeCoverageStatuses:b=>{const h=new Map;return b.forEach(({coverageStatus:C})=>{Object.entries(C).forEach(([$,f])=>{const u=h.get($);if(!u)h.set($,f);else{const p={covered:3,"partially-covered":2,planned:1,"not-covered":0};p[f]>p[u]&&h.set($,f)}})}),h}}}const gt=yd();var wd=w('<div class="mb-4 p-3 rounded bg-[#454654] border border-[#525463]"><div class="flex gap-2"><input type="text" placeholder="Member name" class="flex-1 px-3 py-2 text-sm rounded bg-[#3b3c48] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"/> <button class="px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Add</button></div></div>'),Td=w('<input type="text" class="flex-1 px-2 py-1 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"/>'),Md=w('<span class="text-[10px] text-[#9fa2ab]">(Active)</span>'),Cd=w('<span class="text-[10px] text-[#9fa2ab]"> </span>'),kd=w('<div class="flex items-center gap-2 flex-1 min-w-0"><button> </button> <!> <!></div>'),$d=w('<button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" title="Edit name">âï¸</button>'),Id=w('<button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-red-400 transition-colors" title="Remove member">â</button>'),Dd=w('<div><div class="flex items-center gap-3 flex-1 min-w-0"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <!></div> <div class="flex items-center gap-2 flex-shrink-0"><!> <!></div></div>'),Ed=w('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Team Members</h3> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors"> </button></div> <!> <div class="space-y-2"></div></div>');function Nd(a,r){Dt(r,!1);const t=A();let o=A(!1),l=A(""),d=A(null);function v(){e(l).trim()&&(gt.addMember(e(l).trim()),x(l,""),x(o,!1))}function m(u){if(gt.members.length>1){const p=gt.getMember(u);confirm(`Remove ${p==null?void 0:p.name}?`)&&gt.removeMember(u)}else alert("Cannot remove the last team member")}pe(()=>gt,()=>{x(t,(()=>{const u=new Map;return Array.from(gt.assignments.values()).forEach(p=>{u.set(p,(u.get(p)||0)+1)}),u})())}),Wt(),Nt();var _=Ed(),T=s(_),b=c(s(T),2);b.__click=()=>x(o,!e(o));var h=s(b,!0);n(b),n(T);var C=c(T,2);{var $=u=>{var p=wd(),N=s(p),M=s(N);jr(M),Fr(M);var I=c(M,2);I.__click=v,n(N),n(p),pr("keypress",M,L=>L.key==="Enter"&&v()),ir(M,()=>e(l),L=>x(l,L)),g(u,p)};D(C,u=>{e(o)&&u($)})}var f=c(C,2);it(f,5,()=>(S(gt),i(()=>gt.members)),st,(u,p)=>{const N=q(()=>(S(gt),e(p),i(()=>gt.currentMemberId===e(p).id))),M=q(()=>(e(d),e(p),i(()=>e(d)===e(p).id))),I=q(()=>(e(t),e(p),i(()=>e(t).get(e(p).id)||0)));var L=Dd(),te=s(L),U=s(te),se=c(U,2);{var ie=re=>{var Se=Td();jr(Se),Fr(Se),F(()=>Rn(Se,(e(p),i(()=>e(p).name)))),pr("blur",Se,B=>{B.target.value.trim()&&B.target.value!==e(p).name&&gt.updateMember(e(p).id,{name:B.target.value.trim()}),x(d,null)}),pr("keypress",Se,B=>{B.key==="Enter"&&B.currentTarget.blur()}),g(re,Se)},X=re=>{var Se=kd(),B=s(Se);B.__click=()=>gt.setCurrentMemberId(e(p).id);var _e=s(B,!0);n(B);var he=c(B,2);{var we=j=>{var xe=Md();g(j,xe)};D(he,j=>{e(N)&&j(we)})}var ee=c(he,2);{var E=j=>{var xe=Cd(),de=s(xe);n(xe),F(()=>y(de,`(${e(I)??""} team${e(I)!==1?"s":""})`)),g(j,xe)};D(ee,j=>{e(I)>0&&j(E)})}n(Se),F(()=>{Oe(B,1,`text-sm font-medium truncate ${e(N)?"text-[#facc15]":"text-[#f8f8f9] hover:text-[#facc15]"} transition-colors`),y(_e,(e(p),i(()=>e(p).name)))}),g(re,Se)};D(se,re=>{e(M)?re(ie):re(X,!1)})}n(te);var le=c(te,2),ce=s(le);{var G=re=>{var Se=$d();Se.__click=()=>x(d,e(p).id),g(re,Se)};D(ce,re=>{e(M)||re(G)})}var be=c(ce,2);{var ge=re=>{var Se=Id();Se.__click=()=>m(e(p).id),g(re,Se)};D(be,re=>{S(gt),i(()=>gt.members.length>1)&&re(ge)})}n(le),n(L),F(()=>{Oe(L,1,`flex items-center justify-between p-3 rounded border transition-colors ${e(N)?"border-[#eab308] bg-[#eab308]/10":"border-[#454654] bg-[#3b3c48]"}`),Gt(U,`background-color: ${e(p),i(()=>e(p).color)??""}`)}),g(u,L)}),n(f),n(_),F(()=>y(h,e(o)?"Cancel":"+ Add Member")),g(a,_),Et()}Jt(["click"]);const Pd=a=>{try{const r=JSON.stringify(a);return btoa(encodeURIComponent(r))}catch(r){throw console.error("Failed to encode coverage data:",r),new Error("Failed to encode coverage data")}},Od=a=>{try{const r=a.startsWith("#")?a.slice(1):a,t=decodeURIComponent(atob(r)),o=JSON.parse(t);return!o.memberId||!o.coverageStatus?null:o}catch(r){return console.error("Failed to decode coverage data:",r),null}},Ad=a=>{const r=Pd(a),o=`${window.location.origin+window.location.pathname}#coverage=${r}`;return o.length>2e3&&console.warn("Shareable URL exceeds 2000 characters. Consider using compression or export/import instead."),o},Zo=()=>{const a=window.location.hash;if(!a||!a.includes("coverage="))return null;const r=a.match(/coverage=([^&]+)/);return r?Od(r[1]):null},Fd=()=>Zo()!==null;var Rd=w("<option> </option>"),jd=w('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-6 max-w-md w-full"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Transfer Coverage</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <div class="space-y-4"><div><label class="text-xs text-[#9fa2ab] mb-1 block">Team</label> <div class="text-sm text-[#f8f8f9]"> </div></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">From</label> <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div> <span class="text-sm text-[#f8f8f9]"> </span></div></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">Transfer To</label> <select class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Select team member...</option><!></select></div> <div><label class="text-xs text-[#9fa2ab] mb-1 block">Notes (optional)</label> <textarea placeholder="Add any notes about this handoff..." class="w-full px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none resize-none"></textarea></div></div> <div class="flex gap-2 mt-6"><button class="flex-1 px-3 py-2 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Transfer</button> <button class="px-3 py-2 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Cancel</button></div></div></div>');function Ld(a,r){Dt(r,!1);const t=A();let o=Re(r,"teamId",8),l=Re(r,"fromMemberId",8),d=Re(r,"onClose",8),v=Re(r,"onHandoff",8),m=A(""),_=A("");const T=gt.getMember(l());function b(){e(m)&&(v()(e(m),e(_)),d()())}pe(()=>S(l()),()=>{x(t,gt.members.filter(B=>B.id!==l()))}),Wt(),Nt();var h=jd(),C=s(h),$=s(C),f=c(s($),2);f.__click=function(...B){var _e;(_e=d())==null||_e.apply(this,B)},n($);var u=c($,2),p=s(u),N=c(s(p),2),M=s(N);n(N),n(p);var I=c(p,2),L=c(s(I),2),te=s(L),U=c(te,2),se=s(U,!0);n(U),n(L),n(I);var ie=c(I,2),X=c(s(ie),2);F(()=>{e(m),to(()=>{e(t)})});var le=s(X);le.value=le.__value="";var ce=c(le);it(ce,1,()=>e(t),st,(B,_e)=>{var he=Rd(),we=s(he,!0);n(he);var ee={};F(()=>{y(we,(e(_e),i(()=>e(_e).name))),ee!==(ee=(e(_e),i(()=>e(_e).id)))&&(he.value=(he.__value=(e(_e),i(()=>e(_e).id)))??"")}),g(B,he)}),n(X),n(ie);var G=c(ie,2),be=c(s(G),2);Rr(be),jt(be,"rows",3),n(G),n(u);var ge=c(u,2),re=s(ge);re.__click=b;var Se=c(re,2);Se.__click=function(...B){var _e;(_e=d())==null||_e.apply(this,B)},n(ge),n(C),n(h),F(()=>{y(M,`Team ${o()??""}`),Gt(te,`background-color: ${i(()=>T==null?void 0:T.color)??""}`),y(se,i(()=>(T==null?void 0:T.name)||"Unknown")),re.disabled=!e(m)}),ro(X,()=>e(m),B=>x(m,B)),ir(be,()=>e(_),B=>x(_,B)),g(a,h),Et()}Jt(["click"]);var Ud=w('<div class="mt-2 text-xs text-red-400"> </div>'),Wd=w('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Import Coverage Status</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors">â</button></div> <textarea placeholder="Paste JSON data here..." class="w-full h-64 px-3 py-2 text-sm rounded bg-[#454654] text-[#f8f8f9] border border-[#525463] focus:border-[#eab308] focus:outline-none font-mono"></textarea> <!> <div class="flex gap-2 mt-4"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Import</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Cancel</button></div></div></div>'),Bd=w('<div class="flex items-center gap-3"><div class="w-4 h-4 rounded-full flex-shrink-0"></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div></div>'),Hd=w('<div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-4">Coverage by Team Member</h3> <div class="space-y-3"></div></div>'),Yd=w("<option> </option>"),Jd=w('<div class="flex items-center justify-between p-2 rounded bg-[#454654] border border-[#525463]"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-[#f8f8f9]"> </span> <span class="text-xs text-[#9fa2ab]"> </span></div> <select class="px-2 py-1 text-xs rounded bg-[#3b3c48] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>Assign...</option><!></select></div>'),Vd=w('<div class="mb-6"><h4 class="text-xs font-medium text-[#808593] uppercase tracking-wider mb-2"> </h4> <div class="space-y-1"></div></div>'),Gd=w('<div class="flex items-center justify-between p-2 rounded bg-[#454654] border border-[#525463]"><div class="flex items-center gap-2"><div></div> <span class="text-sm text-[#f8f8f9]"> </span> <span class="text-xs text-[#9fa2ab]"> </span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-[#eab308] transition-colors" title="Transfer to another member">âª</button> <button class="px-2 py-1 text-xs text-[#9fa2ab] hover:text-red-400 transition-colors" title="Unassign">â</button></div></div>'),zd=w('<div class="mb-6"><div class="flex items-center gap-2 mb-2"><div class="w-3 h-3 rounded-full"></div> <h4 class="text-xs font-medium text-[#f8f8f9] uppercase tracking-wider"> </h4></div> <div class="space-y-1"></div></div>'),qd=w('<div class="space-y-6"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-4"><h3 class="text-sm font-semibold text-[#f8f8f9]">Share Coverage Status</h3> <div class="flex gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Export JSON</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Generate Link</button> <button class="px-3 py-1.5 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463] transition-colors">Import JSON</button></div></div> <p class="text-xs text-[#9fa2ab]">Export your coverage status to share with team members, generate a shareable link, or import coverage status from others.</p></div> <!> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4"><div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Total Teams</div> <div class="text-2xl font-bold text-[#f8f8f9]"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Assigned</div> <div class="text-2xl font-bold text-green-400"> </div></div> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-1">Unassigned</div> <div class="text-2xl font-bold text-[#808593]"> </div></div></div> <!> <div class="rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><h3 class="text-sm font-semibold text-[#f8f8f9] mb-4">Team Assignments</h3> <!> <!></div> <!></div>');function Xd(a,r){Dt(r,!1);const t=A(),o=A(),l=A(),d=A();let v=Re(r,"matches",8),m=A(!1),_=A(""),T=A(null),b=A(null);Kr(()=>{if(Fd()){const H=Zo();H&&(x(_,JSON.stringify(H,null,2)),x(m,!0),window.history.replaceState(null,"",window.location.pathname))}});function h(){const H=gt.exportCoverageStatus(e(t)),K=new Blob([H],{type:"application/json"}),Z=URL.createObjectURL(K),k=document.createElement("a");k.href=Z,k.download=`coverage-status-${new Date().toISOString().split("T")[0]}.json`,k.click(),URL.revokeObjectURL(Z)}function C(){const H=gt.getCurrentMember();if(!H){alert("Please select a team member first");return}const K={memberId:H.id,memberName:H.name,exportedAt:new Date().toISOString(),assignments:[],coverageStatus:{}},Z=new Map;v().forEach(R=>{const O=Qe(R);O&&(Z.has(O)||Z.set(O,{teamId:O,status:ct.getTeamStatus(O),assignment:gt.getTeamAssignment(O)}))}),Array.from(Z.entries()).forEach(([R,O])=>{O.assignment===H.id&&(K.assignments.push({teamId:R}),K.coverageStatus[R]=O.status)});const k=Ad(K);navigator.clipboard.writeText(k).then(()=>{alert("Shareable link copied to clipboard!")}).catch(()=>{prompt("Shareable link (copy this):",k)})}function $(H,K,Z,k){gt.assignTeam(H,Z),console.log(`Handoff: Team ${H} from ${K} to ${Z}`,k),x(b,null)}function f(){try{x(T,null);const H=gt.importCoverageStatus(e(_),"merge");if(H.success){try{const K=JSON.parse(e(_));K.coverageStatus&&Object.entries(K.coverageStatus).forEach(([Z,k])=>{ct.setTeamStatus(Z,k)})}catch(K){console.error("Failed to import coverage status:",K)}x(m,!1),x(_,""),alert("Coverage status imported successfully!")}else x(T,H.error||"Import failed")}catch(H){x(T,H instanceof Error?H.message:"Unknown error")}}pe(()=>(S(v()),ct),()=>{x(t,(()=>{const H=new Map;return v().forEach(K=>{const Z=Qe(K);Z&&H.set(Z,ct.getTeamStatus(Z))}),H})())}),pe(()=>(S(v()),gt),()=>{x(o,(()=>{const H=new Map;return v().forEach(K=>{const Z=Qe(K);Z&&(H.has(Z)||H.set(Z,{teamId:Z,status:ct.getTeamStatus(Z),assignment:gt.getTeamAssignment(Z),matches:[]}),H.get(Z).matches.push(K))}),H})())}),pe(()=>e(o),()=>{x(l,(()=>{const H=e(o).size,K=Array.from(e(o).values()).filter(O=>O.assignment!==null).length,Z=H-K,k=new Map;Array.from(e(o).values()).forEach(O=>{O.assignment&&(k.has(O.teamId)||k.set(O.teamId,[]),k.get(O.teamId).push(O.assignment))});const R=new Map;return Array.from(e(o).values()).forEach(O=>{if(O.assignment){const Q=R.get(O.assignment)||{covered:0,partiallyCovered:0,planned:0,uncovered:0};O.status==="covered"?Q.covered++:O.status==="partially-covered"?Q.partiallyCovered++:O.status==="planned"?Q.planned++:Q.uncovered++,R.set(O.assignment,Q)}}),{totalTeams:H,assignedTeams:K,unassignedTeams:Z,coverageByMember:R,assignmentConflicts:k}})())}),pe(()=>e(o),()=>{x(d,(()=>{const H=new Map;return Array.from(e(o).values()).forEach(K=>{const Z=K.assignment||"unassigned";H.has(Z)||H.set(Z,[]),H.get(Z).push(K)}),H})())}),Wt(),Nt();var u=qd(),p=s(u),N=s(p),M=c(s(N),2),I=s(M);I.__click=h;var L=c(I,2);L.__click=C;var te=c(L,2);te.__click=()=>x(m,!0),n(M),n(N),mr(2),n(p);var U=c(p,2);{var se=H=>{var K=Wd(),Z=s(K),k=s(Z),R=c(s(k),2);R.__click=()=>{x(m,!1),x(_,""),x(T,null)},n(k);var O=c(k,2);Rr(O);var Q=c(O,2);{var Te=Y=>{var ve=Ud(),ke=s(ve,!0);n(ve),F(()=>y(ke,e(T))),g(Y,ve)};D(Q,Y=>{e(T)&&Y(Te)})}var Be=c(Q,2),P=s(Be);P.__click=f;var ae=c(P,2);ae.__click=()=>{x(m,!1),x(_,""),x(T,null)},n(Be),n(Z),n(K),ir(O,()=>e(_),Y=>x(_,Y)),g(H,K)};D(U,H=>{e(m)&&H(se)})}var ie=c(U,2),X=s(ie),le=c(s(X),2),ce=s(le,!0);n(le),n(X);var G=c(X,2),be=c(s(G),2),ge=s(be,!0);n(be),n(G);var re=c(G,2),Se=c(s(re),2),B=s(Se,!0);n(Se),n(re),n(ie);var _e=c(ie,2);{var he=H=>{var K=Hd(),Z=c(s(K),2);it(Z,5,()=>(S(gt),i(()=>gt.members)),st,(k,R)=>{const O=q(()=>(e(l),e(R),i(()=>e(l).coverageByMember.get(e(R).id)||{covered:0,partiallyCovered:0,planned:0,uncovered:0}))),Q=q(()=>(S(e(O)),i(()=>e(O).covered+e(O).partiallyCovered+e(O).planned+e(O).uncovered)));var Te=Bd(),Be=s(Te),P=c(Be,2),ae=s(P),Y=s(ae,!0);n(ae);var ve=c(ae,2),ke=s(ve);n(ve),n(P),n(Te),F(()=>{Gt(Be,`background-color: ${e(R),i(()=>e(R).color)??""}`),y(Y,(e(R),i(()=>e(R).name))),y(ke,`${e(Q)??""} team${e(Q)!==1?"s":""} â¢ ${S(e(O)),i(()=>e(O).covered)??""} covered â¢ ${S(e(O)),i(()=>e(O).planned)??""} planned`)}),g(k,Te)}),n(Z),n(K),g(H,K)};D(_e,H=>{S(gt),i(()=>gt.members.length>0)&&H(he)})}var we=c(_e,2),ee=c(s(we),2);{var E=H=>{var K=Vd(),Z=s(K),k=s(Z);n(Z);var R=c(Z,2);it(R,5,()=>(e(d),i(()=>e(d).get("unassigned"))),st,(O,Q)=>{var Te=Jd(),Be=s(Te),P=s(Be),ae=c(P,2),Y=s(ae);n(ae);var ve=c(ae,2),ke=s(ve);n(ve),n(Be);var ye=c(Be,2);ye.__change=fe=>{fe.target.value&&gt.assignTeam(e(Q).teamId,fe.target.value)};var V=s(ye);V.value=V.__value="";var W=c(V);it(W,1,()=>(S(gt),i(()=>gt.members)),st,(fe,$e)=>{var Fe=Yd(),He=s(Fe,!0);n(Fe);var Ue={};F(()=>{y(He,(e($e),i(()=>e($e).name))),Ue!==(Ue=(e($e),i(()=>e($e).id)))&&(Fe.value=(Fe.__value=(e($e),i(()=>e($e).id)))??"")}),g(fe,Fe)}),n(ye),ye.value=ye.__value="",n(Te),F(()=>{Oe(P,1,`w-2 h-2 rounded ${e(Q),i(()=>e(Q).status==="covered"?"bg-green-500":e(Q).status==="partially-covered"?"bg-[#f59e0b]":e(Q).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(Y,`Team ${e(Q),i(()=>e(Q).teamId)??""}`),y(ke,`(${e(Q),i(()=>e(Q).matches.length)??""} matches)`)}),g(O,Te)}),n(R),n(K),F(O=>y(k,`Unassigned (${O??""})`),[()=>(e(d),i(()=>e(d).get("unassigned").length))]),g(H,K)};D(ee,H=>{e(d),i(()=>e(d).has("unassigned"))&&H(E)})}var j=c(ee,2);it(j,1,()=>(S(gt),i(()=>gt.members)),st,(H,K)=>{const Z=q(()=>(e(d),e(K),i(()=>e(d).get(e(K).id)||[])));var k=$t(),R=lt(k);{var O=Q=>{var Te=zd(),Be=s(Te),P=s(Be),ae=c(P,2),Y=s(ae);n(ae),n(Be);var ve=c(Be,2);it(ve,5,()=>e(Z),st,(ke,ye)=>{var V=Gd(),W=s(V),fe=s(W),$e=c(fe,2),Fe=s($e);n($e);var He=c($e,2),Ue=s(He);n(He),n(W);var Ve=c(W,2),We=s(Ve);We.__click=()=>x(b,{teamId:e(ye).teamId,fromMemberId:e(K).id});var J=c(We,2);J.__click=()=>gt.unassignTeam(e(ye).teamId),n(Ve),n(V),F(()=>{Oe(fe,1,`w-2 h-2 rounded ${e(ye),i(()=>e(ye).status==="covered"?"bg-green-500":e(ye).status==="partially-covered"?"bg-[#f59e0b]":e(ye).status==="planned"?"bg-[#eab308]":"bg-[#808593]")??""}`),y(Fe,`Team ${e(ye),i(()=>e(ye).teamId)??""}`),y(Ue,`(${e(ye),i(()=>e(ye).matches.length)??""} matches)`)}),g(ke,V)}),n(ve),n(Te),F(()=>{Gt(P,`background-color: ${e(K),i(()=>e(K).color)??""}`),y(Y,`${e(K),i(()=>e(K).name)??""} (${S(e(Z)),i(()=>e(Z).length)??""})`)}),g(Q,Te)};D(R,Q=>{S(e(Z)),i(()=>e(Z).length>0)&&Q(O)})}g(H,k)}),n(we);var xe=c(we,2);{var de=H=>{Ld(H,{get teamId(){return e(b),i(()=>e(b).teamId)},get fromMemberId(){return e(b),i(()=>e(b).fromMemberId)},onClose:()=>x(b,null),onHandoff:(K,Z)=>$(e(b).teamId,e(b).fromMemberId,K,Z)})};D(xe,H=>{e(b)&&H(de)})}n(u),F(()=>{y(ce,(e(l),i(()=>e(l).totalTeams))),y(ge,(e(l),i(()=>e(l).assignedTeams))),y(B,(e(l),i(()=>e(l).unassignedTeams)))}),g(a,u),Et()}Jt(["click","change"]);var Qd=w('<span class="ml-2 text-red-400"> </span>'),Kd=w('<div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654] mx-4"><button>Plan</button> <button>Analytics</button> <button>Stats</button> <button>Team</button></div>'),Zd=w('<div class="text-center py-12 text-[#9fa2ab] text-sm"><p>No matches selected yet</p> <p class="text-xs text-[#808593] mt-2">Click matches in the timeline or list to add them to your coverage plan</p></div>'),ev=w('<span class="ml-2 text-[#eab308]"> </span>'),tv=w('<button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Previous conflict">â Prev</button> <button class="px-2 py-1 text-xs font-medium rounded-lg bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors border border-[#525463]" title="Next conflict">Next â</button>',1),rv=w('<div class="text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">ACTIVE</div>'),av=w('<div class="flex-shrink-0 text-[10px] font-semibold text-[#eab308] px-1.5 py-0.5 rounded bg-[#eab308]/20">KEEP</div>'),ov=w('<div class="text-[10px] text-[#808593] mt-0.5"> </div>'),nv=w('<button class="px-2 py-1 text-[10px] font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Remove</button>'),sv=w('<div><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-[#facc15] font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span></div> <!></div> <!></div>'),iv=w('<div><div class="flex items-center gap-2 mb-2"><div class="text-xs font-medium text-red-400"> </div> <!></div> <div class="space-y-2"></div></div>'),cv=w('<div class="border border-red-800/50 rounded-lg bg-red-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-red-400">â ï¸ Conflicts Detected</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> <!></p></div> <div class="flex items-center gap-2"><!> <button class="px-3 py-1.5 text-xs font-medium rounded-lg bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Auto-Resolve</button></div></div> <div class="space-y-3"></div></div>'),lv=w('<span class="text-[10px] px-1.5 py-0.5 rounded bg-[#eab308]/20 text-[#eab308] border border-[#eab308]/50">Uncovered</span>'),dv=w('<div class="flex items-center gap-2 px-2 py-1.5 rounded bg-green-950/20 border border-green-500/30"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-semibold text-[#f8f8f9]"> </span> <span class="text-xs text-green-400 font-medium"> </span> <span class="text-xs text-[#c0c2c8]"> </span> <!></div> <div class="text-[10px] text-[#808593] mt-0.5"> </div></div> <button class="px-2 py-1 text-xs font-medium rounded transition-colors bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30">Add</button></div>'),vv=w('<div class="border border-green-500/50 rounded-lg bg-green-950/10 p-4"><div class="flex items-center justify-between mb-3"><div><h4 class="text-sm font-semibold text-green-400">ð¡ Coverage Opportunities</h4> <p class="text-xs text-[#9fa2ab] mt-0.5"> </p></div></div> <div class="space-y-2"></div></div>'),uv=w('<div class="flex-shrink-0 text-[10px] font-semibold text-red-400 px-1.5 py-0.5 rounded bg-red-950/50">CONFLICT</div>'),fv=w("<div></div>"),mv=w('<div class="fixed inset-0 z-40"></div> <div class="absolute right-0 top-full mt-1 z-50"><!></div>',1),xv=w('<div class="relative flex-shrink-0"><button title="Set coverage status"> </button> <!></div>'),bv=w('<div><button aria-label="Remove from plan"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></button> <!> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <div class="flex-shrink-0 w-24 text-sm font-bold text-[#facc15]"> </div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><div class="text-sm font-bold text-[#f8f8f9]"> </div> <!></div> <div class="text-xs text-[#c0c2c8] truncate"> </div></div> <!> <div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div></div>'),gv=w('<div class="space-y-2"><div class="flex items-center gap-2 pb-2 border-b border-[#454654]"><h4 class="text-sm font-semibold text-[#f8f8f9]"> </h4> <span class="text-xs text-[#808593]"> </span></div> <!></div>'),pv=w('<div class="space-y-4"><!> <!> <div class="space-y-4"></div></div>'),hv=w('<div class="space-y-4"><!> <!></div>'),_v=w('<div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 border-t border-[#454654] bg-[#454654]/50"><div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Planned</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]">Mark All as Covered</button> <button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654]">Clear Plan</button></div> <div class="flex items-center gap-2 flex-wrap"><button class="px-3 py-1.5 text-xs font-medium rounded-lg transition-colors bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]" title="Copy plan to clipboard">Copy</button> <div class="flex items-center gap-1 bg-[#3b3c48] rounded-lg p-1 border border-[#454654]"><button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as JSON">JSON</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as CSV">CSV</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Text">TXT</button> <button class="px-2 py-1 text-xs font-medium rounded transition-colors text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#454654]" title="Export as Calendar (ICS)">ð ICS</button></div></div></div>'),Sv=w('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50"><div class="relative w-full max-w-3xl max-h-[90vh] border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-4 border-b border-[#454654] bg-[#454654]/50"><div class="flex-1"><h3 class="text-base sm:text-lg font-semibold text-[#f8f8f9]">My Coverage Plan</h3> <div class="flex items-center gap-3 mt-1 flex-wrap"><p class="text-xs text-[#9fa2ab]"> <!> <!></p> <select class="px-2 py-1 text-xs rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none"><option>All Status</option><option>Uncovered</option><option>Planned</option><option>Covered</option></select></div></div> <!> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-4"><!></div> <!></div></div>');function yv(a,r){Dt(r,!1);const t=A(),o=A(),l=A(),d=A(),v=A(),m=A(),_=A();let T=Re(r,"matches",8),b=Re(r,"onClose",8),h=A("plan"),C=A("all"),$=A(null),f=A(0),u=A([]);function p(P){return(e(o).get(P)||[]).map(Y=>e(t).find(ve=>ve.MatchId===Y)).filter(Boolean)}function N(){e(d).length>0&&x(f,(e(f)+1)%e(d).length)}function M(){e(d).length>0&&x(f,(e(f)-1+e(d).length)%e(d).length)}function I(P){return P.InvolvedTeam==="first"?P.SecondTeamText:P.InvolvedTeam==="second"?P.FirstTeamText:`${P.FirstTeamText} vs ${P.SecondTeamText}`}function L(){var ye;const P={plan:{createdAt:new Date().toISOString(),totalMatches:e(t).length,totalCoverageTime:e(v),conflicts:e(d).length},matches:e(t).map(V=>({MatchId:V.MatchId,Date:Ut(V.ScheduledStartDateTime),Time:rt(V.ScheduledStartDateTime),Court:V.CourtName,Team:Qe(V)||V.Division.CodeAlias,Opponent:I(V),Division:V.Division.CodeAlias,FirstTeam:V.FirstTeamText,SecondTeam:V.SecondTeamText,StartTime:new Date(V.ScheduledStartDateTime).toISOString(),EndTime:new Date(V.ScheduledEndDateTime).toISOString()}))},ae=JSON.stringify(P,null,2),Y=new Blob([ae],{type:"application/json"}),ve=URL.createObjectURL(Y),ke=document.createElement("a");ke.href=ve,ke.download=`coverage-plan-${Ut(((ye=e(t)[0])==null?void 0:ye.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.json`,ke.click(),URL.revokeObjectURL(ve)}function te(){var V;const P=["Date","Time","Court","Team","Opponent","Division","First Team","Second Team","Start Time","End Time"],ae=e(t).map(W=>[Ut(W.ScheduledStartDateTime),rt(W.ScheduledStartDateTime),W.CourtName,Qe(W)||W.Division.CodeAlias,I(W),W.Division.CodeAlias,W.FirstTeamText,W.SecondTeamText,new Date(W.ScheduledStartDateTime).toISOString(),new Date(W.ScheduledEndDateTime).toISOString()]),Y=[P.join(","),...ae.map(W=>W.map(fe=>`"${fe}"`).join(","))].join(`
`),ve=new Blob([Y],{type:"text/csv"}),ke=URL.createObjectURL(ve),ye=document.createElement("a");ye.href=ke,ye.download=`coverage-plan-${Ut(((V=e(t)[0])==null?void 0:V.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.csv`,ye.click(),URL.revokeObjectURL(ke)}function U(){var ke;let P=`COVERAGE PLAN
`;P+=`${"=".repeat(50)}

`,P+=`Total Matches: ${e(t).length}
`,P+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(d).length>0&&(P+=`Conflicts: ${e(d).length}
`),P+=`
`,e(_).forEach(ye=>{const V=e(m)[ye];P+=`${ye}
`,P+=`${"-".repeat(50)}
`,V.forEach(W=>{const fe=Qe(W),$e=I(W);P+=`${rt(W.ScheduledStartDateTime)} | ${W.CourtName} | ${fe||W.Division.CodeAlias} vs ${$e}
`}),P+=`
`});const ae=new Blob([P],{type:"text/plain"}),Y=URL.createObjectURL(ae),ve=document.createElement("a");ve.href=Y,ve.download=`coverage-plan-${Ut(((ke=e(t)[0])==null?void 0:ke.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.txt`,ve.click(),URL.revokeObjectURL(Y)}function se(){var ke;const P=cd(e(t),Qe,I,"Coverage Plan"),ae=new Blob([P],{type:"text/calendar;charset=utf-8"}),Y=URL.createObjectURL(ae),ve=document.createElement("a");ve.href=Y,ve.download=`coverage-plan-${Ut(((ke=e(t)[0])==null?void 0:ke.ScheduledStartDateTime)||Date.now()).replace(/,/g,"")}.ics`,ve.click(),URL.revokeObjectURL(Y)}async function ie(){let P=`COVERAGE PLAN
`;P+=`${"=".repeat(50)}

`,P+=`Total Matches: ${e(t).length}
`,P+=`Total Coverage Time: ${Math.floor(e(v)/60)}h ${e(v)%60}m
`,e(d).length>0&&(P+=`Conflicts: ${e(d).length}
`),P+=`
`,e(_).forEach(ae=>{const Y=e(m)[ae];P+=`${ae}
`,P+=`${"-".repeat(50)}
`,Y.forEach(ve=>{const ke=Qe(ve),ye=I(ve);P+=`${rt(ve.ScheduledStartDateTime)} | ${ve.CourtName} | ${ke||ve.Division.CodeAlias} vs ${ye}
`}),P+=`
`});try{await navigator.clipboard.writeText(P),alert("Coverage plan copied to clipboard!")}catch(ae){console.error("Failed to copy to clipboard:",ae),alert("Failed to copy to clipboard. Please try exporting instead.")}}pe(()=>(S(T()),ct),()=>{if(T().length>0){const P=new Map,ae=tr(It);T().forEach(Y=>{const ve=Qe(Y);if(!ve)return;const ke=P.get(ve)||{total:0,inPlan:0};ke.total++,ae.has(Y.MatchId)&&ke.inPlan++,P.set(ve,ke)}),P.forEach((Y,ve)=>{ct.updateFromPlan(ve,Y.inPlan,Y.total)})}}),pe(()=>(S(T()),e(C),ct),()=>{x(t,(()=>{const P=tr(It);let ae=T().filter(Y=>P.has(Y.MatchId)).sort((Y,ve)=>Y.ScheduledStartDateTime-ve.ScheduledStartDateTime);return e(C)!=="all"&&(ae=ae.filter(Y=>{const ve=Qe(Y);return ve?ct.getTeamStatus(ve)===e(C):!1})),ae})())}),pe(()=>e(t),()=>{x(o,zr(e(t)))}),pe(()=>(S(T()),Ka),()=>{x(l,(()=>{const P=zr(T()),Y=tr(It),ve=new Map;return T().forEach(ke=>{const ye=Qe(ke);ye&&ve.set(ye,ct.getTeamStatus(ye))}),Ka(T(),Y,P,ve,Qe,{preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:5})})())}),pe(()=>(e(o),e(t)),()=>{x(d,(()=>{if(e(o).size===0)return[];const P=[],ae=new Set;return e(t).forEach(Y=>{if(ae.has(Y.MatchId))return;const ve=e(o).get(Y.MatchId);if(!ve||ve.length===0)return;const ke=[Y,...ve.map(ye=>e(t).find(V=>V.MatchId===ye)).filter(Boolean)];ke.forEach(ye=>ae.add(ye.MatchId)),P.push({matches:ke.sort((ye,V)=>ye.ScheduledStartDateTime-V.ScheduledStartDateTime),conflictCount:ke.length})}),P})())}),pe(()=>(e(d),e(f)),()=>{e(d).length>0&&e(f)>=e(d).length?x(f,0):e(d).length===0&&x(f,0)}),pe(()=>(e(d),e(u),e(f)),()=>{e(d).length>0&&e(u)[e(f)]&&setTimeout(()=>{var P;(P=e(u)[e(f)])==null||P.scrollIntoView({behavior:"smooth",block:"center"})},100)}),pe(()=>e(t),()=>{x(v,(()=>{if(e(t).length===0)return 0;const P=Math.min(...e(t).map(Y=>Y.ScheduledStartDateTime)),ae=Math.max(...e(t).map(Y=>Y.ScheduledEndDateTime));return Math.floor((ae-P)/6e4)})())}),pe(()=>(e(t),Ut),()=>{x(m,(()=>{const P={};return e(t).forEach(ae=>{const Y=Ut(ae.ScheduledStartDateTime);P[Y]||(P[Y]=[]),P[Y].push(ae)}),P})())}),pe(()=>e(m),()=>{x(_,Object.keys(e(m)).sort((P,ae)=>{const Y=new Date(P).getTime(),ve=new Date(ae).getTime();return Y-ve}))}),Wt(),Nt();var X=Sv(),le=s(X),ce=s(le),G=s(ce),be=c(s(G),2),ge=s(be),re=s(ge),Se=c(re);{var B=P=>{var ae=Do();F(Y=>y(ae,`â¢ ${Y??""}h ${e(v)%60}m coverage`),[()=>(e(v),i(()=>Math.floor(e(v)/60)))]),g(P,ae)};D(Se,P=>{e(v)>0&&P(B)})}var _e=c(Se,2);{var he=P=>{var ae=Qd(),Y=s(ae);n(ae),F(()=>y(Y,`â¢ ${e(d),i(()=>e(d).length)??""} conflict${e(d),i(()=>e(d).length!==1?"s":"")??""}`)),g(P,ae)};D(_e,P=>{e(d),i(()=>e(d).length>0)&&P(he)})}n(ge);var we=c(ge,2);we.__change=P=>x(C,P.target.value);var ee=s(we);ee.value=ee.__value="all";var E=c(ee);E.value=E.__value="not-covered";var j=c(E);j.value=j.__value="planned";var xe=c(j);xe.value=xe.__value="covered",n(we);var de;Dr(we),n(be),n(G);var H=c(G,2);{var K=P=>{var ae=Kd(),Y=s(ae);Y.__click=()=>x(h,"plan");var ve=c(Y,2);ve.__click=()=>x(h,"analytics");var ke=c(ve,2);ke.__click=()=>x(h,"stats");var ye=c(ke,2);ye.__click=()=>x(h,"coordination"),n(ae),F(()=>{Oe(Y,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(h)==="plan"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(ve,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(h)==="analytics"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(ke,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(h)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(ye,1,`px-3 py-1.5 text-xs font-medium rounded transition-colors ${e(h)==="coordination"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),g(P,ae)};D(H,P=>{e(t),i(()=>e(t).length>0)&&P(K)})}var Z=c(H,2);Z.__click=function(...P){var ae;(ae=b())==null||ae.apply(this,P)},n(ce);var k=c(ce,2),R=s(k);{var O=P=>{var ae=$t(),Y=lt(ae);{var ve=ye=>{var V=Zd();g(ye,V)},ke=ye=>{var V=pv(),W=s(V);{var fe=Ue=>{var Ve=cv(),We=s(Ve),J=s(We),ne=c(s(J),2),Pe=s(ne),Ye=c(Pe);{var Ae=me=>{var Ce=ev(),z=s(Ce);n(Ce),F(()=>y(z,`â¢ Conflict ${e(f)+1} of ${e(d),i(()=>e(d).length)??""}`)),g(me,Ce)};D(Ye,me=>{e(d),i(()=>e(d).length>0)&&me(Ae)})}n(ne),n(J);var je=c(J,2),Me=s(je);{var Ge=me=>{var Ce=tv(),z=lt(Ce);z.__click=M;var Ie=c(z,2);Ie.__click=N,g(me,Ce)};D(Me,me=>{e(d),i(()=>e(d).length>1)&&me(Ge)})}var oe=c(Me,2);oe.__click=()=>{e(d).forEach(me=>{me.matches.slice(1).forEach(Ce=>{It.deselectMatch(Ce.MatchId)})})},n(je),n(We);var De=c(We,2);it(De,5,()=>e(d),st,(me,Ce,z)=>{var Ie=iv(),Ne=s(Ie),tt=s(Ne),Je=s(tt);n(tt);var et=c(tt,2);{var at=vt=>{var Le=rv();g(vt,Le)};D(et,vt=>{z===e(f)&&vt(at)})}n(Ne);var ut=c(Ne,2);it(ut,5,()=>(e(Ce),i(()=>e(Ce).matches)),st,(vt,Le,nt)=>{const ue=q(()=>(S(Qe),e(Le),i(()=>Qe(e(Le))))),qe=q(()=>(e(Le),i(()=>p(e(Le).MatchId)))),dt=q(()=>nt===0);var Xe=sv(),pt=s(Xe);{var Ct=Bt=>{var Xt=av();g(Bt,Xt)};D(pt,Bt=>{e(dt)&&Bt(Ct)})}var ht=c(pt,2),mt=s(ht),Ke=s(mt),Ee=s(Ke,!0);n(Ke);var ot=c(Ke,2),ze=s(ot,!0);n(ot);var xt=c(ot,2),_t=s(xt,!0);n(xt),n(mt);var Tt=c(mt,2);{var vr=Bt=>{var Xt=ov(),Zt=s(Xt);n(Xt),F(()=>y(Zt,`Conflicts with ${S(e(qe)),i(()=>e(qe).length)??""} other match${S(e(qe)),i(()=>e(qe).length!==1?"es":"")??""}`)),g(Bt,Xt)};D(Tt,Bt=>{S(e(qe)),i(()=>e(qe).length>0)&&Bt(vr)})}n(ht);var Ft=c(ht,2);{var Vt=Bt=>{var Xt=nv();Xt.__click=()=>It.deselectMatch(e(Le).MatchId),g(Bt,Xt)};D(Ft,Bt=>{e(dt)||Bt(Vt)})}n(Xe),F(Bt=>{Oe(Xe,1,`flex items-center gap-2 px-2 py-1.5 rounded ${e(dt)?"bg-[#eab308]/10 border border-[#eab308]/30":"bg-[#454654]/50"}`),y(Ee,Bt),y(ze,(e(Le),i(()=>e(Le).CourtName))),y(_t,(S(e(ue)),e(Le),i(()=>e(ue)||e(Le).Division.CodeAlias)))},[()=>(S(rt),e(Le),i(()=>rt(e(Le).ScheduledStartDateTime)))]),g(vt,Xe)}),n(ut),n(Ie),In(Ie,(vt,Le)=>$n(u,e(u)[Le]=vt),vt=>{var Le;return(Le=e(u))==null?void 0:Le[vt]},()=>[z]),F(()=>{Oe(Ie,1,`border rounded p-3 transition-all ${z===e(f)?"border-[#eab308] bg-[#eab308]/5":"border-red-800/30 bg-[#3b3c48]/50"}`),y(Je,`Conflict Group ${z+1}: ${e(Ce),i(()=>e(Ce).conflictCount)??""} overlapping match${e(Ce),i(()=>e(Ce).conflictCount!==1?"es":"")??""}`)}),g(me,Ie)}),n(De),n(Ve),F(()=>y(Pe,`${e(d),i(()=>e(d).length)??""} conflict group${e(d),i(()=>e(d).length!==1?"s":"")??""} in your plan `)),g(Ue,Ve)};D(W,Ue=>{e(d),i(()=>e(d).length>0)&&Ue(fe)})}var $e=c(W,2);{var Fe=Ue=>{var Ve=vv(),We=s(Ve),J=s(We),ne=c(s(J),2),Pe=s(ne);n(ne),n(J),n(We);var Ye=c(We,2);it(Ye,5,()=>e(l),st,(Ae,je)=>{const Me=q(()=>(e(je),i(()=>e(je).match))),Ge=q(()=>(S(Qe),S(e(Me)),i(()=>Qe(e(Me))))),oe=q(()=>(S(e(Ge)),S(ct),i(()=>e(Ge)?ct.getTeamStatus(e(Ge)):"not-covered")));var De=dv(),me=s(De),Ce=s(me),z=s(Ce),Ie=s(z,!0);n(z);var Ne=c(z,2),tt=s(Ne,!0);n(Ne);var Je=c(Ne,2),et=s(Je,!0);n(Je);var at=c(Je,2);{var ut=ue=>{var qe=lv();g(ue,qe)};D(at,ue=>{e(oe)==="not-covered"&&ue(ut)})}n(Ce);var vt=c(Ce,2),Le=s(vt,!0);n(vt),n(me);var nt=c(me,2);nt.__click=()=>It.selectMatch(e(Me).MatchId),n(De),F(ue=>{y(Ie,ue),y(tt,(S(e(Me)),i(()=>e(Me).CourtName))),y(et,(S(e(Ge)),S(e(Me)),i(()=>e(Ge)||e(Me).Division.CodeAlias))),y(Le,(e(je),i(()=>e(je).reason)))},[()=>(S(rt),S(e(Me)),i(()=>rt(e(Me).ScheduledStartDateTime)))]),g(Ae,De)}),n(Ye),n(Ve),F(()=>y(Pe,`${e(l),i(()=>e(l).length)??""} suggestion${e(l),i(()=>e(l).length!==1?"s":"")??""} (prioritizing uncovered teams)`)),g(Ue,Ve)};D($e,Ue=>{e(l),i(()=>e(l).length>0)&&Ue(Fe)})}var He=c($e,2);it(He,5,()=>e(_),st,(Ue,Ve)=>{const We=q(()=>(e(m),e(Ve),i(()=>e(m)[e(Ve)])));var J=gv(),ne=s(J),Pe=s(ne),Ye=s(Pe,!0);n(Pe);var Ae=c(Pe,2),je=s(Ae);n(Ae),n(ne);var Me=c(ne,2);it(Me,1,()=>e(We),st,(Ge,oe)=>{const De=q(()=>(S(Qe),e(oe),i(()=>Qe(e(oe))))),me=q(()=>(e(oe),i(()=>I(e(oe))))),Ce=q(()=>(e(o),e(oe),i(()=>e(o).has(e(oe).MatchId))));var z=bv(),Ie=s(z);Ie.__click=()=>It.toggleMatch(e(oe).MatchId);var Ne=s(Ie);n(Ie);var tt=c(Ie,2);{var Je=ze=>{var xt=uv();g(ze,xt)};D(tt,ze=>{e(Ce)&&ze(Je)})}var et=c(tt,2),at=s(et,!0);n(et);var ut=c(et,2),vt=s(ut,!0);n(ut);var Le=c(ut,2),nt=s(Le),ue=s(nt),qe=s(ue,!0);n(ue);var dt=c(ue,2);{var Xe=ze=>{const xt=q(()=>(S(ct),S(e(De)),i(()=>ct.getTeamStatus(e(De)))));var _t=fv();F(()=>{Oe(_t,1,`w-2 h-2 rounded ${e(xt)==="covered"?"bg-green-500":e(xt)==="partially-covered"?"bg-[#f59e0b]":e(xt)==="planned"?"bg-[#eab308]":"bg-[#808593]"}`),jt(_t,"title",`Status: ${e(xt)??""}`)}),g(ze,_t)};D(dt,ze=>{e(De)&&ze(Xe)})}n(nt);var pt=c(nt,2),Ct=s(pt);n(pt),n(Le);var ht=c(Le,2);{var mt=ze=>{var xt=xv(),_t=s(xt);_t.__click=Vt=>{Vt.stopPropagation(),x($,e($)===e(De)?null:e(De))};var Tt=s(_t,!0);n(_t);var vr=c(_t,2);{var Ft=Vt=>{var Bt=mv(),Xt=lt(Bt);Xt.__click=()=>x($,null);var Zt=c(Xt,2),Sr=s(Zt);{let lr=q(()=>(S(ct),S(e(De)),i(()=>ct.getTeamStatus(e(De)))));so(Sr,{get teamId(){return e(De)},get currentStatus(){return e(lr)},onStatusChange:Er=>{ct.setTeamStatus(e(De),Er),x($,null)},onClose:()=>x($,null)})}n(Zt),g(Vt,Bt)};D(vr,Vt=>{e($)===e(De)&&Vt(Ft)})}n(xt),F(Vt=>{Oe(_t,1,`px-2 py-1 text-xs rounded transition-colors ${e($)===e(De)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] hover:bg-[#525463] border border-[#525463]"}`),y(Tt,Vt)},[()=>(S(ct),S(e(De)),i(()=>(()=>{const Vt=ct.getTeamStatus(e(De));return Vt==="covered"?"â":Vt==="partially-covered"?"â":Vt==="planned"?"ð":"â"})()))]),g(ze,xt)};D(ht,ze=>{e(De)&&ze(mt)})}var Ke=c(ht,2),Ee=s(Ke),ot=s(Ee,!0);n(Ee),n(Ke),n(z),F(ze=>{Oe(z,1,`flex items-center gap-3 px-3 py-2.5 rounded border ${e(Ce)?"border-red-800/50 bg-red-950/10":"border-[#eab308]/50 bg-[#eab308]/5"}`),Oe(Ie,1,`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center hover:opacity-80 transition-colors ${e(Ce)?"border-red-800/50 bg-red-950/20":"border-[#eab308] bg-[#eab308]/20"}`),Oe(Ne,0,`w-3 h-3 ${e(Ce)?"text-red-400":"text-[#facc15]"}`),y(at,ze),y(vt,(e(oe),i(()=>e(oe).CourtName))),y(qe,(S(e(De)),e(oe),i(()=>e(De)||e(oe).Division.CodeAlias))),y(Ct,`vs ${e(me)??""}`),Gt(Ee,`background-color: ${e(oe),i(()=>e(oe).Division.ColorHex)??""}20; color: ${e(oe),i(()=>e(oe).Division.ColorHex)??""}; border: 1px solid ${e(oe),i(()=>e(oe).Division.ColorHex)??""}40;`),y(ot,(e(oe),i(()=>e(oe).Division.CodeAlias)))},[()=>(S(rt),e(oe),i(()=>rt(e(oe).ScheduledStartDateTime)))]),g(Ge,z)}),n(J),F(()=>{y(Ye,e(Ve)),y(je,`(${S(e(We)),i(()=>e(We).length)??""} match${S(e(We)),i(()=>e(We).length!==1?"es":"")??""})`)}),g(Ue,J)}),n(He),n(V),g(ye,V)};D(Y,ye=>{e(t),i(()=>e(t).length===0)?ye(ve):ye(ke,!1)})}g(P,ae)},Q=P=>{var ae=$t(),Y=lt(ae);{var ve=ye=>{md(ye,{get matches(){return T()}})},ke=ye=>{var V=$t(),W=lt(V);{var fe=Fe=>{Sd(Fe,{get matches(){return T()}})},$e=Fe=>{var He=hv(),Ue=s(He);Nd(Ue,{});var Ve=c(Ue,2);Xd(Ve,{get matches(){return T()}}),n(He),g(Fe,He)};D(W,Fe=>{e(h)==="stats"?Fe(fe):Fe($e,!1)},!0)}g(ye,V)};D(Y,ye=>{e(h)==="analytics"?ye(ve):ye(ke,!1)},!0)}g(P,ae)};D(R,P=>{e(h)==="plan"?P(O):P(Q,!1)})}n(k);var Te=c(k,2);{var Be=P=>{var ae=_v(),Y=s(ae),ve=s(Y);ve.__click=()=>{e(t).forEach(Ve=>{const We=Qe(Ve);We&&ct.setTeamStatus(We,"planned")}),alert("All matches marked as Planned")};var ke=c(ve,2);ke.__click=()=>{e(t).forEach(Ve=>{const We=Qe(Ve);We&&ct.setTeamStatus(We,"covered")}),alert("All matches marked as Covered")};var ye=c(ke,2);ye.__click=()=>It.clearPlan(),n(Y);var V=c(Y,2),W=s(V);W.__click=ie;var fe=c(W,2),$e=s(fe);$e.__click=L;var Fe=c($e,2);Fe.__click=te;var He=c(Fe,2);He.__click=U;var Ue=c(He,2);Ue.__click=se,n(fe),n(V),n(ae),g(P,ae)};D(Te,P=>{e(t),e(h),i(()=>e(t).length>0&&e(h)==="plan")&&P(Be)})}n(le),n(X),F(()=>{y(re,`${e(t),i(()=>e(t).length)??""} match${e(t),i(()=>e(t).length!==1?"es":"")??""} selected `),de!==(de=e(C))&&(we.value=(we.__value=e(C))??"",hr(we,e(C)))}),g(a,X),Et()}Jt(["change","click"]);var wv=w('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Tv=w('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Mv=w('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Cv=w('<div class="px-4 py-3 rounded-lg border-2 border-[#eab308] bg-[#eab308]/10 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),kv=w('<div><h3 class="text-sm font-semibold text-[#facc15] mb-3 uppercase tracking-wider">Live Now</h3> <div class="space-y-2"></div></div>'),$v=w('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Iv=w('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Dv=w('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Ev=w('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48] hover:border-[#525463] transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-base font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),Nv=w('<div><h3 class="text-sm font-semibold text-[#f8f8f9] mb-3 uppercase tracking-wider">Upcoming Matches</h3> <div class="space-y-2"></div></div>'),Pv=w('<button class="px-3 py-1 text-xs font-medium rounded bg-red-950/50 text-red-400 border border-red-800/50 hover:bg-red-950/70 transition-colors">Delete</button>'),Ov=w('<div class="mt-3 pt-3 border-t border-[#454654]"><textarea placeholder="Add notes about this match..." class="w-full px-3 py-2 text-sm bg-[#454654] border border-[#525463] rounded text-[#c0c2c8] focus:border-[#eab308] focus:outline-none resize-none"></textarea> <div class="flex items-center gap-2 mt-2"><button class="px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors">Save</button> <!> <button class="px-3 py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] transition-colors">Cancel</button></div></div>'),Av=w('<div class="mt-3 pt-3 border-t border-[#454654]"><div class="text-xs text-[#9fa2ab] mb-1">Note:</div> <div class="text-sm text-[#c0c2c8] whitespace-pre-wrap"> </div></div>'),Fv=w('<div class="px-4 py-3 rounded-lg border border-[#454654] bg-[#3b3c48]/50 opacity-75 transition-colors"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center justify-between mb-2"><div class="text-xs font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#facc15]"> </div></div> <div class="text-sm font-bold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div> <button> </button></div> <!></div>'),Rv=w('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-3 uppercase tracking-wider">Match History</h3> <div class="space-y-2"></div></div>'),jv=w('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Lv=w('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]"> </h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!> <!> <!> <!></div>');function Uv(a,r){Dt(r,!1);const t=A(),o=A(),l=A(),d=A();let v=Re(r,"matches",8),m=Re(r,"teamId",8),_=Re(r,"teamName",8),T=Re(r,"eventId",8,"");const b=qo(T());let h=A(null),C=A("");const $=Date.now();function f(B){return B.InvolvedTeam==="first"?B.SecondTeamText:B.InvolvedTeam==="second"?B.FirstTeamText:`${B.FirstTeamText} vs ${B.SecondTeamText}`}function u(B){x(h,B),x(C,b.getNote(B))}function p(B){b.setNote(B,e(C)),x(h,null),x(C,"")}function N(){x(h,null),x(C,"")}function M(B){b.deleteNote(B),x(h,null)}pe(()=>(S(v()),S(m())),()=>{x(t,v().filter(B=>Qe(B)===m()).sort((B,_e)=>B.ScheduledStartDateTime-_e.ScheduledStartDateTime))}),pe(()=>e(t),()=>{x(o,e(t).filter(B=>B.ScheduledEndDateTime<$))}),pe(()=>e(t),()=>{x(l,e(t).filter(B=>B.ScheduledStartDateTime<=$&&B.ScheduledEndDateTime>=$))}),pe(()=>e(t),()=>{x(d,e(t).filter(B=>B.ScheduledStartDateTime>$))}),Wt(),Nt();var I=Lv(),L=s(I),te=s(L),U=s(te,!0);n(te);var se=c(te,2),ie=s(se);n(se),n(L);var X=c(L,2);{var le=B=>{var _e=kv(),he=c(s(_e),2);it(he,5,()=>e(l),st,(we,ee)=>{const E=q(()=>(e(ee),i(()=>b.hasNote(e(ee).MatchId)))),j=q(()=>(e(h),e(ee),i(()=>e(h)===e(ee).MatchId))),xe=q(()=>(e(ee),i(()=>b.getNote(e(ee).MatchId))));var de=Cv(),H=s(de),K=s(H),Z=s(K),k=s(Z),R=s(k,!0);n(k);var O=c(k,2),Q=s(O,!0);n(O),n(Z);var Te=c(Z,2),Be=s(Te);n(Te);var P=c(Te,2),ae=s(P,!0);n(P),n(K);var Y=c(K,2);Y.__click=()=>e(j)?N():u(e(ee).MatchId);var ve=s(Y,!0);n(Y),n(H);var ke=c(H,2);{var ye=W=>{var fe=Tv(),$e=s(fe);Rr($e),jt($e,"rows",3),Fr($e);var Fe=c($e,2),He=s(Fe);He.__click=()=>p(e(ee).MatchId);var Ue=c(He,2);{var Ve=J=>{var ne=wv();ne.__click=()=>M(e(ee).MatchId),g(J,ne)};D(Ue,J=>{e(E)&&J(Ve)})}var We=c(Ue,2);We.__click=N,n(Fe),n(fe),ir($e,()=>e(C),J=>x(C,J)),g(W,fe)},V=W=>{var fe=$t(),$e=lt(fe);{var Fe=He=>{var Ue=Mv(),Ve=c(s(Ue),2),We=s(Ve,!0);n(Ve),n(Ue),F(()=>y(We,e(xe))),g(He,Ue)};D($e,He=>{e(E)&&He(Fe)},!0)}g(W,fe)};D(ke,W=>{e(j)?W(ye):W(V,!1)})}n(de),F((W,fe)=>{y(R,W),y(Q,(e(ee),i(()=>e(ee).CourtName))),y(Be,`vs ${fe??""}`),y(ae,(e(ee),i(()=>e(ee).Division.CodeAlias))),Oe(Y,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(E)||e(j)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),jt(Y,"title",e(E)?"Edit note":"Add note"),y(ve,e(E)?"ð":"ð")},[()=>(S(rt),e(ee),i(()=>rt(e(ee).ScheduledStartDateTime))),()=>(e(ee),i(()=>f(e(ee))))]),g(we,de)}),n(he),n(_e),g(B,_e)};D(X,B=>{e(l),i(()=>e(l).length>0)&&B(le)})}var ce=c(X,2);{var G=B=>{var _e=Nv(),he=c(s(_e),2);it(he,5,()=>e(d),st,(we,ee)=>{const E=q(()=>(e(ee),i(()=>b.hasNote(e(ee).MatchId)))),j=q(()=>(e(h),e(ee),i(()=>e(h)===e(ee).MatchId))),xe=q(()=>(e(ee),i(()=>b.getNote(e(ee).MatchId))));var de=Ev(),H=s(de),K=s(H),Z=s(K),k=s(Z),R=s(k,!0);n(k);var O=c(k,2),Q=s(O,!0);n(O),n(Z);var Te=c(Z,2),Be=s(Te);n(Te);var P=c(Te,2),ae=s(P,!0);n(P),n(K);var Y=c(K,2);Y.__click=()=>e(j)?N():u(e(ee).MatchId);var ve=s(Y,!0);n(Y),n(H);var ke=c(H,2);{var ye=W=>{var fe=Iv(),$e=s(fe);Rr($e),jt($e,"rows",3),Fr($e);var Fe=c($e,2),He=s(Fe);He.__click=()=>p(e(ee).MatchId);var Ue=c(He,2);{var Ve=J=>{var ne=$v();ne.__click=()=>M(e(ee).MatchId),g(J,ne)};D(Ue,J=>{e(E)&&J(Ve)})}var We=c(Ue,2);We.__click=N,n(Fe),n(fe),ir($e,()=>e(C),J=>x(C,J)),g(W,fe)},V=W=>{var fe=$t(),$e=lt(fe);{var Fe=He=>{var Ue=Dv(),Ve=c(s(Ue),2),We=s(Ve,!0);n(Ve),n(Ue),F(()=>y(We,e(xe))),g(He,Ue)};D($e,He=>{e(E)&&He(Fe)},!0)}g(W,fe)};D(ke,W=>{e(j)?W(ye):W(V,!1)})}n(de),F((W,fe)=>{y(R,W),y(Q,(e(ee),i(()=>e(ee).CourtName))),y(Be,`vs ${fe??""}`),y(ae,(e(ee),i(()=>e(ee).Division.CodeAlias))),Oe(Y,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(E)||e(j)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),jt(Y,"title",e(E)?"Edit note":"Add note"),y(ve,e(E)?"ð":"ð")},[()=>(S(rt),e(ee),i(()=>rt(e(ee).ScheduledStartDateTime))),()=>(e(ee),i(()=>f(e(ee))))]),g(we,de)}),n(he),n(_e),g(B,_e)};D(ce,B=>{e(d),i(()=>e(d).length>0)&&B(G)})}var be=c(ce,2);{var ge=B=>{var _e=Rv(),he=c(s(_e),2);it(he,5,()=>e(o),st,(we,ee)=>{const E=q(()=>(e(ee),i(()=>b.hasNote(e(ee).MatchId)))),j=q(()=>(e(h),e(ee),i(()=>e(h)===e(ee).MatchId))),xe=q(()=>(e(ee),i(()=>b.getNote(e(ee).MatchId))));var de=Fv(),H=s(de),K=s(H),Z=s(K),k=s(Z),R=s(k);n(k);var O=c(k,2),Q=s(O,!0);n(O),n(Z);var Te=c(Z,2),Be=s(Te);n(Te);var P=c(Te,2),ae=s(P,!0);n(P),n(K);var Y=c(K,2);Y.__click=()=>e(j)?N():u(e(ee).MatchId);var ve=s(Y,!0);n(Y),n(H);var ke=c(H,2);{var ye=W=>{var fe=Ov(),$e=s(fe);Rr($e),jt($e,"rows",3),Fr($e);var Fe=c($e,2),He=s(Fe);He.__click=()=>p(e(ee).MatchId);var Ue=c(He,2);{var Ve=J=>{var ne=Pv();ne.__click=()=>M(e(ee).MatchId),g(J,ne)};D(Ue,J=>{e(E)&&J(Ve)})}var We=c(Ue,2);We.__click=N,n(Fe),n(fe),ir($e,()=>e(C),J=>x(C,J)),g(W,fe)},V=W=>{var fe=$t(),$e=lt(fe);{var Fe=He=>{var Ue=Av(),Ve=c(s(Ue),2),We=s(Ve,!0);n(Ve),n(Ue),F(()=>y(We,e(xe))),g(He,Ue)};D($e,He=>{e(E)&&He(Fe)},!0)}g(W,fe)};D(ke,W=>{e(j)?W(ye):W(V,!1)})}n(de),F((W,fe,$e)=>{y(R,`${W??""} â¢ ${fe??""}`),y(Q,(e(ee),i(()=>e(ee).CourtName))),y(Be,`vs ${$e??""}`),y(ae,(e(ee),i(()=>e(ee).Division.CodeAlias))),Oe(Y,1,`ml-2 px-2 py-1 text-xs rounded transition-colors flex-shrink-0 ${e(E)||e(j)?"bg-[#eab308] text-[#18181b] hover:bg-[#facc15]":"bg-[#454654] text-[#c0c2c8] hover:bg-[#525463] border border-[#525463]"}`),jt(Y,"title",e(E)?"Edit note":"Add note"),y(ve,e(E)?"ð":"ð")},[()=>(S(Ut),e(ee),i(()=>Ut(e(ee).ScheduledStartDateTime))),()=>(S(rt),e(ee),i(()=>rt(e(ee).ScheduledStartDateTime))),()=>(e(ee),i(()=>f(e(ee))))]),g(we,de)}),n(he),n(_e),g(B,_e)};D(be,B=>{e(o),i(()=>e(o).length>0)&&B(ge)})}var re=c(be,2);{var Se=B=>{var _e=jv(),he=s(_e);n(_e),F(()=>y(he,`No matches found for ${_()??""}`)),g(B,_e)};D(re,B=>{e(t),i(()=>e(t).length===0)&&B(Se)})}n(I),F(()=>{y(U,_()),y(ie,`${e(t),i(()=>e(t).length)??""} total match${e(t),i(()=>e(t).length!==1?"es":"")??""}`)}),g(a,I),Et()}Jt(["click"]);var Wv=w('<div class="px-4 py-3 rounded-lg border border-[#525463] bg-[#454654]/30"><div class="flex items-center justify-between mb-2"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs font-medium text-[#9fa2ab]"> </div></div> <div class="text-sm text-[#c0c2c8]"> </div> <div class="text-xs text-[#9fa2ab] mt-1"> </div></div>'),Bv=w('<div><h3 class="text-sm font-semibold text-[#9fa2ab] mb-2 uppercase tracking-wider"> </h3> <div class="space-y-2"></div></div>'),Hv=w('<div class="space-y-4"></div>'),Yv=w('<div class="text-center py-12 text-[#9fa2ab] text-sm"> <div class="text-xs text-[#808593] mt-2">Work assignments will appear here when assigned by tournament officials.</div></div>'),Jv=w('<div class="space-y-6"><div class="border-b border-[#454654] pb-4"><h2 class="text-xl font-bold text-[#f8f8f9]">Work Assignments</h2> <div class="text-sm text-[#9fa2ab] mt-1"> </div></div> <!></div>');function Vv(a,r){Dt(r,!1);const t=A(),o=A(),l=A();let d=Re(r,"matches",8),v=Re(r,"teamId",8),m=Re(r,"teamName",8);pe(()=>(S(d()),S(v())),()=>{x(t,d().filter(u=>(Qe(u)===v(),!1)).sort((u,p)=>u.ScheduledStartDateTime-p.ScheduledStartDateTime))}),pe(()=>(e(t),Ut),()=>{x(o,(()=>{const u={};return e(t).forEach(p=>{const N=Ut(p.ScheduledStartDateTime);u[N]||(u[N]=[]),u[N].push(p)}),u})())}),pe(()=>e(o),()=>{x(l,Object.keys(e(o)).sort())}),Wt(),Nt();var _=Jv(),T=s(_),b=c(s(T),2),h=s(b);n(b),n(T);var C=c(T,2);{var $=u=>{var p=Hv();it(p,5,()=>e(l),st,(N,M)=>{var I=Bv(),L=s(I),te=s(L,!0);n(L);var U=c(L,2);it(U,5,()=>(e(o),e(M),i(()=>e(o)[e(M)])),st,(se,ie)=>{var X=Wv(),le=s(X),ce=s(le),G=s(ce,!0);n(ce);var be=c(ce,2),ge=s(be,!0);n(be),n(le);var re=c(le,2),Se=s(re);n(re);var B=c(re,2),_e=s(B);n(B),n(X),F(he=>{y(G,he),y(ge,(e(ie),i(()=>e(ie).CourtName))),y(Se,`${e(ie),i(()=>e(ie).FirstTeamText)??""} vs ${e(ie),i(()=>e(ie).SecondTeamText)??""}`),y(_e,`${e(ie),i(()=>e(ie).Division.CodeAlias)??""} â¢ Work Assignment`)},[()=>(S(rt),e(ie),i(()=>rt(e(ie).ScheduledStartDateTime)))]),g(se,X)}),n(U),n(I),F(()=>y(te,e(M))),g(N,I)}),n(p),g(u,p)},f=u=>{var p=Yv(),N=s(p);mr(),n(p),F(()=>y(N,`No work assignments found for ${m()??""} `)),g(u,p)};D(C,u=>{e(t),i(()=>e(t).length>0)?u($):u(f,!1)})}n(_),F(()=>y(h,`${m()??""} â¢ ${e(t),i(()=>e(t).length)??""} assignment${e(t),i(()=>e(t).length!==1?"s":"")??""}`)),g(a,_),Et()}var Gv=w('<span class="ml-2 text-[10px] opacity-75"> </span>'),zv=w("<button> <!></button>"),qv=w('<div class="border-b border-[#454654] pb-4"><div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Select Team:</span> <!></div></div>'),Xv=w('<div class="text-center py-12 text-[#9fa2ab] text-sm">Select a team to view matches and work assignments</div>'),Qv=w('<div class="space-y-4"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-xl font-bold text-[#f8f8f9]">Coach View</h1> <p class="text-sm text-[#9fa2ab] mt-1">View matches and work assignments by team</p></div> <div class="flex items-center gap-2 bg-[#454654] rounded-lg p-1"><button>Matches</button> <button>Work Assignments</button></div></div> <!> <!> <!></div>');function Kv(a,r){Dt(r,!1);const t=A(),o=A(),l=A(),d=A();let v=Re(r,"matches",8),m=Re(r,"eventId",8),_=Re(r,"clubId",8),T=A(null),b=A(null),h=A("matches");function C(X){var ce;x(T,X);const le=(ce=e(o)[X])==null?void 0:ce[0];le&&x(b,le)}pe(()=>S(v()),()=>{x(t,no(v()))}),pe(()=>(S(v()),Qe),()=>{x(o,(()=>{const X={};return v().forEach(le=>{const ce=Qe(le);ce&&(X[ce]||(X[ce]=[]),X[ce].push(le))}),X})())}),pe(()=>(e(T),e(o)),()=>{x(l,e(T)?e(o)[e(T)]||[]:[])}),pe(()=>(e(t),e(o)),()=>{x(d,[...e(t)].sort((X,le)=>{var be,ge;const ce=((be=e(o)[X])==null?void 0:be.length)||0;return(((ge=e(o)[le])==null?void 0:ge.length)||0)-ce}))}),Wt(),Nt();var $=Qv(),f=s($),u=c(s(f),2),p=s(u);p.__click=()=>x(h,"matches");var N=c(p,2);N.__click=()=>x(h,"work"),n(u),n(f);var M=c(f,2);{var I=X=>{var le=qv(),ce=s(le),G=c(s(ce),2);it(G,1,()=>e(d),st,(be,ge)=>{var re=zv();re.__click=()=>C(e(ge));var Se=s(re),B=c(Se);{var _e=he=>{var we=Gv(),ee=s(we);n(we),F(()=>y(ee,`(${e(o),e(ge),i(()=>e(o)[e(ge)].length)??""})`)),g(he,we)};D(B,he=>{e(o),e(ge),i(()=>e(o)[e(ge)])&&he(_e)})}n(re),F(()=>{Oe(re,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(T)===e(ge)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),y(Se,`${e(ge)??""} `)}),g(be,re)}),n(ce),n(le),g(X,le)};D(M,X=>{e(t),i(()=>e(t).length>0)&&X(I)})}var L=c(M,2);{var te=X=>{var le=$t(),ce=lt(le);{var G=ge=>{Uv(ge,{get matches(){return v()},teamId,get teamName(){return e(T)},get eventId(){return m()}})},be=ge=>{Vv(ge,{get matches(){return v()},teamId,get teamName(){return e(T)}})};D(ce,ge=>{e(h)==="matches"?ge(G):ge(be,!1)})}g(X,le)},U=X=>{var le=Xv();g(X,le)};D(L,X=>{e(T)?X(te):X(U,!1)})}var se=c(L,2);{var ie=X=>{Xo(X,{get match(){return e(b)},get eventId(){return m()},get clubId(){return _()},onClose:()=>x(b,null),get matches(){return v()}})};D(se,X=>{e(b)&&X(ie)})}n($),F(()=>{Oe(p,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(h)==="matches"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),Oe(N,1,`px-3 py-2 text-xs font-medium rounded transition-colors min-h-[44px] ${e(h)==="work"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),g(a,$),Et()}Jt(["click"]);var Zv=w('<span class="ml-2" style="color: #ef4444;"> </span>'),eu=w('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),tu=w('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),ru=w('<span class="hidden sm:inline"> </span>'),au=w('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),ou=w('<span class="ml-2" style="color: #ef4444;"> </span>'),nu=w('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),su=w('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),iu=w("<button> </button>"),cu=w('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),lu=w('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),du=w('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),vu=w('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),uu=w('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),fu=w('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!></main></div>');function yu(a,r){Dt(r,!1);const t=()=>nr(oi,"$selectedCount",m),o=()=>nr(ao,"$isMedia",m),l=()=>nr(oo,"$isSpectator",m),d=()=>nr(ii,"$isCoach",m),v=()=>nr(Xr,"$userRole",m),[m,_]=ga(),T=A(),b=A(),h=A(),C=A(),$=A(),f=A();let u=A("PTAwMDAwNDEzMTQ90"),p=A("2025-11-01"),N=A(300),M=A([]),I=A(!1),L=A(null),te=A("list"),U=A(!1),se=A(24426),ie=A(!1),X=A(null);Kr(()=>{le(e(u),e(p),e(N))});async function le(J,ne,Pe){var Ye;x(I,!0),x(L,null),x(u,J),x(p,ne),x(N,Pe);try{const Ae=await Yn(J),je=(Ye=Ae.Clubs)==null?void 0:Ye.find(oe=>oe.Name==="630 Volleyball");je&&x(se,je.ClubId),x(X,{name:Ae.Name||Ae.EventName||Ae.FullName||Ae.Title||"Event",startDate:Ae.StartDate||Ae.StartDateTime||Ae.Start||Ae.StartTime,endDate:Ae.EndDate||Ae.EndDateTime||Ae.End||Ae.EndTime});const Me=await Hn(J,ne,Pe),Ge=Xn(Me.CourtSchedules);x(M,Ge)}catch(Ae){console.error("Error loading schedule:",Ae),x(L,Ae instanceof Error?Ae.message:"Failed to load schedule"),x(M,[])}finally{x(I,!1)}}function ce(){const J=JSON.stringify(e(M),null,2),ne=new Blob([J],{type:"application/json"}),Pe=URL.createObjectURL(ne),Ye=document.createElement("a");Ye.href=Pe,Ye.download=`630-volleyball-matches-${e(p)}.json`,Ye.click(),URL.revokeObjectURL(Pe)}function G(){const J=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],ne=e(M).map(Me=>[Me.MatchId.toString(),Me.Division.Name,Me.CompleteShortName,Me.FirstTeamText,Me.SecondTeamText,Me.WorkTeamText,Me.CourtName,new Date(Me.ScheduledStartDateTime).toISOString(),new Date(Me.ScheduledEndDateTime).toISOString(),((Me.ScheduledEndDateTime-Me.ScheduledStartDateTime)/6e4).toString(),Me.InvolvedTeam]),Pe=[J.join(","),...ne.map(Me=>Me.map(Ge=>`"${Ge}"`).join(","))].join(`
`),Ye=new Blob([Pe],{type:"text/csv"}),Ae=URL.createObjectURL(Ye),je=document.createElement("a");je.href=Ae,je.download=`630-volleyball-matches-${e(p)}.csv`,je.click(),URL.revokeObjectURL(Ae)}pe(()=>(e(M),ct),()=>{if(e(M).length>0){const J=new Map;e(M).forEach(ne=>{const Ye=(ne.InvolvedTeam==="first"?ne.FirstTeamText:ne.SecondTeamText).match(/(\d+-\d+)/),Ae=Ye?Ye[1]:"";if(!Ae)return;const je=J.get(Ae)||{total:0,inPlan:0};je.total++;let Me=!1;It.subscribe(Ge=>{Me=Ge.has(ne.MatchId)})(),Me&&je.inPlan++,J.set(Ae,je)}),J.forEach((ne,Pe)=>{ct.updateFromPlan(Pe,ne.inPlan,ne.total)})}}),pe(()=>e(M),()=>{x(T,(()=>{const J=new Map;return e(M).forEach((ne,Pe)=>{e(M).slice(Pe+1).forEach(Ye=>{ne.ScheduledStartDateTime<Ye.ScheduledEndDateTime&&ne.ScheduledEndDateTime>Ye.ScheduledStartDateTime&&(J.has(ne.MatchId)||J.set(ne.MatchId,[]),J.get(ne.MatchId).push(Ye.MatchId))})}),e(M).filter(ne=>J.has(ne.MatchId)).length})())}),pe(()=>t(),()=>{x(b,t())}),pe(()=>o(),()=>{x(h,o())}),pe(()=>l(),()=>{x(C,l())}),pe(()=>d(),()=>{x($,d())}),pe(()=>v(),()=>{x(f,v())}),pe(()=>(e(M),e(b),ct),()=>{if(e(M).length>0&&e(b)!==void 0){const J=new Map,ne=tr(It);e(M).forEach(Pe=>{const Ae=(Pe.InvolvedTeam==="first"?Pe.FirstTeamText:Pe.SecondTeamText).match(/(\d+-\d+)/),je=Ae?Ae[1]:"";if(!je)return;const Me=J.get(je)||{total:0,inPlan:0};Me.total++,ne.has(Pe.MatchId)&&Me.inPlan++,J.set(je,Me)}),J.forEach((Pe,Ye)=>{ct.updateFromPlan(Ye,Pe.inPlan,Pe.total)})}}),Wt(),Nt();var be=fu(),ge=s(be),re=s(ge),Se=s(re),B=s(Se),_e=s(B),he=c(s(_e),2);{var we=J=>{var ne=eu(),Pe=s(ne),Ye=c(Pe);{var Ae=je=>{var Me=Zv(),Ge=s(Me);n(Me),F(()=>y(Ge,`â¢ ${e(T)??""} conflicts`)),g(je,Me)};D(Ye,je=>{e(T)>0&&je(Ae)})}n(ne),F(()=>y(Pe,`${e(M),i(()=>e(M).length)??""} matches `)),g(J,ne)};D(he,J=>{e(M),i(()=>e(M).length>0)&&J(we)})}n(_e);var ee=c(_e,2);{var E=J=>{var ne=au(),Pe=s(ne);{var Ye=Me=>{var Ge=tu(),oe=s(Ge,!0);n(Ge),F(()=>y(oe,(e(X),i(()=>e(X).name)))),g(Me,Ge)};D(Pe,Me=>{e(X),i(()=>e(X).name)&&Me(Ye)})}var Ae=c(Pe,2);{var je=Me=>{var Ge=ru(),oe=s(Ge,!0);n(Ge),F(De=>y(oe,De),[()=>(e(X),S(Ut),i(()=>(()=>{try{const De=e(X).startDate?new Date(e(X).startDate).getTime():null,me=e(X).endDate?new Date(e(X).endDate).getTime():null;return De&&me&&Math.abs(De-me)>864e5?`${Ut(De)} - ${Ut(me)}`:De?Ut(De):me?Ut(me):null}catch{return null}})()))]),g(Me,Ge)};D(Ae,Me=>{e(X),i(()=>(e(X).startDate||e(X).endDate)&&(()=>{try{const Ge=e(X).startDate?new Date(e(X).startDate).getTime():null,oe=e(X).endDate?new Date(e(X).endDate).getTime():null;return Ge&&oe&&Math.abs(Ge-oe)>864e5}catch{return!1}})())&&Me(je)})}n(ne),g(J,ne)};D(ee,J=>{e(X),i(()=>e(X)&&(e(X).name||e(X).startDate))&&J(E)})}var j=c(ee,2);{var xe=J=>{var ne=nu(),Pe=s(ne),Ye=c(Pe);{var Ae=je=>{var Me=ou(),Ge=s(Me);n(Me),F(()=>y(Ge,`â¢ ${e(T)??""} conflicts`)),g(je,Me)};D(Ye,je=>{e(T)>0&&je(Ae)})}n(ne),F(()=>y(Pe,`${e(M),i(()=>e(M).length)??""} matches `)),g(J,ne)};D(j,J=>{e(M),i(()=>e(M).length>0)&&J(xe)})}n(B);var de=c(B,2),H=s(de),K=c(s(H),2);K.__change=J=>Xr.setRole(J.target.value);var Z=s(K);Z.value=Z.__value="media";var k=c(Z);k.value=k.__value="spectator";var R=c(k);R.value=R.__value="coach",n(K);var O;Dr(K),n(H);var Q=c(H,2);{var Te=J=>{var ne=cu(),Pe=lt(ne);{var Ye=oe=>{var De=su(),me=s(De);me.__click=()=>x(te,"list");let Ce;var z=c(me,2);z.__click=()=>x(te,"timeline");let Ie;n(De),F(()=>{Ce=Oe(me,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Ce,{"bg-gold-500":e(te)==="list","text-charcoal-950":e(te)==="list","text-charcoal-300":e(te)!=="list","hover:text-charcoal-50":e(te)!=="list"}),Gt(me,e(te)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),Ie=Oe(z,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Ie,{"bg-gold-500":e(te)==="timeline","text-charcoal-950":e(te)==="timeline","text-charcoal-300":e(te)!=="timeline","hover:text-charcoal-50":e(te)!=="timeline"}),Gt(z,e(te)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),g(oe,De)};D(Pe,oe=>{e($)||oe(Ye)})}var Ae=c(Pe,2);{var je=oe=>{var De=iu();De.__click=()=>x(ie,!e(ie));let me;var Ce=s(De);n(De),F(()=>{me=Oe(De,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,me,{"text-charcoal-950":e(ie)}),Gt(De,e(ie)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),y(Ce,`Plan (${e(b)??""})`)}),g(oe,De)};D(Ae,oe=>{e(h)&&e(b)>0&&oe(je)})}var Me=c(Ae,2);Me.__click=ce;var Ge=c(Me,2);Ge.__click=G,g(J,ne)};D(Q,J=>{e(M),i(()=>e(M).length>0)&&J(Te)})}var Be=c(Q,2);Be.__click=()=>x(U,!e(U));let P;var ae=s(Be,!0);n(Be),n(de),n(Se),n(re),n(ge);var Y=c(ge,2);{var ve=J=>{var ne=lu(),Pe=s(ne),Ye=s(Pe);li(Ye,{get eventId(){return e(u)},get date(){return e(p)},get timeWindow(){return e(N)},onLoad:le,get loading(){return e(I)}}),n(Pe),n(ne),g(J,ne)};D(Y,J=>{e(U)&&J(ve)})}var ke=c(Y,2),ye=s(ke);{var V=J=>{var ne=du();g(J,ne)};D(ye,J=>{e(I)&&J(V)})}var W=c(ye,2);{var fe=J=>{var ne=vu(),Pe=c(s(ne),2),Ye=s(Pe,!0);n(Pe),n(ne),F(()=>y(Ye,e(L))),g(J,ne)};D(W,J=>{e(L)&&J(fe)})}var $e=c(W,2);{var Fe=J=>{var ne=uu();g(J,ne)};D($e,J=>{e(I),e(M),e(L),i(()=>!e(I)&&e(M).length===0&&!e(L))&&J(Fe)})}var He=c($e,2);{var Ue=J=>{var ne=$t(),Pe=lt(ne);{var Ye=je=>{Kv(je,{get matches(){return e(M)},get eventId(){return e(u)},get clubId(){return e(se)}})},Ae=je=>{var Me=$t(),Ge=lt(Me);{var oe=me=>{kl(me,{get matches(){return e(M)},get eventId(){return e(u)},get clubId(){return e(se)}})},De=me=>{sd(me,{get matches(){return e(M)},get eventId(){return e(u)}})};D(Ge,me=>{e(te)==="list"?me(oe):me(De,!1)},!0)}g(je,Me)};D(Pe,je=>{e($)?je(Ye):je(Ae,!1)})}g(J,ne)};D(He,J=>{e(M),i(()=>e(M).length>0)&&J(Ue)})}var Ve=c(He,2);{var We=J=>{yv(J,{get matches(){return e(M)},onClose:()=>x(ie,!1)})};D(Ve,J=>{e(ie)&&J(We)})}n(ke),n(be),F(()=>{O!==(O=e(f))&&(K.value=(K.__value=e(f))??"",hr(K,e(f))),P=Oe(Be,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,P,{"text-charcoal-950":e(U)}),Gt(Be,e(U)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),y(ae,e(U)?"Hide":"Config")}),g(a,be),Et(),_()}Jt(["change","click"]);export{yu as component,Su as universal};
