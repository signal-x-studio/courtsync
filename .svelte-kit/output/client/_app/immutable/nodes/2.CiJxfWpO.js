import{f as C,a as S,c as Rt,d as ha}from"../chunks/BGoQ7gJS.js";import"../chunks/Db87pd3s.js";import{d as wr,w as Et,o as xa,a as xn,g as Xt}from"../chunks/BaKoRTVr.js";import{G as Gr,x as yt,a2 as bn,v as Ha,C as pn,B as gn,g as e,R as X,D as _n,H as yn,F as ya,I as Vr,y as xr,ac as Sn,az as wn,w as va,A as Tn,m as lr,ax as Ba,aG as Ua,M as Y,a8 as Sa,aj as wa,n as Ja,q as Mn,aH as Yr,aI as zr,o as qa,aJ as Lr,aK as Dn,at as Cn,aL as kn,aw as Pn,aM as $n,U as In,aN as Ga,ab as Va,aO as On,J as En,aP as Nn,aQ as Fn,aR as An,aS as Rn,aT as Wn,aU as Yn,aV as Ln,aW as jn,aE as Hn,b as c,a9 as Bn,aX as Un,p as Zt,aY as se,N as T,e as y,aZ as ur,k as l,s as v,l as i,t as q,j as er,i as Qe,ak as fa}from"../chunks/Pko6iT02.js";import{s as F,e as _r,d as sr}from"../chunks/DOfG5Qiu.js";import{p as Ae,i as A,s as Ft,a as ba}from"../chunks/BqARAWy1.js";import{i as tr}from"../chunks/YAZl1wJw.js";const Jn=!0;function mt(t,r){return r}function qn(t,r,n){for(var a=t.items,o=[],s=r.length,d=0;d<s;d++)kn(r[d].e,o,!0);var u=s>0&&o.length===0&&n!==null;if(u){var h=n.parentNode;Pn(h),h.append(n),a.clear(),Bt(t,r[0].prev,r[s-1].next)}$n(o,()=>{for(var p=0;p<s;p++){var b=r[p];u||(a.delete(b.k),Bt(t,b.prev,b.next)),qa(b.e,!u)}})}function ht(t,r,n,a,o,s=null){var d=t,u={flags:r,items:new Map,first:null},h=(r&Ga)!==0;if(h){var p=t;d=yt?Gr(bn(p)):p.appendChild(Ha())}yt&&pn();var b=null,D=!1,k=new Map,w=X(()=>{var E=n();return Ua(E)?E:E==null?[]:Ba(E)}),m,x;function g(){Gn(x,m,u,k,d,o,r,a,n),s!==null&&(m.length===0?b?Ja(b):b=va(()=>s(d)):b!==null&&Mn(b,()=>{b=null}))}gn(()=>{x??(x=In),m=e(w);var E=m.length;if(D&&E===0)return;D=E===0;let _=!1;if(yt){var O=_n(d)===yn;O!==(E===0)&&(d=ya(),Gr(d),Vr(!1),_=!0)}if(yt){for(var B=null,te,$=0;$<E;$++){if(xr.nodeType===Sn&&xr.data===wn){d=xr,_=!0,Vr(!1);break}var re=m[$],ie=a(re,$);te=ma(xr,u,B,null,re,ie,$,o,r,n),u.items.set(ie,te),B=te}E>0&&Gr(ya())}if(yt)E===0&&s&&(b=va(()=>s(d)));else if(Tn()){var ce=new Set,je=lr;for($=0;$<E;$+=1){re=m[$],ie=a(re,$);var we=u.items.get(ie)??k.get(ie);we?(r&(Lr|Yr))!==0&&za(we,re,$,r):(te=ma(null,u,null,null,re,ie,$,o,r,n,!0),k.set(ie,te)),ce.add(ie)}for(const[Ee,Ye]of u.items)ce.has(Ee)||je.skipped_effects.add(Ye.e);je.oncommit(g)}else g();_&&Vr(!0),e(w)}),yt&&(d=xr)}function Gn(t,r,n,a,o,s,d,u,h){var be,I,G,f;var p=(d&On)!==0,b=(d&(Lr|Yr))!==0,D=r.length,k=n.items,w=n.first,m=w,x,g=null,E,_=[],O=[],B,te,$,re;if(p)for(re=0;re<D;re+=1)B=r[re],te=u(B,re),$=k.get(te),$!==void 0&&((be=$.a)==null||be.measure(),(E??(E=new Set)).add($));for(re=0;re<D;re+=1){if(B=r[re],te=u(B,re),$=k.get(te),$===void 0){var ie=a.get(te);if(ie!==void 0){a.delete(te),k.set(te,ie);var ce=g?g.next:m;Bt(n,g,ie),Bt(n,ie,ce),Xr(ie,ce,o),g=ie}else{var je=m?m.e.nodes_start:o;g=ma(je,n,g,g===null?n.first:g.next,B,te,re,s,d,h)}k.set(te,g),_=[],O=[],m=g.next;continue}if(b&&za($,B,re,d),($.e.f&zr)!==0&&(Ja($.e),p&&((I=$.a)==null||I.unfix(),(E??(E=new Set)).delete($))),$!==m){if(x!==void 0&&x.has($)){if(_.length<O.length){var we=O[0],Ee;g=we.prev;var Ye=_[0],Ue=_[_.length-1];for(Ee=0;Ee<_.length;Ee+=1)Xr(_[Ee],we,o);for(Ee=0;Ee<O.length;Ee+=1)x.delete(O[Ee]);Bt(n,Ye.prev,Ue.next),Bt(n,g,Ye),Bt(n,Ue,we),m=we,g=Ue,re-=1,_=[],O=[]}else x.delete($),Xr($,m,o),Bt(n,$.prev,$.next),Bt(n,$,g===null?n.first:g.next),Bt(n,g,$),g=$;continue}for(_=[],O=[];m!==null&&m.k!==te;)(m.e.f&zr)===0&&(x??(x=new Set)).add(m),O.push(m),m=m.next;if(m===null)continue;$=m}_.push($),g=$,m=$.next}if(m!==null||x!==void 0){for(var dt=x===void 0?[]:Ba(x);m!==null;)(m.e.f&zr)===0&&dt.push(m),m=m.next;var ut=dt.length;if(ut>0){var wt=(d&Ga)!==0&&D===0?o:null;if(p){for(re=0;re<ut;re+=1)(G=dt[re].a)==null||G.measure();for(re=0;re<ut;re+=1)(f=dt[re].a)==null||f.fix()}qn(n,dt,wt)}}p&&Va(()=>{var M;if(E!==void 0)for($ of E)(M=$.a)==null||M.apply()}),t.first=n.first&&n.first.e,t.last=g&&g.e;for(var xt of a.values())qa(xt.e);a.clear()}function za(t,r,n,a){(a&Lr)!==0&&wa(t.v,r),(a&Yr)!==0?wa(t.i,n):t.i=n}function ma(t,r,n,a,o,s,d,u,h,p,b){var D=(h&Lr)!==0,k=(h&Dn)===0,w=D?k?Y(o,!1,!1):Sa(o):o,m=(h&Yr)===0?d:Sa(d),x={i:m,v:w,k:s,a:null,e:null,prev:n,next:a};try{if(t===null){var g=document.createDocumentFragment();g.append(t=Ha())}return x.e=va(()=>u(t,w,m,p),yt),x.e.prev=n&&n.e,x.e.next=a&&a.e,n===null?b||(r.first=x):(n.next=x,n.e.next=x.e),a!==null&&(a.prev=x,a.e.prev=x.e),x}finally{}}function Xr(t,r,n){for(var a=t.next?t.next.e.nodes_start:n,o=r?r.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==a;){var d=Cn(s);o.before(s),s=d}}function Bt(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}const Ta=[...` 	
\r\fÂ \v\uFEFF`];function Vn(t,r,n){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),n){for(var o in n)if(n[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,d=0;(d=a.indexOf(o,d))>=0;){var u=d+s;(d===0||Ta.includes(a[d-1]))&&(u===a.length||Ta.includes(a[u]))?a=(d===0?"":a.substring(0,d))+a.substring(u+1):d=u}}return a===""?null:a}function zn(t,r){return t==null?null:String(t)}function ve(t,r,n,a,o,s){var d=t.__className;if(yt||d!==n||d===void 0){var u=Vn(n,a,s);(!yt||u!==t.getAttribute("class"))&&(u==null?t.removeAttribute("class"):r?t.className=u:t.setAttribute("class",u)),t.__className=n}else if(s&&o!==s)for(var h in s){var p=!!s[h];(o==null||p!==!!o[h])&&t.classList.toggle(h,p)}return s}function Qt(t,r,n,a){var o=t.__style;if(yt||o!==r){var s=zn(r);(!yt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return a}function dr(t,r,n=!1){if(t.multiple){if(r==null)return;if(!Ua(r))return Nn();for(var a of t.options)a.selected=r.includes(Ma(a));return}for(a of t.options){var o=Ma(a);if(Fn(o,r)){a.selected=!0;return}}(!n||r!==void 0)&&(t.selectedIndex=-1)}function gr(t){var r=new MutationObserver(()=>{dr(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),En(()=>{r.disconnect()})}function Ma(t){return"__value"in t?t.__value:t.value}const Xn=Symbol("is custom element"),Qn=Symbol("is html");function Qr(t){if(yt){var r=!1,n=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;At(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;At(t,"checked",null),t.checked=o}}};t.__on_r=n,Va(n),An()}}function At(t,r,n,a){var o=Kn(t);yt&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=n)&&(r==="loading"&&(t[Rn]=n),n==null?t.removeAttribute(r):typeof n!="string"&&Zn(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Kn(t){return t.__attributes??(t.__attributes={[Xn]:t.nodeName.includes("-"),[Qn]:t.namespaceURI===Wn})}var Da=new Map;function Zn(t){var r=t.getAttribute("is")||t.nodeName,n=Da.get(r);if(n)return n;Da.set(r,n=[]);for(var a,o=t,s=Element.prototype;s!==o;){a=Ln(o);for(var d in a)a[d].set&&n.push(d);o=Yn(o)}return n}function Kr(t,r,n=r){var a=new WeakSet;jn(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Zr(t)?ea(s):s,n(s),lr!==null&&a.add(lr),await Hn(),s!==(s=r())){var d=t.selectionStart,u=t.selectionEnd,h=t.value.length;if(t.value=s??"",u!==null){var p=t.value.length;d===u&&u===h&&p>h?(t.selectionStart=p,t.selectionEnd=p):(t.selectionStart=d,t.selectionEnd=Math.min(u,p))}}}),(yt&&t.defaultValue!==t.value||c(r)==null&&t.value)&&(n(Zr(t)?ea(t.value):t.value),lr!==null&&a.add(lr)),Bn(()=>{var o=r();if(t===document.activeElement){var s=Un??lr;if(a.has(s))return}Zr(t)&&o===ea(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Zr(t){var r=t.type;return r==="number"||r==="range"}function ea(t){return t===""?null:+t}const eo=Jn,to=!1,ro=(async()=>({})),Gc=Object.freeze(Object.defineProperty({__proto__:null,load:ro,ssr:to},Symbol.toStringTag,{value:"Module"})),Tr="https://results.advancedeventsystems.com/api",ao="https://results.advancedeventsystems.com/odata",no=async(t,r,n)=>{const a=`${Tr}/event/${t}/courts/${r}/${n}`,o=await fetch(a);if(!o.ok)throw new Error(`Failed to fetch court schedule: ${o.statusText}`);return o.json()},oo=async t=>{const r=`${Tr}/event/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch event info: ${n.statusText}`);return n.json()},so=async(t,r)=>{const n=`${ao}/${t}/nextassignments(dId=null,cId=${r},tIds=[])?$skip=0&$orderby=TeamName,TeamCode`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch team assignments: ${a.statusText}`);return a.json()},ta=async(t,r,n,a)=>{const o=`${Tr}/event/${t}/division/${r}/team/${n}/schedule/${a}`,s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch team schedule: ${s.statusText}`);return s.json()},io=async(t,r)=>{const n=`${Tr}/event/${t}/division/${r}/plays`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch division plays: ${a.statusText}`);return a.json()},co=async(t,r)=>{const n=`${Tr}/event/${t}/poolsheet/${r}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch pool sheet: ${a.statusText}`);return a.json()},Nr="630 Volleyball",Fr="630",lo=t=>[t.FirstTeamText,t.SecondTeamText,t.WorkTeamText].some(n=>n&&(n.includes(Nr)||n.includes(Fr))),uo=t=>t.FirstTeamText&&(t.FirstTeamText.includes(Nr)||t.FirstTeamText.includes(Fr))?"first":t.SecondTeamText&&(t.SecondTeamText.includes(Nr)||t.SecondTeamText.includes(Fr))?"second":t.WorkTeamText&&(t.WorkTeamText.includes(Nr)||t.WorkTeamText.includes(Fr))?"work":null,vo=t=>{const r=[];return t.forEach(n=>{n.CourtMatches.forEach(a=>{if(lo(a)){const o=uo(a);o&&o!=="work"&&r.push({...a,CourtName:n.Name,CourtId:n.CourtId,InvolvedTeam:o})}})}),r.sort((n,a)=>n.ScheduledStartDateTime-a.ScheduledStartDateTime)},Xa=t=>{const r=new Map;for(let n=0;n<t.length;n++){const a=t[n],o=[];for(let s=0;s<t.length;s++){if(n===s)continue;const d=t[s],u=a.ScheduledStartDateTime<d.ScheduledEndDateTime&&a.ScheduledEndDateTime>d.ScheduledStartDateTime,h=a.CourtId!==d.CourtId;u&&h&&o.push(d.MatchId)}o.length>0&&r.set(a.MatchId,o)}return r},Qa=6048e5,fo=864e5,Ca=Symbol.for("constructDateFrom");function Kt(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&Ca in t?t[Ca](r):t instanceof Date?new t.constructor(r):new Date(r)}function Wt(t,r){return Kt(r||t,t)}let mo={};function jr(){return mo}function yr(t,r){var u,h,p,b;const n=jr(),a=(r==null?void 0:r.weekStartsOn)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((b=(p=n.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,o=Wt(t,r==null?void 0:r.in),s=o.getDay(),d=(s<a?7:0)+s-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Rr(t,r){return yr(t,{...r,weekStartsOn:1})}function Ka(t,r){const n=Wt(t,r==null?void 0:r.in),a=n.getFullYear(),o=Kt(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const s=Rr(o),d=Kt(n,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const u=Rr(d);return n.getTime()>=s.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function ka(t){const r=Wt(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function ho(t,...r){const n=Kt.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function Pa(t,r){const n=Wt(t,r==null?void 0:r.in);return n.setHours(0,0,0,0),n}function xo(t,r,n){const[a,o]=ho(n==null?void 0:n.in,t,r),s=Pa(a),d=Pa(o),u=+s-ka(s),h=+d-ka(d);return Math.round((u-h)/fo)}function bo(t,r){const n=Ka(t,r),a=Kt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Rr(a)}function po(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function go(t){return!(!po(t)&&typeof t!="number"||isNaN(+Wt(t)))}function _o(t,r){const n=Wt(t,r==null?void 0:r.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},So=(t,r,n)=>{let a;const o=yo[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function ra(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},To={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Do={date:ra({formats:wo,defaultWidth:"full"}),time:ra({formats:To,defaultWidth:"full"}),dateTime:ra({formats:Mo,defaultWidth:"full"})},Co={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ko=(t,r,n,a)=>Co[t];function br(t){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):d;o=t.formattingValues[u]||t.formattingValues[d]}else{const d=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[u]||t.values[d]}const s=t.argumentCallback?t.argumentCallback(r):r;return o[s]}}const Po={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$o={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Io={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},No={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fo=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ao={ordinalNumber:Fo,era:br({values:Po,defaultWidth:"wide"}),quarter:br({values:$o,defaultWidth:"wide",argumentCallback:t=>t-1}),month:br({values:Io,defaultWidth:"wide"}),day:br({values:Oo,defaultWidth:"wide"}),dayPeriod:br({values:Eo,defaultWidth:"wide",formattingValues:No,defaultFormattingWidth:"wide"})};function pr(t){return(r,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;const d=s[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?Wo(u,D=>D.test(d)):Ro(u,D=>D.test(d));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const b=r.slice(d.length);return{value:p,rest:b}}}function Ro(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function Wo(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Yo(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const o=a[0],s=r.match(t.parsePattern);if(!s)return null;let d=t.valueCallback?t.valueCallback(s[0]):s[0];d=n.valueCallback?n.valueCallback(d):d;const u=r.slice(o.length);return{value:d,rest:u}}}const Lo=/^(\d+)(th|st|nd|rd)?/i,jo=/\d+/i,Ho={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bo={any:[/^b/i,/^(a|c)/i]},Uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jo={any:[/1/i,/2/i,/3/i,/4/i]},qo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Go={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ko={ordinalNumber:Yo({matchPattern:Lo,parsePattern:jo,valueCallback:t=>parseInt(t,10)}),era:pr({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any"}),quarter:pr({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:Jo,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pr({matchPatterns:qo,defaultMatchWidth:"wide",parsePatterns:Go,defaultParseWidth:"any"}),day:pr({matchPatterns:Vo,defaultMatchWidth:"wide",parsePatterns:zo,defaultParseWidth:"any"}),dayPeriod:pr({matchPatterns:Xo,defaultMatchWidth:"any",parsePatterns:Qo,defaultParseWidth:"any"})},Zo={code:"en-US",formatDistance:So,formatLong:Do,formatRelative:ko,localize:Ao,match:Ko,options:{weekStartsOn:0,firstWeekContainsDate:1}};function es(t,r){const n=Wt(t,r==null?void 0:r.in);return xo(n,_o(n))+1}function ts(t,r){const n=Wt(t,r==null?void 0:r.in),a=+Rr(n)-+bo(n);return Math.round(a/Qa)+1}function Za(t,r){var b,D,k,w;const n=Wt(t,r==null?void 0:r.in),a=n.getFullYear(),o=jr(),s=(r==null?void 0:r.firstWeekContainsDate)??((D=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((w=(k=o.locale)==null?void 0:k.options)==null?void 0:w.firstWeekContainsDate)??1,d=Kt((r==null?void 0:r.in)||t,0);d.setFullYear(a+1,0,s),d.setHours(0,0,0,0);const u=yr(d,r),h=Kt((r==null?void 0:r.in)||t,0);h.setFullYear(a,0,s),h.setHours(0,0,0,0);const p=yr(h,r);return+n>=+u?a+1:+n>=+p?a:a-1}function rs(t,r){var u,h,p,b;const n=jr(),a=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(p=n.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??1,o=Za(t,r),s=Kt((r==null?void 0:r.in)||t,0);return s.setFullYear(o,0,a),s.setHours(0,0,0,0),yr(s,r)}function as(t,r){const n=Wt(t,r==null?void 0:r.in),a=+yr(n,r)-+rs(n,r);return Math.round(a/Qa)+1}function ke(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const Vt={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return ke(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):ke(n+1,2)},d(t,r){return ke(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return ke(t.getHours()%12||12,r.length)},H(t,r){return ke(t.getHours(),r.length)},m(t,r){return ke(t.getMinutes(),r.length)},s(t,r){return ke(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return ke(o,r.length)}},cr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$a={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Vt.y(t,r)},Y:function(t,r,n,a){const o=Za(t,a),s=o>0?o:1-o;if(r==="YY"){const d=s%100;return ke(d,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):ke(s,r.length)},R:function(t,r){const n=Ka(t);return ke(n,r.length)},u:function(t,r){const n=t.getFullYear();return ke(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ke(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ke(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return Vt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return ke(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const o=as(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):ke(o,r.length)},I:function(t,r,n){const a=ts(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ke(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vt.d(t,r)},D:function(t,r,n){const a=es(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ke(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return ke(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const o=t.getDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return ke(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return ke(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let o;switch(a===12?o=cr.noon:a===0?o=cr.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let o;switch(a>=17?o=cr.evening:a>=12?o=cr.afternoon:a>=4?o=cr.morning:o=cr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Vt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vt.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ke(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ke(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vt.s(t,r)},S:function(t,r){return Vt.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Oa(a);case"XXXX":case"XX":return or(a);case"XXXXX":case"XXX":default:return or(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return Oa(a);case"xxxx":case"xx":return or(a);case"xxxxx":case"xxx":default:return or(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ia(a,":");case"OOOO":default:return"GMT"+or(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ia(a,":");case"zzzz":default:return"GMT"+or(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return ke(a,r.length)},T:function(t,r,n){return ke(+t,r.length)}};function Ia(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),s=a%60;return s===0?n+String(o):n+String(o)+r+ke(s,2)}function Oa(t,r){return t%60===0?(t>0?"-":"+")+ke(Math.abs(t)/60,2):or(t,r)}function or(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),o=ke(Math.trunc(a/60),2),s=ke(a%60,2);return n+o+r+s}const Ea=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},en=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ns=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Ea(t,r);let s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Ea(a,r)).replace("{{time}}",en(o,r))},os={p:en,P:ns},ss=/^D+$/,is=/^Y+$/,cs=["D","DD","YY","YYYY"];function ls(t){return ss.test(t)}function ds(t){return is.test(t)}function us(t,r,n){const a=vs(t,r,n);if(console.warn(a),cs.includes(t))throw new RangeError(a)}function vs(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ms=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hs=/^'([^]*?)'?$/,xs=/''/g,bs=/[a-zA-Z]/;function tn(t,r,n){var b,D,k,w;const a=jr(),o=a.locale??Zo,s=a.firstWeekContainsDate??((D=(b=a.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,d=a.weekStartsOn??((w=(k=a.locale)==null?void 0:k.options)==null?void 0:w.weekStartsOn)??0,u=Wt(t,n==null?void 0:n.in);if(!go(u))throw new RangeError("Invalid time value");let h=r.match(ms).map(m=>{const x=m[0];if(x==="p"||x==="P"){const g=os[x];return g(m,o.formatLong)}return m}).join("").match(fs).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:ps(m)};if($a[x])return{isToken:!0,value:m};if(x.match(bs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(u,h));const p={firstWeekContainsDate:s,weekStartsOn:d,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const x=m.value;(ds(x)||ls(x))&&us(x,r,String(t));const g=$a[x[0]];return g(u,x,o.localize,p)}).join("")}function ps(t){const r=t.match(hs);return r?r[1].replace(xs,"'"):t}const We=t=>tn(new Date(t),"h:mm a"),zt=t=>tn(new Date(t),"MMM d, yyyy"),aa="coveragePlan";function gs(){const{subscribe:t,set:r,update:n}=Et(new Set);try{const o=localStorage.getItem(aa);if(o){const s=JSON.parse(o);r(new Set(s.selectedMatches))}}catch(o){console.error("Failed to load coverage plan:",o)}const a=o=>{try{const s={selectedMatches:Array.from(o),createdAt:Date.now(),updatedAt:Date.now()};localStorage.setItem(aa,JSON.stringify(s))}catch(s){console.error("Failed to save coverage plan:",s)}};return{subscribe:t,toggleMatch:o=>{n(s=>{const d=new Set(s);return d.has(o)?d.delete(o):d.add(o),a(d),d})},selectMatch:o=>{n(s=>{const d=new Set(s);return d.add(o),a(d),d})},deselectMatch:o=>{n(s=>{const d=new Set(s);return d.delete(o),a(d),d})},clearPlan:()=>{r(new Set),localStorage.removeItem(aa)}}}const St=gs();wr(St,t=>t);const _s=wr(St,t=>t.size),na="teamCoverageStatus";function ys(){const{subscribe:t,set:r,update:n}=Et({});try{const o=localStorage.getItem(na);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load coverage status:",o)}const a=o=>{if(Object.keys(o).length!==0)try{localStorage.setItem(na,JSON.stringify(o))}catch(s){console.error("Failed to save coverage status:",s)}};return{subscribe:t,setTeamStatus:(o,s)=>{n(d=>{const u={...d};return s==="not-covered"?delete u[o]:u[o]=s,a(u),u})},getTeamStatus:o=>{let s="not-covered";return t(d=>{s=d[o]||"not-covered"})(),s},clearAllStatus:()=>{r({}),localStorage.removeItem(na)},updateFromPlan:(o,s,d)=>{d!==0&&n(u=>{let h;if(s===0?h="not-covered":s===d?h="covered":h="partially-covered",(u[o]||"not-covered")===h)return u;const b={...u};return h==="not-covered"?delete b[o]:b[o]=h,a(b),b})},importStatuses:o=>{r(o),a(o)}}}const et=ys(),Na="userRole";function Ss(){const{subscribe:t,set:r}=Et("media");try{const a=localStorage.getItem(Na);a&&["media","spectator","coach"].includes(a)&&r(a)}catch(a){console.error("Failed to load user role:",a)}const n=a=>{try{localStorage.setItem(Na,a)}catch(o){console.error("Failed to save user role:",o)}};return{subscribe:t,setRole:a=>{r(a),n(a)}}}const Sr=Ss(),pa=wr(Sr,t=>t==="media"),ga=wr(Sr,t=>t==="spectator"),ws=wr(Sr,t=>t==="coach");var Ts=C('<form class="space-y-4"><div class="flex flex-col sm:flex-row gap-3 sm:gap-4"><div class="flex-1"><label for="eventId" class="block text-xs text-[#9fa2ab] mb-1.5">Event ID</label> <input id="eventId" type="text" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;" placeholder="Enter Event ID"/></div> <div class="flex-1 sm:min-w-[160px]"><label for="date" class="block text-xs text-[#9fa2ab] mb-1.5">Date</label> <input id="date" type="date" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex-1 sm:min-w-[120px]"><label for="timeWindow" class="block text-xs text-[#9fa2ab] mb-1.5">Window (min)</label> <input id="timeWindow" type="number" min="1" class="w-full px-3 py-2 sm:py-2 text-sm rounded-lg transition-colors min-h-[44px] sm:min-h-0 focus:border-[#eab308] focus:outline-none" style="background-color: #454654; color: #f8f8f9; border: 1px solid #525463;"/></div> <div class="flex items-end"><button type="submit" class="px-4 py-2 sm:py-2 text-sm font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div></form>');function Ms(t,r){Zt(r,!1);let n=Ae(r,"eventId",8),a=Ae(r,"date",8),o=Ae(r,"timeWindow",8),s=Ae(r,"onLoad",8),d=Ae(r,"loading",8,!1),u=Y(n()),h=Y(a()),p=Y(o());async function b($){$.preventDefault(),await s()(e(u),e(h),e(p))}se(()=>(y(n()),e(u),y(a()),e(h),y(o()),e(p)),()=>{n()!==e(u)&&T(u,n()),a()!==e(h)&&T(h,a()),o()!==e(p)&&T(p,o())}),ur(),tr();var D=Ts(),k=l(D),w=l(k),m=v(l(w),2);Qr(m),i(w);var x=v(w,2),g=v(l(x),2);Qr(g),i(x);var E=v(x,2),_=v(l(E),2);Qr(_),i(E);var O=v(E,2),B=l(O),te=l(B,!0);i(B),i(O),i(k),i(D),q(()=>{m.disabled=d(),g.disabled=d(),_.disabled=d(),B.disabled=d(),Qt(B,`background-color: ${d()?"#ca8a04":"#eab308"}; color: #18181b;`),F(te,d()?"Loading...":"Load")}),Kr(m,()=>e(u),$=>T(u,$)),Kr(g,()=>e(h),$=>T(h,$)),Kr(_,()=>e(p),$=>T(p,$)),_r("submit",D,b),S(t,D),er()}const rn=(t,r,n,a={})=>{const{excludeSelected:o=!0,preferNoConflicts:s=!0,preferNearSelected:d=!0,maxResults:u=10}=a;return(o?t.filter(b=>!r.has(b.MatchId)):t).map(b=>{const D=[];let k=0;const w=n.has(b.MatchId);if(!w&&s?(k+=50,D.push("No conflicts")):w&&(k-=20,D.push("Has conflicts")),d&&r.size>0){const x=b.ScheduledStartDateTime,g=b.ScheduledEndDateTime,E=t.filter(O=>r.has(O.MatchId));let _=1/0;E.forEach(O=>{const B=O.ScheduledStartDateTime,te=O.ScheduledEndDateTime,$=Math.abs(x-te),re=Math.abs(B-g),ie=Math.min($,re);ie<_&&(_=ie)}),_<7200*1e3?(k+=20,D.push("Near selected matches")):_>14400*1e3&&(k-=10,D.push("Far from selected matches"))}d&&r.size>0&&t.filter(E=>r.has(E.MatchId)).filter(E=>E.CourtName===b.CourtName).length>0&&(k+=15,D.push("Same court as selected matches"));const m=new Date(b.ScheduledStartDateTime).getHours();return m>=8&&m<12&&(k+=5,D.push("Morning match")),{match:b,score:k,reasons:D}}).sort((b,D)=>D.score-b.score).slice(0,u).filter(b=>b.score>0)},Ds=(t,r,n,a,o,s={})=>{const{excludeSelected:d=!0,preferUncovered:u=!0,preferNoConflicts:h=!0,preferNearSelected:p=!0,maxResults:b=10}=s,D=[];return t.forEach(k=>{if(d&&r.has(k.MatchId))return;const w=o(k);if(!w)return;const m=a.get(w)||"not-covered",x=n.has(k.MatchId);let g=0;const E=[];if(u&&m==="not-covered"&&(g+=10,E.push("Uncovered team")),h&&!x&&(g+=5,E.push("No conflicts")),p&&r.size>0){const _=k.ScheduledStartDateTime;let O=!1;t.forEach(B=>{if(r.has(B.MatchId)){const $=Math.abs(_-B.ScheduledStartDateTime)/6e4;$<=30&&$>0&&(O=!0)}}),O&&(g+=3,E.push("Near selected match"))}g>0&&E.length>0&&D.push({match:k,teamId:w,reason:E.join(", "),score:g})}),D.sort((k,w)=>w.score-k.score).slice(0,b)},Cs=()=>{try{const t=window.location.hash;if(!t||!t.startsWith("#scores="))return null;const r=t.substring(8),n=decodeURIComponent(escape(atob(r))),a=JSON.parse(n);return!a.scores||!Array.isArray(a.scores)?null:{eventId:a.eventId||"",scores:a.scores}}catch(t){return console.error("Failed to extract scores from URL:",t),null}},ks=()=>{const t=window.location.hash;return t!==null&&t.startsWith("#scores=")},Ar={division:null,wave:"all",teams:[],timeRange:{start:null,end:null},conflictsOnly:!1,coverageStatus:"all",priority:"all"},oa="matchFilters";function Ps(){const{subscribe:t,set:r,update:n}=Et(Ar);try{const o=localStorage.getItem(oa);if(o){const s=JSON.parse(o);r({...Ar,...s})}}catch(o){console.error("Failed to load filters:",o)}const a=o=>{try{localStorage.setItem(oa,JSON.stringify(o))}catch(s){console.error("Failed to save filters:",s)}};return{subscribe:t,updateFilter:(o,s)=>{n(d=>{const u={...d,[o]:s};return a(u),u})},resetFilters:()=>{r(Ar),localStorage.removeItem(oa)},setTimeRangePreset:o=>{n(s=>{let d;return o==="morning"?d={...s,timeRange:{start:"00:00",end:"14:29"}}:o==="afternoon"?d={...s,timeRange:{start:"14:30",end:"23:59"}}:d={...s,timeRange:{start:null,end:null}},a(d),d})},getTeamIdentifier:o=>{const d=(o.InvolvedTeam==="first"?o.FirstTeamText:o.SecondTeamText).match(/(\d+-\d+)/);return d?d[1]:""}}}const Mr=Ps();function Be(t){const n=(t.InvolvedTeam==="first"?t.FirstTeamText:t.SecondTeamText).match(/(\d+-\d+)/);return n?n[1]:""}function Wr(t){const r=new Set(t.map(n=>n.Division.CodeAlias));return Array.from(r).sort()}function an(t){const r=new Set;return t.forEach(n=>{const a=Be(n);a&&r.add(a)}),Array.from(r).sort()}function nn(t){let r=Ar;return Mr.subscribe(n=>{r=n})(),t.filter(n=>{if(r.division&&n.Division.CodeAlias!==r.division)return!1;if(r.wave!=="all"){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),d=o.getMinutes(),u=s*60+d,h=870;if(r.wave==="morning"&&u>=h||r.wave==="afternoon"&&u<h)return!1}if(r.teams.length>0){const a=Be(n);if(!a||!r.teams.includes(a))return!1}if(r.timeRange.start||r.timeRange.end){const a=new Date(n.ScheduledStartDateTime).getTime(),o=new Date(a),s=o.getHours(),d=o.getMinutes(),u=s*60+d;if(r.timeRange.start){const[h,p]=r.timeRange.start.split(":").map(Number),b=h*60+p;if(u<b)return!1}if(r.timeRange.end){const[h,p]=r.timeRange.end.split(":").map(Number),b=h*60+p;if(u>b)return!1}}return!0})}function It(t,r){Mr.updateFilter(t,r)}function sa(){Mr.resetFilters()}const ia="matchPriorities";function $s(){const{subscribe:t,set:r,update:n}=Et({});try{const o=localStorage.getItem(ia);if(o){const s=JSON.parse(o);r(s)}}catch(o){console.error("Failed to load priorities:",o)}const a=o=>{try{localStorage.setItem(ia,JSON.stringify(o))}catch(s){console.error("Failed to save priorities:",s)}};return{subscribe:t,setPriority:(o,s)=>{n(d=>{const u={...d};return s===null?delete u[o]:u[o]=s,a(u),u})},getPriority:o=>{let s=null;return t(d=>{s=d[o]||null})(),s},clearAllPriorities:()=>{r({}),localStorage.removeItem(ia)}}}const Ot=$s(),Fa="followedTeams",Aa="teamColors";function Is(){const{subscribe:t,set:r,update:n}=Et([]),{subscribe:a,set:o,update:s}=Et(new Map);{try{const h=localStorage.getItem(Fa);h&&r(JSON.parse(h))}catch(h){console.error("Failed to load followed teams:",h)}try{const h=localStorage.getItem(Aa);if(h){const p=JSON.parse(h);o(new Map(Object.entries(p)))}}catch(h){console.error("Failed to load team colors:",h)}}const d=h=>{try{localStorage.setItem(Fa,JSON.stringify(h))}catch(p){console.error("Failed to save followed teams:",p)}},u=h=>{try{const p={};h.forEach((b,D)=>{p[D]=b}),localStorage.setItem(Aa,JSON.stringify(p))}catch(p){console.error("Failed to save team colors:",p)}};return{subscribe:t,followTeam:(h,p)=>{n(b=>{if(b.some(k=>k.teamId===h))return b;const D=[...b,{teamId:h,teamName:p,followedAt:Date.now()}];return d(D),D})},unfollowTeam:h=>{n(p=>{const b=p.filter(D=>D.teamId!==h);return d(b),b}),s(p=>{const b=new Map(p);return b.delete(h),u(b),b})},isFollowing:h=>{let p=!1;return t(b=>{p=b.some(D=>D.teamId===h)})(),p},setTeamColor:(h,p)=>{s(b=>{const D=new Map(b);return D.set(h,p),u(D),D})},getTeamColor:h=>{let p=null;return a(b=>{p=b.get(h)||null})(),p},reorderTeams:(h,p)=>{n(b=>{const D=b.findIndex(m=>m.teamId===h);if(D===-1)return b;const k=[...b],w=k[D];return p==="top"?(k.splice(D,1),k.unshift(w)):p==="up"&&D>0?[k[D-1],k[D]]=[k[D],k[D-1]]:p==="down"&&D<k.length-1&&([k[D],k[D+1]]=[k[D+1],k[D]]),d(k),k})}}}const Ir=Is(),Ra="notificationPreferences",Or={upcomingMatchReminder:!0,reminderMinutes:5,scoreUpdateNotification:!0,browserNotifications:!1};function Os(){const{subscribe:t,set:r,update:n}=Et(Or),{subscribe:a,set:o}=Et("default");{try{const u=localStorage.getItem(Ra);if(u){const h=JSON.parse(u);r({...Or,...h})}}catch(u){console.error("Failed to load notification preferences:",u)}"Notification"in window&&o(Notification.permission)}const s=u=>{try{localStorage.setItem(Ra,JSON.stringify(u))}catch(h){console.error("Failed to save notification preferences:",h)}},d=(u,h,p=!1)=>{let b="default";a(D=>{b=D})(),p&&b==="granted"&&"Notification"in window?new Notification(u,{body:h,icon:"/favicon.ico",tag:"courtsync-notification"}):console.log(`[Notification] ${u}: ${h}`)};return{preferences:{subscribe:t},notificationPermission:{subscribe:a},requestPermission:async()=>{if("Notification"in window){let u="default";if(a(h=>{u=h})(),u==="default"){const h=await Notification.requestPermission();return o(h),h==="granted"}return u==="granted"}return!1},checkUpcomingMatches:(u,h)=>{let p=Or;if(t(k=>{p=k})(),!p.upcomingMatchReminder)return;const b=Date.now(),D=p.reminderMinutes*60*1e3;u.forEach(k=>{const w=k.ScheduledStartDateTime,m=w-b,x=k.FirstTeamText||k.SecondTeamText;if(h.includes(x)&&m>0&&m<=D){const g=`reminder-${k.MatchId}`,E=localStorage.getItem(g);if(!E||Date.now()-parseInt(E)>D){const _=Math.floor(m/6e4);d(`Match starting in ${_} minute${_!==1?"s":""}`,`${k.FirstTeamText} vs ${k.SecondTeamText}
${new Date(w).toLocaleTimeString()} - ${k.CourtName}`,p.browserNotifications),localStorage.setItem(g,Date.now().toString())}}})},notifyScoreUpdate:(u,h)=>{let p=Or;if(t(x=>{p=x})(),!p.scoreUpdateNotification)return;const b=h.sets.find(x=>x.completedAt===0)||h.sets[h.sets.length-1],D=h.sets.filter(x=>x.completedAt>0),k=D.filter(x=>x.team1Score>x.team2Score).length,w=D.filter(x=>x.team2Score>x.team1Score).length;let m=`Score: ${b.team1Score}-${b.team2Score}`;D.length>0&&(m=`Sets: ${k}-${w} | ${m}`),d(`${u.FirstTeamText} vs ${u.SecondTeamText}`,m,p.browserNotifications)},updatePreferences:u=>{n(h=>{const p={...h,...u};return s(p),p})}}}const ca=Os(),Es="courtsync-score-updates";let Er=null;const Ns=()=>{if(!Er)try{Er=new BroadcastChannel(Es)}catch(t){console.error("BroadcastChannel not supported:",t),Er={postMessage:()=>{},close:()=>{},onmessage:null}}return Er},Fs=(t,r,n)=>{const a=Ns(),o={type:n?"score-update":"score-delete",eventId:t,matchId:r,score:n||void 0,timestamp:Date.now()};try{a.postMessage(o)}catch(s){console.error("Failed to broadcast score update:",s)}},Wa="scoreHistory",As=(t,r,n)=>{try{const a=localStorage.getItem(Wa),o=a?JSON.parse(a):{};o[t.toString()]||(o[t.toString()]=[]);const s={matchId:t,timestamp:Date.now(),sets:[...r.sets],status:r.status,updatedBy:n};o[t.toString()].push(s),o[t.toString()].length>100&&(o[t.toString()]=o[t.toString()].slice(-100)),localStorage.setItem(Wa,JSON.stringify(o))}catch(a){console.error("Failed to save score history:",a)}},Ya="claimHistory",La=1e3;function la(t){try{const r=localStorage.getItem(Ya),n=r?JSON.parse(r):[];n.unshift(t),n.length>La&&n.splice(La),localStorage.setItem(Ya,JSON.stringify(n))}catch(r){console.error("Failed to save claim history:",r)}}const ja="matchClaims",da="matchScores",Rs=1800*1e3;function on({eventId:t,userId:r="anonymous"}){const{subscribe:n,set:a,update:o}=Et(new Map),{subscribe:s,set:d,update:u}=Et(new Map);{try{const w=localStorage.getItem(ja);if(w){const m=JSON.parse(w),x=new Map;Object.values(m).forEach(g=>{g.eventId===t&&g.expiresAt>Date.now()&&x.set(g.matchId,g)}),a(x)}}catch(w){console.error("Failed to load claims:",w)}try{const w=localStorage.getItem(da);if(w){const m=JSON.parse(w),x=new Map;Object.values(m).forEach(g=>{g.eventId===t&&x.set(g.matchId,g)}),d(x)}}catch(w){console.error("Failed to load scores:",w)}}const h=w=>{try{const m={};w.forEach(x=>{m[x.matchId.toString()]=x}),localStorage.setItem(ja,JSON.stringify(m))}catch(m){console.error("Failed to save claims:",m)}},p=w=>{try{const m={};w.forEach(x=>{m[x.matchId.toString()]=x}),localStorage.setItem(da,JSON.stringify(m))}catch(m){console.error("Failed to save scores:",m)}};let b=null;return{claims:{subscribe:n},scores:{subscribe:s},claimMatch:(w,m)=>{const x=Date.now(),g=m+Rs,E={matchId:w,claimedBy:r,claimedAt:x,expiresAt:g,eventId:t};o(_=>{const O=new Map(_);return O.set(w,E),h(O),O}),la({matchId:w,eventId:t,action:"claimed",userId:r,timestamp:x})},releaseClaim:w=>{o(m=>{const x=m.get(w),g=new Map(m);return g.delete(w),h(g),x&&eo&&la({matchId:w,eventId:t,action:"released",userId:x.claimedBy,timestamp:Date.now()}),g})},transferClaim:(w,m)=>{let x=!1;if(n(E=>{const _=E.get(w);x=(_==null?void 0:_.claimedBy)===r&&_.expiresAt>Date.now()})(),!x)return!1;const g=Date.now();return o(E=>{const _=E.get(w);if(!_)return E;const O={..._,claimedBy:m,claimedAt:g},B=new Map(E);return B.set(w,O),h(B),la({matchId:w,eventId:t,action:"transferred",userId:r,timestamp:g,transferredTo:m}),B}),!0},isClaimed:w=>{let m=!1;return n(x=>{const g=x.get(w);m=g?g.expiresAt>Date.now():!1})(),m},getClaimStatus:w=>{let m="available";return n(x=>{const g=x.get(w);!g||g.expiresAt<Date.now()?m="available":g.claimedBy===r?m="claimed":m="locked"})(),m},getClaimer:w=>{let m=null;return n(x=>{const g=x.get(w);m=g&&g.expiresAt>Date.now()?g.claimedBy:null})(),m},isClaimOwner:w=>{let m=!1;return n(x=>{const g=x.get(w);m=(g==null?void 0:g.claimedBy)===r&&g.expiresAt>Date.now()})(),m},updateScore:(w,m,x)=>{const g={matchId:w,eventId:t,sets:m,status:x,lastUpdated:Date.now(),lastUpdatedBy:r};u(E=>{const _=new Map(E);return _.set(w,g),p(_),_}),Fs(t,w,g),As(w,g,r)},getScore:w=>{let m=null;return s(x=>{m=x.get(w)||null})(),m},clearEventData:()=>{o(w=>{const m=new Map(w);return m.forEach((x,g)=>{x.eventId===t&&m.delete(g)}),h(m),m}),u(w=>{const m=new Map(w);return m.forEach((x,g)=>{x.eventId===t&&m.delete(g)}),p(m),m})},startPolling:()=>{b||(b=setInterval(()=>{try{const w=localStorage.getItem(da);if(!w)return;const m=JSON.parse(w),x=new Map;let g=!1;s(E=>{Object.values(m).forEach(_=>{if(_.eventId===t){x.set(_.matchId,_);const O=E.get(_.matchId);(!O||_.lastUpdated&&_.lastUpdated>O.lastUpdated)&&(g=!0)}}),g&&u(_=>{const O=new Map(_);return x.forEach((B,te)=>{const $=_.get(te);(!$||B.lastUpdated&&B.lastUpdated>$.lastUpdated)&&O.set(te,B)}),O})})()}catch(w){console.error("Failed to poll scores:",w)}},3e3))},stopPolling:()=>{b&&(clearInterval(b),b=null)}}}const ua="matchNotes";function Ws(t){const{subscribe:r,set:n,update:a}=Et(new Map);try{const s=localStorage.getItem(ua);if(s){const d=JSON.parse(s),u=new Map;Object.values(d).forEach(h=>{h.eventId===t&&u.set(h.matchId,h)}),n(u)}}catch(s){console.error("Failed to load match notes:",s)}const o=s=>{try{const d=localStorage.getItem(ua),u=d?JSON.parse(d):{};s.forEach(h=>{u[`${t}-${h.matchId}`]=h}),Object.keys(u).forEach(h=>{if(h.startsWith(`${t}-`)){const p=parseInt(h.split("-").pop()||"0");s.has(p)||delete u[h]}}),localStorage.setItem(ua,JSON.stringify(u))}catch(d){console.error("Failed to save match notes:",d)}};return{subscribe:r,setNote:(s,d)=>{const u=Date.now();a(h=>{const p=new Map(h),b=p.get(s);return d.trim()?p.set(s,{matchId:s,eventId:t,note:d.trim(),createdAt:(b==null?void 0:b.createdAt)||u,updatedAt:u}):p.delete(s),o(p),p})},getNote:s=>{let d="";return r(u=>{var h;d=((h=u.get(s))==null?void 0:h.note)||""})(),d},deleteNote:s=>{a(d=>{const u=new Map(d);return u.delete(s),o(u),u})},hasNote:s=>{let d=!1;return r(u=>{const h=u.get(s);d=h!==void 0&&h.note.trim().length>0})(),d}}}function Ys(t){return Ws(t)}var Ls=C('<div class="text-center py-8 text-[#9fa2ab] text-sm">Loading schedule...</div>'),js=C('<div class="text-center py-4 text-red-400 text-sm"> </div>'),Hs=C("<button>Statistics</button>"),Bs=C('<div class="text-[#9fa2ab]">TeamStatsView - To be migrated</div>'),Us=C('<div class="text-xs text-[#808593] py-4 text-center">No schedule data available</div>'),Js=C('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),qs=C('<span class="text-[#808593] font-medium">WORK</span> <span class="text-[#808593] ml-2"> </span>',1),Gs=C('<span class="text-[#808593] mx-1">vs</span> ',1),Vs=C('<span class="text-[#eab308] font-semibold">PLAY</span> <span class="text-[#c0c2c8] ml-2"> <!></span>',1),zs=C('<span class="mx-1">vs</span> ',1),Xs=C('<span class="text-[#808593] font-medium">WATCH</span> <span class="text-[#808593] ml-2"> <!></span>',1),Qs=C('<div class="flex-shrink-0"><span class="px-2 py-0.5 text-[10px] font-semibold rounded"> </span></div>'),Ks=C('<div><div></div> <div class="flex-shrink-0 w-16 text-xs font-medium text-[#9fa2ab]"> </div> <div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0"><div class="text-xs"><!></div></div> <!></div>'),Zs=C('<div class="space-y-1"><div class="flex items-center gap-2 mb-2 pb-1 border-b border-[#454654]"><h6 class="text-xs font-semibold text-[#f8f8f9]"> </h6> <span class="text-[10px] text-[#808593]"> </span></div> <!></div>'),ei=C('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Complete Schedule</h5> <div class="space-y-4"><!></div></div>'),ti=C('<div class="text-xs text-[#808593] py-4 text-center">No pool data available for this team</div>'),ri=C("<option> </option>"),ai=C('<div class="mb-4"><label class="text-xs text-[#9fa2ab] mb-1 block">Pool:</label> <select class="w-full px-3 py-2.5 sm:py-2 text-sm font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"></select></div>'),ni=C('<tr><td class="px-2 sm:px-3 py-2 text-[#f8f8f9] font-medium"> </td><td class="px-2 sm:px-3 py-2"><div> </div></td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td><td class="px-2 sm:px-3 py-2 text-center text-[#c0c2c8]"> </td></tr>'),oi=C('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]"> </h6></div> <div class="overflow-x-auto"><table class="w-full text-xs min-w-[500px]"><thead><tr class="border-b border-[#454654] bg-[#454654]/50"><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Rank</th><th class="px-2 sm:px-3 py-2 text-left text-[#9fa2ab] font-semibold">Team</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">W</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">L</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Sets</th><th class="px-2 sm:px-3 py-2 text-center text-[#9fa2ab] font-semibold">Points</th></tr></thead><tbody></tbody></table></div></div>'),si=C('<div class="flex-shrink-0 w-20 text-xs text-[#facc15] font-medium"> </div>'),ii=C('<span class="text-[#808593] mx-1">vs</span> ',1),ci=C('<div><div class="flex-shrink-0 w-20 text-sm font-semibold text-[#f8f8f9]"> </div> <!> <div class="flex-1 min-w-0 text-xs text-[#c0c2c8]"> <!></div></div>'),li=C('<div class="border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="px-3 sm:px-4 py-2 bg-[#454654] border-b border-[#525463]"><h6 class="text-xs sm:text-sm font-semibold text-[#f8f8f9]">Pool Schedule</h6></div> <div class="p-3 sm:p-4 space-y-2"></div></div>'),di=C('<div class="space-y-4"><!> <!></div>'),ui=C('<div class="text-xs text-[#808593] py-4 text-center">Loading pool sheet...</div>'),vi=C("<!> <!>",1),fi=C('<div><h5 class="text-xs font-semibold text-[#9fa2ab] uppercase tracking-wider mb-2">Pool Standings</h5> <!></div>'),mi=C('<div class="space-y-4"><div class="flex items-center gap-2 border-b border-[#454654] pb-2"><button>Schedule</button> <button>Pool Sheet</button> <!></div> <!></div>'),hi=C('<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2"> </h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!> <!></div></div>');function xi(t,r){Zt(r,!1);const n=Y(),a=Y(),o=Y(),s=Y(),d=Y();let u=Ae(r,"match",8),h=Ae(r,"eventId",8),p=Ae(r,"clubId",8),b=Ae(r,"onClose",8),D=Ae(r,"matches",24,()=>[]),k=Y(null),w=Y([]),m=Y([]),x=Y([]),g=Y([]),E=Y(null),_=Y(null),O=Y("schedule"),B=Y(!0),te=Y(null);function $(){return u().InvolvedTeam==="first"?u().FirstTeamText:u().InvolvedTeam==="second"?u().SecondTeamText:""}const re=Be(u()),ie=$();xa(async()=>{T(B,!0),T(te,null);try{const M=(await so(h(),p())).value||[],z=$();if(!z){T(te,"Could not extract team name from match"),T(B,!1);return}const ee=M.find(Pe=>{if(Pe.TeamText===z||Pe.TeamName===z)return!0;const Je=z.match(/(\d+-\d+)/);if(Je){const Te=Je[1];return Pe.TeamName.includes(Te)||Pe.TeamText.includes(Te)}return!1});if(!ee){T(te,`Team not found: ${z}`),T(B,!1);return}const ne=ee.TeamId,de=ee.TeamDivision.DivisionId;T(k,{TeamId:ne,DivisionId:de,TeamName:ee.TeamName,TeamText:ee.TeamText});const[Fe,ot,vt]=await Promise.all([ta(h(),de,ne,"current").catch(()=>[]),ta(h(),de,ne,"work").catch(()=>[]),ta(h(),de,ne,"future").catch(()=>[])]),ft=(Pe,Je=!1)=>Array.isArray(Pe)?Pe.flatMap(Te=>{var bt,He;return Je?Te.Match?[{...Te.Match,Court:Te.Match.Court||null,Division:{...Te.Play,PlayId:(bt=Te.Play)==null?void 0:bt.PlayId},FirstTeamText:((He=Te.Play)==null?void 0:He.CompleteShortName)||"Work Assignment",SecondTeamText:void 0}]:[]:!Te.Matches||!Array.isArray(Te.Matches)?[]:Te.Matches.map(Ge=>{var Ke;return{...Ge,Court:Ge.Court||null,Division:{...Te.Play,PlayId:(Ke=Te.Play)==null?void 0:Ke.PlayId}}})}):[];T(w,ft(Fe,!1)),T(m,ft(ot,!0)),T(x,ft(vt,!1));const Ne=await io(h(),de).catch(()=>null);Ne!=null&&Ne.Plays&&T(g,Ne.Plays)}catch(f){T(te,f instanceof Error?f.message:"Failed to load team data")}finally{T(B,!1)}});function ce(f,M=!1){var Fe,ot;const z=typeof f.ScheduledStartDateTime=="string"?new Date(f.ScheduledStartDateTime).getTime():f.ScheduledStartDateTime,ee=((Fe=f.FirstTeamText)==null?void 0:Fe.includes("630"))||((ot=f.SecondTeamText)==null?void 0:ot.includes("630")),ne=zt(z),de=We(z);return{matchDate:ne,startTimeDisplay:de,isPlaying:ee,isWork:M,scheduleMatch:f}}se(()=>e(O),()=>{e(O)==="poolsheet"&&T(_,null)}),se(()=>(e(w),e(m),e(x)),()=>{T(n,[...e(w).map(M=>({...M,type:"current"})),...e(m).map(M=>({...M,type:"work"})),...e(x).map(M=>({...M,type:"future"}))].filter((M,z,ee)=>ee.findIndex(ne=>ne.MatchId===M.MatchId)===z).sort((M,z)=>{const ee=typeof M.ScheduledStartDateTime=="string"?new Date(M.ScheduledStartDateTime).getTime():M.ScheduledStartDateTime||0,ne=typeof z.ScheduledStartDateTime=="string"?new Date(z.ScheduledStartDateTime).getTime():z.ScheduledStartDateTime||0;return ee-ne}))}),se(()=>e(n),()=>{T(a,(()=>{const f=new Set;return e(n).forEach(M=>{if(M.Division&&M.Division.PlayId){const z=Math.abs(M.Division.PlayId);f.add(z)}}),Array.from(f)})())}),se(()=>(e(g),e(a)),()=>{T(o,e(g).filter(f=>{const M=Math.abs(f.PlayId);return e(a).includes(M)}))}),se(()=>(e(o),e(E)),()=>{e(o).length>0&&!e(E)&&T(E,e(o)[0].PlayId)}),se(()=>(e(E),e(O),y(h())),()=>{e(E)&&e(O)==="poolsheet"&&co(h(),e(E)).then(f=>{T(_,f)}).catch(f=>{console.error("Failed to fetch pool sheet:",f),T(_,null)})}),se(()=>(e(n),zt),()=>{T(s,(()=>{const f={};return e(n).forEach(M=>{const z=typeof M.ScheduledStartDateTime=="string"?new Date(M.ScheduledStartDateTime).getTime():M.ScheduledStartDateTime||0,ee=zt(z);f[ee]||(f[ee]=[]),f[ee].push(M)}),f})())}),se(()=>e(s),()=>{T(d,Object.keys(e(s)).sort((f,M)=>{const z=new Date(f).getTime(),ee=new Date(M).getTime();return z-ee}))}),ur(),tr();var je=hi(),we=l(je),Ee=l(we),Ye=l(Ee),Ue=l(Ye);i(Ye);var dt=v(Ye,2);dt.__click=function(...f){var M;(M=b())==null||M.apply(this,f)},i(Ee);var ut=v(Ee,2);{var wt=f=>{var M=Ls();S(f,M)};A(ut,f=>{e(B)&&f(wt)})}var xt=v(ut,2);{var be=f=>{var M=js(),z=l(M,!0);i(M),q(()=>F(z,e(te))),S(f,M)};A(xt,f=>{e(te)&&f(be)})}var I=v(xt,2);{var G=f=>{var M=mi(),z=l(M),ee=l(z);ee.__click=()=>T(O,"schedule");var ne=v(ee,2);ne.__click=()=>T(O,"poolsheet");var de=v(ne,2);{var Fe=Ne=>{var Pe=Hs();Pe.__click=()=>T(O,"stats"),q(()=>ve(Pe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(O)==="stats"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)),S(Ne,Pe)};A(de,Ne=>{y(D()),c(()=>D().length>0&&re)&&Ne(Fe)})}i(z);var ot=v(z,2);{var vt=Ne=>{var Pe=Bs();S(Ne,Pe)},ft=Ne=>{var Pe=Rt(),Je=Qe(Pe);{var Te=He=>{var Ge=ei(),Ke=v(l(Ge),2),Tt=l(Ke);{var st=qe=>{var rt=Us();S(qe,rt)},tt=qe=>{var rt=Rt(),Yt=Qe(rt);ht(Yt,1,()=>e(d),mt,(Lt,fe)=>{const _e=X(()=>(e(s),e(fe),c(()=>e(s)[e(fe)])));var $e=Zs(),Ie=l($e),P=l(Ie),R=l(P,!0);i(P);var j=v(P,2),Q=l(j);i(j),i(Ie);var J=v(Ie,2);ht(J,1,()=>e(_e),mt,(K,H)=>{const N=X(()=>(e(H),c(()=>ce(e(H),e(H).type==="work"))));var ae=Ks(),W=l(ae),L=v(W,2),Z=l(L,!0);i(L);var ue=v(L,2),oe=l(ue,!0);i(ue);var Oe=v(ue,2);{var me=le=>{var Le=Js(),he=l(Le,!0);i(Le),q(()=>F(he,(y(e(N)),c(()=>e(N).scheduleMatch.Court.Name)))),S(le,Le)};A(Oe,le=>{y(e(N)),c(()=>e(N).scheduleMatch.Court)&&le(me)})}var V=v(Oe,2),Se=l(V),Me=l(Se);{var gt=le=>{var Le=qs(),he=v(Qe(Le),2),at=l(he,!0);i(he),q(()=>F(at,(y(e(N)),c(()=>{var Mt,Ve;return((Mt=e(N).scheduleMatch.Division)==null?void 0:Mt.CompleteShortName)||((Ve=e(N).scheduleMatch.Division)==null?void 0:Ve.FullName)||e(N).scheduleMatch.FirstTeamText})))),S(le,Le)},Re=le=>{var Le=Rt(),he=Qe(Le);{var at=Ve=>{var De=Vs(),ge=v(Qe(De),2),nt=l(ge),ye=v(nt);{var kt=pt=>{var it=Gs(),_t=v(Qe(it));q(()=>F(_t,` ${y(e(N)),c(()=>e(N).scheduleMatch.SecondTeamText)??""}`)),S(pt,it)};A(ye,pt=>{y(e(N)),c(()=>e(N).scheduleMatch.SecondTeamText)&&pt(kt)})}i(ge),q(()=>F(nt,`${y(e(N)),c(()=>e(N).scheduleMatch.FirstTeamText)??""} `)),S(Ve,De)},Mt=Ve=>{var De=Xs(),ge=v(Qe(De),2),nt=l(ge),ye=v(nt);{var kt=pt=>{var it=zs(),_t=v(Qe(it));q(()=>F(_t,` ${y(e(N)),c(()=>e(N).scheduleMatch.SecondTeamText)??""}`)),S(pt,it)};A(ye,pt=>{y(e(N)),c(()=>e(N).scheduleMatch.SecondTeamText)&&pt(kt)})}i(ge),q(()=>F(nt,`${y(e(N)),c(()=>e(N).scheduleMatch.FirstTeamText)??""} `)),S(Ve,De)};A(he,Ve=>{y(e(N)),c(()=>e(N).isPlaying)?Ve(at):Ve(Mt,!1)},!0)}S(le,Le)};A(Me,le=>{y(e(N)),c(()=>e(N).isWork)?le(gt):le(Re,!1)})}i(Se),i(V);var pe=v(V,2);{var U=le=>{var Le=Qs(),he=l(Le),at=l(he,!0);i(he),i(Le),q(()=>{Qt(he,`background-color: ${y(e(N)),c(()=>e(N).scheduleMatch.Division.ColorHex)??""}20; color: ${y(e(N)),c(()=>e(N).scheduleMatch.Division.ColorHex)??""}; border: 1px solid ${y(e(N)),c(()=>e(N).scheduleMatch.Division.ColorHex)??""}40;`),F(at,(y(e(N)),c(()=>e(N).scheduleMatch.Division.CodeAlias)))}),S(le,Le)};A(pe,le=>{y(e(N)),c(()=>e(N).scheduleMatch.Division)&&le(U)})}i(ae),q(()=>{ve(ae,1,`flex items-center gap-3 px-3 py-2 rounded border ${y(e(N)),c(()=>e(N).isWork?"border-[#525463] bg-[#454654]/30":e(N).isPlaying?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30")??""}`),ve(W,1,`flex-shrink-0 w-1 h-full rounded-full ${y(e(N)),c(()=>e(N).isWork?"bg-[#808593]":e(N).isPlaying?"bg-[#eab308]":"bg-[#525463]")??""}`),F(Z,(y(e(N)),c(()=>e(N).matchDate))),F(oe,(y(e(N)),c(()=>e(N).startTimeDisplay)))}),S(K,ae)}),i($e),q(()=>{F(R,e(fe)),F(Q,`(${y(e(_e)),c(()=>e(_e).length)??""} match${y(e(_e)),c(()=>e(_e).length!==1?"es":"")??""})`)}),S(Lt,$e)}),S(qe,rt)};A(Tt,qe=>{e(d),c(()=>e(d).length===0)?qe(st):qe(tt,!1)})}i(Ke),i(Ge),S(He,Ge)},bt=He=>{var Ge=fi(),Ke=v(l(Ge),2);{var Tt=tt=>{var qe=ti();S(tt,qe)},st=tt=>{var qe=vi(),rt=Qe(qe);{var Yt=$e=>{var Ie=ai(),P=v(l(Ie),2);P.__change=j=>T(E,Number(j.target.value)),ht(P,5,()=>e(o),mt,(j,Q)=>{var J=ri(),K=l(J,!0);i(J);var H={};q(()=>{F(K,(e(Q),c(()=>e(Q).CompleteFullName||e(Q).FullName||`Pool ${e(Q).PlayId}`))),H!==(H=(e(Q),c(()=>e(Q).PlayId)))&&(J.value=(J.__value=(e(Q),c(()=>e(Q).PlayId)))??"")}),S(j,J)}),i(P);var R;gr(P),i(Ie),q(()=>{R!==(R=e(E)||"")&&(P.value=(P.__value=e(E)||"")??"",dr(P,e(E)||""))}),S($e,Ie)};A(rt,$e=>{e(o),c(()=>e(o).length>1)&&$e(Yt)})}var Lt=v(rt,2);{var fe=$e=>{var Ie=di(),P=l(Ie);{var R=J=>{var K=oi(),H=l(K),N=l(H),ae=l(N);i(N),i(H);var W=v(H,2),L=l(W),Z=v(l(L));ht(Z,5,()=>(e(_),c(()=>e(_).Pool.Teams)),mt,(ue,oe)=>{const Oe=X(()=>(e(oe),c(()=>{var De;return(De=e(oe).TeamText)==null?void 0:De.includes("630")})));var me=ni(),V=l(me),Se=l(V,!0);i(V);var Me=v(V),gt=l(Me),Re=l(gt,!0);i(gt),i(Me);var pe=v(Me),U=l(pe,!0);i(pe);var le=v(pe),Le=l(le,!0);i(le);var he=v(le),at=l(he);i(he);var Mt=v(he),Ve=l(Mt,!0);i(Mt),i(me),q(()=>{ve(me,1,`border-b border-[#454654] ${e(Oe)?"bg-[#eab308]/10":""}`),F(Se,(e(oe),c(()=>e(oe).FinishRank||e(oe).OverallRank||"-"))),ve(gt,1,e(Oe)?"text-[#facc15] font-semibold":"text-[#c0c2c8]"),F(Re,(e(oe),c(()=>e(oe).TeamText))),F(U,(e(oe),c(()=>e(oe).MatchesWon??"-"))),F(Le,(e(oe),c(()=>e(oe).MatchesLost??"-"))),F(at,`${e(oe),c(()=>e(oe).SetsWon??"-")??""}-${e(oe),c(()=>e(oe).SetsLost??"-")??""}`),F(Ve,(e(oe),c(()=>e(oe).PointRatio&&e(oe).PointRatio!=="NaN"?e(oe).PointRatio:"-")))}),S(ue,me)}),i(Z),i(L),i(W),i(K),q(()=>F(ae,`${e(_),c(()=>e(_).Pool.CompleteFullName||e(_).Pool.FullName)??""} - Standings`)),S(J,K)};A(P,J=>{e(_),c(()=>e(_).Pool&&e(_).Pool.Teams&&e(_).Pool.Teams.length>0)&&J(R)})}var j=v(P,2);{var Q=J=>{var K=li(),H=v(l(K),2);ht(H,5,()=>(e(_),c(()=>e(_).Pool.Matches)),mt,(N,ae)=>{const W=X(()=>(e(ae),c(()=>typeof e(ae).ScheduledStartDateTime=="string"?new Date(e(ae).ScheduledStartDateTime).getTime():e(ae).ScheduledStartDateTime))),L=X(()=>(e(ae),c(()=>{var Re,pe;return((Re=e(ae).FirstTeamText)==null?void 0:Re.includes("630"))||((pe=e(ae).SecondTeamText)==null?void 0:pe.includes("630"))})));var Z=ci(),ue=l(Z),oe=l(ue,!0);i(ue);var Oe=v(ue,2);{var me=Re=>{var pe=si(),U=l(pe,!0);i(pe),q(()=>F(U,(e(ae),c(()=>e(ae).Court.Name)))),S(Re,pe)};A(Oe,Re=>{e(ae),c(()=>e(ae).Court)&&Re(me)})}var V=v(Oe,2),Se=l(V),Me=v(Se);{var gt=Re=>{var pe=ii(),U=v(Qe(pe));q(()=>F(U,` ${e(ae),c(()=>e(ae).SecondTeamText)??""}`)),S(Re,pe)};A(Me,Re=>{e(ae),c(()=>e(ae).SecondTeamText)&&Re(gt)})}i(V),i(Z),q(Re=>{ve(Z,1,`flex items-center gap-3 px-3 py-2 rounded border ${e(L)?"border-[#eab308]/50 bg-[#eab308]/5":"border-[#454654] bg-[#3b3c48]/30"}`),F(oe,Re),F(Se,`${e(ae),c(()=>e(ae).FirstTeamText)??""} `)},[()=>(y(We),y(e(W)),c(()=>We(e(W))))]),S(N,Z)}),i(H),i(K),S(J,K)};A(j,J=>{e(_),c(()=>e(_).Pool&&e(_).Pool.Matches&&e(_).Pool.Matches.length>0)&&J(Q)})}i(Ie),S($e,Ie)},_e=$e=>{var Ie=Rt(),P=Qe(Ie);{var R=j=>{var Q=ui();S(j,Q)};A(P,j=>{e(E)&&j(R)},!0)}S($e,Ie)};A(Lt,$e=>{e(E)&&e(_)?$e(fe):$e(_e,!1)})}S(tt,qe)};A(Ke,tt=>{e(o),c(()=>e(o).length===0)?tt(Tt):tt(st,!1)})}i(Ge),S(He,Ge)};A(Je,He=>{e(O)==="schedule"?He(Te):He(bt,!1)},!0)}S(Ne,Pe)};A(ot,Ne=>{e(O)==="stats"&&re?Ne(vt):Ne(ft,!1)})}i(M),q(()=>{ve(ee,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(O)==="schedule"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ve(ne,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(O)==="poolsheet"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`)}),S(f,M)};A(I,f=>{!e(B)&&e(k)&&f(G)})}i(we),i(je),q(()=>F(Ue,`${e(k),c(()=>{var f;return((f=e(k))==null?void 0:f.TeamText)||ie})??""} - Full Schedule`)),S(t,je),er()}sr(["click","change"]);var bi=C("<button><span> </span> <span> </span></button>"),pi=C('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[160px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Set Priority</div> <div class="space-y-1"></div></div>');function sn(t,r){Zt(r,!1);let n=Ae(r,"matchId",8),a=Ae(r,"currentPriority",8),o=Ae(r,"onPriorityChange",8),s=Ae(r,"onClose",8,void 0),d=Y(null);const u=[{value:"must-cover",label:"Must Cover",color:"#eab308",icon:"â­"},{value:"priority",label:"Priority",color:"#f59e0b",icon:"ð¸"},{value:"optional",label:"Optional",color:"#9fa2ab",icon:"â"},{value:null,label:"Clear",color:"#9fa2ab",icon:"â"}];function h(D){o()(n(),D),s()&&s()()}tr();var p=pi(),b=v(l(p),2);ht(b,5,()=>u,mt,(D,k)=>{const w=X(()=>(y(a()),e(k),c(()=>a()===e(k).value))),m=X(()=>(e(d),e(k),c(()=>e(d)===e(k).value)));var x=bi();x.__click=()=>h(e(k).value);var g=l(x),E=l(g,!0);i(g);var _=v(g,2),O=l(_,!0);i(_),i(x),q(()=>{ve(x,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${e(w)?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(m)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]"}`),F(E,(e(k),c(()=>e(k).icon))),F(O,(e(k),c(()=>e(k).label)))}),_r("mouseenter",x,()=>T(d,e(k).value)),_r("mouseleave",x,()=>T(d,null)),S(D,x)}),i(b),i(p),S(t,p),er()}sr(["click"]);var gi=C("<button><span> </span> <span> </span></button>"),_i=C('<div class="bg-[#3b3c48] border border-[#454654] rounded-lg p-2 shadow-lg min-w-[180px]"><div class="text-xs font-medium text-[#9fa2ab] uppercase tracking-wider mb-2 px-1">Coverage Status</div> <div class="text-xs text-[#c0c2c8] mb-2 px-1"> </div> <div class="space-y-1"></div></div>');function cn(t,r){Zt(r,!1);let n=Ae(r,"teamId",8),a=Ae(r,"currentStatus",8),o=Ae(r,"onStatusChange",8),s=Ae(r,"onClose",8,void 0),d=Y(null);const u=[{value:"not-covered",label:"Not Covered",color:"#9fa2ab",icon:"â"},{value:"covered",label:"Covered",color:"#10b981",icon:"â"},{value:"partially-covered",label:"Partially Covered",color:"#f59e0b",icon:"â"},{value:"planned",label:"Planned",color:"#eab308",icon:"ð"}];function h(w){o()(n(),w),s()&&s()()}tr();var p=_i(),b=v(l(p),2),D=l(b);i(b);var k=v(b,2);ht(k,5,()=>u,mt,(w,m)=>{const x=X(()=>(y(a()),e(m),c(()=>a()===e(m).value))),g=X(()=>(e(d),e(m),c(()=>e(d)===e(m).value)));var E=gi();E.__click=()=>h(e(m).value);var _=l(E),O=l(_,!0);i(_);var B=v(_,2),te=l(B,!0);i(B),i(E),q(()=>{ve(E,1,`w-full text-left px-2 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${y(e(x)),e(m),y(e(g)),c(()=>e(x)?e(m).value==="covered"?"bg-green-500/20 text-green-400 border border-green-500/50":e(m).value==="planned"?"bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50":e(m).value==="partially-covered"?"bg-[#f59e0b]/20 text-[#fbbf24] border border-[#f59e0b]/50":"bg-[#454654] text-[#9fa2ab] border border-[#525463]":e(g)?"bg-[#454654] text-[#f8f8f9]":"text-[#c0c2c8] hover:bg-[#454654]")??""}`),F(O,(e(m),c(()=>e(m).icon))),F(te,(e(m),c(()=>e(m).label)))}),_r("mouseenter",E,()=>T(d,e(m).value)),_r("mouseleave",E,()=>T(d,null)),S(w,E)}),i(k),i(p),q(()=>F(D,`Team ${n()??""}`)),S(t,p),er()}sr(["click"]);var yi=C('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),Si=C('<div class="text-[#9fa2ab] mb-4">LiveMatchDashboard - To be migrated</div>'),wi=C("<button> </button>"),Ti=C('<div class="mb-4 px-4 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-4 flex-wrap"><div class="text-xs text-[#9fa2ab]"><span class="font-semibold text-[#f8f8f9]"> </span> Coverage</div> <div class="flex items-center gap-2 text-xs"><span class="text-green-400"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#f59e0b]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#eab308]"> </span> <span class="text-[#9fa2ab]">/</span> <span class="text-[#808593]"> </span></div></div> <div class="flex items-center gap-2 flex-wrap"><button title="Dim covered teams to focus on uncovered"> </button> <!></div></div>'),Mi=C('<div class="flex items-center justify-between px-3 py-2 rounded bg-[#454654] border border-[#525463] hover:border-[#eab308]/50 transition-colors"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-[#f8f8f9] truncate"> </div> <div class="text-[10px] text-[#9fa2ab] mt-0.5"> </div></div> <button class="ml-3 px-3 py-1 text-xs font-medium rounded bg-[#eab308] text-[#18181b] hover:bg-[#facc15] transition-colors flex-shrink-0">Add</button></div>'),Di=C('<div class="mb-4 rounded-lg border border-[#454654] bg-[#3b3c48] p-4"><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-semibold text-[#f8f8f9]">Coverage Suggestions</h3> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Close suggestions">â</button></div> <div class="space-y-2"></div></div>'),Ci=C('<div class="mb-4 px-3 py-2 rounded-lg border border-[#454654] bg-[#3b3c48] text-xs"><div class="font-medium text-[#9fa2ab] uppercase tracking-wider mb-2">Coverage Status Legend</div> <div class="flex flex-wrap gap-4 text-[#c0c2c8]"><div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308] bg-[#eab308]/5"></div> <span>Uncovered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-[#eab308]/50 bg-[#eab308]/10"></div> <span>Planned</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-green-500/30 bg-green-950/5"></div> <span>Covered</span></div> <div class="flex items-center gap-1.5"><div class="w-4 h-4 rounded border border-red-800/50 bg-red-950/10"></div> <span>Conflict</span></div></div></div>'),ki=C('<div class="text-center py-12 text-[#9fa2ab] text-sm">No matches found</div>'),Pi=C("<span> </span>"),$i=ha('<svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Ii=C("<button><!></button>"),Oi=ha('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),Ei=C('<div class="absolute left-0 top-8 z-50"><!></div>'),Ni=C('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),Fi=C('<div class="absolute left-0 top-8 z-50"><!></div>'),Ai=C('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),Ri=C('<div><div><!> <div class="flex-1 min-w-0"><div class="text-sm font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#9fa2ab]"> </div></div> <!> <!> <div class="flex-shrink-0 w-4"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></div> <!></div>'),Wi=C('<div class="space-y-1.5"><div class="flex items-center justify-between mb-2 pb-1 border-b border-[#454654]"><div class="flex items-center gap-2"><h3 class="text-base font-semibold text-[#f8f8f9]"> </h3> <span class="text-xs text-[#9fa2ab]"> </span></div> <!></div> <!></div>'),Yi=C('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),Li=C('<div><!> <!> <!> <!> <div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Sort:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>Team</button> <button>Court</button> <button>Time</button></div></div> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div></div> <div class="space-y-4"><!></div> <!></div>');function ji(t,r){Zt(r,!1);const n=()=>Ft(ga,"$isSpectator",s),a=()=>Ft(Mr,"$filters",s),o=()=>Ft(pa,"$isMedia",s),[s,d]=ba(),u=Y(),h=Y(),p=Y(),b=Y(),D=Y(),k=Y(),w=Y(),m=Y(),x=Y(),g=Y(),E=Y(),_=Y();let O=Ae(r,"matches",8),B=Ae(r,"eventId",8),te=Ae(r,"clubId",8),$=Y("team"),re=Y(null),ie=Y(null),ce=Y(null),je=Y(!1),we=Y(!1),Ee=Y(null),Ye=Y(new Set),Ue=Y();Ys(B());function dt(I){return I.InvolvedTeam==="first"?I.SecondTeamText:I.InvolvedTeam==="second"?I.FirstTeamText:`${I.FirstTeamText} vs ${I.SecondTeamText}`}xa(()=>{if(ks()){const I=Cs();I&&I.scores.length>0&&JSON.stringify({eventId:I.eventId,scores:I.scores},null,2)}if(e(Ue).startPolling(),n()){let I=[];if(Ir.subscribe(G=>{I=G.map(f=>f.teamId)})(),I.length>0){const G=setInterval(()=>{ca.checkUpcomingMatches(O(),I)},6e4);return()=>clearInterval(G)}}}),xn(()=>{e(Ue).stopPolling()}),se(()=>(n(),y(B())),()=>{const I=n();T(Ue,on({eventId:B(),userId:I?"spectator":"anonymous"}))}),se(()=>y(O()),()=>{T(u,Xa(O()))}),se(()=>(a(),y(O()),We),()=>{T(h,(()=>{if(a().wave!=="all"){const I=a().wave==="morning"?"08:00":"14:30",G=a().wave==="morning"?"14:30":"23:59";return Wr(O()).filter(f=>O().some(M=>{const z=We(M.ScheduledStartDateTime),ee=z.split(" ")[1]||z;return ee>=I&&ee<G&&M.Division.Name===f}))}return Wr(O())})())}),se(()=>y(O()),()=>{T(p,an(O()))}),se(()=>(y(O()),et),()=>{T(b,(()=>{const I=new Map;return O().forEach(G=>{const f=Be(G);f&&I.set(f,et.getTeamStatus(f))}),I})())}),se(()=>(y(O()),e(u),e(b),Be),()=>{T(D,(()=>{const I=Xt(St);return Ds(O(),I,e(u),e(b),Be,{excludeSelected:!0,preferUncovered:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:10})})())}),se(()=>(y(O()),a(),n(),Ir),()=>{T(k,(()=>{let I=nn(O());if(a().priority&&a().priority!=="all"&&(I=I.filter(G=>Ot.getPriority(G.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(I=I.filter(G=>{const f=Be(G);if(!f)return!0;const M=et.getTeamStatus(f);return a().coverageStatus==="uncovered"?M==="not-covered":a().coverageStatus==="covered"?M==="covered"||M==="partially-covered":a().coverageStatus==="planned"?M==="planned":!0})),n()){let G=[];Ir.subscribe(f=>{G=f.map(M=>M.teamId)})(),G.length>0&&(I=I.filter(f=>{const M=Be(f);return M&&G.includes(M)}))}return I})())}),se(()=>(y(O()),e(u)),()=>{T(w,(()=>{const I=Xt(St);return rn(O(),I,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(w),()=>{T(m,new Set(e(w).map(I=>I.match.MatchId)))}),se(()=>(y(O()),et),()=>{T(x,(()=>{const I=new Map;O().forEach(ne=>{const de=Be(ne);if(de){const Fe=et.getTeamStatus(de);I.set(de,Fe)}});const G=I.size,f=Array.from(I.values()).filter(ne=>ne==="covered").length,M=Array.from(I.values()).filter(ne=>ne==="partially-covered").length,z=Array.from(I.values()).filter(ne=>ne==="planned").length,ee=Array.from(I.values()).filter(ne=>ne==="not-covered").length;return{totalTeams:G,coveredTeams:f,partiallyCoveredTeams:M,plannedTeams:z,uncoveredTeams:ee,coveragePercentage:G>0?(f+M)/G*100:0}})())}),se(()=>(e(k),e($),Be),()=>{T(g,(()=>{let I=[...e(k)];return e($)==="priority"?I.sort((G,f)=>{const M=Ot.getPriority(G.MatchId),z=Ot.getPriority(f.MatchId),ee={"must-cover":3,priority:2,optional:1,null:0},ne=ee[M||"null"],de=ee[z||"null"];return ne!==de?de-ne:G.ScheduledStartDateTime-f.ScheduledStartDateTime}):e($)==="team"?I.sort((G,f)=>{const M=Be(G),z=Be(f);return M.localeCompare(z)}):e($)==="court"?I.sort((G,f)=>G.CourtName.localeCompare(f.CourtName)):I.sort((G,f)=>G.ScheduledStartDateTime-f.ScheduledStartDateTime),I})())}),se(()=>(e(g),We),()=>{T(E,(()=>{const I={};return e(g).forEach(G=>{const f=We(G.ScheduledStartDateTime);I[f]||(I[f]=[]),I[f].push(G)}),I})())}),se(()=>e(E),()=>{T(_,Object.keys(e(E)).sort((I,G)=>{const f=new Date(`2000-01-01 ${I}`).getTime(),M=new Date(`2000-01-01 ${G}`).getTime();return f-M}))}),se(()=>(n(),y(O()),e(Ue),e(Ye),e(Ee)),()=>{if(n()&&O().length>0){const I=new Set;O().forEach(G=>{e(Ue).isClaimOwner(G.MatchId)&&(I.add(G.MatchId),!e(Ye).has(G.MatchId)&&(!e(Ee)||e(Ee).MatchId!==G.MatchId)&&setTimeout(()=>{T(Ee,G)},200))}),T(Ye,I)}}),se(()=>(n(),y(O()),e(Ue),ca),()=>{if(n()&&O().length>0){let I=[];Ir.subscribe(G=>{I=G.map(f=>f.teamId)})(),O().forEach(G=>{const f=Be(G);if(f&&I.includes(f)){const M=e(Ue).getScore(G.MatchId);M&&M.status==="in-progress"&&ca.notifyScoreUpdate(G,M)}})}}),ur(),tr();var ut=Rt(),wt=Qe(ut);{var xt=I=>{var G=yi(),f=l(G,!0);i(G),q(()=>F(f,(a(),c(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(I,G)},be=I=>{var G=Li(),f=l(G);{var M=fe=>{var _e=Si();S(fe,_e)};A(f,fe=>{n()&&fe(M)})}var z=v(f,2);{var ee=fe=>{var _e=Ti(),$e=l(_e),Ie=l($e),P=l(Ie),R=l(P);i(P),fa(),i(Ie);var j=v(Ie,2),Q=l(j),J=l(Q);i(Q);var K=v(Q,4),H=l(K);i(K);var N=v(K,4),ae=l(N);i(N);var W=v(N,4),L=l(W);i(W),i(j),i($e);var Z=v($e,2),ue=l(Z);ue.__click=()=>T(je,!e(je));var oe=l(ue,!0);i(ue);var Oe=v(ue,2);{var me=V=>{var Se=wi();Se.__click=()=>T(we,!e(we));var Me=l(Se);i(Se),q(()=>{ve(Se,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(we)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),At(Se,"title",`${e(D),c(()=>e(D).length)??""} coverage suggestions`),F(Me,`ð¡ Suggestions (${e(D),c(()=>e(D).length)??""})`)}),S(V,Se)};A(Oe,V=>{e(D),c(()=>e(D).length>0)&&V(me)})}i(Z),i(_e),q(V=>{F(R,`${V??""}%`),F(J,`â ${e(x),c(()=>e(x).coveredTeams)??""}`),F(H,`â ${e(x),c(()=>e(x).partiallyCoveredTeams)??""}`),F(ae,`ð ${e(x),c(()=>e(x).plannedTeams)??""}`),F(L,`â ${e(x),c(()=>e(x).uncoveredTeams)??""}`),ve(ue,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e(je)?"bg-[#eab308] text-[#18181b]":"bg-[#454654] text-[#c0c2c8] hover:text-[#f8f8f9] border border-[#525463]"}`),F(oe,e(je)?"ðï¸ Scanning":"Scanning Mode")},[()=>(e(x),c(()=>e(x).coveragePercentage.toFixed(0)))]),S(fe,_e)};A(z,fe=>{o(),e(x),c(()=>o()&&e(x).totalTeams>0)&&fe(ee)})}var ne=v(z,2);{var de=fe=>{var _e=Di(),$e=l(_e),Ie=v(l($e),2);Ie.__click=()=>T(we,!1),i($e);var P=v($e,2);ht(P,5,()=>(e(D),c(()=>e(D).slice(0,5))),mt,(R,j)=>{var Q=Mi(),J=l(Q),K=l(J),H=l(K);i(K);var N=v(K,2),ae=l(N,!0);i(N),i(J);var W=v(J,2);W.__click=L=>{L.stopPropagation(),St.selectMatch(e(j).match.MatchId)},i(Q),q(L=>{F(H,`${L??""} - ${e(j),c(()=>e(j).match.CourtName)??""} - Team ${e(j),c(()=>e(j).teamId)??""}`),F(ae,(e(j),c(()=>e(j).reason)))},[()=>(y(We),e(j),c(()=>We(e(j).match.ScheduledStartDateTime)))]),S(R,Q)}),i(P),i(_e),S(fe,_e)};A(ne,fe=>{o(),e(we),e(D),c(()=>o()&&e(we)&&e(D).length>0)&&fe(de)})}var Fe=v(ne,2);{var ot=fe=>{var _e=Ci();S(fe,_e)};A(Fe,fe=>{o()&&fe(ot)})}var vt=v(Fe,2),ft=l(vt),Ne=v(l(ft),2),Pe=l(Ne);Pe.__click=()=>T($,"team");var Je=v(Pe,2);Je.__click=()=>T($,"court");var Te=v(Je,2);Te.__click=()=>T($,"time"),i(Ne),i(ft);var bt=v(ft,2),He=v(l(bt),2),Ge=l(He);Ge.__click=()=>It("wave","all");var Ke=v(Ge,2);Ke.__click=()=>It("wave","morning");var Tt=v(Ke,2);Tt.__click=()=>It("wave","afternoon"),i(He),i(bt),i(vt);var st=v(vt,2),tt=l(st);{var qe=fe=>{var _e=ki();S(fe,_e)},rt=fe=>{var _e=Rt(),$e=Qe(_e);ht($e,1,()=>e(_),mt,(Ie,P)=>{const R=X(()=>(e(E),e(P),c(()=>e(E)[e(P)]))),j=X(()=>(y(e(R)),e(u),c(()=>e(R).filter(me=>e(u).has(me.MatchId)).length))),Q=X(()=>e(j)>0),J=X(()=>(y(e(j)),y(e(R)),c(()=>e(j)===e(R).length)));var K=Wi(),H=l(K),N=l(H),ae=l(N),W=l(ae,!0);i(ae);var L=v(ae,2),Z=l(L);i(L),i(N);var ue=v(N,2);{var oe=me=>{var V=Pi(),Se=l(V);i(V),q(()=>{ve(V,1,`text-xs font-medium ${e(J)?"text-[#808593]":"text-red-400"}`),F(Se,`${e(j)??""} conflict${e(j)!==1?"s":""}`)}),S(me,V)};A(ue,me=>{e(Q)&&me(oe)})}i(H);var Oe=v(H,2);ht(Oe,1,()=>e(R),mt,(me,V)=>{const Se=X(()=>(e(u),e(V),c(()=>e(u).has(e(V).MatchId)))),Me=X(()=>(y(Be),e(V),c(()=>Be(e(V))))),gt=X(()=>(e(V),c(()=>dt(e(V))))),Re=X(()=>(e(re),e(V),c(()=>e(re)===e(V).MatchId))),pe=X(()=>(y(Ot),e(V),c(()=>Ot.getPriority(e(V).MatchId)))),U=X(()=>(e(m),e(V),c(()=>e(m).has(e(V).MatchId)))),le=X(()=>(y(e(Me)),y(et),c(()=>e(Me)?et.getTeamStatus(e(Me)):"not-covered"))),Le=X(()=>e(le)==="covered"||e(le)==="partially-covered"),he=X(()=>e(le)==="planned"),at=X(()=>e(le)==="not-covered"),Mt=X(()=>e(je)&&e(Le)),Ve=X(()=>(y(Xt),y(St),c(()=>Xt(St)))),De=X(()=>(y(e(Ve)),e(V),c(()=>e(Ve).has(e(V).MatchId)))),ge=X(()=>e(Se)&&!e(J));var nt=Ri(),ye=l(nt);ye.__click=()=>T(re,e(Re)?null:e(V).MatchId);var kt=l(ye);{var pt=Ze=>{var ze=Ii();ze.__click=Nt=>{Nt.stopPropagation(),St.toggleMatch(e(V).MatchId)};var ct=l(ze);{var Ht=Nt=>{var Ut=$i();S(Nt,Ut)};A(ct,Nt=>{e(De)&&Nt(Ht)})}i(ze),q(()=>{ve(ze,1,`absolute top-2 right-2 sm:relative sm:top-0 sm:right-0 flex-shrink-0 w-5 h-5 rounded border-2 ${e(De)?"border-[#eab308] bg-[#eab308]/20":"border-[#525463] bg-transparent"} flex items-center justify-center hover:bg-[#454654] transition-colors`),At(ze,"aria-label",e(De)?"Remove from plan":"Add to plan")}),S(Ze,ze)};A(kt,Ze=>{o()&&Ze(pt)})}var it=v(kt,2),_t=l(it),vr=l(_t,!0);i(_t);var rr=v(_t,2),Hr=l(rr);i(rr),i(it);var Dr=v(it,2);{var Br=Ze=>{var ze=Ni(),ct=l(ze);ct.__click=Dt=>{Dt.stopPropagation(),T(ie,e(ie)===e(V).MatchId?null:e(V).MatchId)};var Ht=l(ct),Nt=v(Ht);{var Ut=Dt=>{var Gt=Oi();S(Dt,Gt)};A(Nt,Dt=>{e(pe)||Dt(Ut)})}i(ct);var Jt=v(ct,2);{var qt=Dt=>{var Gt=Ei(),Jr=l(Gt);sn(Jr,{get matchId(){return e(V),c(()=>e(V).MatchId)},get currentPriority(){return e(pe)},get onPriorityChange(){return y(Ot),c(()=>Ot.setPriority)},onClose:()=>T(ie,null)}),i(Gt),S(Dt,Gt)};A(Jt,Dt=>{e(ie),e(V),c(()=>e(ie)===e(V).MatchId)&&Dt(qt)})}i(ze),q(()=>{ve(ct,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(pe)==="must-cover"?"text-[#eab308]":e(pe)==="priority"?"text-[#f59e0b]":e(pe)==="optional"?"text-[#9fa2ab]":"text-[#808593]"}`),At(ct,"title",e(pe)?`Priority: ${e(pe)}`:"Set priority"),F(Ht,`${e(pe)==="must-cover"&&"â­"}
												${e(pe)==="priority"&&"ð¸"}
												${e(pe)==="optional"&&"â"} `)}),S(Ze,ze)};A(Dr,Ze=>{o()&&Ze(Br)})}var jt=v(Dr,2);{var Cr=Ze=>{var ze=Ai(),ct=l(ze);ct.__click=Jt=>{Jt.stopPropagation(),T(ce,e(ce)===e(Me)?null:e(Me))};var Ht=l(ct);i(ct);var Nt=v(ct,2);{var Ut=Jt=>{var qt=Fi(),Dt=l(qt);cn(Dt,{get teamId(){return e(Me)},get currentStatus(){return e(le)},get onStatusChange(){return y(et),c(()=>et.setTeamStatus)},onClose:()=>T(ce,null)}),i(qt),S(Jt,qt)};A(Nt,Jt=>{e(ce)===e(Me)&&Jt(Ut)})}i(ze),q(()=>{ve(ct,1,`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center transition-colors hover:bg-[#454654] ${e(le)==="covered"?"text-green-500":e(le)==="partially-covered"?"text-[#f59e0b]":e(le)==="planned"?"text-[#eab308]":"text-[#808593]"}`),At(ct,"title",`Coverage: ${e(le)??""}`),F(Ht,`${e(le)==="covered"&&"â"}
												${e(le)==="partially-covered"&&"â"}
												${e(le)==="planned"&&"ð"}
												${e(le)==="not-covered"&&"â"}`)}),S(Ze,ze)};A(jt,Ze=>{o()&&e(Me)&&Ze(Cr)})}var kr=v(jt,2),Pr=l(kr);i(kr),i(ye);var Ur=v(ye,2);{var $r=Ze=>{xi(Ze,{get match(){return e(V)},get eventId(){return B()},get clubId(){return te()},onClose:()=>T(re,null),get matches(){return O()}})};A(Ur,Ze=>{e(Re)&&Ze($r)})}i(nt),q(Ze=>{ve(ye,1,`group relative rounded transition-all flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 px-3 py-2.5 sm:py-2 cursor-pointer match-card min-h-[44px] sm:min-h-0 ${e(ge)?"border border-red-800/50 bg-red-950/10":e(pe)==="must-cover"?"border-2 border-[#eab308] bg-[#eab308]/10":e(pe)==="priority"?"border border-[#f59e0b] bg-[#f59e0b]/10":e(at)&&!e(De)?"border border-[#eab308] bg-[#eab308]/5":e(he)?"border border-[#eab308]/50 bg-[#eab308]/10":e(Le)?"border border-green-500/30 bg-green-950/5":e(U)&&!e(De)?"border border-green-500/50 bg-green-950/10":e(De)?"border border-[#eab308]/50 bg-[#eab308]/10":"border border-[#454654] bg-[#3b3c48]"} ${e(Mt)?"opacity-30":""} hover:border-[#525463] hover:bg-[#3b3c48]/80`),F(vr,Ze),F(Hr,`${e(V),c(()=>e(V).CourtName)??""} â¢ ${y(e(Me)),e(V),c(()=>e(Me)||e(V).Division.CodeAlias)??""} vs ${e(gt)??""}`),ve(Pr,0,`w-4 h-4 text-[#9fa2ab] transition-transform ${e(Re)?"rotate-180":""}`)},[()=>(y(We),e(V),c(()=>We(e(V).ScheduledStartDateTime)))]),S(me,nt)}),i(K),q(()=>{F(W,e(P)),F(Z,`${y(e(R)),c(()=>e(R).length)??""} match${y(e(R)),c(()=>e(R).length!==1?"es":"")??""}`)}),S(Ie,K)}),S(fe,_e)};A(tt,fe=>{e(_),c(()=>e(_).length===0)?fe(qe):fe(rt,!1)})}i(st);var Yt=v(st,2);{var Lt=fe=>{var _e=Yi();S(fe,_e)};A(Yt,fe=>{e(Ee)&&fe(Lt)})}i(G),q(()=>{ve(Pe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="team"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ve(Je,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="court"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ve(Te,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${e($)==="time"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]"}`),ve(Ge,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(Ke,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(Tt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`)}),S(I,G)};A(wt,I=>{e(k),c(()=>e(k).length===0)?I(xt):I(be,!1)})}S(t,ut),er(),d()}sr(["click"]);var Hi=C('<div class="text-xs text-[#808593] py-4 text-center">No conflicts found</div>'),Bi=C('<span class="text-[#9fa2ab]">â¢</span> <span class="text-[#808593]"> </span>',1),Ui=C('<div class="px-3 py-2.5 rounded border border-[#525463] bg-[#454654]/30"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#f8f8f9]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs flex-wrap"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span> <!></div></div>'),Ji=C('<div class="space-y-2"></div>'),qi=C(`<div class="mt-2 border border-[#454654] rounded-lg bg-[#3b3c48] overflow-hidden"><div class="p-3 sm:p-4"><div class="flex items-center justify-between mb-3 sm:mb-4"><h4 class="text-xs sm:text-sm font-semibold text-[#f8f8f9] truncate pr-2">Conflict Details</h4> <button class="text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors flex-shrink-0 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center" aria-label="Close panel"><svg class="w-5 h-5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="mb-4 pb-4 border-b border-[#454654]"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider mb-2">Selected Match</div> <div class="px-3 py-2 rounded border border-[#eab308]/50 bg-[#eab308]/5"><div class="flex items-center gap-2 mb-1"><span class="text-sm font-bold text-[#facc15]"> </span> <span class="text-xs text-[#808593]">vs</span> <span class="text-sm text-[#c0c2c8] truncate"> </span></div> <div class="flex items-center gap-3 mt-1 text-xs"><span class="text-[#facc15] font-medium"> </span> <span class="text-[#9fa2ab]"> </span> <span class="text-[#9fa2ab]">â¢</span> <span class="text-[#9fa2ab]"> </span></div></div></div> <div><div class="flex items-center justify-between mb-2"><div class="text-xs text-[#9fa2ab] uppercase tracking-wider"> </div> <span class="text-xs text-red-400 font-medium">Cannot cover simultaneously</span></div> <!></div> <div class="mt-4 pt-4 border-t border-[#454654]"><p class="text-xs text-[#808593]">These matches overlap in time and are on different courts. You'll need to choose which match to cover.</p></div></div></div>`);function Gi(t,r){Zt(r,!1);const n=Y();let a=Ae(r,"match",8),o=Ae(r,"conflictingMatches",8),s=Ae(r,"onClose",8);function d(be){return be.InvolvedTeam==="first"?be.SecondTeamText:be.InvolvedTeam==="second"?be.FirstTeamText:`${be.FirstTeamText} vs ${be.SecondTeamText}`}function u(be,I){return be!==I?5:0}const h=Be(a()),p=d(a());se(()=>y(o()),()=>{T(n,[...o()].sort((be,I)=>be.ScheduledStartDateTime-I.ScheduledStartDateTime))}),ur(),tr();var b=qi(),D=l(b),k=l(D),w=v(l(k),2);w.__click=function(...be){var I;(I=s())==null||I.apply(this,be)},i(k);var m=v(k,2),x=v(l(m),2),g=l(x),E=l(g),_=l(E,!0);i(E);var O=v(E,4),B=l(O,!0);i(O),i(g);var te=v(g,2),$=l(te),re=l($,!0);i($);var ie=v($,2),ce=l(ie,!0);i(ie);var je=v(ie,4),we=l(je,!0);i(je),i(te),i(x),i(m);var Ee=v(m,2),Ye=l(Ee),Ue=l(Ye),dt=l(Ue);i(Ue),fa(2),i(Ye);var ut=v(Ye,2);{var wt=be=>{var I=Hi();S(be,I)},xt=be=>{var I=Ji();ht(I,5,()=>e(n),mt,(G,f)=>{const M=X(()=>(y(Be),e(f),c(()=>Be(e(f))))),z=X(()=>(e(f),c(()=>d(e(f))))),ee=X(()=>(y(a()),e(f),c(()=>u(a().CourtName,e(f).CourtName))));var ne=Ui(),de=l(ne),Fe=l(de),ot=l(Fe,!0);i(Fe);var vt=v(Fe,4),ft=l(vt,!0);i(vt),i(de);var Ne=v(de,2),Pe=l(Ne),Je=l(Pe,!0);i(Pe);var Te=v(Pe,2),bt=l(Te,!0);i(Te);var He=v(Te,4),Ge=l(He,!0);i(He);var Ke=v(He,2);{var Tt=st=>{var tt=Bi(),qe=v(Qe(tt),2),rt=l(qe);i(qe),q(()=>F(rt,`~${e(ee)??""} min travel from ${y(a()),c(()=>a().CourtName)??""}`)),S(st,tt)};A(Ke,st=>{e(ee)>0&&st(Tt)})}i(Ne),i(ne),q(st=>{F(ot,(y(e(M)),e(f),c(()=>e(M)||e(f).Division.CodeAlias))),F(ft,e(z)),F(Je,(e(f),c(()=>e(f).CourtName))),F(bt,st),F(Ge,(e(f),c(()=>e(f).Division.CodeAlias)))},[()=>(y(We),e(f),c(()=>We(e(f).ScheduledStartDateTime)))]),S(G,ne)}),i(I),S(be,I)};A(ut,be=>{e(n),c(()=>e(n).length===0)?be(wt):be(xt,!1)})}i(Ee),fa(2),i(D),i(b),q(be=>{F(_,(y(a()),c(()=>h||a().Division.CodeAlias))),F(B,p),F(re,(y(a()),c(()=>a().CourtName))),F(ce,be),F(we,(y(a()),c(()=>a().Division.CodeAlias))),F(dt,`Conflicting Matches (${y(o()),c(()=>o().length)??""})`)},[()=>(y(We),y(a()),c(()=>We(a().ScheduledStartDateTime)))]),S(t,b),er()}sr(["click"]);var Vi=C('<div class="text-center py-12 text-[#9fa2ab] text-sm"> </div>'),zi=C("<option> </option>"),Xi=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Division:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option> </option><!></select></div>'),Qi=C("<option> </option>"),Ki=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Team:</span> <select multiple class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0 min-w-[120px]"></select></div>'),Zi=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Priority:</span> <select class="px-3 py-2 sm:py-1 text-xs font-medium rounded bg-[#454654] text-[#c0c2c8] border border-[#525463] focus:border-[#eab308] focus:outline-none min-h-[44px] sm:min-h-0"><option>All Priorities</option><option>Must Cover</option><option>Priority</option><option>Optional</option></select></div>'),ec=C('<button class="px-3 py-2 sm:py-1 text-xs font-medium rounded-lg transition-colors text-[#9fa2ab] hover:text-[#f8f8f9] hover:bg-[#454654] border border-[#525463] min-h-[44px] sm:min-h-0">Clear</button>'),tc=C('<span class="ml-2"> </span>'),rc=C('<div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab]">Showing:</span> <span class="px-2 py-1 text-xs font-semibold rounded bg-[#eab308]/20 text-[#facc15] border border-[#eab308]/50"> </span> <button class="text-xs text-[#9fa2ab] hover:text-[#f8f8f9] transition-colors" aria-label="Clear highlight">â</button></div>'),ac=C("<div> </div>"),nc=C('<div class="absolute top-0 bottom-0 flex items-center justify-center"><!></div>'),oc=C('<div class="absolute top-0 left-0 text-[10px]"> </div>'),sc=C('<div class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border border-white" title="Easy coverage opportunity"></div>'),ic=C('<div class="absolute top-0 right-0 w-4 h-4 flex items-center justify-center"><svg class="w-3 h-3 text-[#facc15]" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),cc=C('<div class="text-[8px] text-[#9fa2ab]"> </div>'),lc=C('<div class="text-[8px] text-green-400">â</div>'),dc=C('<div class="flex items-center gap-1 mt-0.5"><!> <div class="text-[9px] font-semibold text-white"> </div> <!></div>'),uc=ha('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>'),vc=C('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),fc=C('<div class="relative"><button aria-label="Set priority"> <!></button> <!></div>'),mc=C('<div class="absolute left-full top-0 ml-2 z-50"><!></div>'),hc=C('<div class="relative"><button aria-label="Set coverage status"> </button> <!></div>'),xc=C('<div><!> <!> <!> <div> </div> <div class="text-[9px] sm:text-[10px] opacity-90 truncate mt-0.5 leading-tight"> </div> <div class="text-[9px] sm:text-[10px] opacity-75 mt-0.5"> </div> <!> <!> <!></div>'),bc=C('<div class="border-b border-[#454654] pb-4 last:border-b-0 last:pb-0 min-w-[600px] sm:min-w-0"><div class="flex items-center justify-between mb-2"><div class="text-base font-semibold text-[#f8f8f9]"> </div> <div class="text-xs text-[#808593]"> </div></div> <div class="relative h-20 sm:h-20 rounded-lg border overflow-hidden bg-[#3b3c48] border-[#454654]"><!> <!></div></div>'),pc=C('<div class="text-[#9fa2ab]">Scorekeeper - To be migrated</div>'),gc=C('<div class="fixed inset-0 z-40"></div>'),_c=C('<div class="fixed inset-0 z-40"></div>'),yc=C('<div class="space-y-4"><div class="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4"><div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Wave:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!> <div class="flex items-center gap-2"><span class="text-xs text-[#9fa2ab] uppercase tracking-wider">Time:</span> <div class="flex gap-1 bg-[#454654] rounded-lg p-1"><button>All</button> <button>Morning</button> <button>Afternoon</button></div></div> <!> <!></div> <div class="flex items-center justify-between"><div class="text-xs text-[#9fa2ab]"> <!></div> <!></div> <div class="overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0"><div class="space-y-4 min-w-max sm:min-w-0"></div></div> <!> <!> <!> <!></div>');function Sc(t,r){Zt(r,!1);const n=()=>Ft(ga,"$isSpectator",s),a=()=>Ft(Mr,"$filters",s),o=()=>Ft(pa,"$isMedia",s),[s,d]=ba(),u=Y(),h=Y(),p=Y(),b=Y(),D=Y(),k=Y(),w=Y(),m=Y(),x=Y(),g=Y(),E=Y(),_=Y(),O=Y();let B=Ae(r,"matches",8),te=Ae(r,"eventId",8),$=Y(null),re=Y(null),ie=Y(null),ce=Y(null),je=null,we=Y();function Ee(f){return f.InvolvedTeam==="first"?f.SecondTeamText:f.InvolvedTeam==="second"?f.FirstTeamText:`${f.FirstTeamText} vs ${f.SecondTeamText}`}function Ye(f){return e(x)===0?0:(f-e(w))/e(x)*100}function Ue(f,M){return e(x)===0?0:(M-f)/e(x)*100}function dt(f){const M=[],z=[...f].sort((ee,ne)=>ee.ScheduledStartDateTime-ne.ScheduledStartDateTime);for(let ee=0;ee<z.length-1;ee++){const ne=z[ee],de=z[ee+1],Fe=Math.floor((de.ScheduledStartDateTime-ne.ScheduledEndDateTime)/6e4);Fe>0&&M.push({before:ne,after:de,gapMinutes:Fe})}return M}function ut(f){e(u).has(f.MatchId)?T($,f):o()?St.toggleMatch(f.MatchId):T($,f)}function wt(f,M){M.stopPropagation(),T(re,e(re)===f?null:f)}se(()=>(n(),y(te())),()=>{const f=n();T(we,on({eventId:te(),userId:f?"spectator":"anonymous"}))}),se(()=>y(B()),()=>{T(u,Xa(B()))}),se(()=>(a(),y(B()),We),()=>{T(h,(()=>{if(a().wave!=="all"){const f=a().wave==="morning"?"08:00":"14:30",M=a().wave==="morning"?"14:30":"23:59";return Wr(B()).filter(z=>B().some(ee=>{const ne=We(ee.ScheduledStartDateTime),de=ne.split(" ")[1]||ne;return de>=f&&de<M&&ee.Division.CodeAlias===z}))}return Wr(B())})())}),se(()=>y(B()),()=>{T(p,an(B()))}),se(()=>(y(B()),a(),et),()=>{T(b,(()=>{let f=nn(B());return a().priority&&a().priority!=="all"&&(f=f.filter(M=>Ot.getPriority(M.MatchId)===a().priority)),a().coverageStatus&&a().coverageStatus!=="all"&&(f=f.filter(M=>{const z=Be(M);if(!z)return!0;const ee=et.getTeamStatus(z);return a().coverageStatus==="uncovered"?ee==="not-covered":a().coverageStatus==="covered"?ee==="covered"||ee==="partially-covered":a().coverageStatus==="planned"?ee==="planned":!0})),f})())}),se(()=>(y(B()),e(u)),()=>{T(D,(()=>{const f=Xt(St);return rn(B(),f,e(u),{excludeSelected:!0,preferNoConflicts:!0,preferNearSelected:!0,maxResults:50})})())}),se(()=>e(D),()=>{T(k,new Set(e(D).map(f=>f.match.MatchId)))}),se(()=>e(b),()=>{T(w,e(b).length>0?Math.min(...e(b).map(f=>f.ScheduledStartDateTime)):0)}),se(()=>e(b),()=>{T(m,e(b).length>0?Math.max(...e(b).map(f=>f.ScheduledEndDateTime)):0)}),se(()=>(e(m),e(w)),()=>{T(x,e(m)-e(w))}),se(()=>e(b),()=>{T(g,(()=>{const f={};return e(b).forEach(M=>{f[M.CourtName]||(f[M.CourtName]=[]),f[M.CourtName].push(M)}),f})())}),se(()=>e(g),()=>{T(E,Object.keys(e(g)).sort())}),se(()=>(e(re),e(b),Be),()=>{T(_,(()=>{if(!e(re))return new Set;const f=new Set;return e(b).forEach(M=>{Be(M)===e(re)&&f.add(M.MatchId)}),f})())}),se(()=>(e($),e(u),e(b)),()=>{T(O,(()=>{if(!e($))return[];const f=e(u).get(e($).MatchId);return f?f.map(M=>e(b).find(z=>z.MatchId===M)).filter(Boolean):[]})())}),ur(),tr();var xt=Rt(),be=Qe(xt);{var I=f=>{var M=Vi(),z=l(M,!0);i(M),q(()=>F(z,(a(),c(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end?"No matches found for selected filters":"No matches found")))),S(f,M)},G=f=>{var M=yc(),z=l(M),ee=l(z),ne=v(l(ee),2),de=l(ne);de.__click=()=>It("wave","all");var Fe=v(de,2);Fe.__click=()=>It("wave","morning");var ot=v(Fe,2);ot.__click=()=>It("wave","afternoon"),i(ne),i(ee);var vt=v(ee,2);{var ft=W=>{var L=Xi(),Z=v(l(L),2);Z.__change=V=>It("division",V.target.value||null);var ue=l(Z),oe=l(ue);i(ue),ue.value=ue.__value="";var Oe=v(ue);ht(Oe,1,()=>e(h),mt,(V,Se)=>{var Me=zi(),gt=l(Me,!0);i(Me);var Re={};q(()=>{F(gt,e(Se)),Re!==(Re=e(Se))&&(Me.value=(Me.__value=e(Se))??"")}),S(V,Me)}),i(Z);var me;gr(Z),i(L),q(()=>{F(oe,`All Divisions${a(),c(()=>a().wave!=="all"?` (${a().wave})`:"")??""}`),me!==(me=(a(),c(()=>a().division||"")))&&(Z.value=(Z.__value=(a(),c(()=>a().division||"")))??"",dr(Z,(a(),c(()=>a().division||""))))}),S(W,L)};A(vt,W=>{e(h),c(()=>e(h).length>1)&&W(ft)})}var Ne=v(vt,2);{var Pe=W=>{var L=Ki(),Z=v(l(L),2);Z.__change=oe=>{const Oe=Array.from(oe.target.selectedOptions,me=>me.value);It("teams",Oe)},ht(Z,5,()=>e(p),mt,(oe,Oe)=>{var me=Qi(),V=l(me,!0);i(me);var Se={};q(()=>{F(V,e(Oe)),Se!==(Se=e(Oe))&&(me.value=(me.__value=e(Oe))??"")}),S(oe,me)}),i(Z);var ue;gr(Z),i(L),q(oe=>{At(Z,"size",oe),ue!==(ue=(a(),c(()=>a().teams)))&&(Z.value=(Z.__value=(a(),c(()=>a().teams)))??"",dr(Z,(a(),c(()=>a().teams))))},[()=>(e(p),c(()=>Math.min(e(p).length,4)))]),S(W,L)};A(Ne,W=>{e(p),c(()=>e(p).length>0)&&W(Pe)})}var Je=v(Ne,2),Te=v(l(Je),2),bt=l(Te);bt.__click=()=>It("timeRange",{start:null,end:null});var He=v(bt,2);He.__click=()=>It("timeRange",{start:"08:00",end:"14:30"});var Ge=v(He,2);Ge.__click=()=>It("timeRange",{start:"14:30",end:"23:59"}),i(Te),i(Je);var Ke=v(Je,2);{var Tt=W=>{var L=Zi(),Z=v(l(L),2);Z.__change=Se=>It("priority",Se.target.value==="all"?"all":Se.target.value);var ue=l(Z);ue.value=ue.__value="all";var oe=v(ue);oe.value=oe.__value="must-cover";var Oe=v(oe);Oe.value=Oe.__value="priority";var me=v(Oe);me.value=me.__value="optional",i(Z);var V;gr(Z),i(L),q(()=>{V!==(V=(a(),c(()=>a().priority||"all")))&&(Z.value=(Z.__value=(a(),c(()=>a().priority||"all")))??"",dr(Z,(a(),c(()=>a().priority||"all"))))}),S(W,L)};A(Ke,W=>{o()&&W(Tt)})}var st=v(Ke,2);{var tt=W=>{var L=ec();L.__click=function(...Z){sa==null||sa.apply(this,Z)},S(W,L)};A(st,W=>{a(),c(()=>a().division||a().wave!=="all"||a().teams.length>0||a().timeRange.start||a().timeRange.end||a().priority&&a().priority!=="all"||a().coverageStatus&&a().coverageStatus!=="all")&&W(tt)})}i(z);var qe=v(z,2),rt=l(qe),Yt=l(rt),Lt=v(Yt);{var fe=W=>{var L=tc(),Z=l(L);i(L),q(()=>F(Z,`(${e(b),c(()=>e(b).length)??""} of ${y(B()),c(()=>B().length)??""})`)),S(W,L)};A(Lt,W=>{e(b),y(B()),c(()=>e(b).length!==B().length)&&W(fe)})}i(rt);var _e=v(rt,2);{var $e=W=>{var L=rc(),Z=v(l(L),2),ue=l(Z);i(Z);var oe=v(Z,2);oe.__click=()=>T(re,null),i(L),q(()=>F(ue,`Team ${e(re)??""}`)),S(W,L)};A(_e,W=>{e(re)&&W($e)})}i(qe);var Ie=v(qe,2),P=l(Ie);ht(P,5,()=>e(E),mt,(W,L)=>{const Z=X(()=>(e(g),e(L),c(()=>e(g)[e(L)])));var ue=bc(),oe=l(ue),Oe=l(oe),me=l(Oe,!0);i(Oe);var V=v(Oe,2),Se=l(V);i(V),i(oe);var Me=v(oe,2),gt=l(Me);ht(gt,1,()=>(y(e(Z)),c(()=>dt(e(Z)))),mt,(pe,U)=>{const le=X(()=>(e(U),c(()=>Ye(e(U).before.ScheduledEndDateTime)))),Le=X(()=>(e(U),c(()=>Ye(e(U).after.ScheduledStartDateTime)))),he=X(()=>e(Le)-e(le)),at=X(()=>(e(U),c(()=>e(U).gapMinutes>=30))),Mt=X(()=>(e(U),c(()=>e(U).gapMinutes>=15&&e(U).gapMinutes<30)));var Ve=Rt(),De=Qe(Ve);{var ge=nt=>{var ye=nc(),kt=l(ye);{var pt=it=>{var _t=ac(),vr=l(_t);i(_t),q(()=>{ve(_t,1,`text-[9px] font-medium px-1 py-0.5 rounded ${e(at)?"bg-green-500/20 text-green-400":e(Mt)?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"}`),F(vr,`${e(U),c(()=>e(U).gapMinutes)??""}m`)}),S(it,_t)};A(kt,it=>{e(he)>3&&it(pt)})}i(ye),q(()=>{Qt(ye,`left: ${e(le)??""}%; width: ${e(he)??""}%; z-index: 0;`),At(ye,"title",`${e(U),c(()=>e(U).gapMinutes)??""} min gap between matches`)}),S(nt,ye)};A(De,nt=>{e(he)>=1&&nt(ge)})}S(pe,Ve)});var Re=v(gt,2);ht(Re,1,()=>e(Z),mt,(pe,U)=>{const le=X(()=>(e(u),e(U),c(()=>e(u).has(e(U).MatchId)))),Le=X(()=>(e($),e(U),c(()=>{var xe;return((xe=e($))==null?void 0:xe.MatchId)===e(U).MatchId}))),he=X(()=>(y(Be),e(U),c(()=>Be(e(U))))),at=X(()=>(e(re),e(_),e(U),c(()=>e(re)!==null&&e(_).has(e(U).MatchId)))),Mt=X(()=>e(re)!==null&&!e(at)),Ve=X(()=>(y(Xt),y(St),c(()=>Xt(St)))),De=X(()=>(y(e(Ve)),e(U),c(()=>e(Ve).has(e(U).MatchId)))),ge=X(()=>(y(Ot),e(U),c(()=>Ot.getPriority(e(U).MatchId)))),nt=X(()=>(e(k),e(U),c(()=>e(k).has(e(U).MatchId)))),ye=X(()=>(y(e(he)),y(et),c(()=>e(he)?et.getTeamStatus(e(he)):"not-covered"))),kt=X(()=>e(ye)==="covered"||e(ye)==="partially-covered"),pt=X(()=>e(ye)==="planned"),it=X(()=>e(ye)==="not-covered"),_t=X(()=>(e(U),c(()=>Ye(e(U).ScheduledStartDateTime)))),vr=X(()=>(e(U),c(()=>Math.max(Ue(e(U).ScheduledStartDateTime,e(U).ScheduledEndDateTime),2)))),rr=X(()=>(e(U),c(()=>Ee(e(U))))),Hr=X(()=>(y(e(ge)),y(e(it)),y(e(De)),y(e(pt)),y(e(at)),y(e(le)),y(e(kt)),y(e(nt)),e(U),c(()=>e(ge)==="must-cover"?"#eab308":e(ge)==="priority"?"#f59e0b":e(it)&&!e(De)||e(pt)||e(at)||e(De)&&!e(le)?"#eab308":e(kt)||e(nt)&&!e(De)?"#10b981":e(le)?"#dc2626":e(U).Division.ColorHex))),Dr=X(()=>e(ge)==="must-cover"?"#facc15":e(ge)==="priority"?"#fbbf24":e(it)&&!e(De)||e(pt)?"#facc15":e(Le)?"#eab308":e(at)||e(De)?"#facc15":e(le)?"#ef4444":"rgba(255, 255, 255, 0.2)"),Br=X(()=>e(Le)?30:e(at)?20:e(ge)==="must-cover"?18:e(De)?15:e(le)?10:1);var jt=xc();jt.__click=xe=>{xe.target instanceof HTMLElement&&xe.target.closest(".priority-button")||ut(e(U))};var Cr=l(jt);{var kr=xe=>{var Ce=oc(),Xe=l(Ce);i(Ce),q(()=>F(Xe,`${e(ge)==="must-cover"&&"â­"}
											${e(ge)==="priority"&&"ð¸"}
											${e(ge)==="optional"&&"â"}`)),S(xe,Ce)};A(Cr,xe=>{o()&&e(ge)&&xe(kr)})}var Pr=v(Cr,2);{var Ur=xe=>{var Ce=sc();S(xe,Ce)};A(Pr,xe=>{o()&&e(nt)&&!e(De)&&xe(Ur)})}var $r=v(Pr,2);{var Ze=xe=>{var Ce=ic();S(xe,Ce)};A($r,xe=>{o()&&e(De)&&xe(Ze)})}var ze=v($r,2);ze.__click=xe=>e(he)&&wt(e(he),xe);var ct=l(ze,!0);i(ze);var Ht=v(ze,2),Nt=l(Ht);i(Ht);var Ut=v(Ht,2),Jt=l(Ut,!0);i(Ut);var qt=v(Ut,2);{var Dt=xe=>{const Ce=X(()=>(e(we),e(U),c(()=>e(we).getScore(e(U).MatchId))));var Xe=Rt(),ir=Qe(Xe);{var fr=ar=>{const Pt=X(()=>(y(e(Ce)),c(()=>e(Ce).sets.find(lt=>lt.completedAt===0)||e(Ce).sets[e(Ce).sets.length-1]))),$t=X(()=>(y(e(Ce)),c(()=>e(Ce).sets.filter(lt=>lt.completedAt>0)))),Ct=X(()=>(y(e($t)),c(()=>e($t).filter(lt=>lt.team1Score>lt.team2Score).length))),nr=X(()=>(y(e($t)),c(()=>e($t).filter(lt=>lt.team2Score>lt.team1Score).length)));var mr=dc(),_a=l(mr);{var un=lt=>{var hr=cc(),hn=l(hr);i(hr),q(()=>F(hn,`(${e(Ct)??""}-${e(nr)??""})`)),S(lt,hr)};A(_a,lt=>{y(e($t)),c(()=>e($t).length>0)&&lt(un)})}var qr=v(_a,2),vn=l(qr);i(qr);var fn=v(qr,2);{var mn=lt=>{var hr=lc();S(lt,hr)};A(fn,lt=>{y(e(Ce)),c(()=>e(Ce).status==="in-progress")&&lt(mn)})}i(mr),q(()=>F(vn,`${y(e(Pt)),c(()=>e(Pt).team1Score)??""}-${y(e(Pt)),c(()=>e(Pt).team2Score)??""}`)),S(ar,mr)};A(ir,ar=>{y(e(Ce)),c(()=>e(Ce)&&e(Ce).status!=="not-started")&&ar(fr)})}S(xe,Xe)};A(qt,xe=>{e(we)&&xe(Dt)})}var Gt=v(qt,2);{var Jr=xe=>{var Ce=fc(),Xe=l(Ce);Xe.__click=Ct=>{Ct.stopPropagation(),T(ie,e(ie)===e(U).MatchId?null:e(U).MatchId)};var ir=l(Xe),fr=v(ir);{var ar=Ct=>{var nr=uc();S(Ct,nr)};A(fr,Ct=>{e(ge)||Ct(ar)})}i(Xe);var Pt=v(Xe,2);{var $t=Ct=>{var nr=vc(),mr=l(nr);sn(mr,{get matchId(){return e(U),c(()=>e(U).MatchId)},get currentPriority(){return e(ge)},get onPriorityChange(){return y(Ot),c(()=>Ot.setPriority)},onClose:()=>T(ie,null)}),i(nr),S(Ct,nr)};A(Pt,Ct=>{e(ie),e(U),c(()=>e(ie)===e(U).MatchId)&&Ct($t)})}i(Ce),q(()=>{ve(Xe,1,`priority-button flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ge)==="must-cover"?"text-[#facc15]":e(ge)==="priority"?"text-[#fbbf24]":e(ge)==="optional"?"text-white/60":"text-white/40"}`),At(Xe,"title",e(ge)?`Priority: ${e(ge)}`:"Set priority"),F(ir,`${e(ge)==="must-cover"&&"â­"}
												${e(ge)==="priority"&&"ð¸"}
												${e(ge)==="optional"&&"â"} `)}),S(xe,Ce)};A(Gt,xe=>{o()&&xe(Jr)})}var ln=v(Gt,2);{var dn=xe=>{var Ce=hc(),Xe=l(Ce);Xe.__click=Pt=>{Pt.stopPropagation(),T(ce,e(ce)===e(he)?null:e(he))};var ir=l(Xe);i(Xe);var fr=v(Xe,2);{var ar=Pt=>{var $t=mc(),Ct=l($t);cn(Ct,{get teamId(){return e(he)},get currentStatus(){return e(ye)},get onStatusChange(){return y(et),c(()=>et.setTeamStatus)},onClose:()=>T(ce,null)}),i($t),S(Pt,$t)};A(fr,Pt=>{e(ce)===e(he)&&Pt(ar)})}i(Ce),q(()=>{ve(Xe,1,`flex-shrink-0 w-5 h-5 rounded flex items-center justify-center transition-colors hover:bg-black/20 ${e(ye)==="covered"?"text-green-400":e(ye)==="partially-covered"?"text-[#fbbf24]":e(ye)==="planned"?"text-[#facc15]":"text-white/40"}`),At(Xe,"title",`Coverage: ${e(ye)??""}`),F(ir,`${e(ye)==="covered"&&"â"}
												${e(ye)==="partially-covered"&&"â"}
												${e(ye)==="planned"&&"ð"}
												${e(ye)==="not-covered"&&"â"}`)}),S(xe,Ce)};A(ln,xe=>{o()&&e(he)&&xe(dn)})}i(jt),q((xe,Ce,Xe)=>{ve(jt,1,`group absolute h-16 rounded-md px-2 py-1.5 text-white shadow-sm border-2 flex flex-col justify-center transition-all active:scale-95 sm:hover:z-20 sm:hover:shadow-lg touch-manipulation cursor-pointer ${e(Le)?"ring-2 ring-[#eab308] ring-offset-2 ring-offset-[#3b3c48]":""} ${e(at)?"ring-2 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(Mt)?"opacity-30":""} ${e(De)?"ring-1 ring-[#eab308] ring-offset-1 ring-offset-[#3b3c48]":""} ${e(kt)?"opacity-60":""}`),Qt(jt,`left: ${e(_t)??""}%; width: ${e(vr)??""}%; background-color: ${e(Hr)??""}; border-color: ${e(Dr)??""}; min-width: 100px; z-index: ${e(Br)??""};`),At(jt,"title",`${e(U),c(()=>e(U).CompleteShortName)??""}: ${e(U),c(()=>e(U).FirstTeamText)??""} vs ${e(U),c(()=>e(U).SecondTeamText)??""} - ${xe??""}${e(le)?" (Click to see conflicts)":" (Click to add to plan)"}${e(ge)?` [Priority: ${e(ge)}]`:""}${e(nt)&&!e(De)?" [Easy opportunity]":""}${e(ye)!=="not-covered"?` [Coverage: ${e(ye)}]`:""}`),ve(ze,1,`text-xs sm:text-sm font-bold truncate leading-tight ${e(he)?"cursor-pointer hover:underline":""}`),F(ct,(y(e(he)),e(U),c(()=>e(he)||e(U).Division.CodeAlias))),F(Nt,`vs ${Ce??""}`),F(Jt,Xe)},[()=>(y(We),e(U),c(()=>We(e(U).ScheduledStartDateTime))),()=>(y(e(rr)),c(()=>e(rr).length>20?e(rr).substring(0,17)+"...":e(rr))),()=>(y(We),e(U),c(()=>We(e(U).ScheduledStartDateTime)))]),S(pe,jt)}),i(Me),i(ue),q(()=>{F(me,e(L)),F(Se,`${y(e(Z)),c(()=>e(Z).length)??""} match${y(e(Z)),c(()=>e(Z).length!==1?"es":"")??""}`)}),S(W,ue)}),i(P),i(Ie);var R=v(Ie,2);{var j=W=>{Gi(W,{get match(){return e($)},get conflictingMatches(){return e(O)},onClose:()=>T($,null)})};A(R,W=>{e($)&&W(j)})}var Q=v(R,2);{var J=W=>{var L=pc();S(W,L)};A(Q,W=>{e(we),c(()=>je&&e(we)&&e(we).isClaimOwner(je.MatchId))&&W(J)})}var K=v(Q,2);{var H=W=>{var L=gc();L.__click=()=>T(ie,null),S(W,L)};A(K,W=>{e(ie)!==null&&W(H)})}var N=v(K,2);{var ae=W=>{var L=_c();L.__click=()=>T(ce,null),S(W,L)};A(N,W=>{e(ce)!==null&&W(ae)})}i(M),q((W,L)=>{ve(de,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="all"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(Fe,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="morning"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(ot,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().wave==="afternoon"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(bt,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().timeRange.start===null&&a().timeRange.end===null?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(He,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().timeRange.start==="08:00"&&a().timeRange.end==="14:30"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),ve(Ge,1,`px-3 py-2 sm:py-1 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0 ${a(),c(()=>a().timeRange.start==="14:30"&&a().timeRange.end==="23:59"?"bg-[#eab308] text-[#18181b]":"text-[#c0c2c8] hover:text-[#f8f8f9]")??""}`),F(Yt,`Timeline: ${W??""} - ${L??""} `)},[()=>(y(We),e(w),c(()=>We(e(w)))),()=>(y(We),e(m),c(()=>We(e(m))))]),S(f,M)};A(be,f=>{e(b),c(()=>e(b).length===0)?f(I):f(G,!1)})}S(t,xt),er(),d()}sr(["click","change"]);var wc=C('<span class="ml-2" style="color: #ef4444;"> </span>'),Tc=C('<span class="text-xs whitespace-nowrap hidden sm:inline" style="color: #9fa2ab;"> <!></span>'),Mc=C('<span class="font-medium truncate max-w-[200px] sm:max-w-none"> </span>'),Dc=C('<span class="hidden sm:inline"> </span>'),Cc=C('<div class="flex items-center gap-2 text-xs" style="color: #9fa2ab;"><!> <!></div>'),kc=C('<span class="ml-2" style="color: #ef4444;"> </span>'),Pc=C('<span class="text-xs sm:hidden" style="color: #9fa2ab;"> <!></span>'),$c=C('<div class="flex items-center gap-1 rounded-lg p-1" style="background-color: #454654;"><button>List</button> <button>Timeline</button></div>'),Ic=C("<button> </button>"),Oc=C('<!> <!> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export JSON">JSON</button> <button class="px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors hover:text-[#f8f8f9] min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8;" title="Export CSV">CSV</button>',1),Ec=C('<div class="border-b" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.3);"><div class="container mx-auto px-3 sm:px-4 py-4"><!></div></div>'),Nc=C('<div class="text-center py-12"><div class="inline-block animate-pulse" style="color: #9fa2ab;">Loading matches...</div></div>'),Fc=C('<div class="rounded-lg mb-6 px-4 py-3 border" style="background-color: rgba(127, 29, 29, 0.5); border-color: #991b1b; color: #fca5a5;"><div class="text-xs font-medium mb-1">Error</div> <div class="text-sm"> </div></div>'),Ac=C('<div class="text-center py-12" style="color: #9fa2ab;"><div class="text-sm">No matches found for 630 Volleyball</div> <div class="text-xs mt-2" style="color: #808593;">Click "Config" to change event parameters</div></div>'),Rc=C('<div class="text-[#9fa2ab]">CoachView component - To be migrated</div>'),Wc=C('<div class="text-[#9fa2ab]">CoveragePlanPanel component - To be migrated</div>'),Yc=C('<div class="min-h-screen" style="background-color: #18181b;"><header class="border-b sticky top-0 z-10" style="border-color: #454654; background-color: rgba(59, 60, 72, 0.5);"><div class="container mx-auto px-3 sm:px-4 py-2 sm:py-3"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 sm:gap-4 min-w-0 flex-1"><div class="flex items-center gap-2 min-w-0"><h1 class="text-base sm:text-lg font-semibold truncate" style="color: #f8f8f9;">630 Volleyball Coverage</h1> <!></div> <!> <!></div> <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap"><div class="flex items-center gap-1"><label class="text-xs hidden sm:inline" style="color: #9fa2ab;">Role:</label> <select class="px-2 py-2 sm:py-1.5 text-xs rounded-lg transition-colors min-h-[44px] sm:min-h-0" style="background-color: #454654; color: #c0c2c8; border: 1px solid #525463;" title="Select your role"><option>Media</option><option>Spectator</option><option>Coach</option></select></div> <!> <button> </button></div></div></div></header> <!> <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-6"><!> <!> <!> <!> <!> <!></main></div>');function Vc(t,r){Zt(r,!1);const n=()=>Ft(_s,"$selectedCount",u),a=()=>Ft(pa,"$isMedia",u),o=()=>Ft(ga,"$isSpectator",u),s=()=>Ft(ws,"$isCoach",u),d=()=>Ft(Sr,"$userRole",u),[u,h]=ba(),p=Y(),b=Y(),D=Y(),k=Y(),w=Y(),m=Y();let x=Y("PTAwMDAwNDEzMTQ90"),g=Y("2025-11-01"),E=Y(300),_=Y([]),O=Y(!1),B=Y(null),te=Y("list"),$=Y(!1),re=Y(24426),ie=Y(!1),ce=Y(null);xa(()=>{je(e(x),e(g),e(E))});async function je(P,R,j){var Q;T(O,!0),T(B,null),T(x,P),T(g,R),T(E,j);try{const J=await oo(P),K=(Q=J.Clubs)==null?void 0:Q.find(ae=>ae.Name==="630 Volleyball");K&&T(re,K.ClubId),T(ce,{name:J.Name||J.EventName||J.FullName||J.Title||"Event",startDate:J.StartDate||J.StartDateTime||J.Start||J.StartTime,endDate:J.EndDate||J.EndDateTime||J.End||J.EndTime});const H=await no(P,R,j),N=vo(H.CourtSchedules);T(_,N)}catch(J){console.error("Error loading schedule:",J),T(B,J instanceof Error?J.message:"Failed to load schedule"),T(_,[])}finally{T(O,!1)}}function we(){const P=JSON.stringify(e(_),null,2),R=new Blob([P],{type:"application/json"}),j=URL.createObjectURL(R),Q=document.createElement("a");Q.href=j,Q.download=`630-volleyball-matches-${e(g)}.json`,Q.click(),URL.revokeObjectURL(j)}function Ee(){const P=["Match ID","Division","Short Name","First Team","Second Team","Work Team","Court","Start Time","End Time","Duration","Involved Team"],R=e(_).map(H=>[H.MatchId.toString(),H.Division.Name,H.CompleteShortName,H.FirstTeamText,H.SecondTeamText,H.WorkTeamText,H.CourtName,new Date(H.ScheduledStartDateTime).toISOString(),new Date(H.ScheduledEndDateTime).toISOString(),((H.ScheduledEndDateTime-H.ScheduledStartDateTime)/6e4).toString(),H.InvolvedTeam]),j=[P.join(","),...R.map(H=>H.map(N=>`"${N}"`).join(","))].join(`
`),Q=new Blob([j],{type:"text/csv"}),J=URL.createObjectURL(Q),K=document.createElement("a");K.href=J,K.download=`630-volleyball-matches-${e(g)}.csv`,K.click(),URL.revokeObjectURL(J)}se(()=>(e(_),et),()=>{if(e(_).length>0){const P=new Map;e(_).forEach(R=>{const Q=(R.InvolvedTeam==="first"?R.FirstTeamText:R.SecondTeamText).match(/(\d+-\d+)/),J=Q?Q[1]:"";if(!J)return;const K=P.get(J)||{total:0,inPlan:0};K.total++;let H=!1;St.subscribe(N=>{H=N.has(R.MatchId)})(),H&&K.inPlan++,P.set(J,K)}),P.forEach((R,j)=>{et.updateFromPlan(j,R.inPlan,R.total)})}}),se(()=>e(_),()=>{T(p,(()=>{const P=new Map;return e(_).forEach((R,j)=>{e(_).slice(j+1).forEach(Q=>{R.ScheduledStartDateTime<Q.ScheduledEndDateTime&&R.ScheduledEndDateTime>Q.ScheduledStartDateTime&&(P.has(R.MatchId)||P.set(R.MatchId,[]),P.get(R.MatchId).push(Q.MatchId))})}),e(_).filter(R=>P.has(R.MatchId)).length})())}),se(()=>n(),()=>{T(b,n())}),se(()=>a(),()=>{T(D,a())}),se(()=>o(),()=>{T(k,o())}),se(()=>s(),()=>{T(w,s())}),se(()=>d(),()=>{T(m,d())}),se(()=>(e(_),e(b),et),()=>{if(e(_).length>0&&e(b)!==void 0){const P=new Map,R=Xt(St);e(_).forEach(j=>{const J=(j.InvolvedTeam==="first"?j.FirstTeamText:j.SecondTeamText).match(/(\d+-\d+)/),K=J?J[1]:"";if(!K)return;const H=P.get(K)||{total:0,inPlan:0};H.total++,R.has(j.MatchId)&&H.inPlan++,P.set(K,H)}),P.forEach((j,Q)=>{et.updateFromPlan(Q,j.inPlan,j.total)})}}),ur(),tr();var Ye=Yc(),Ue=l(Ye),dt=l(Ue),ut=l(dt),wt=l(ut),xt=l(wt),be=v(l(xt),2);{var I=P=>{var R=Tc(),j=l(R),Q=v(j);{var J=K=>{var H=wc(),N=l(H);i(H),q(()=>F(N,`â¢ ${e(p)??""} conflicts`)),S(K,H)};A(Q,K=>{e(p)>0&&K(J)})}i(R),q(()=>F(j,`${e(_),c(()=>e(_).length)??""} matches `)),S(P,R)};A(be,P=>{e(_),c(()=>e(_).length>0)&&P(I)})}i(xt);var G=v(xt,2);{var f=P=>{var R=Cc(),j=l(R);{var Q=H=>{var N=Mc(),ae=l(N,!0);i(N),q(()=>F(ae,(e(ce),c(()=>e(ce).name)))),S(H,N)};A(j,H=>{e(ce),c(()=>e(ce).name)&&H(Q)})}var J=v(j,2);{var K=H=>{var N=Dc(),ae=l(N,!0);i(N),q(W=>F(ae,W),[()=>(e(ce),y(zt),c(()=>(()=>{try{const W=e(ce).startDate?new Date(e(ce).startDate).getTime():null,L=e(ce).endDate?new Date(e(ce).endDate).getTime():null;return W&&L&&Math.abs(W-L)>864e5?`${zt(W)} - ${zt(L)}`:W?zt(W):L?zt(L):null}catch{return null}})()))]),S(H,N)};A(J,H=>{e(ce),c(()=>(e(ce).startDate||e(ce).endDate)&&(()=>{try{const N=e(ce).startDate?new Date(e(ce).startDate).getTime():null,ae=e(ce).endDate?new Date(e(ce).endDate).getTime():null;return N&&ae&&Math.abs(N-ae)>864e5}catch{return!1}})())&&H(K)})}i(R),S(P,R)};A(G,P=>{e(ce),c(()=>e(ce)&&(e(ce).name||e(ce).startDate))&&P(f)})}var M=v(G,2);{var z=P=>{var R=Pc(),j=l(R),Q=v(j);{var J=K=>{var H=kc(),N=l(H);i(H),q(()=>F(N,`â¢ ${e(p)??""} conflicts`)),S(K,H)};A(Q,K=>{e(p)>0&&K(J)})}i(R),q(()=>F(j,`${e(_),c(()=>e(_).length)??""} matches `)),S(P,R)};A(M,P=>{e(_),c(()=>e(_).length>0)&&P(z)})}i(wt);var ee=v(wt,2),ne=l(ee),de=v(l(ne),2);de.__change=P=>Sr.setRole(P.target.value);var Fe=l(de);Fe.value=Fe.__value="media";var ot=v(Fe);ot.value=ot.__value="spectator";var vt=v(ot);vt.value=vt.__value="coach",i(de);var ft;gr(de),i(ne);var Ne=v(ne,2);{var Pe=P=>{var R=Oc(),j=Qe(R);{var Q=ae=>{var W=$c(),L=l(W);L.__click=()=>T(te,"list");let Z;var ue=v(L,2);ue.__click=()=>T(te,"timeline");let oe;i(W),q(()=>{Z=ve(L,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,Z,{"bg-gold-500":e(te)==="list","text-charcoal-950":e(te)==="list","text-charcoal-300":e(te)!=="list","hover:text-charcoal-50":e(te)!=="list"}),Qt(L,e(te)==="list"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;"),oe=ve(ue,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded transition-colors min-h-[44px] sm:min-h-0",null,oe,{"bg-gold-500":e(te)==="timeline","text-charcoal-950":e(te)==="timeline","text-charcoal-300":e(te)!=="timeline","hover:text-charcoal-50":e(te)!=="timeline"}),Qt(ue,e(te)==="timeline"?"background-color: #eab308; color: #18181b;":"color: #c0c2c8;")}),S(ae,W)};A(j,ae=>{e(w)||ae(Q)})}var J=v(j,2);{var K=ae=>{var W=Ic();W.__click=()=>T(ie,!e(ie));let L;var Z=l(W);i(W),q(()=>{L=ve(W,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,L,{"text-charcoal-950":e(ie)}),Qt(W,e(ie)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),F(Z,`Plan (${e(b)??""})`)}),S(ae,W)};A(J,ae=>{e(D)&&e(b)>0&&ae(K)})}var H=v(J,2);H.__click=we;var N=v(H,2);N.__click=Ee,S(P,R)};A(Ne,P=>{e(_),c(()=>e(_).length>0)&&P(Pe)})}var Je=v(Ne,2);Je.__click=()=>T($,!e($));let Te;var bt=l(Je,!0);i(Je),i(ee),i(ut),i(dt),i(Ue);var He=v(Ue,2);{var Ge=P=>{var R=Ec(),j=l(R),Q=l(j);Ms(Q,{get eventId(){return e(x)},get date(){return e(g)},get timeWindow(){return e(E)},onLoad:je,get loading(){return e(O)}}),i(j),i(R),S(P,R)};A(He,P=>{e($)&&P(Ge)})}var Ke=v(He,2),Tt=l(Ke);{var st=P=>{var R=Nc();S(P,R)};A(Tt,P=>{e(O)&&P(st)})}var tt=v(Tt,2);{var qe=P=>{var R=Fc(),j=v(l(R),2),Q=l(j,!0);i(j),i(R),q(()=>F(Q,e(B))),S(P,R)};A(tt,P=>{e(B)&&P(qe)})}var rt=v(tt,2);{var Yt=P=>{var R=Ac();S(P,R)};A(rt,P=>{e(O),e(_),e(B),c(()=>!e(O)&&e(_).length===0&&!e(B))&&P(Yt)})}var Lt=v(rt,2);{var fe=P=>{var R=Rt(),j=Qe(R);{var Q=K=>{var H=Rc();S(K,H)},J=K=>{var H=Rt(),N=Qe(H);{var ae=L=>{ji(L,{get matches(){return e(_)},get eventId(){return e(x)},get clubId(){return e(re)}})},W=L=>{Sc(L,{get matches(){return e(_)},get eventId(){return e(x)}})};A(N,L=>{e(te)==="list"?L(ae):L(W,!1)},!0)}S(K,H)};A(j,K=>{e(w)?K(Q):K(J,!1)})}S(P,R)};A(Lt,P=>{e(_),c(()=>e(_).length>0)&&P(fe)})}var _e=v(Lt,2);A(_e,P=>{});var $e=v(_e,2);{var Ie=P=>{var R=Wc();S(P,R)};A($e,P=>{e(ie)&&P(Ie)})}i(Ke),i(Ye),q(()=>{ft!==(ft=e(m))&&(de.value=(de.__value=e(m))??"",dr(de,e(m))),Te=ve(Je,1,"px-3 py-2 sm:py-1.5 text-xs font-medium rounded-lg transition-colors min-h-[44px] sm:min-h-0",null,Te,{"text-charcoal-950":e($)}),Qt(Je,e($)?"background-color: #eab308; color: #18181b;":"background-color: #454654; color: #c0c2c8;"),F(bt,e($)?"Hide":"Config")}),S(t,Ye),er(),h()}sr(["change","click"]);export{Vc as component,Gc as universal};
